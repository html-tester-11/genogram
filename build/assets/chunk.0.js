webpackJsonp([0],[function(t,e,n){var i,r;/*!
 * jQuery JavaScript Library v3.2.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-20T18:59Z
 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function a(t,e){e=e||at;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function s(t){var e=!!t&&"length"in t&&t.length,n=mt.type(t);return"function"!==n&&!mt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function h(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function l(t,e,n){return mt.isFunction(e)?mt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?mt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?mt.grep(t,function(t){return ct.call(e,t)>-1!==n}):Mt.test(e)?mt.filter(e,t,n):(e=mt.filter(e,t),mt.grep(t,function(t){return ct.call(e,t)>-1!==n&&1===t.nodeType}))}function u(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var e={};return mt.each(t.match(At)||[],function(t,n){e[n]=!0}),e}function f(t){return t}function d(t){throw t}function p(t,e,n,i){var r;try{t&&mt.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&mt.isFunction(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function v(){at.removeEventListener("DOMContentLoaded",v),n.removeEventListener("load",v),mt.ready()}function y(){this.expando=mt.expando+y.uid++}function g(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Rt.test(t)?JSON.parse(t):t)}function m(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Bt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=g(n)}catch(t){}It.set(t,e,n)}else n=void 0;return n}function b(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return mt.css(t,e,"")},h=s(),l=n&&n[3]||(mt.cssNumber[e]?"":"px"),u=(mt.cssNumber[e]||"px"!==l&&+h)&&zt.exec(mt.css(t,e));if(u&&u[3]!==l){l=l||u[3],n=n||[],u=+h||1;do{o=o||".5",u/=o,mt.style(t,e,u+l)}while(o!==(o=s()/h)&&1!==o&&--a)}return n&&(u=+u||+h||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=r)),r}function w(t){var e,n=t.ownerDocument,i=t.nodeName,r=Gt[i];return r?r:(e=n.body.appendChild(n.createElement(i)),r=mt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Gt[i]=r,r)}function x(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=Ot.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Ut(i)&&(r[o]=w(i))):"none"!==n&&(r[o]="none",Ot.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function k(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&h(t,e)?mt.merge([t],n):n}function T(t,e){for(var n=0,i=t.length;n<i;n++)Ot.set(t[n],"globalEval",!e||Ot.get(e[n],"globalEval"))}function S(t,e,n,i,r){for(var o,a,s,h,l,u,c=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===mt.type(o))mt.merge(f,o.nodeType?[o]:o);else if($t.test(o)){for(a=a||c.appendChild(e.createElement("div")),s=(Wt.exec(o)||["",""])[1].toLowerCase(),h=Yt[s]||Yt._default,a.innerHTML=h[1]+mt.htmlPrefilter(o)+h[2],u=h[0];u--;)a=a.lastChild;mt.merge(f,a.childNodes),a=c.firstChild,a.textContent=""}else f.push(e.createTextNode(o));for(c.textContent="",d=0;o=f[d++];)if(i&&mt.inArray(o,i)>-1)r&&r.push(o);else if(l=mt.contains(o.ownerDocument,o),a=k(c.appendChild(o),"script"),l&&T(a),n)for(u=0;o=a[u++];)Kt.test(o.type||"")&&n.push(o);return c}function M(){return!0}function P(){return!1}function C(){try{return at.activeElement}catch(t){}}function N(t,e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)N(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=P;else if(!r)return t;return 1===o&&(a=r,r=function(t){return mt().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=mt.guid++)),t.each(function(){mt.event.add(this,e,r,i,n)})}function D(t,e){return h(t,"table")&&h(11!==e.nodeType?e:e.firstChild,"tr")?mt(">tbody",t)[0]||t:t}function A(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function E(t){var e=ne.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function j(t,e){var n,i,r,o,a,s,h,l;if(1===e.nodeType){if(Ot.hasData(t)&&(o=Ot.access(t),a=Ot.set(e,o),l=o.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;n<i;n++)mt.event.add(e,r,l[r][n])}It.hasData(t)&&(s=It.access(t),h=mt.extend({},s),It.set(e,h))}}function L(t,e){var n=e.nodeName.toLowerCase();"input"===n&&_t.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function F(t,e,n,i){e=lt.apply([],e);var r,o,s,h,l,u,c=0,f=t.length,d=f-1,p=e[0],v=mt.isFunction(p);if(v||f>1&&"string"==typeof p&&!gt.checkClone&&ee.test(p))return t.each(function(r){var o=t.eq(r);v&&(e[0]=p.call(this,r,o.html())),F(o,e,n,i)});if(f&&(r=S(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=mt.map(k(r,"script"),A),h=s.length;c<f;c++)l=r,c!==d&&(l=mt.clone(l,!0,!0),h&&mt.merge(s,k(l,"script"))),n.call(t[c],l,c);if(h)for(u=s[s.length-1].ownerDocument,mt.map(s,E),c=0;c<h;c++)l=s[c],Kt.test(l.type||"")&&!Ot.access(l,"globalEval")&&mt.contains(u,l)&&(l.src?mt._evalUrl&&mt._evalUrl(l.src):a(l.textContent.replace(ie,""),u))}return t}function O(t,e,n){for(var i,r=e?mt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||mt.cleanData(k(i)),i.parentNode&&(n&&mt.contains(i.ownerDocument,i)&&T(k(i,"script")),i.parentNode.removeChild(i));return t}function I(t,e,n){var i,r,o,a,s=t.style;return n=n||ae(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||mt.contains(t.ownerDocument,t)||(a=mt.style(t,e)),!gt.pixelMarginRight()&&oe.test(a)&&re.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function R(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function B(t){if(t in fe)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ce.length;n--;)if((t=ce[n]+e)in fe)return t}function q(t){var e=mt.cssProps[t];return e||(e=mt.cssProps[t]=B(t)||t),e}function z(t,e,n){var i=zt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function V(t,e,n,i,r){var o,a=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=mt.css(t,n+Vt[o],!0,r)),i?("content"===n&&(a-=mt.css(t,"padding"+Vt[o],!0,r)),"margin"!==n&&(a-=mt.css(t,"border"+Vt[o]+"Width",!0,r))):(a+=mt.css(t,"padding"+Vt[o],!0,r),"padding"!==n&&(a+=mt.css(t,"border"+Vt[o]+"Width",!0,r)));return a}function U(t,e,n){var i,r=ae(t),o=I(t,e,r),a="border-box"===mt.css(t,"boxSizing",!1,r);return oe.test(o)?o:(i=a&&(gt.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),(o=parseFloat(o)||0)+V(t,e,n||(a?"border":"content"),i,r)+"px")}function H(t,e,n,i,r){return new H.prototype.init(t,e,n,i,r)}function G(){pe&&(at.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(G):n.setTimeout(G,mt.fx.interval),mt.fx.tick())}function _(){return n.setTimeout(function(){de=void 0}),de=mt.now()}function W(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=Vt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function K(t,e,n){for(var i,r=(J.tweeners[e]||[]).concat(J.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function Y(t,e,n){var i,r,o,a,s,h,l,u,c="width"in e||"height"in e,f=this,d={},p=t.style,v=t.nodeType&&Ut(t),y=Ot.get(t,"fxshow");n.queue||(a=mt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,mt.queue(t,"fx").length||a.empty.fire()})}));for(i in e)if(r=e[i],ve.test(r)){if(delete e[i],o=o||"toggle"===r,r===(v?"hide":"show")){if("show"!==r||!y||void 0===y[i])continue;v=!0}d[i]=y&&y[i]||mt.style(t,i)}if((h=!mt.isEmptyObject(e))||!mt.isEmptyObject(d)){c&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=y&&y.display,null==l&&(l=Ot.get(t,"display")),u=mt.css(t,"display"),"none"===u&&(l?u=l:(x([t],!0),l=t.style.display||l,u=mt.css(t,"display"),x([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===mt.css(t,"float")&&(h||(f.done(function(){p.display=l}),null==l&&(u=p.display,l="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),h=!1;for(i in d)h||(y?"hidden"in y&&(v=y.hidden):y=Ot.access(t,"fxshow",{display:l}),o&&(y.hidden=!v),v&&x([t],!0),f.done(function(){v||x([t]),Ot.remove(t,"fxshow");for(i in d)mt.style(t,i,d[i])})),h=K(v?y[i]:0,i,f),i in y||(y[i]=h.start,v&&(h.end=h.start,h.start=0))}}function $(t,e){var n,i,r,o,a;for(n in t)if(i=mt.camelCase(n),r=e[i],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=mt.cssHooks[i])&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function J(t,e,n){var i,r,o=0,a=J.prefilters.length,s=mt.Deferred().always(function(){delete h.elem}),h=function(){if(r)return!1;for(var e=de||_(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,a=0,h=l.tweens.length;a<h;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),o<1&&h?n:(h||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:mt.extend({},e),opts:mt.extend(!0,{specialEasing:{},easing:mt.easing._default},n),originalProperties:e,originalOptions:n,startTime:de||_(),duration:n.duration,tweens:[],createTween:function(e,n){var i=mt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),u=l.props;for($(u,l.opts.specialEasing);o<a;o++)if(i=J.prefilters[o].call(l,t,u,l.opts))return mt.isFunction(i.stop)&&(mt._queueHooks(l.elem,l.opts.queue).stop=mt.proxy(i.stop,i)),i;return mt.map(u,K,l),mt.isFunction(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),mt.fx.timer(mt.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l}function X(t){return(t.match(At)||[]).join(" ")}function Q(t){return t.getAttribute&&t.getAttribute("class")||""}function Z(t,e,n,i){var r;if(Array.isArray(e))mt.each(e,function(e,r){n||Me.test(t)?i(t,r):Z(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==mt.type(e))i(t,e);else for(r in e)Z(t+"["+r+"]",e[r],n,i)}function tt(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(At)||[];if(mt.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function et(t,e,n,i){function r(s){var h;return o[s]=!0,mt.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||a||o[l]?a?!(h=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),h}var o={},a=t===je;return r(e.dataTypes[0])||!o["*"]&&r("*")}function nt(t,e){var n,i,r=mt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&mt.extend(!0,t,i),t}function it(t,e,n){for(var i,r,o,a,s=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){h.unshift(r);break}if(h[0]in n)o=h[0];else{for(r in n){if(!h[0]||t.converters[r+" "+h[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==h[0]&&h.unshift(o),n[o]}function rt(t,e,n,i){var r,o,a,s,h,l={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!h&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=o,o=u.shift())if("*"===o)o=h;else if("*"!==h&&h!==o){if(!(a=l[h+" "+o]||l["* "+o]))for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[h+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[r]:l[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+h+" to "+o}}}return{state:"success",data:e}}var ot=[],at=n.document,st=Object.getPrototypeOf,ht=ot.slice,lt=ot.concat,ut=ot.push,ct=ot.indexOf,ft={},dt=ft.toString,pt=ft.hasOwnProperty,vt=pt.toString,yt=vt.call(Object),gt={},mt=function(t,e){return new mt.fn.init(t,e)},bt=function(t,e){return e.toUpperCase()};mt.fn=mt.prototype={jquery:"3.2.1",constructor:mt,length:0,toArray:function(){return ht.call(this)},get:function(t){return null==t?ht.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=mt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return mt.each(this,t)},map:function(t){return this.pushStack(mt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ht.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ut,sort:ot.sort,splice:ot.splice},mt.extend=mt.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,h=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||mt.isFunction(a)||(a={}),s===h&&(a=this,s--);s<h;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(l&&i&&(mt.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&mt.isPlainObject(n)?n:{},a[e]=mt.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},mt.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===mt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=mt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==dt.call(t))&&(!(e=st(t))||"function"==typeof(n=pt.call(e,"constructor")&&e.constructor)&&vt.call(n)===yt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[dt.call(t)]||"object":typeof t},globalEval:function(t){a(t)},camelCase:function(t){return t.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,bt)},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?mt.merge(n,"string"==typeof t?[t]:t):ut.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ct.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(s(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return lt.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),mt.isFunction(t))return i=ht.call(arguments,2),r=function(){return t.apply(e||this,i.concat(ht.call(arguments)))},r.guid=t.guid=t.guid||mt.guid++,r},now:Date.now,support:gt}),"function"==typeof Symbol&&(mt.fn[Symbol.iterator]=ot[Symbol.iterator]),mt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var wt=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){function e(t,e,n,i){var r,o,a,s,h,u,f,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:q)!==E&&A(e),e=e||E,L)){if(11!==p&&(h=vt.exec(t)))if(r=h[1]){if(9===p){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(d&&(a=d.getElementById(r))&&R(e,a)&&a.id===r)return n.push(a),n}else{if(h[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=h[3])&&w.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!G[t+" "]&&(!F||!F.test(t))){if(1!==p)d=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,wt):e.setAttribute("id",s=B),u=S(t),o=u.length;o--;)u[o]="#"+s+" "+c(u[o]);f=u.join(","),d=yt.test(t)&&l(e.parentNode)||e}if(f)try{return J.apply(n,d.querySelectorAll(f)),n}catch(t){}finally{s===B&&e.removeAttribute("id")}}}return P(t.replace(ot,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[B]=!0,t}function r(t){var e=E.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&kt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function h(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function c(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=V++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,h){var l,u,c,f=[z,s];if(h){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,h))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(c=e[B]||(e[B]={}),u=c[e.uniqueID]||(c[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=u[o])&&l[0]===z&&l[1]===s)return f[2]=l[2];if(u[o]=f,f[2]=t(e,n,h))return!0}return!1}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function p(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,a=[],s=0,h=t.length,l=null!=e;s<h;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function y(t,e,n,r,o,a){return r&&!r[B]&&(r=y(r)),o&&!o[B]&&(o=y(o,a)),i(function(i,a,s,h){var l,u,c,f=[],d=[],y=a.length,g=i||p(e||"*",s.nodeType?[s]:s,[]),m=!t||!i&&e?g:v(g,f,t,s,h),b=n?o||(i?t:y||r)?[]:a:m;if(n&&n(m,b,s,h),r)for(l=v(b,d),r(l,[],s,h),u=l.length;u--;)(c=l[u])&&(b[d[u]]=!(m[d[u]]=c));if(i){if(o||t){if(o){for(l=[],u=b.length;u--;)(c=b[u])&&l.push(m[u]=c);o(null,b=[],l,h)}for(u=b.length;u--;)(c=b[u])&&(l=o?Q(i,c):f[u])>-1&&(i[l]=!(a[l]=c))}}else b=v(b===a?b.splice(y,b.length):b),o?o(null,a,b,h):J.apply(a,b)})}function g(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],a=o||x.relative[" "],s=o?1:0,h=f(function(t){return t===e},a,!0),l=f(function(t){return Q(e,t)>-1},a,!0),u=[function(t,n,i){var r=!o&&(i||n!==C)||((e=n).nodeType?h(t,n,i):l(t,n,i));return e=null,r}];s<r;s++)if(n=x.relative[t[s].type])u=[f(d(u),n)];else{if(n=x.filter[t[s].type].apply(null,t[s].matches),n[B]){for(i=++s;i<r&&!x.relative[t[i].type];i++);return y(s>1&&d(u),s>1&&c(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ot,"$1"),n,s<i&&g(t.slice(s,i)),i<r&&g(t=t.slice(i)),i<r&&c(t))}u.push(n)}return d(u)}function m(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,h,l){var u,c,f,d=0,p="0",y=i&&[],g=[],m=C,b=i||o&&x.find.TAG("*",l),w=z+=null==m?1:Math.random()||.1,k=b.length;for(l&&(C=a===E||a||l);p!==k&&null!=(u=b[p]);p++){if(o&&u){for(c=0,a||u.ownerDocument===E||(A(u),s=!L);f=t[c++];)if(f(u,a||E,s)){h.push(u);break}l&&(z=w)}r&&((u=!f&&u)&&d--,i&&y.push(u))}if(d+=p,r&&p!==d){for(c=0;f=n[c++];)f(y,g,a,s);if(i){if(d>0)for(;p--;)y[p]||g[p]||(g[p]=Y.call(h));g=v(g)}J.apply(h,g),l&&!i&&g.length>0&&d+n.length>1&&e.uniqueSort(h)}return l&&(z=w,C=m),y};return r?i(a):a}var b,w,x,k,T,S,M,P,C,N,D,A,E,j,L,F,O,I,R,B="sizzle"+1*new Date,q=t.document,z=0,V=0,U=n(),H=n(),G=n(),_=function(t,e){return t===e&&(D=!0),0},W={}.hasOwnProperty,K=[],Y=K.pop,$=K.push,J=K.push,X=K.slice,Q=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",it=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ht=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),lt=new RegExp(it),ut=new RegExp("^"+et+"$"),ct={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,dt=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,gt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),mt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},bt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},xt=function(){A()},kt=f(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{J.apply(K=X.call(q.childNodes),q.childNodes),K[q.childNodes.length].nodeType}catch(t){J={apply:K.length?function(t,e){$.apply(t,X.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:q;return i!==E&&9===i.nodeType&&i.documentElement?(E=i,j=E.documentElement,L=!T(E),q!==E&&(n=E.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=pt.test(E.getElementsByClassName),w.getById=r(function(t){return j.appendChild(t).id=B,!E.getElementsByName||!E.getElementsByName(B).length}),w.getById?(x.filter.ID=function(t){var e=t.replace(gt,mt);return function(t){return t.getAttribute("id")===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}}):(x.filter.ID=function(t){var e=t.replace(gt,mt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&L){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),x.find.TAG=w.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=w.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&L)return e.getElementsByClassName(t)},O=[],F=[],(w.qsa=pt.test(E.querySelectorAll))&&(r(function(t){j.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||F.push("\\["+tt+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+B+"-]").length||F.push("~="),t.querySelectorAll(":checked").length||F.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||F.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&F.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&F.push(":enabled",":disabled"),j.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=pt.test(I=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&r(function(t){w.disconnectedMatch=I.call(t,"*"),I.call(t,"[s!='']:x"),O.push("!=",it)}),F=F.length&&new RegExp(F.join("|")),O=O.length&&new RegExp(O.join("|")),e=pt.test(j.compareDocumentPosition),R=e||pt.test(j.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},_=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===E||t.ownerDocument===q&&R(q,t)?-1:e===E||e.ownerDocument===q&&R(q,e)?1:N?Q(N,t)-Q(N,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],h=[e];if(!r||!o)return t===E?-1:e===E?1:r?-1:o?1:N?Q(N,t)-Q(N,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)h.unshift(n);for(;s[i]===h[i];)i++;return i?a(s[i],h[i]):s[i]===q?-1:h[i]===q?1:0},E):E},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==E&&A(t),n=n.replace(ht,"='$1']"),w.matchesSelector&&L&&!G[n+" "]&&(!O||!O.test(n))&&(!F||!F.test(n)))try{var i=I.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&A(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&A(t);var n=x.attrHandle[e.toLowerCase()],i=n&&W.call(x.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==i?i:w.attributes||!L?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(bt,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(D=!w.detectDuplicates,N=!w.sortStable&&t.slice(0),t.sort(_),D){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return N=null,t},k=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:ct,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(gt,mt),t[3]=(t[3]||t[4]||t[5]||"").replace(gt,mt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ct.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&lt.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(gt,mt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(rt," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,h){var l,u,c,f,d,p,v=o!==a?"nextSibling":"previousSibling",y=e.parentNode,g=s&&e.nodeName.toLowerCase(),m=!h&&!s,b=!1;if(y){if(o){for(;v;){for(f=e;f=f[v];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;p=v="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?y.firstChild:y.lastChild],a&&m){for(f=y,c=f[B]||(f[B]={}),u=c[f.uniqueID]||(c[f.uniqueID]={}),l=u[t]||[],d=l[0]===z&&l[1],b=d&&l[2],f=d&&y.childNodes[d];f=++d&&f&&f[v]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){u[t]=[z,d,b];break}}else if(m&&(f=e,c=f[B]||(f[B]={}),u=c[f.uniqueID]||(c[f.uniqueID]={}),l=u[t]||[],d=l[0]===z&&l[1],b=d),b===!1)for(;(f=++d&&f&&f[v]||(b=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++b||(m&&(c=f[B]||(f[B]={}),u=c[f.uniqueID]||(c[f.uniqueID]={}),u[t]=[z,b]),f!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=Q(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=M(t.replace(ot,"$1"));return r[B]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(gt,mt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return ut.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(gt,mt).toLowerCase(),function(e){var n;do{if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===j},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return dt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,n){return[n<0?n+e:n]}),even:h(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:h(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:h(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:h(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(b);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,S=e.tokenize=function(t,n){var i,r,o,a,s,h,l,u=H[t+" "];if(u)return n?0:u.slice(0);for(s=t,h=[],l=x.preFilter;s;){i&&!(r=at.exec(s))||(r&&(s=s.slice(r[0].length)||s),h.push(o=[])),i=!1,(r=st.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ot," ")}),s=s.slice(i.length));for(a in x.filter)!(r=ct[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):H(t,h).slice(0)},M=e.compile=function(t,e){var n,i=[],r=[],o=G[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=g(e[n]),o[B]?i.push(o):r.push(o);o=G(t,m(r,i)),o.selector=t}return o},P=e.select=function(t,e,n,i){var r,o,a,s,h,u="function"==typeof t&&t,f=!i&&S(t=u.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&L&&x.relative[o[1].type]){if(!(e=(x.find.ID(a.matches[0].replace(gt,mt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ct.needsContext.test(t)?0:o.length;r--&&(a=o[r],!x.relative[s=a.type]);)if((h=x.find[s])&&(i=h(a.matches[0].replace(gt,mt),yt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&c(o)))return J.apply(n,i),n;break}}return(u||M(t,f))(i,e,!L,n,!e||yt.test(t)&&l(e.parentNode)||e),n},w.sortStable=B.split("").sort(_).join("")===B,w.detectDuplicates=!!D,A(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(E.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(Z,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(n);mt.find=wt,mt.expr=wt.selectors,mt.expr[":"]=mt.expr.pseudos,mt.uniqueSort=mt.unique=wt.uniqueSort,mt.text=wt.getText,mt.isXMLDoc=wt.isXML,mt.contains=wt.contains,mt.escapeSelector=wt.escape;var xt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&mt(t).is(n))break;i.push(t)}return i},kt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Tt=mt.expr.match.needsContext,St=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Mt=/^.[^:#\[\.,]*$/;mt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?mt.find.matchesSelector(i,t)?[i]:[]:mt.find.matches(t,mt.grep(e,function(t){return 1===t.nodeType}))},mt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(mt(t).filter(function(){for(e=0;e<i;e++)if(mt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)mt.find(t,r[e],n);return i>1?mt.uniqueSort(n):n},filter:function(t){return this.pushStack(l(this,t||[],!1))},not:function(t){return this.pushStack(l(this,t||[],!0))},is:function(t){return!!l(this,"string"==typeof t&&Tt.test(t)?mt(t):t||[],!1).length}});var Pt,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(mt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Pt,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ct.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof mt?e[0]:e,mt.merge(this,mt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:at,!0)),St.test(i[1])&&mt.isPlainObject(e))for(i in e)mt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=at.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):mt.isFunction(t)?void 0!==n.ready?n.ready(t):t(mt):mt.makeArray(t,this)}).prototype=mt.fn,Pt=mt(at);var Nt=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};mt.fn.extend({has:function(t){var e=mt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(mt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&mt(t);if(!Tt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&mt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?mt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ct.call(mt(t),this[0]):ct.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(mt.uniqueSort(mt.merge(this.get(),mt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),mt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return kt((t.parentNode||{}).firstChild,t)},children:function(t){return kt(t.firstChild)},contents:function(t){return h(t,"iframe")?t.contentDocument:(h(t,"template")&&(t=t.content||t),mt.merge([],t.childNodes))}},function(t,e){mt.fn[t]=function(n,i){var r=mt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=mt.filter(i,r)),this.length>1&&(Dt[t]||mt.uniqueSort(r),Nt.test(t)&&r.reverse()),this.pushStack(r)}});var At=/[^\x20\t\r\n\f]+/g;mt.Callbacks=function(t){t="string"==typeof t?c(t):mt.extend({},t);var e,n,i,r,o=[],a=[],s=-1,h=function(){for(r=r||t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)o[s].apply(n[0],n[1])===!1&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){mt.each(n,function(n,i){mt.isFunction(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==mt.type(i)&&e(i)})}(arguments),n&&!e&&h()),this},remove:function(){return mt.each(arguments,function(t,e){for(var n;(n=mt.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?mt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||h()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},mt.extend({Deferred:function(t){var e=[["notify","progress",mt.Callbacks("memory"),mt.Callbacks("memory"),2],["resolve","done",mt.Callbacks("once memory"),mt.Callbacks("once memory"),0,"resolved"],["reject","fail",mt.Callbacks("once memory"),mt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return mt.Deferred(function(n){mt.each(e,function(e,i){var r=mt.isFunction(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&mt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){function o(t,e,i,r){return function(){var s=this,h=arguments,l=function(){var n,l;if(!(t<a)){if((n=i.apply(s,h))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,mt.isFunction(l)?r?l.call(n,o(a,e,f,r),o(a,e,d,r)):(a++,l.call(n,o(a,e,f,r),o(a,e,d,r),o(a,e,f,e.notifyWith))):(i!==f&&(s=void 0,h=[n]),(r||e.resolveWith)(s,h))}},u=r?l:function(){try{l()}catch(n){mt.Deferred.exceptionHook&&mt.Deferred.exceptionHook(n,u.stackTrace),t+1>=a&&(i!==d&&(s=void 0,h=[n]),e.rejectWith(s,h))}};t?u():(mt.Deferred.getStackHook&&(u.stackTrace=mt.Deferred.getStackHook()),n.setTimeout(u))}}var a=0;return mt.Deferred(function(n){e[0][3].add(o(0,n,mt.isFunction(r)?r:f,n.notifyWith)),e[1][3].add(o(0,n,mt.isFunction(t)?t:f)),e[2][3].add(o(0,n,mt.isFunction(i)?i:d))}).promise()},promise:function(t){return null!=t?mt.extend(t,r):r}},o={};return mt.each(e,function(t,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){i=s},e[3-t][2].disable,e[0][2].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=ht.call(arguments),o=mt.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?ht.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(p(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||mt.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)p(r[n],a(n),o.reject);return o.promise()}});var Et=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;mt.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&Et.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},mt.readyException=function(t){n.setTimeout(function(){throw t})};var jt=mt.Deferred();mt.fn.ready=function(t){return jt.then(t).catch(function(t){mt.readyException(t)}),this},mt.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--mt.readyWait:mt.isReady)||(mt.isReady=!0,t!==!0&&--mt.readyWait>0||jt.resolveWith(at,[mt]))}}),mt.ready.then=jt.then,"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll?n.setTimeout(mt.ready):(at.addEventListener("DOMContentLoaded",v),n.addEventListener("load",v));var Lt=function(t,e,n,i,r,o,a){var s=0,h=t.length,l=null==n;if("object"===mt.type(n)){r=!0;for(s in n)Lt(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,mt.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(mt(t),n)})),e))for(;s<h;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):h?e(t[0],n):o},Ft=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};y.uid=1,y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ft(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[mt.camelCase(e)]=n;else for(i in e)r[mt.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][mt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(mt.camelCase):(e=mt.camelCase(e),e=e in i?[e]:e.match(At)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||mt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!mt.isEmptyObject(e)}};var Ot=new y,It=new y,Rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Bt=/[A-Z]/g;mt.extend({hasData:function(t){return It.hasData(t)||Ot.hasData(t)},data:function(t,e,n){return It.access(t,e,n)},removeData:function(t,e){It.remove(t,e)},_data:function(t,e,n){return Ot.access(t,e,n)},_removeData:function(t,e){Ot.remove(t,e)}}),mt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=It.get(o),1===o.nodeType&&!Ot.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=mt.camelCase(i.slice(5)),m(o,i,r[i])));Ot.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){It.set(this,t)}):Lt(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=It.get(o,t)))return n;if(void 0!==(n=m(o,t)))return n}else this.each(function(){It.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){It.remove(this,t)})}}),mt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Ot.get(t,e),n&&(!i||Array.isArray(n)?i=Ot.access(t,e,mt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=mt.queue(t,e),i=n.length,r=n.shift(),o=mt._queueHooks(t,e),a=function(){mt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Ot.get(t,n)||Ot.access(t,n,{empty:mt.Callbacks("once memory").add(function(){Ot.remove(t,[e+"queue",n])})})}}),mt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?mt.queue(this[0],t):void 0===e?this:this.each(function(){var n=mt.queue(this,t,e);mt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&mt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){mt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=mt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Ot.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var qt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,zt=new RegExp("^(?:([+-])=|)("+qt+")([a-z%]*)$","i"),Vt=["Top","Right","Bottom","Left"],Ut=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&mt.contains(t.ownerDocument,t)&&"none"===mt.css(t,"display")},Ht=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r},Gt={};mt.fn.extend({show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ut(this)?mt(this).show():mt(this).hide()})}});var _t=/^(?:checkbox|radio)$/i,Wt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Kt=/^$|\/(?:java|ecma)script/i,Yt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var $t=/<|&#?\w+;/;!function(){var t=at.createDocumentFragment(),e=t.appendChild(at.createElement("div")),n=at.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),gt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",gt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Jt=at.documentElement,Xt=/^key/,Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Zt=/^([^.]*)(?:\.(.+)|)/;mt.event={global:{},add:function(t,e,n,i,r){var o,a,s,h,l,u,c,f,d,p,v,y=Ot.get(t);if(y)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&mt.find.matchesSelector(Jt,r),n.guid||(n.guid=mt.guid++),(h=y.events)||(h=y.events={}),(a=y.handle)||(a=y.handle=function(e){return void 0!==mt&&mt.event.triggered!==e.type?mt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(At)||[""],l=e.length;l--;)s=Zt.exec(e[l])||[],d=v=s[1],p=(s[2]||"").split(".").sort(),d&&(c=mt.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,c=mt.event.special[d]||{},u=mt.extend({type:d,origType:v,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&mt.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=h[d])||(f=h[d]=[],f.delegateCount=0,c.setup&&c.setup.call(t,i,p,a)!==!1||t.addEventListener&&t.addEventListener(d,a)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),mt.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,a,s,h,l,u,c,f,d,p,v,y=Ot.hasData(t)&&Ot.get(t);if(y&&(h=y.events)){for(e=(e||"").match(At)||[""],l=e.length;l--;)if(s=Zt.exec(e[l])||[],d=v=s[1],p=(s[2]||"").split(".").sort(),d){for(c=mt.event.special[d]||{},d=(i?c.delegateType:c.bindType)||d,f=h[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!r&&v!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,c.remove&&c.remove.call(t,u));a&&!f.length&&(c.teardown&&c.teardown.call(t,p,y.handle)!==!1||mt.removeEvent(t,d,y.handle),delete h[d])}else for(d in h)mt.event.remove(t,d+e[l],n,i,!0);mt.isEmptyObject(h)&&Ot.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=mt.event.fix(t),h=new Array(arguments.length),l=(Ot.get(this,"events")||{})[s.type]||[],u=mt.event.special[s.type]||{};for(h[0]=s,e=1;e<arguments.length;e++)h[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,s)!==!1){for(a=mt.event.handlers.call(this,s,l),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((mt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,h))&&(s.result=i)===!1&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],h=e.delegateCount,l=t.target;if(h&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||l.disabled!==!0)){for(o=[],a={},n=0;n<h;n++)i=e[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?mt(r,this).index(l)>-1:mt.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,h<e.length&&s.push({elem:l,handlers:e.slice(h)}),s},addProp:function(t,e){Object.defineProperty(mt.Event.prototype,t,{enumerable:!0,configurable:!0,get:mt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[mt.expando]?t:new mt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&h(this,"input"))return this.click(),!1},_default:function(t){return h(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},mt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},mt.Event=function(t,e){if(!(this instanceof mt.Event))return new mt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?M:P,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&mt.extend(this,e),this.timeStamp=t&&t.timeStamp||mt.now(),this[mt.expando]=!0},mt.Event.prototype={constructor:mt.Event,isDefaultPrevented:P,isPropagationStopped:P,isImmediatePropagationStopped:P,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=M,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=M,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=M,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},mt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Xt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Qt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},mt.event.addProp),mt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){mt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||mt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),mt.fn.extend({on:function(t,e,n,i){return N(this,t,e,n,i)},one:function(t,e,n,i){return N(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,mt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=P),this.each(function(){mt.event.remove(this,t,n,e)})}});var te=/<script|<style|<link/i,ee=/checked\s*(?:[^=]|=\s*.checked.)/i,ne=/^true\/(.*)/,ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;mt.extend({htmlPrefilter:function(t){return t.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),h=mt.contains(t.ownerDocument,t);if(!(gt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||mt.isXMLDoc(t)))for(a=k(s),o=k(t),i=0,r=o.length;i<r;i++)L(o[i],a[i]);if(e)if(n)for(o=o||k(t),a=a||k(s),i=0,r=o.length;i<r;i++)j(o[i],a[i]);else j(t,s);return a=k(s,"script"),a.length>0&&T(a,!h&&k(t,"script")),s},cleanData:function(t){for(var e,n,i,r=mt.event.special,o=0;void 0!==(n=t[o]);o++)if(Ft(n)){if(e=n[Ot.expando]){if(e.events)for(i in e.events)r[i]?mt.event.remove(n,i):mt.removeEvent(n,i,e.handle);n[Ot.expando]=void 0}n[It.expando]&&(n[It.expando]=void 0)}}}),mt.fn.extend({detach:function(t){return O(this,t,!0)},remove:function(t){return O(this,t)},text:function(t){return Lt(this,function(t){return void 0===t?mt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return F(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){D(this,t).appendChild(t)}})},prepend:function(){return F(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=D(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return F(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return F(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(mt.cleanData(k(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return mt.clone(this,t,e)})},html:function(t){return Lt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!te.test(t)&&!Yt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=mt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(mt.cleanData(k(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return F(this,arguments,function(e){var n=this.parentNode;mt.inArray(this,t)<0&&(mt.cleanData(k(this)),n&&n.replaceChild(e,this))},t)}}),mt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){mt.fn[t]=function(t){for(var n,i=[],r=mt(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),mt(r[a])[e](n),ut.apply(i,n.get());return this.pushStack(i)}});var re=/^margin/,oe=new RegExp("^("+qt+")(?!px)[a-z%]+$","i"),ae=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Jt.appendChild(a);var t=n.getComputedStyle(s);e="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,Jt.removeChild(a),s=null}}var e,i,r,o,a=at.createElement("div"),s=at.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",gt.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),mt.extend(gt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),o}}))}();var se=/^(none|table(?!-c[ea]).+)/,he=/^--/,le={position:"absolute",visibility:"hidden",display:"block"},ue={letterSpacing:"0",fontWeight:"400"},ce=["Webkit","Moz","ms"],fe=at.createElement("div").style;mt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=I(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=mt.camelCase(e),h=he.test(e),l=t.style;if(h||(e=q(s)),a=mt.cssHooks[e]||mt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:l[e];o=typeof n,"string"===o&&(r=zt.exec(n))&&r[1]&&(n=b(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(mt.cssNumber[s]?"":"px")),gt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(h?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,o,a,s=mt.camelCase(e);return he.test(e)||(e=q(s)),a=mt.cssHooks[e]||mt.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=I(t,e,i)),"normal"===r&&e in ue&&(r=ue[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),mt.each(["height","width"],function(t,e){mt.cssHooks[e]={get:function(t,n,i){if(n)return!se.test(mt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?U(t,e,i):Ht(t,le,function(){return U(t,e,i)})},set:function(t,n,i){var r,o=i&&ae(t),a=i&&V(t,e,i,"border-box"===mt.css(t,"boxSizing",!1,o),o);return a&&(r=zt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=mt.css(t,e)),z(t,n,a)}}}),mt.cssHooks.marginLeft=R(gt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(I(t,"marginLeft"))||t.getBoundingClientRect().left-Ht(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),mt.each({margin:"",padding:"",border:"Width"},function(t,e){mt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Vt[i]+e]=o[i]||o[i-2]||o[0];return r}},re.test(t)||(mt.cssHooks[t+e].set=z)}),mt.fn.extend({css:function(t,e){return Lt(this,function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=ae(t),r=e.length;a<r;a++)o[e[a]]=mt.css(t,e[a],!1,i);return o}return void 0!==n?mt.style(t,e,n):mt.css(t,e)},t,e,arguments.length>1)}}),mt.Tween=H,H.prototype={constructor:H,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||mt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(mt.cssNumber[n]?"":"px")},cur:function(){var t=H.propHooks[this.prop];return t&&t.get?t.get(this):H.propHooks._default.get(this)},run:function(t){var e,n=H.propHooks[this.prop];return this.options.duration?this.pos=e=mt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=mt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){mt.fx.step[t.prop]?mt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[mt.cssProps[t.prop]]&&!mt.cssHooks[t.prop]?t.elem[t.prop]=t.now:mt.style(t.elem,t.prop,t.now+t.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},mt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},mt.fx=H.prototype.init,mt.fx.step={};var de,pe,ve=/^(?:toggle|show|hide)$/,ye=/queueHooks$/;mt.Animation=mt.extend(J,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return b(n.elem,t,zt.exec(e),n),n}]},tweener:function(t,e){mt.isFunction(t)?(e=t,t=["*"]):t=t.match(At);for(var n,i=0,r=t.length;i<r;i++)n=t[i],J.tweeners[n]=J.tweeners[n]||[],J.tweeners[n].unshift(e)},prefilters:[Y],prefilter:function(t,e){e?J.prefilters.unshift(t):J.prefilters.push(t)}}),mt.speed=function(t,e,n){var i=t&&"object"==typeof t?mt.extend({},t):{complete:n||!n&&e||mt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!mt.isFunction(e)&&e};return mt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in mt.fx.speeds?i.duration=mt.fx.speeds[i.duration]:i.duration=mt.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){mt.isFunction(i.old)&&i.old.call(this),i.queue&&mt.dequeue(this,i.queue)},i},mt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=mt.isEmptyObject(t),o=mt.speed(e,n,i),a=function(){var e=J(this,mt.extend({},t),o);(r||Ot.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=mt.timers,a=Ot.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ye.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||mt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Ot.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=mt.timers,a=i?i.length:0;for(n.finish=!0,mt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),mt.each(["toggle","show","hide"],function(t,e){var n=mt.fn[e];mt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(W(e,!0),t,i,r)}}),mt.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){mt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),mt.timers=[],mt.fx.tick=function(){var t,e=0,n=mt.timers;for(de=mt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||mt.fx.stop(),de=void 0},mt.fx.timer=function(t){mt.timers.push(t),mt.fx.start()},mt.fx.interval=13,mt.fx.start=function(){pe||(pe=!0,G())},mt.fx.stop=function(){pe=null},mt.fx.speeds={slow:600,fast:200,_default:400},mt.fn.delay=function(t,e){return t=mt.fx?mt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=at.createElement("input"),e=at.createElement("select"),n=e.appendChild(at.createElement("option"));t.type="checkbox",gt.checkOn=""!==t.value,gt.optSelected=n.selected,t=at.createElement("input"),t.value="t",t.type="radio",gt.radioValue="t"===t.value}();var ge,me=mt.expr.attrHandle;mt.fn.extend({attr:function(t,e){return Lt(this,mt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){mt.removeAttr(this,t)})}}),mt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?mt.prop(t,e,n):(1===o&&mt.isXMLDoc(t)||(r=mt.attrHooks[e.toLowerCase()]||(mt.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void mt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=mt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!gt.radioValue&&"radio"===e&&h(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(At);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return e===!1?mt.removeAttr(t,n):t.setAttribute(n,n),n}},mt.each(mt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=me[e]||mt.find.attr;me[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=me[a],me[a]=r,r=null!=n(t,e,i)?a:null,me[a]=o),r}});var be=/^(?:input|select|textarea|button)$/i,we=/^(?:a|area)$/i;mt.fn.extend({prop:function(t,e){return Lt(this,mt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[mt.propFix[t]||t]})}}),mt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&mt.isXMLDoc(t)||(e=mt.propFix[e]||e,r=mt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=mt.find.attr(t,"tabindex");return e?parseInt(e,10):be.test(t.nodeName)||we.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),gt.optSelected||(mt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),mt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){mt.propFix[this.toLowerCase()]=this}),mt.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,h=0;if(mt.isFunction(t))return this.each(function(e){mt(this).addClass(t.call(this,e,Q(this)))});if("string"==typeof t&&t)for(e=t.match(At)||[];n=this[h++];)if(r=Q(n),i=1===n.nodeType&&" "+X(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=X(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,h=0;if(mt.isFunction(t))return this.each(function(e){mt(this).removeClass(t.call(this,e,Q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(At)||[];n=this[h++];)if(r=Q(n),i=1===n.nodeType&&" "+X(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=X(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):mt.isFunction(t)?this.each(function(n){mt(this).toggleClass(t.call(this,n,Q(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=mt(this),o=t.match(At)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=Q(this),e&&Ot.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Ot.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+X(Q(n))+" ").indexOf(e)>-1)return!0;return!1}});mt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=mt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,mt(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=mt.map(r,function(t){return null==t?"":t+""})),(e=mt.valHooks[this.type]||mt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=mt.valHooks[r.type]||mt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(/\r/g,""):null==n?"":n)}}}),mt.extend({valHooks:{option:{get:function(t){var e=mt.find.attr(t,"value");return null!=e?e:X(mt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(n=r[i],(n.selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!h(n.parentNode,"optgroup"))){if(e=mt(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=mt.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=mt.inArray(mt.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),mt.each(["radio","checkbox"],function(){mt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=mt.inArray(mt(t).val(),e)>-1}},gt.checkOn||(mt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var xe=/^(?:focusinfocus|focusoutblur)$/;mt.extend(mt.event,{trigger:function(t,e,i,r){var o,a,s,h,l,u,c,f=[i||at],d=pt.call(t,"type")?t.type:t,p=pt.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||at,3!==i.nodeType&&8!==i.nodeType&&!xe.test(d+mt.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[mt.expando]?t:new mt.Event(d,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:mt.makeArray(e,[t]),c=mt.event.special[d]||{},r||!c.trigger||c.trigger.apply(i,e)!==!1)){if(!r&&!c.noBubble&&!mt.isWindow(i)){for(h=c.delegateType||d,xe.test(h+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||at)&&f.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)t.type=o>1?h:c.bindType||d,u=(Ot.get(a,"events")||{})[t.type]&&Ot.get(a,"handle"),u&&u.apply(a,e),(u=l&&a[l])&&u.apply&&Ft(a)&&(t.result=u.apply(a,e),t.result===!1&&t.preventDefault());return t.type=d,r||t.isDefaultPrevented()||c._default&&c._default.apply(f.pop(),e)!==!1||!Ft(i)||l&&mt.isFunction(i[d])&&!mt.isWindow(i)&&(s=i[l],s&&(i[l]=null),mt.event.triggered=d,i[d](),mt.event.triggered=void 0,s&&(i[l]=s)),t.result}},simulate:function(t,e,n){var i=mt.extend(new mt.Event,n,{type:t,isSimulated:!0});mt.event.trigger(i,null,e)}}),mt.fn.extend({trigger:function(t,e){return this.each(function(){mt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return mt.event.trigger(t,e,n,!0)}}),mt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){mt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),mt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),gt.focusin="onfocusin"in n,gt.focusin||mt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){mt.event.simulate(e,t.target,mt.event.fix(t))};mt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Ot.access(i,e);r||i.addEventListener(t,n,!0),Ot.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Ot.access(i,e)-1;r?Ot.access(i,e,r):(i.removeEventListener(t,n,!0),Ot.remove(i,e))}}});var ke=n.location,Te=mt.now(),Se=/\?/;mt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||mt.error("Invalid XML: "+t),e};var Me=/\[\]$/,Pe=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;mt.param=function(t,e){var n,i=[],r=function(t,e){var n=mt.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!mt.isPlainObject(t))mt.each(t,function(){r(this.name,this.value)});else for(n in t)Z(n,t[n],e,r);return i.join("&")},mt.fn.extend({serialize:function(){return mt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=mt.prop(this,"elements");return t?mt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!mt(this).is(":disabled")&&Ce.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!_t.test(t))}).map(function(t,e){var n=mt(this).val();return null==n?null:Array.isArray(n)?mt.map(n,function(t){return{name:e.name,value:t.replace(/\r?\n/g,"\r\n")}}):{name:e.name,value:n.replace(/\r?\n/g,"\r\n")}}).get()}});var Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,De=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ae=/^(?:GET|HEAD)$/,Ee={},je={},Le="*/".concat("*"),Fe=at.createElement("a");Fe.href=ke.href,mt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:De.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Le,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":mt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?nt(nt(t,mt.ajaxSettings),e):nt(mt.ajaxSettings,t)},ajaxPrefilter:tt(Ee),ajaxTransport:tt(je),ajax:function(t,e){function i(t,e,i,s){var l,f,d,w,x,k=e;u||(u=!0,h&&n.clearTimeout(h),r=void 0,a=s||"",T.readyState=t>0?4:0,l=t>=200&&t<300||304===t,i&&(w=it(p,T,i)),w=rt(p,w,T,l),l?(p.ifModified&&(x=T.getResponseHeader("Last-Modified"),x&&(mt.lastModified[o]=x),(x=T.getResponseHeader("etag"))&&(mt.etag[o]=x)),204===t||"HEAD"===p.type?k="nocontent":304===t?k="notmodified":(k=w.state,f=w.data,d=w.error,l=!d)):(d=k,!t&&k||(k="error",t<0&&(t=0))),T.status=t,T.statusText=(e||k)+"",l?g.resolveWith(v,[f,k,T]):g.rejectWith(v,[T,k,d]),T.statusCode(b),b=void 0,c&&y.trigger(l?"ajaxSuccess":"ajaxError",[T,p,l?f:d]),m.fireWith(v,[T,k]),c&&(y.trigger("ajaxComplete",[T,p]),--mt.active||mt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o,a,s,h,l,u,c,f,d,p=mt.ajaxSetup({},e),v=p.context||p,y=p.context&&(v.nodeType||v.jquery)?mt(v):mt.event,g=mt.Deferred(),m=mt.Callbacks("once memory"),b=p.statusCode||{},w={},x={},k="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=Ne.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)T.always(t[T.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||k;return r&&r.abort(e),i(0,e),this}};if(g.promise(T),p.url=((t||p.url||ke.href)+"").replace(/^\/\//,ke.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(At)||[""],null==p.crossDomain){l=at.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Fe.protocol+"//"+Fe.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=mt.param(p.data,p.traditional)),et(Ee,p,e,T),u)return T;c=mt.event&&p.global,c&&0==mt.active++&&mt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ae.test(p.type),o=p.url.replace(/#.*$/,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(/%20/g,"+")):(d=p.url.slice(o.length),p.data&&(o+=(Se.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(/([?&])_=[^&]*/,"$1"),d=(Se.test(o)?"&":"?")+"_="+Te+++d),p.url=o+d),p.ifModified&&(mt.lastModified[o]&&T.setRequestHeader("If-Modified-Since",mt.lastModified[o]),mt.etag[o]&&T.setRequestHeader("If-None-Match",mt.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||e.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Le+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(v,T,p)===!1||u))return T.abort();if(k="abort",m.add(p.complete),T.done(p.success),T.fail(p.error),r=et(je,p,e,T)){if(T.readyState=1,c&&y.trigger("ajaxSend",[T,p]),u)return T;p.async&&p.timeout>0&&(h=n.setTimeout(function(){T.abort("timeout")},p.timeout));try{u=!1,r.send(w,i)}catch(t){if(u)throw t;i(-1,t)}}else i(-1,"No Transport");return T},getJSON:function(t,e,n){return mt.get(t,e,n,"json")},getScript:function(t,e){return mt.get(t,void 0,e,"script")}}),mt.each(["get","post"],function(t,e){mt[e]=function(t,n,i,r){return mt.isFunction(n)&&(r=r||i,i=n,n=void 0),mt.ajax(mt.extend({url:t,type:e,dataType:r,data:n,success:i},mt.isPlainObject(t)&&t))}}),mt._evalUrl=function(t){return mt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},mt.fn.extend({wrapAll:function(t){var e;return this[0]&&(mt.isFunction(t)&&(t=t.call(this[0])),e=mt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return mt.isFunction(t)?this.each(function(e){mt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=mt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=mt.isFunction(t);return this.each(function(n){mt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){mt(this).replaceWith(this.childNodes)}),this}}),mt.expr.pseudos.hidden=function(t){return!mt.expr.pseudos.visible(t)},mt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},mt.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Oe={0:200,1223:204},Ie=mt.ajaxSettings.xhr();gt.cors=!!Ie&&"withCredentials"in Ie,gt.ajax=Ie=!!Ie,mt.ajaxTransport(function(t){var e,i;if(gt.cors||Ie&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Oe[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),mt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),mt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return mt.globalEval(t),t}}}),mt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),mt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=mt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),at.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Re=[],Be=/(=)\?(?=&|$)|\?\?/;mt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Re.pop()||mt.expando+"_"+Te++;return this[t]=!0,t}}),mt.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,a,s=t.jsonp!==!1&&(Be.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Be.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=mt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Be,"$1"+r):t.jsonp!==!1&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||mt.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?mt(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Re.push(r)),a&&mt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),gt.createHTMLDocument=function(){var t=at.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),mt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(gt.createHTMLDocument?(e=at.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=at.location.href,e.head.appendChild(i)):e=at),r=St.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=S([t],e,o),o&&o.length&&mt(o).remove(),mt.merge([],r.childNodes))},mt.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=X(t.slice(s)),t=t.slice(0,s)),mt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&mt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?mt("<div>").append(mt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},mt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){mt.fn[e]=function(t){return this.on(e,t)}}),mt.expr.pseudos.animated=function(t){return mt.grep(mt.timers,function(e){return t===e.elem}).length},mt.offset={setOffset:function(t,e,n){var i,r,o,a,s,h,l,u=mt.css(t,"position"),c=mt(t),f={};"static"===u&&(t.style.position="relative"),s=c.offset(),o=mt.css(t,"top"),h=mt.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(o+h).indexOf("auto")>-1,l?(i=c.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(h)||0),mt.isFunction(e)&&(e=e.call(t,n,mt.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+r),"using"in e?e.using.call(t,f):c.css(f)}},mt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){mt.offset.setOffset(this,t,e)});var e,n,i,r,o=this[0];if(o)return o.getClientRects().length?(i=o.getBoundingClientRect(),e=o.ownerDocument,n=e.documentElement,r=e.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===mt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),h(t[0],"html")||(i=t.offset()),i={top:i.top+mt.css(t[0],"borderTopWidth",!0),left:i.left+mt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-mt.css(n,"marginTop",!0),left:e.left-i.left-mt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===mt.css(t,"position");)t=t.offsetParent;return t||Jt})}}),mt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;mt.fn[t]=function(i){return Lt(this,function(t,i,r){var o;if(mt.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),mt.each(["top","left"],function(t,e){mt.cssHooks[e]=R(gt.pixelPosition,function(t,n){if(n)return n=I(t,e),oe.test(n)?mt(t).position()[e]+"px":n})}),mt.each({Height:"height",Width:"width"},function(t,e){mt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){mt.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return Lt(this,function(e,n,r){var o;return mt.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?mt.css(e,n,s):mt.style(e,n,r,s)},e,a?r:void 0,a)}})}),mt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),mt.holdReady=function(t){t?mt.readyWait++:mt.ready(!0)},mt.isArray=Array.isArray,mt.parseJSON=JSON.parse,mt.nodeName=h,i=[],void 0!==(r=function(){return mt}.apply(e,i))&&(t.exports=r);var qe=n.jQuery,ze=n.$;return mt.noConflict=function(t){return n.$===mt&&(n.$=ze),t&&n.jQuery===mt&&(n.jQuery=qe),mt},o||(n.jQuery=n.$=mt),mt})},,,function(t,e,n){var i=n(15);n(16),n(17),n(19),n(18),t.exports=i},function(t,e){!function(e){function n(t,e,n){Wl.mc(this),this.TB=t,this.Rb=e,this.VG=n}function i(){this.RB=[]}function r(){}function o(t){void 0===t&&(t=42),this.seed=t,this.py=48271,this.Qu=2147483647,this.CB=this.Qu/this.py,this.BG=this.Qu%this.py,this.AG=1/this.Qu,this.random()}function a(){}function s(t){this.key=-1,this.value=t}function h(t,e){this.il=t,this.jl=e,this.Su=!1}function l(t){this.vc=t,this.Xh=null,t.Pb=null,this.Ta=t.C,this.uc=-1}function u(t){this.vc=t,t.Mi=null,this.Ta=t.C,this.uc=t.n.length}function c(t){Wl.mc(this),this.Q=!1,this.n=[],this.C=0,this.Mi=this.Pb=null,void 0===t||null===t?this.na=null:"string"==typeof t?"object"===t||"string"===t||"number"===t||"boolean"===t||"function"===t?this.na=t:Wl.Fa(t,"the string 'object', 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"==typeof t?this.na=t===Object?"object":t===String?"string":t===Number?"number":t===Boolean?"boolean":t===Function?"function":t:Wl.Fa(t,"null, a primitive type name, or a class type","List constructor: type")}function f(t){this.Zh=t,t.Pb=null,this.Ta=t.C,this.Wa=null}function d(t){Wl.mc(this),this.Q=!1,void 0===t||null===t?this.na=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.na=t:Wl.Fa(t,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"==typeof t?this.na=t===Object?"object":t===String?"string":t===Number?"number":t:Wl.Fa(t,"null, a primitive type name, or a class type","Set constructor: type"),this.nd={},this.md=0,this.Pb=null,this.C=0,this.Sh=this.Da=null}function p(t){this.Ga=t,this.Ta=t.C,this.Wa=null}function v(t){Wl.mc(this),this.Q=!0,this.Ga=t}function y(t){this.Ga=t,t.Ni=null,this.Ta=t.C,this.Wa=null}function g(t,e){this.key=t,this.value=e,this.ip=this.Ya=null}function m(t){this.Ga=t,t.Pb=null,this.Ta=t.C,this.Wa=null}function b(t,e){Wl.mc(this),this.Q=!1,void 0===t||null===t?this.Rh=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.Rh=t:Wl.Fa(t,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"==typeof t?this.Rh=t===Object?"object":t===String?"string":t===Number?"number":t:Wl.Fa(t,"null, a primitive type name, or a class type","Map constructor: keytype"),void 0===e||null===e?this.qt=null:"string"==typeof e?"object"===e||"string"===e||"boolean"===e||"number"===e||"function"===e?this.qt=e:Wl.Fa(e,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"==typeof e?this.qt=e===Object?"object":e===String?"string":e===Number?"number":e===Boolean?"boolean":e===Function?"function":e:Wl.Fa(e,"null, a primitive type name, or a class type","Map constructor: valtype"),this.nd={},this.md=0,this.Ni=this.Pb=null,this.C=0,this.Sh=this.Da=null}function w(t,e){void 0===t?this.y=this.x=0:(this.x=t,this.y=e)}function x(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var n=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n}function k(t,e){return e.mi(t),t}function T(t,e){void 0===t?this.height=this.width=0:(this.width=t,this.height=e)}function S(t,e,n,i){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof w?e instanceof w?(this.x=Math.min(t.x,e.x),this.y=Math.min(t.y,e.y),this.width=Math.abs(t.x-e.x),this.height=Math.abs(t.y-e.y)):e instanceof T?(this.x=t.x,this.y=t.y,this.width=e.width,this.height=e.height):Wl.k("Incorrect arguments supplied to Rect constructor"):(this.x=t,this.y=e,this.width=n,this.height=i)}function M(t,e,n){t.width=e,t.height=n}function P(t,e){return $(t.x,e.x)&&$(t.y,e.y)&&$(t.width,e.width)&&$(t.height,e.height)}function C(t,e,n,i,r){var o=t.width;return n+r<=-o?(t.x+=o/2,t.width=0):(t.x-=r,t.width+=n+r),n=t.height,e+i<=-n?(t.y+=n/2,t.height=0):(t.y-=e,t.height+=e+i),t}function N(t,e,n,i,r){var o=Math.max(t.x,e),a=Math.max(t.y,n);return e=Math.min(t.x+t.width,e+i),n=Math.min(t.y+t.height,n+r),t.x=o,t.y=a,t.width=Math.max(0,e-o),t.height=Math.max(0,n-a),t}function D(t,e){var n=t.width,i=e.width+10+10,r=t.x,o=e.x-10;return!(r>i+o||o>n+r)&&(n=t.height,i=e.height+10+10,r=t.y,o=e.y-10,!(r>i+o||o>n+r))}function A(t,e,n,i,r){var o=Math.min(t.x,e),a=Math.min(t.y,n);return e=Math.max(t.x+t.width,e+i),n=Math.max(t.y+t.height,n+r),t.x=o,t.y=a,t.width=e-o,t.height=n-a,t}function E(t,e,n,i){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===n?(i=e,this.top=t,this.right=e,this.bottom=t,this.left=i):void 0!==i?(this.top=t,this.right=e,this.bottom=n,this.left=i):Wl.k("Invalid arguments to Margin constructor")}function j(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}function L(t,e,n,i){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.offsetX=n,this.offsetY=i)}function F(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function O(){this.Tb=[1,0,0,1,0,0]}function I(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.mE=[],this.pattern=null}function R(t,e,n){this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.In=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.Lp=!1,this.Ag=this.Ys=this.Xs=0,this.document=e||document,this.BE=n,this.Bx=null,this.path=[],this.vh=new O,this.stack=[],this.xf=[],this.ax=t,this.aJ="http://www.w3.org/2000/svg",this.width=this.ax.width,this.height=this.ax.height,this.hm=B(this,"svg",{width:this.width+"px",height:this.height+"px",SL:"0 0 "+this.ax.width+" "+this.ax.height}),this.hm.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.hm.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),G(this,1,0,0,1,0,0),t=Wl.nm++,e=B(this,"clipPath",{id:"mainClip"+t}),e.appendChild(B(this,"rect",{x:0,y:0,width:this.width,height:this.height})),this.hm.appendChild(e),this.xf[0].setAttributeNS(null,"clip-path","url(#mainClip"+t+")")}function B(t,e,n,i){if(t=t.document.createElementNS(t.aJ,e),Wl.Ua(n))for(var r in n)t.setAttributeNS("href"===r?"http://www.w3.org/1999/xlink":"",r,n[r]);return void 0!==i&&(t.textContent=i),t}function q(t,e,n,i,r){1!==t.globalAlpha&&(n.opacity=t.globalAlpha),"fill"===e?(t.fillStyle instanceof I?n.fill=z(t,t.fillStyle):(/^rgba\(/.test(t.fillStyle)&&(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),n.fill="rgb("+e[1]+","+e[2]+","+e[3]+")",n["fill-opacity"]=e[4]),n.fill=t.fillStyle),n.stroke="none"):"stroke"===e&&(n.fill="none",t.strokeStyle instanceof I?n.stroke=z(t,t.strokeStyle):(/^rgba\(/.test(t.strokeStyle)&&(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),n.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",n["stroke-opacity"]=e[4]),n.stroke=t.strokeStyle),n["stroke-width"]=t.lineWidth,n["stroke-linecap"]=t.lineCap,n["stroke-linejoin"]=t.lineJoin,n["stroke-miterlimit"]=t.miterLimit),t=i.Tb,t="matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")",void 0!==r&&(t+=r),n.transform=t}function z(t,e){var n,i="GRAD"+Wl.nm++;if("linear"===e.type)n=B(t,"linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:i,gradientUnits:"userSpaceOnUse"});else if("radial"===e.type)n=B(t,"radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:i});else{if("pattern"!==e.type)throw Error("invalid gradient");var r=e.pattern;n={width:r.width,height:r.height,id:i,patternUnits:"userSpaceOnUse"};var o="";r instanceof HTMLCanvasElement&&(o=r.toDataURL()),r instanceof HTMLImageElement&&(o=r.src),r={x:0,y:0,width:r.width,height:r.height,href:o},n=B(t,"pattern",n),n.appendChild(B(t,"image",r))}for(var r=e.mE,o=r.length,a=[],s=0;s<o;s++){var h=r[s],l=h.color,h={offset:h.offset,"stop-color":l};/^rgba\(/.test(l)&&(l=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(l),h["stop-color"]="rgb("+l[1]+","+l[2]+","+l[3]+")",h["stop-opacity"]=l[4]),a.push(h)}for(a.sort(function(t,e){return t.offset>e.offset?1:-1}),s=0;s<o;s++)n.appendChild(B(t,"stop",a[s]));return t.hm.appendChild(n),"url(#"+i+")"}function V(t,e,n,i){n={x:n[0],y:n[1],width:n[2],height:n[3]},q(t,e,n,i),t.addElement("rect",n)}function U(t,e,n,i){for(var r=[],o=0;o<n.length;o++){var a=Wl.Il(n[o]),s=[a.shift()];if("A"===s[0])s.push(a.shift()+","+a.shift(),a.shift(),a.shift()+","+a.shift(),a.shift()+","+a.shift());else for(;a.length;)s.push(a.shift()+","+a.shift());r.push(s.join(" "))}n={d:r.join(" ")},q(t,e,n,i),"clipPath"===e?(e="CLIP"+Wl.nm++,i=B(t,"clipPath",{id:e}),i.appendChild(B(t,"path",n)),t.hm.appendChild(i),0<t.xf.length&&t.xf[t.xf.length-1].setAttributeNS(null,"clip-path","url(#"+e+")")):t.addElement("path",n)}function H(t,e,n,i,r,o,a){var s=Math.abs(r-o);if(r!==o){var h=e+i*Math.cos(o);o=n+i*Math.sin(o),s>=2*Math.PI?(H(t,e,n,i,r,r+Math.PI,a),H(t,e,n,i,r+Math.PI,r+2*Math.PI,a),t.path.push(["M",h,o])):(e+=i*Math.cos(r),n+=i*Math.sin(r),s=180*s/Math.PI,r=a?0:1,a=180<=s==!!a?0:1,0!==t.path.length?t.path.push(["L",e,n]):t.path.push(["M",e,n]),t.path.push(["A",i,i,s,a,r,h,o]))}}function G(t,e,n,i,r,o,a){var s=new O;s.Tb=[e,n,i,r,o,a],e={},q(t,"g",e,s),s=t.addElement("g",e),t.xf.push(s)}function _(t,e){this.ownerDocument=void 0===e?document:e;var n=this.ownerDocument.createElement("canvas");n.tabIndex=0,this.Gd=n,this.wk=new W(n),n.Z=t,Object.seal(this)}function W(t){t.getContext&&t.getContext("2d")||Wl.k("Browser does not support HTML Canvas Element"),this.ya=t.getContext("2d"),this.Cy=this.Ey=this.Dy="",this.Tq=!1,this.Ag=this.Ys=this.Xs=0,Object.seal(this)}function K(t){if(0>=t)return 0;var e=ec;if(null===e){for(var e=[],n=0;2e3>=n;n++)e[n]=Math.sqrt(n);ec=e}return 1>t?(n=1/t,2e3>=n?1/e[0|n]:Math.sqrt(t)):2e3>=t?e[0|t]:Math.sqrt(t)}function Y(t,e){var n=t-e;return.5>n&&-.5<n}function $(t,e){var n=t-e;return 5e-8>n&&-5e-8<n}function J(t,e,n,i,r,o,a){0>=r&&(r=1e-6);var s=0,h=0,l=0,u=0;if(t<n?(h=t,s=n):(h=n,s=t),e<i?(u=e,l=i):(u=i,l=e),t===n)return u<=a&&a<=l&&t-r<=o&&o<=t+r;if(e===i)return h<=o&&o<=s&&e-r<=a&&a<=e+r;if(s+=r,(h-=r)<=o&&o<=s&&(l+=r,(u-=r)<=a&&a<=l))if(s-h>l-u){if(!(t-n>r||n-t>r))return!0;if((o=(i-e)/(n-t)*(o-t)+e)-r<=a&&a<=o+r)return!0}else{if(!(e-i>r||i-e>r))return!0;if((a=(n-t)/(i-e)*(a-e)+t)-r<=o&&o<=a+r)return!0}return!1}function X(t,e,n,i,r,o,a,s,h,l,u,c){if(J(t,e,a,s,c,n,i)&&J(t,e,a,s,c,r,o))return J(t,e,a,s,c,l,u);var f=(t+n)/2,d=(e+i)/2,p=(n+r)/2,v=(i+o)/2;r=(r+a)/2,o=(o+s)/2,i=(f+p)/2,n=(d+v)/2;var p=(p+r)/2,v=(v+o)/2,y=(i+p)/2,g=(n+v)/2;return X(t,e,f,d,i,n,y,g,h,l,u,c)||X(y,g,p,v,r,o,a,s,h,l,u,c)}function Q(t,e,n,i,r,o,a,s,h,l){if(J(t,e,a,s,h,n,i)&&J(t,e,a,s,h,r,o))A(l,t,e,0,0),A(l,a,s,0,0);else{var u=(t+n)/2,c=(e+i)/2,f=(n+r)/2,d=(i+o)/2;r=(r+a)/2,o=(o+s)/2,i=(u+f)/2,n=(c+d)/2;var f=(f+r)/2,d=(d+o)/2,p=(i+f)/2,v=(n+d)/2;Q(t,e,u,c,i,n,p,v,h,l),Q(p,v,f,d,r,o,a,s,h,l)}}function Z(t,e,n,i,r,o,a,s,h,l){if(J(t,e,a,s,h,n,i)&&J(t,e,a,s,h,r,o))0===l.length&&(l.push(t),l.push(e)),l.push(a),l.push(s);else{var u=(t+n)/2,c=(e+i)/2,f=(n+r)/2,d=(i+o)/2;r=(r+a)/2,o=(o+s)/2,i=(u+f)/2,n=(c+d)/2;var f=(f+r)/2,d=(d+o)/2,p=(i+f)/2,v=(n+d)/2;Z(t,e,u,c,i,n,p,v,h,l),Z(p,v,f,d,r,o,a,s,h,l)}}function tt(t,e,n,i,r,o,a,s,h,l,u,c,f,d){var p=1-h;t=t*p+n*h,e=e*p+i*h,n=n*p+r*h,i=i*p+o*h,r=r*p+a*h,o=o*p+s*h,s=t*p+n*h,a=e*p+i*h,n=n*p+r*h,i=i*p+o*h,l.x=t,l.y=e,u.x=s,u.y=a,c.x=s*p+n*h,c.y=a*p+i*h,f.x=n,f.y=i,d.x=r,d.y=o}function et(t,e,n,i,r,o,a,s,h,l){if(J(t,e,r,o,l,n,i))return J(t,e,r,o,l,s,h);var u=(t+n)/2,c=(e+i)/2;n=(n+r)/2,i=(i+o)/2;var f=(u+n)/2,d=(c+i)/2;return et(t,e,u,c,f,d,a,s,h,l)||et(f,d,n,i,r,o,a,s,h,l)}function nt(t,e,n,i,r,o,a,s){if(J(t,e,r,o,a,n,i))A(s,t,e,0,0),A(s,r,o,0,0);else{var h=(t+n)/2,l=(e+i)/2;n=(n+r)/2,i=(i+o)/2;var u=(h+n)/2,c=(l+i)/2;nt(t,e,h,l,u,c,a,s),nt(u,c,n,i,r,o,a,s)}}function it(t,e,n,i,r,o,a,s){if(J(t,e,r,o,a,n,i))0===s.length&&(s.push(t),s.push(e)),s.push(r),s.push(o);else{var h=(t+n)/2,l=(e+i)/2;n=(n+r)/2,i=(i+o)/2;var u=(h+n)/2,c=(l+i)/2;it(t,e,h,l,u,c,a,s),it(u,c,n,i,r,o,a,s)}}function rt(t,e,n,i,r,o,a,s,h,l,u,c,f,d){if(0>=f&&(f=1e-6),J(t,e,a,s,f,n,i)&&J(t,e,a,s,f,r,o)){var p=(t-a)*(l-c)-(e-s)*(h-u);if(0===p)return!1;if(f=((t*s-e*a)*(h-u)-(t-a)*(h*c-l*u))/p,p=((t*s-e*a)*(l-c)-(e-s)*(h*c-l*u))/p,(h>u?h-u:u-h)<(l>c?l-c:c-l)){if(a=h=0,e<s?(h=e,a=s):(h=s,a=e),p<h||p>a)return!1}else if(t<a?h=t:(h=a,a=t),f<h||f>a)return!1;return d.x=f,d.y=p,!0}var p=(t+n)/2,v=(e+i)/2;n=(n+r)/2,i=(i+o)/2,r=(r+a)/2,o=(o+s)/2;var y=(p+n)/2,g=(v+i)/2;n=(n+r)/2,i=(i+o)/2;var m=(y+n)/2,b=(g+i)/2,w=(u-h)*(u-h)+(c-l)*(c-l),x=!1;return rt(t,e,p,v,y,g,m,b,h,l,u,c,f,d)&&(e=(d.x-h)*(d.x-h)+(d.y-l)*(d.y-l))<w&&(w=e,x=!0),t=d.x,p=d.y,rt(m,b,n,i,r,o,a,s,h,l,u,c,f,d)&&(e=(d.x-h)*(d.x-h)+(d.y-l)*(d.y-l),e<w?x=!0:(d.x=t,d.y=p)),x}function ot(t,e,n,i,r,o,a,s,h,l,u,c,f){var d=0;if(0>=f&&(f=1e-6),J(t,e,a,s,f,n,i)&&J(t,e,a,s,f,r,o)){if(0===(f=(t-a)*(l-c)-(e-s)*(h-u)))return d;var p=((t*s-e*a)*(h-u)-(t-a)*(h*c-l*u))/f,v=((t*s-e*a)*(l-c)-(e-s)*(h*c-l*u))/f;if(p>=u)return d;if((h>u?h-u:u-h)<(l>c?l-c:c-l)){if(t=h=0,e<s?(h=e,t=s):(h=s,t=e),v<h||v>t)return d}else if(t<a?(h=t,t=a):h=a,p<h||p>t)return d;0<f?d++:0>f&&d--}else{var p=(t+n)/2,v=(e+i)/2,y=(n+r)/2,g=(i+o)/2;r=(r+a)/2,o=(o+s)/2,i=(p+y)/2,n=(v+g)/2;var y=(y+r)/2,g=(g+o)/2,m=(i+y)/2,b=(n+g)/2,d=d+ot(t,e,p,v,i,n,m,b,h,l,u,c,f),d=d+ot(m,b,y,g,r,o,a,s,h,l,u,c,f)}return d}function at(t,e,n,i,r,o,a){if($(t,n)){var s=0;return n=0,(e<i?(s=e,n=i):(s=i,n=e),(i=o)<s)?(a.x=t,a.y=s,!1):i>n?(a.x=t,a.y=n,!1):(a.x=t,a.y=i,!0)}return $(e,i)?(t<n?s=t:(s=n,n=t),(i=r)<s?(a.x=s,a.y=e,!1):i>n?(a.x=n,a.y=e,!1):(a.x=i,a.y=e,!0)):-5e-6>(s=((t-r)*(t-n)+(e-o)*(e-i))/((n-t)*(n-t)+(i-e)*(i-e)))?(a.x=t,a.y=e,!1):1.000005<s?(a.x=n,a.y=i,!1):(a.x=t+s*(n-t),a.y=e+s*(i-e),!0)}function st(t,e,n,i,r,o,a,s,h){return Y(t,n)&&Y(e,i)?(h.x=t,h.y=e,!1):$(r,a)?$(t,n)?(at(t,e,n,i,r,o,h),!1):(o=(i-e)/(n-t)*(r-t)+e,at(t,e,n,i,r,o,h)):(s=(s-o)/(a-r),$(t,n)?(o=s*(t-r)+o,n=a=0,e<i?(a=e,n=i):(a=i,n=e),o<a?(h.x=t,h.y=a,!1):o>n?(h.x=t,h.y=n,!1):(h.x=t,h.y=o,!0)):(a=(i-e)/(n-t),$(s,a)?(at(t,e,n,i,r,o,h),!1):(r=(a*t-s*r+o-e)/(a-s),$(a,0)?(t<n?a=t:(a=n,n=t),r<a?(h.x=a,h.y=e,!1):r>n?(h.x=n,h.y=e,!1):(h.x=r,h.y=e,!0)):(o=a*(r-t)+e,at(t,e,n,i,r,o,h)))))}function ht(t,e,n,i,r,o,a,s,h){var l=1e21,u=t,c=e;if(st(t,e,t,i,r,o,a,s,h)){var f=(h.x-r)*(h.x-r)+(h.y-o)*(h.y-o);f<l&&(l=f,u=h.x,c=h.y)}return st(n,e,n,i,r,o,a,s,h)&&(f=(h.x-r)*(h.x-r)+(h.y-o)*(h.y-o))<l&&(l=f,u=h.x,c=h.y),st(t,e,n,e,r,o,a,s,h)&&(f=(h.x-r)*(h.x-r)+(h.y-o)*(h.y-o))<l&&(l=f,u=h.x,c=h.y),st(t,i,n,i,r,o,a,s,h)&&(f=(h.x-r)*(h.x-r)+(h.y-o)*(h.y-o))<l&&(l=f,u=h.x,c=h.y),h.x=u,h.y=c,1e21>l}function lt(t,e,n,i,r,o,a,s,h){n=t-n;var l=r-a,u=a=0;return 0===n||0===l?0===n?(s=(o-s)/l,a=t,u=s*a+(o-s*r)):(i=(e-i)/n,a=r,u=i*a+(e-i*t)):(i=(e-i)/n,s=(o-s)/l,t=e-i*t,a=(o-s*r-t)/(i-s),u=i*a+t),h.l(a,u),h}function ut(t,e,n){var i=e.x,r=e.y,o=n.x,a=n.y,s=t.left,h=t.right,l=t.top,u=t.bottom;return i===o?(o=t=0,r<a?(t=r,o=a):(t=a,o=r),s<=i&&i<=h&&t<=u&&o>=l):r===a?(i<o?t=i:(t=o,o=i),l<=r&&r<=u&&t<=h&&o>=s):!!(t.Ia(e)||t.Ia(n)||ct(s,l,h,l,i,r,o,a)||ct(h,l,h,u,i,r,o,a)||ct(h,u,s,u,i,r,o,a)||ct(s,u,s,l,i,r,o,a))}function ct(t,e,n,i,r,o,a,s){return 0>=ft(t,e,n,i,r,o)*ft(t,e,n,i,a,s)&&0>=ft(r,o,a,s,t,e)*ft(r,o,a,s,n,i)}function ft(t,e,n,i,r,o){return n-=t,i-=e,t=r-t,e=o-e,o=t*i-e*n,0===o&&0<(o=t*n+e*i)&&0>(o=(t-n)*n+(e-i)*i)&&(o=0),0>o?-1:0<o?1:0}function dt(t){return 0>t&&(t+=360),360<=t&&(t-=360),t}function pt(t,e,n,i){var r=Math.PI;i||(e*=r/180,n*=r/180),i=e<n?1:-1;var o=[],a=r/2,s=e;for(e=Math.min(2*r,Math.abs(n-e));1e-5<e;){n=s+i*Math.min(e,a);var r=(n-s)/2,h=t*Math.cos(r),l=t*Math.sin(r),u=-l,c=h*h+u*u,f=c+h*h+u*l,c=4/3*(Math.sqrt(2*c*f)-f)/(h*l-u*h),l=h-c*u,h=u+c*h,u=-h,c=r+s,r=Math.cos(c),c=Math.sin(c);o.push([0+t*Math.cos(s),0+t*Math.sin(s),0+l*r-h*c,0+l*c+h*r,0+l*r-u*c,0+l*c+u*r,0+t*Math.cos(n),0+t*Math.sin(n)]),e-=Math.abs(n-s),s=n}return o}function vt(t,e,n,i,r,o,a){n=Math.floor((t-n)/r)*r+n,i=Math.floor((e-i)/o)*o+i;var s=n;n+r-t<r/2&&(s=n+r),t=i,i+o-e<o/2&&(t=i+o),a.l(s,t)}function yt(t,e){var n=Math.max(t,e),i=Math.min(t,e),r=1,o=1;do{r=n%i,n=o=i,i=r}while(0<r);return o}function gt(t,e,n,i){var r=0>n,o=0>i,a=0,s=a=0;t<e?(a=1,s=0):(a=0,s=1);var h=0,l=0,u=0,c=0,h=0===a?t:e,u=0===a?n:i;if((0===a?r:o)&&(u=-u),a=s,l=0===a?t:e,c=0===a?n:i,(0===a?r:o)&&(c=-c),t=t=0,0<c)if(0<u){for(e=h*h,t=l*l,h*=u,n=l*c,i=-t+n,r=-t+Math.sqrt(h*h+n*n),l=i,o=0;9999999999>o&&((l=.5*(i+r))!==i&&l!==r);++o)if(s=h/(l+e),a=n/(l+t),0<(s=s*s+a*a-1))i=l;else{if(!(0>s))break;r=l}u=e*u/(l+e)-u,c=t*c/(l+t)-c,t=Math.sqrt(u*u+c*c)}else t=Math.abs(c-l);else c=h*h-l*l,t=h*u,t<c?(c=t/c,t=l*Math.sqrt(Math.abs(1-c*c)),u=h*c-u,t=Math.sqrt(u*u+t*t)):t=Math.abs(u-h);return t}function mt(t){1<arguments.length&&Wl.k("Geometry constructor can take at most one optional argument, the Geometry type."),Wl.mc(this),this.Q=!1,void 0===t&&(t=oc),this.na=t,this.Fb=this.yb=this.Hc=this.xc=0,this.Nj=new c(Pt),this.xv=this.Nj.C,this.hv=(new S).freeze(),this.cb=!0,this.Jq=this.ko=null,this.Kq=NaN,this.ei=nu,this.fi=uu,this.Oo=this.Qo=NaN,this.Di=Bf}function bt(t,e){if(t.type!==nc||e.type!==oc)return!1;if(1===e.dc.count){var n=e.dc.ea(0);if(1===n.vb.count&&Y(t.ja,n.ja)&&Y(t.ha,n.ha)&&(n=n.vb.ea(0),n.type===lc&&Y(t.D,n.D)&&Y(t.F,n.F)))return!0}return!1}function wt(t,e){for(var n=t.length,i=Wl.K(),r=0;r<n;r++){var o=t[r];i.x=o[0],i.y=o[1],e.ob(i),o[0]=i.x,o[1]=i.y,i.x=o[2],i.y=o[3],e.ob(i),o[2]=i.x,o[3]=i.y,i.x=o[4],i.y=o[5],e.ob(i),o[4]=i.x,o[5]=i.y,i.x=o[6],i.y=o[7],e.ob(i),o[6]=i.x,o[7]=i.y}Wl.v(i)}function xt(t,e,n){switch(t.type){case nc:case ic:case rc:n?e.l(t.xc,t.Hc,0,0):A(e,t.xc,t.Hc,0,0),A(e,t.yb,t.Fb,0,0);break;case oc:var i=t.dc;t=i.n;for(var i=i.length,r=0;r<i;r++){var o=t[r];n&&0===r?e.l(o.ja,o.ha,0,0):A(e,o.ja,o.ha,0,0);for(var a=o.vb.n,s=a.length,h=o.ja,l=o.ha,u=0;u<s;u++){var c=a[u];switch(c.type){case lc:case hc:h=c.D,l=c.F,A(e,h,l,0,0);break;case uc:Q(h,l,c.sc,c.Pc,c.Bh,c.Ch,c.D,c.F,.5,e),h=c.D,l=c.F;break;case cc:nt(h,l,c.sc,c.Pc,c.D,c.F,.5,e),h=c.D,l=c.F;break;case fc:case dc:var f=c.type===fc?Nt(c,o):Dt(c,o,h,l),d=f.length;if(0===d){h=c.ka,l=c.sa,A(e,h,l,0,0);break}for(var c=null,p=0;p<d;p++)c=f[p],Q(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],.5,e);null!==c&&(h=c[6],l=c[7]);break;default:Wl.k("Unknown Segment type: "+c.type)}}}break;default:Wl.k("Unknown Geometry type: "+t.type)}}function kt(t,e,n,i,r,o,a,s){if(J(r,o,a,s,.05,t,e))return NaN;var h=(t-n)*(o-s);if(0===h)return 0;var l=((t*i-e*n)*(r-a)-(t-n)*(r*s-o*a))/h;if(e=(t*i-e*n)*(o-s)/h,l>=t)return 0;if((r>a?r-a:a-r)<(o>s?o-s:s-o)){if(r=t=0,o<s?(t=o,r=s):(t=s,r=o),e<t||e>r)return 0}else if(r<a?(t=r,r=a):t=a,l<t||l>r)return 0;return 0<h?1:-1}function Tt(t,e,n,i){t=t.dc.n;for(var r=t.length,o=0;o<r;o++)if(t[o].Ia(e,n,i))return!0;return!1}function St(t){if(null===t.ko){t.wx()&&t.ny();var e=t.ko=[],n=t.Jq=[],i=[],r=[];if(t.type===nc)i.push(t.ja),i.push(t.ha),i.push(t.D),i.push(t.F),e.push(i),r.push(Math.sqrt((t.ja-t.D)*(t.ja-t.D)+(t.ha-t.F)*(t.ha-t.F))),n.push(r);else if(t.type===ic)i.push(t.ja),i.push(t.ha),i.push(t.D),i.push(t.ha),i.push(t.D),i.push(t.F),i.push(t.ja),i.push(t.F),i.push(t.ja),i.push(t.ha),e.push(i),r.push(Math.abs(t.ja-t.D)),r.push(Math.abs(t.ha-t.F)),r.push(Math.abs(t.ja-t.D)),r.push(Math.abs(t.ha-t.F)),n.push(r);else if(t.type===rc){var o=new Pt;o.ja=t.D,o.ha=(t.ha+t.F)/2;var a=new Ct(fc);if(a.ze=0,a.pf=360,a.ka=(t.ja+t.D)/2,a.sa=(t.ha+t.F)/2,a.radiusX=Math.abs(t.ja-t.D)/2,a.radiusY=Math.abs(t.ha-t.F)/2,o.add(a),t=Nt(a,o),0===(r=t.length))i.push(a.ka),i.push(a.sa);else for(var a=o.ja,o=o.ha,s=0;s<r;s++){var h=t[s];Z(a,o,h[2],h[3],h[4],h[5],h[6],h[7],.5,i),a=h[6],o=h[7]}e.push(i),n.push(Mt(i))}else for(var l=t.dc.i;l.next();){var u=l.value,i=[];i.push(u.ja),i.push(u.ha);for(var a=u.ja,o=u.ha,c=a,f=o,d=u.vb.n,p=d.length,v=0;v<p;v++){var y=d[v];switch(y.na){case hc:4<=i.length&&(e.push(i),n.push(Mt(i))),i=[],i.push(y.D),i.push(y.F),a=y.D,o=y.F,c=a,f=o;break;case lc:i.push(y.D),i.push(y.F),a=y.D,o=y.F;break;case uc:Z(a,o,y.Bd,y.We,y.nh,y.zg,y.yb,y.Fb,.5,i),a=y.D,o=y.F;break;case cc:it(a,o,y.Bd,y.We,y.yb,y.Fb,.5,i),a=y.D,o=y.F;break;case fc:if(t=Nt(y,u),0===(r=t.length)){i.push(y.ka),i.push(y.sa),a=y.ka,o=y.sa;break}for(s=0;s<r;s++)h=t[s],Z(a,o,h[2],h[3],h[4],h[5],h[6],h[7],.5,i),a=h[6],o=h[7];break;case dc:if(t=Dt(y,u,a,o),0===(r=t.length)){i.push(y.ka),i.push(y.sa),a=y.ka,o=y.sa;break}for(s=0;s<r;s++)h=t[s],Z(a,o,h[2],h[3],h[4],h[5],h[6],h[7],.5,i),a=h[6],o=h[7];break;default:Wl.k("Segment not of valid type: "+y.na)}y.Qh&&(i.push(c),i.push(f))}4<=i.length&&(e.push(i),n.push(Mt(i)))}}}function Mt(t){for(var e=[],n=0,i=0,r=t.length,o=0;o<r;o+=2){var a=t[o],s=t[o+1];0!==o&&(n=Math.sqrt(Jl(n,i,a,s)),e.push(n)),n=a,i=s}return e}function Pt(t,e,n,i){Wl.mc(this),this.Q=!1,void 0===n&&(n=!0),this.Cm=n,void 0===i&&(i=!0),this.Ro=i,this.xc=void 0!==t?t:0,this.Hc=void 0!==e?e:0,this.np=new c(Ct),this.uw=this.np.C,this.cb=!0}function Ct(t,e,n,i,r,o,a,s){Wl.mc(this),this.Q=!1,void 0===t&&(t=lc),this.na=t,this.yb=void 0!==e?e:0,this.Fb=void 0!==n?n:0,void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),t===dc?(t=o%360,0>t&&(t+=360),this.Bd=t,this.We=0,this.nh=Math.max(i,0),this.zg=Math.max(r,0),this.Wo="boolean"==typeof a&&!!a,this.po=!!s):(this.Bd=i,this.We=r,t===fc&&(o=Math.max(o,0)),this.nh=o,"number"==typeof a?(t===fc&&(a=Math.max(a,0)),this.zg=a):this.zg=0,this.po=this.Wo=!1),this.Qh=!1,this.cb=!0,this.jg=null}function Nt(t,e){if(null!==t.jg&&!1===e.cb)return t.jg;var n=t.radiusX,i=t.radiusY;if(void 0===i&&(i=n),0===n||0===i)return t.jg=[],t.jg;var r=t.Bd,o=t.We,a=pt(n<i?n:i,t.ze,t.ze+t.pf,!1);if(n!==i){var s=Wl.Ff();s.reset(),n<i?s.scale(1,i/n):s.scale(n/i,1),wt(a,s),Wl.ve(s)}for(n=a.length,i=0;i<n;i++)s=a[i],s[0]+=r,s[1]+=o,s[2]+=r,s[3]+=o,s[4]+=r,s[5]+=o,s[6]+=r,s[7]+=o;return t.jg=a,t.jg}function Dt(t,e,n,i){function r(t,e,n,i){return(t*i<e*n?-1:1)*Math.acos((t*n+e*i)/(Math.sqrt(t*t+e*e)*Math.sqrt(n*n+i*i)))}if(null!==t.jg&&!1===e.cb)return t.jg;e=t.nh;var o=t.zg;if(0===e||0===o)return t.jg=[],t.jg;var a=Math.PI/180*t.Bd,s=t.Wo,h=t.po,l=t.yb,u=t.Fb,c=Math.cos(a),f=Math.sin(a),d=c*(n-l)/2+f*(i-u)/2,a=-f*(n-l)/2+c*(i-u)/2,p=d*d/(e*e)+a*a/(o*o);return 1<p&&(e*=Math.sqrt(p),o*=Math.sqrt(p)),p=(s===h?-1:1)*Math.sqrt((e*e*o*o-e*e*a*a-o*o*d*d)/(e*e*a*a+o*o*d*d)),isNaN(p)&&(p=0),s=p*e*a/o,p=p*-o*d/e,isNaN(s)&&(s=0),isNaN(p)&&(p=0),n=(n+l)/2+c*s-f*p,i=(i+u)/2+f*s+c*p,u=r(1,0,(d-s)/e,(a-p)/o),c=(d-s)/e,l=(a-p)/o,d=(-d-s)/e,s=(-a-p)/o,a=r(c,l,d,s),d=(c*d+l*s)/(Math.sqrt(c*c+l*l)*Math.sqrt(d*d+s*s)),-1>=d?a=Math.PI:1<=d&&(a=0),!h&&0<a&&(a-=2*Math.PI),h&&0>a&&(a+=2*Math.PI),h=e>o?1:e/o,d=e>o?o/e:1,e=pt(e>o?e:o,u,u+a,!0),o=Wl.Ff(),o.reset(),o.translate(n,i),o.rotate(t.Bd,0,0),o.scale(h,d),wt(e,o),Wl.ve(o),t.jg=e,t.jg}function At(){this.Z=null,this.Gz=new w(0,0).freeze(),this.Qy=new w(0,0).freeze(),this.ev=this.aw=0,this.fv=1,this.Qv="",this.Ew=this.tv=!1,this.qv=this.gv=0,this.Ij=this.Cv=this.Nv=!1,this.ur=null,this.Cw=0,this.Cg=this.Bw=null}function Et(){this.Z=null,this.Rb="",this.iw=this.zw=null,this.Qq=!1}function jt(){this.Rq=vc,this.Um=this.$v="",this.qs=this.rs=this.us=this.vs=this.ts=this.Z=this.le=null}function Lt(t){1<arguments.length&&Wl.k("Model constructor can only take one optional argument, the Array of node data."),Wl.mc(this),this.fr=this.Rb="",this.Ki=!1,this.mz={},this.De=[],this.Fc=new b(null,Object),this.ek="key",this.uo=this.$o=null,this.Xq=this.Yq=!1,this.Iq=null,this.Pm="category",this.Ei=new b(null,d),this.ak=null,this.dj=!1,this.Fz=null,this.pa=new ae,void 0!==t&&(this.dg=t)}function Ft(t){return',\n  "modelData": '+Vt(t,t.Gk)}function Ot(t,e){var n=e.modelData;Wl.Ua(n)&&(t.zu(n),t.Gk=n)}function It(t,e,n,i){if(e===n)return!0;if(typeof e!=typeof n||"function"==typeof e||"function"==typeof n)return!1;if(Array.isArray(e)&&Array.isArray(n)){if(i.la(e)===n)return!0;if(i.add(e,n),e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!It(t,e[r],n[r],i))return!1;return!0}if(Wl.Ua(e)&&Wl.Ua(n)){if(i.la(e)===n)return!0;i.add(e,n);for(r in e){var o=e[r];if(!qt(r,o)){var a=n[r];if(void 0===a||!It(t,o,a,i))return!1}}for(var s in n)if(a=n[s],!(qt(s,a)||void 0!==(o=e[s])&&It(t,o,a,i)))return!1;return!0}return!1}function Rt(t,e,n){t[n]!==e[n]&&Wl.k("Model.computeJsonDifference: Model."+n+' is not the same in both models: "'+t[n]+'" and "'+e[n]+'"')}function Bt(t,e,n){void 0===n&&(n=!1);var r=Wl.Za(e);if(0>=r)return"[]";var o=new i;o.add("[ "),n&&1<r&&o.add("\n");for(var a=0;a<r;a++){var s=Wl.Ea(e,a);void 0!==s&&(0<a&&(o.add(","),n&&o.add("\n")),o.add(t.Pu(s)))}return n&&1<r&&o.add("\n"),o.add(" ]"),o.toString()}function qt(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function zt(t){return isNaN(t)?"NaN":1/0===t?"9e9999":-(1/0)===t?"-9e9999":t}function Vt(t,e){var i=e;if(i instanceof w)e={class:"go.Point",x:zt(i.x),y:zt(i.y)};else if(i instanceof T)e={class:"go.Size",width:zt(i.width),height:zt(i.height)};else if(i instanceof S)e={class:"go.Rect",x:zt(i.x),y:zt(i.y),width:zt(i.width),height:zt(i.height)};else if(i instanceof E)e={class:"go.Margin",top:zt(i.top),right:zt(i.right),bottom:zt(i.bottom),left:zt(i.left)};else if(i instanceof L)e=i.gd()?{class:"go.Spot",x:zt(i.x),y:zt(i.y),offsetX:zt(i.offsetX),offsetY:zt(i.offsetY)}:{class:"go.Spot",enum:i.toString()};else if(i instanceof vr){if(e={class:"go.Brush",type:i.type.name},i.type===gf?e.color=i.color:i.type!==mf&&i.type!==bf||(e.start=i.start,e.end=i.end,i.type===bf&&(0!==i.Ku&&(e.startRadius=zt(i.Ku)),isNaN(i.It)||(e.endRadius=zt(i.It)))),null!==i.tk){for(var r={},i=i.tk.i;i.next();)r[i.key]=i.value;e.colorStops=r}}else if(i instanceof mt)e={class:"go.Geometry",type:i.type.name},0!==i.ja&&(e.startX=zt(i.ja)),0!==i.ha&&(e.startY=zt(i.ha)),0!==i.D&&(e.endX=zt(i.D)),0!==i.F&&(e.endY=zt(i.F)),i.A.L(nu)||(e.spot1=i.A),i.B.L(uu)||(e.spot2=i.B),i.type===oc&&(e.path=ac(i));else if(i instanceof n)e={class:"go.EnumValue",classType:Wl.jf(i.Ee),name:i.name};else if(i instanceof Tr||i instanceof In||i instanceof jn||i instanceof Lt||i instanceof fe||i instanceof he||i instanceof Os||i instanceof Bs||i instanceof ae||i instanceof oe)return Wl.trace("ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager into JSON text: "+i.toString()),"{}";var o,r="{",i=!0;for(o in e){var a=Wl.sb(e,o);if(!qt(o,a))if(i?i=!1:r+=", ",r+='"'+o+'":',"points"===o&&a instanceof c&&a.na===w){for(var s="[",a=a.i;a.next();){var h=a.value;1<s.length&&(s+=","),s+=t.Pu(h.x),s+=",",s+=t.Pu(h.y)}s+="]",r+=s}else r+=t.Pu(a)}return r+"}"}function Ut(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-(1/0):parseFloat(t)}function Ht(t,e,n,i,r,o,a,s,h){void 0===s&&(s=null),void 0===h&&(h=null);var l=new jt;l.ca=t,l.yc=n,l.of=e,l.propertyName=i,l.object=r,l.oldValue=o,l.zj=s,l.newValue=a,l.yj=h,t.Rw(l)}function Gt(t,e,n){"string"!=typeof t&&"function"!=typeof t&&Wl.xd(t,"string or function",e,n)}function _t(t){return"number"==typeof t||"string"==typeof t}function Wt(t,e,n){var i=t.ub(e);void 0!==i&&t.Fc.la(i)===e||(t.CA(e),i=t.ub(e),void 0===i?Wl.k("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."):(t.Fc.add(i,e),i=null,n&&(i=Wl.Za(t.De),Wl.rh(t.De,i,e)),Ht(t,"nodeDataArray",yc,"nodeDataArray",t,null,e,null,i),t.nq(e),t.mq(e)))}function Kt(t,e,n){var i=t.ub(e);if(void 0!==i&&t.Fc.remove(i),i=null,n){if(0>(i=Wl.Fl(t.De,e)))return;Wl.Gg(t.De,i)}Ht(t,"nodeDataArray",gc,"nodeDataArray",t,e,null,i,null),t.Nu(e)}function Yt(t,e,n){if(void 0!==e){var i=t.Ei.la(e);null===i&&(i=new d(Object),t.Ei.add(e,i)),i.add(n)}}function $t(t,e,n){if(void 0!==e){var i=t.Ei.la(e);i instanceof d&&(void 0===n||null===n?t.Ei.remove(e):(i.remove(n),0===i.count&&t.Ei.remove(e)))}}function Jt(t,e){if(void 0===e)return null;var n=t.Ei.la(e);return n instanceof d?n:null}function Xt(t,e,n){if(t.Wz&&Array.isArray(e)){var i=[];for(n=0;n<e.length;n++){var r=Xt(t,e[n],t.Vz);i.push(r)}return Wl.mc(i),i}if(n&&Wl.Ua(e)){n=(n=e.constructor)?new n:{};for(i in e)if("__gohashid"!==i){var o,r=Wl.sb(e,i);o=r,o instanceof Tr||o instanceof In||o instanceof jn||o instanceof So||o instanceof gn||o instanceof fe||o instanceof he||o instanceof Os||o instanceof At||o instanceof Et?("_"!==i[0]&&Wl.trace('Warning: found GraphObject or Diagram reference when copying model data on property "'+i+'" of data object: '+e.toString()+"  \nModel data should not have any references to a Diagram or any part of a diagram, such as: "+o.toString()),o=!0):o=o instanceof Lt||o instanceof ae||o instanceof oe||o instanceof jt,o||(r=Xt(t,r,!1)),Wl.Na(n,i,r)}return Wl.mc(n),n}return e instanceof w?e.copy():e instanceof T?e.copy():e instanceof S?e.copy():e instanceof L?e.copy():e instanceof E?e.copy():e}function Qt(t,e){Lt.call(this),2<arguments.length&&Wl.k("GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data."),this.ef=[],this.Qi=new d(Object),this.ad=new b(null,Object),this.ml="",this.qm=this.to=this.ap=null,this.Th="from",this.Uh="to",this.Lm=this.Km="",this.Jm="category",this.vg="",this.ep="isGroup",this.kh="group",this.Zq=!1,void 0!==t&&(this.dg=t),void 0!==e&&(this.Ng=e)}function Zt(t,e,n){if(""!==t.wj){var i=t.Sf(e);if(void 0!==i&&t.ad.la(i)===e)return;if(t.BA(e),void 0===(i=t.Sf(e)))return void Wl.k("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model.");t.ad.add(i,e)}t.Qi.add(e),i=null,n&&(i=Wl.Za(t.ef),Wl.rh(t.ef,i,e)),Ht(t,"linkDataArray",yc,"linkDataArray",t,null,e,null,i),ee(t,e)}function te(t,e,n){t.Qi.remove(e);var i=t.Sf(e);if(void 0!==i&&t.ad.remove(i),i=null,n){if(0>(i=Wl.Fl(t.ef,e)))return;Wl.Gg(t.ef,i)}if(Ht(t,"linkDataArray",gc,"linkDataArray",t,e,null,i,null),n=t.Tl(e),$t(t,n,e),n=t.Ul(e),$t(t,n,e),i=t.Bk(e),Wl.isArray(i))for(var r=Wl.Za(i),o=0;o<r;o++)n=Wl.Ea(i,o),$t(t,n,e)}function ee(t,e){var n=t.Tl(e),n=t.Ln(n);null===t.ue(n)&&Yt(t,n,e),n=t.Ul(e),n=t.Ln(n),null===t.ue(n)&&Yt(t,n,e);var i=t.Bk(e);if(Wl.isArray(i))for(var r=Wl.Za(i),o=0;o<r;o++)n=Wl.Ea(i,o),null===t.ue(n)&&Yt(t,n,e)}function ne(t){1<arguments.length&&Wl.k("TreeModel constructor can only take one optional argument, the Array of node data."),Lt.call(this),this.lh="parent",this.$q=!1,this.Sm="parentLinkCategory",void 0!==t&&(this.dg=t)}function ie(t,e,n){Wl.mc(this),this.Q=!1,void 0===t?t="":Wl.j(t,"string",ie,"constructor:targetprop"),void 0===e?e=t:Wl.j(e,"string",ie,"constructor:sourceprop"),void 0===n?n=null:null!==n&&Wl.j(n,"function",ie,"constructor:conv"),this.DD=-1,this.Cg=null,this.zp=t,this.yp=this.it=0,this.ww=null,this.Pr=!1,this.pp=e,this.Wq=n,this.hs=bc,this.Pq=null,this.Yy=new d}function re(t,e,n){t=t.zq;return null===t||""===t?e:"/"===t?n.V:"."===t?n:".."===t?n.N:e.td(t)}function oe(){this.CG=new c(jt).freeze(),this.Rb="",this.IC=!1}function ae(){this.nz=new d(Lt),this.df=!1,this.GG=new c(oe).freeze(),this.eh=-1,this.XC=999,this.Li=!1,this.pv=null,this.yl=0,this.SB=!1,this.jh=new c("string").freeze(),this.dp=new c("number"),this.Zy=!0,this.iz=!1}function se(t,e,n){if(t.gb)return!1;t.Qz&&1>t.Gh&&Wl.trace("Ending transaction without having started a transaction: "+n);var i=1===t.Gh;i&&e&&t.cd("CommittingTransaction",n,t.kj);var r=0;if(0<t.Gh&&(t.yl--,t.isEnabled)){var o=t.jh.count;0<o&&(""===n&&(n=t.jh.ea(0)),t.jh.Ra(),t.jh.Yc(o-1),t.jh.freeze()),o=t.dp.count,0<o&&(r=t.dp.ea(o-1),t.dp.Yc(o-1))}if(o=t.kj,i){if(e){if(t.iz=!1,t.isEnabled&&null!==o){for(e=o,e.$t=!0,e.name=n,i=t.history,i.Ra(),r=i.count-1;r>t.pj;r--)o=i.ea(r),null!==o&&o.clear(),i.Yc(r),t.iz=!0;r=t.uF,0===r&&(r=1),0<r&&i.count>=r&&(o=i.ea(0),null!==o&&o.clear(),i.Yc(0),t.eh--),i.add(e),t.eh++,i.freeze(),o=e}t.cd("CommittedTransaction",n,o)}else{t.Li=!0;try{t.isEnabled&&null!==o&&(o.$t=!0,o.undo())}finally{t.cd("RolledBackTransaction",n,o),t.Li=!1}null!==o&&o.clear()}return t.pv=null,!0}if(t.isEnabled&&!e&&null!==o){for(t=r,n=o.Qf,e=n.count-1;e>=t;e--)i=n.ea(e),null!==i&&i.undo(),n.Ra(),n.Yc(e);n.freeze()}return!1}function he(){0<arguments.length&&Wl.jd(he),Wl.mc(this),this.Z=null,this.VB=!1,this.pC=this.WB=!0,this.YB=this.ZB=this.qC=this.$B=!1,this.pl=this.KB=null,this.XD=1.05,this.mC=1,this.jz=NaN,this.TC=null,this.Jz=NaN,this.Iz=Iu,this.cj=null}function le(t,e,n,i,r,o){if(void 0===o&&(o=null),!(t.contains(e)||null!==o&&!o(e)||e instanceof Aa))if(t.add(e),e instanceof Ea){if(n&&e instanceof Ds)for(var a=e.Nc;a.next();)le(t,a.value,n,i,r,o);if(r)for(a=e.ge;a.next();){var s=a.value;if(!t.contains(s)){var h=s.W,l=s.aa;null!==h&&t.contains(h)&&null!==l&&t.contains(l)?le(t,s,n,i,r,o):null!==h&&null!==l||le(t,s,n,i,r,o)}}if(1<i)for(e=e.KE();e.next();)le(t,e.value,n,i-1,r,o)}else if(e instanceof _a)for(e=e.Wf;e.next();)le(t,e.value,n,i,r,o)}function ue(t,e,n,i,r){if(null===e||r&&!e.canCopy())return null;if(i.contains(e))return i.la(e);var o=null,a=e.data;if(null!==a&&null!==n){var s=n.ca;e instanceof _a?s instanceof Qt&&(a=s.Uw(a),Wl.Ua(a)&&(s.vt(a),o=n.Rf(a))):(a=s.copyNodeData(a),Wl.Ua(a)&&(s.Bl(a),o=n.wh(a)))}else mo(e),null!==(o=e.copy())&&(null!==n?n.add(o):null!==a&&null!==t.g&&t.yH&&(s=t.g.ca,a=o instanceof _a&&s instanceof Qt?s.Uw(a):s.copyNodeData(a),Wl.Ua(a)&&(o.data=a)));if(!(o instanceof sa))return null;if(o.fb=!1,o.Mg=!1,i.add(e,o),e instanceof Ea){for(a=e.ge;a.next();){if(s=a.value,s.W===e){var h=i.la(s);null!==h&&(h.W=o)}s.aa===e&&null!==(h=i.la(s))&&(h.aa=o)}if(e instanceof Ds&&o instanceof Ds)for(a=o,e=e.Nc;e.next();)(s=ue(t,e.value,n,i,r))instanceof _a||null===s||(s.La=a)}else if(e instanceof _a&&o instanceof _a)for(a=e.W,null!==a&&null!==(a=i.la(a))&&(o.W=a),a=e.aa,null!==a&&null!==(a=i.la(a))&&(o.aa=a),e=e.Wf;e.next();)null!==(a=ue(t,e.value,n,i,r))&&a instanceof Ea&&(a.Mc=o);return o}function ce(t){var e=Wl.mb();for(t=t.i;t.next();){var n=t.value;n instanceof _a||e.push(n)}t=new d(sa);for(var n=e.length,i=0;i<n;i++){for(var r=e[i],o=!0,a=0;a<n;a++)if(r.ni(e[a])){o=!1;break}o&&t.add(r)}return Wl.wa(e),t}function fe(){0<arguments.length&&Wl.jd(fe),Wl.mc(this),this.Z=null,this.Rb="",this.df=!0,this.GC=!1,this.SD=null,this.Hw=-1}function de(t,e,n){if(e.Bc=!1,null===t||t.au()){var i=0;e.left?i=1===e.Ge?1:2===e.Ge?2:1:e.right&&1===e.Ge&&(i=3);var r="";if(null!==t){switch(i){case 1:r="ObjectSingleClicked";break;case 2:r="ObjectDoubleClicked";break;case 3:r="ObjectContextClicked"}0!==i&&n.Ca(r,t)}else{switch(i){case 1:r="BackgroundSingleClicked";break;case 2:r="BackgroundDoubleClicked";break;case 3:r="BackgroundContextClicked"}0!==i&&n.Ca(r)}if(null!==t)for(;null!==t;){switch(n=null,i){case 1:n=t.click;break;case 2:n=t.Ht?t.Ht:t.click;break;case 3:n=t.Tz}if(null!==n&&(n(e,t),e.Bc))break;t=t.N}else{switch(t=null,i){case 1:t=n.click;break;case 2:t=n.Ht?n.Ht:n.click;break;case 3:t=n.Tz}null!==t&&t(e)}}}function pe(){fe.call(this),0<arguments.length&&Wl.jd(pe),this.name="Dragging",this.XB=this.KC=!0,this.Jr=this.wC=!1,this.OC=!0,this.$y=new T(NaN,NaN).freeze(),this.az=nu,this.bz=new w(NaN,NaN).freeze(),this.vC=!1,this.tC=this.UB=this.uC=this.eC=this.aj=null,this.pr=this.MC=!1,this.sp=new w(NaN,NaN),this.xw=new w,this.Aw=!1,this.JC=!0,this.Bo=100,this.Mj=[],this.FG=new d(sa).freeze()}function ve(t,e){if(t.mj){var n=t.g;null!==n&&n.jn&&(n.ca instanceof Qt&&1===e.count&&e.first()instanceof _a?(t.ed=e.first(),t.ed.canRelinkFrom()&&t.ed.canRelinkTo()&&t.ed.Ct(),t.aj=n.bb.JF,null===t.aj&&(t.aj=new He,t.aj.Qc(n))):(t.ed=null,t.aj=null))}}function ye(t){return new Oe(void 0===t?Ou:t.copy())}function ge(t,e,n,i){if(!e.contains(n)&&(!i||n.canMove()||n.canCopy()))if(n instanceof Ea){if(e.add(n,ye(n.location)),n instanceof Ds)for(var r=n.Nc;r.next();)ge(t,e,r.value,i);for(r=n.ge;r.next();){var o=r.value;if(!e.contains(o)){var a=o.W,s=o.aa;null!==a&&e.contains(a)&&null!==s&&e.contains(s)&&ge(t,e,o,i)}}if(t.NH)for(n=n.KE();n.next();)ge(t,e,n.value,i)}else if(n instanceof _a)for(o=n,e.add(o,ye()),n=o.Wf;n.next();)ge(t,e,n.value,i);else n instanceof Aa||e.add(n,ye(n.location))}function me(t){var e=t.g;if(null!==e){var n=e.wb;e.wb=!0,De(t,e.R,null),e.wb=n}t.Mj.length=0}function be(){var t=Mc;ke(t),Pe(t);var e=t.g;null!==e&&t.sp.H()&&(e.position=t.sp),null!==e&&ir(e)}function we(t,e){for(var n=1/0,i=1/0,r=-(1/0),o=-(1/0),a=t.i;a.next();){var s=a.value;if(s.ee()&&s.isVisible()){var h=s.location,s=h.x,h=h.y;isNaN(s)||isNaN(h)||(s<n&&(n=s),h<i&&(i=h),s>r&&(r=s),h>o&&(o=h))}}1/0===n?e.l(0,0,0,0):e.l(n,i,r-n,o-i)}function xe(t,e){if(null===t.bc){var n=t.g;if(!(null===n||e&&(n.eb||n.yf))&&null!==t.Xb){var i=n.pa;for(i.isEnabled&&i.jF?null!==i.kj&&0<i.kj.Qf.count&&(n.pa.oq(),n.Ub("Drag")):Pe(t),n.wb=!e,n.Gq=!e,t.Jk=n.Ac.da,i=t.AH?t.Xb.Fj():n.selection,i=n.Op(i,n,!0),n=i.i;n.next();)n.value.location=n.key.location;n=Wl.Ef(),we(i,n),Wl.Hb(n);for(var n=new b(sa),r=t.Xb.i;r.next();){var o=r.key;o.ee()&&o.canCopy()&&null!==(o=i.la(o))&&(o.$e(),n.add(o,ye(o.location)))}for(i=i.i;i.next();)(r=i.value)instanceof _a&&r.canCopy()&&n.add(r,ye());t.bc=n,ve(t,n.Fj()),null!==t.ed&&(n=t.ed,i=n.Vn,n.bm(t.Jk.x-(i.x+i.width/2),t.Jk.y-(i.y+i.height/2)))}}}function ke(t){var e=t.g;if(null!==e){if(null!==t.bc&&(e.SA(t.bc.Fj(),!1),t.bc=null,null!==t.Xb))for(var n=t.Xb.i;n.next();)n.key instanceof _a&&(n.value.point=new w(0,0));e.wb=!1,e.Gq=!1,t.Jk=e.Ac.da}}function Te(t){if(null!==t.ed){if(t.mj&&null!==t.aj){var e=t.aj;null!==e.g&&(e.g.remove(e.Qd),e.g.remove(e.Rd))}t.ed=null,t.aj=null}}function Se(t,e,n){var i=t.g;if(null!==i){var r=t.Jk,o=Wl.K();o.assign(i.R.da),t.moveParts(e,o.Zn(r),n),Wl.v(o)}}function Me(t,e,n){if(null!==(e=e.La)){if(null!==(t=Me(t,e,n)))return t;if(null!==(t=n.la(e)))return t}return null}function Pe(t){if(null!==t.Xb){for(var e=t.g,n=t.Xb.i;n.next();){var i=n.key;i.ee()&&(i.location=n.value.point)}for(n=t.Xb.i;n.next();)if((i=n.key)instanceof _a&&i.Dj){var r=n.value.point;t.Xb.add(i,ye()),i.bm(-r.x,-r.y)}e.Zf()}}function Ce(t,e){if(null===e)return!0;var n=e.V;return!!(null===n||n instanceof Aa||n.layer.Kc||t.Xb&&t.Xb.contains(n)||t.bc&&t.bc.contains(n))}function Ne(t,e,n,i){var r=t.g;if(null!==r){t.mj&&(null!==t.ed&&(t.ed.W=null,t.ed.aa=null),je(t,!1));var o=$n(r,e,null,function(e){return!Ce(t,e)}),a=r.R;a.Qe=o;var s=r.wb,h=!1;try{if(r.wb=!0,h=De(t,a,o),!t.ta&&null===Mc)return;if(null===o){var l=r.XI;null!==l&&(l(a),h=!0)}if(!t.ta&&null===Mc)return;if(t.doDragOver(e,o),!t.ta&&null===Mc)return}finally{r.wb=s,h&&r.Zf()}(r.ne||r.oe)&&(n||i)&&r.aA(a.cf)}}function De(t,e,n){var i=!1,r=t.Mj.length,o=0<r?t.Mj[0]:null;if(n===o)return!1;e.Bc=!1;for(var a=0;a<r;a++){var s=t.Mj[a],h=s.WI;if(null!==h&&(h(e,s,n),i=!0,e.Bc))break}if(t.Mj.length=0,!t.ta&&null===Mc||null===n)return i;for(e.Bc=!1;null!==n;)t.Mj.push(n),n=Ae(n);for(r=t.Mj.length,a=0;a<r&&(s=t.Mj[a],null===(h=s.VI)||(h(e,s,o),i=!0,!e.Bc));a++);return i}function Ae(t){var e=t.N;return null!==e?e:t instanceof sa&&!(t instanceof Ds)&&null!==(t=t.La)&&t.gI?t:null}function Ee(t,e,n){var i=t.aj;if(null===i)return null;var r=t.g.vn(e,i.HF,function(t){return i.findValidLinkablePort(t,n)});t=Wl.K();for(var o=1/0,a=null,r=r.i;r.next();){var s=r.value;if(null!==s.V){var h=s.Xa(au,t),h=e.vf(h);h<o&&(a=s,o=h)}}return Wl.v(t),a}function je(t,e){var n=t.ed;if(null!==n&&!(2>n.ra)){var i=t.g;if(null!==i&&!i.eb&&null!==(i=t.aj)){var r=null,o=null;null===n.W&&null!==(r=Ee(t,n.m(0),!1))&&(o=r.V);var a=null,s=null;null===n.aa&&null!==(a=Ee(t,n.m(n.ra-1),!0))&&(s=a.V),i.isValidLink(o,r,s,a)?e?(n.Pp=n.m(0),n.Qp=n.m(n.ra-1),n.Dj=!1,n.W=o,null!==r&&(n.Kg=r.Pd),n.aa=s,null!==a&&(n.Fh=a.Pd)):Ge(i,o,r,s,a):Ge(i,null,null,null,null)}}}function Le(t,e){var n=t.g;if(null!==n){t.mj&&je(t,!0),me(t);var i=$n(n,e,null,function(e){return!Ce(t,e)}),r=n.R;if(r.Qe=i,null!==i){r.Bc=!1;for(var o=i;null!==o;){var a=o.FA;if(null!==a&&(a(r,o),r.Bc))break;o=Ae(o)}}else null!==(o=n.FA)&&o(r);if(t.ta||null!==Mc){for(r=(t.bc||t.Xb).i;r.next();)(o=r.key)instanceof Ea&&o.ge.each(function(t){t.Dj=!1});if(t.doDropOnto(e,i),t.ta||null!==Mc){for(i=Wl.Ef(),r=n.selection.i;r.next();)(o=r.value)instanceof Ea&&Qi(n,o.getAvoidableRect(i));Wl.Hb(i)}}}}function Fe(t,e,n){if(null===t.bc){var i=t.g;if(null!==i&&!i.eb&&!i.yf){i.wb=!n,i.Gq=!n,t.Jk=i.R.da,i=i.Op(e,i,!0),n=Wl.Ef(),we(e,n);var r=n.x+n.width/2,o=n.y+n.height/2;Wl.Hb(n);var a=t.xw;n=new b(sa);var s=Wl.K();for(e=e.i;e.next();){var h=e.value;if(h.ee()&&h.canCopy()){var l=h.location,h=i.la(h);s.l(a.x-(r-l.x),a.y-(o-l.y)),h.location=s,h.$e(),n.add(h,ye(s))}}for(Wl.v(s),i=i.i;i.next();)(r=i.value)instanceof _a&&r.canCopy()&&n.add(r,ye());t.bc=n,ve(t,n.Fj()),null!==t.ed&&(n=t.ed,i=n.Vn,n.bm(t.Jk.x-(i.x+i.width/2),t.Jk.y-(i.y+i.height/2)))}}}function Oe(t){this.point=t,this.eG=Ou}function Ie(t,e,n){this.Oc=t,this.info=e,this.dI=n}function Re(){0<arguments.length&&Wl.jd(Re),fe.call(this),this.pD=100,this.RC=!1;var t=new _a,e=new Po;e.Vf=!0,e.stroke="blue",t.add(e),e=new Po,e.Aq="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.Xf="Tool",this.KD=t,t=new Ea,e=new Po,e.Pd="",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",e.lb=2,e.Ba=Hu,t.add(e),t.em=!1,t.Xf="Tool",this.HD=t,this.JD=e,t=new Ea,e=new Po,e.Pd="",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",e.lb=2,e.Ba=Hu,t.add(e),t.em=!1,t.Xf="Tool",this.LD=t,this.MD=e,this.nD=this.mD=this.iD=this.hD=this.jD=null,this.NC=!0,this.UG=new b(Tr,"boolean"),this.qD=this.nl=this.ED=null}function Be(t,e,n,i){if(e===n)return!0;var r=e.W;return!(null===r||!r.mf||(i.add(r),!Be(t,r.Mc,n,i)))||!(null===(e=e.aa)||!e.mf||(i.add(e),!Be(t,e.Mc,n,i)))}function qe(t,e,n,i,r){if(e===n)return!0;if(null===e||null===n)return!1;for(var o=e.ge;o.next();){var a=o.value;if(a!==i&&(!r||a.Lc)&&a.aa===e&&(a=a.W)!==e&&qe(t,a,n,i,r))return!0}return!1}function ze(t,e,n,i,r){if(n===i)return!0;if(null===n||null===i||e.contains(n))return!1;e.add(n);for(var o=n.ge;o.next();){var a=o.value;if(a!==r&&a.aa===n&&(a=a.W)!==n&&ze(t,e,a,i,r))return!0}return!1}function Ve(t,e,n,i,r){if(n===i)return!0;if(null===n||null===i||e.contains(n))return!1;e.add(n);for(var o=n.ge;o.next();){var a=o.value;if(a!==r){var s=a.W,a=a.aa,s=s===n?a:s;if(s!==n&&Ve(t,e,s,i,r))return!0}}return!1}function Ue(){0<arguments.length&&Wl.jd(Ue),Re.call(this),this.name="Linking",this.MB={},this.LB=null,this.ba=Cc,this.zD=null}function He(){0<arguments.length&&Wl.jd(He),Re.call(this),this.name="Relinking";var t=new Po;t.Cb="Diamond",t.Ba=_u,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.Ne=0,this.AC=t,t=new Po,t.Cb="Diamond",t.Ba=_u,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.Ne=-1,this.ND=t,this.fc=null,this.kD=new S}function Ge(t,e,n,i,r){null!==t.g&&(null!==e?(t.copyPortProperties(e,n,t.Qd,t.$n,!1),t.g.add(t.Qd)):t.g.remove(t.Qd),null!==i?(t.copyPortProperties(i,r,t.Rd,t.ao,!0),t.g.add(t.Rd)):t.g.remove(t.Rd))}function _e(){0<arguments.length&&Wl.jd(_e),fe.call(this),this.name="LinkReshaping";var t=new Po;t.Cb="Rectangle",t.Ba=Gu,t.fill="lightblue",t.stroke="dodgerblue",this.cl=t,t=new Po,t.Cb="Diamond",t.Ba=Gu,t.fill="lightblue",t.stroke="dodgerblue",this.YC=t,this.rD=3,this.By=this.fc=null,this.gp=new w,this.fw=null}function We(t,e,n,i,r,o){return o?Math.abs(e.y-n.y)<t.Dh&&Math.abs(n.y-i.y)<t.Dh&&Math.abs(i.y-r.y)<t.Dh:Math.abs(e.x-n.x)<t.Dh&&Math.abs(n.x-i.x)<t.Dh&&Math.abs(i.x-r.x)<t.Dh}function Ke(){0<arguments.length&&Wl.jd(Ke),fe.call(this),this.name="Resizing",this.Wh=new T(1,1).freeze(),this.Vh=new T(9999,9999).freeze(),this.Jj=new T(NaN,NaN).freeze(),this.Jr=!1,this.Ec=null;var t=new Po;t.ph=au,t.Cb="Rectangle",t.Ba=Gu,t.fill="lightblue",t.stroke="dodgerblue",t.lb=1,t.cursor="pointer",this.cl=t,this.fc=null,this.gp=new w,this.gD=new T,this.lD=new w,this.Xy=new T(0,0),this.Wy=new T(1/0,1/0),this.Vy=new T(1,1),this.eD=!0}function Ye(){0<arguments.length&&Wl.jd(Ye),fe.call(this),this.name="Rotating",this.xD=45,this.wD=2,this.Ec=null;var t=new Po;t.Cb="Ellipse",t.Ba=_u,t.fill="lightblue",t.stroke="dodgerblue",t.lb=1,t.cursor="pointer",this.cl=t,this.fc=null,this.ew=0,this.tD=new w}function $e(){0<arguments.length&&Wl.jd($e),fe.call(this),this.name="ClickSelecting"}function Je(){0<arguments.length&&Wl.jd(Je),fe.call(this),this.name="Action",this.io=null}function Xe(){0<arguments.length&&Wl.jd(Xe),fe.call(this),this.name="ClickCreating",this.qm=null,this.LC=!0,this.zC=new w(0,0)}function Qe(){this.UD=this.WC=this.dz=this.yz=null}function Ze(t,e,n){this.text=t,this.nE=e,this.visible=n}function tn(){0<arguments.length&&Wl.jd(tn),fe.call(this),this.name="ContextMenu",this.dC=this.Iy=this.aC=null,this.bD=new w,this.Ky=this.wm=null,en(this)}function en(t){var n=new Qe;if(n.show=function(t,e,n){n.showDefaultContextMenu()},n.Dn=function(t,e){e.hideDefaultContextMenu()},t.wm=n,t.OD=function(){t.stopTool()},!1===Wl.uE){var n=Wl.createElement("div"),i=Wl.createElement("div");n.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",i.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var r=Wl.createElement("style");e.document.getElementsByTagName("head")[0].appendChild(r),r.sheet.insertRule(".goCXul { list-style: none; }",0),r.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),r.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),n.addEventListener("contextmenu",nn,!1),n.addEventListener("selectstart",nn,!1),i.addEventListener("contextmenu",nn,!1),e.document.body&&(e.document.body.appendChild(n),e.document.body.appendChild(i)),Wl.Et=n,Wl.Dt=i,Wl.uE=!0}}function nn(t){return t.preventDefault(),!1}function rn(t){var e=t.g;if(null!==e)if(t.ta){var n=t.Jl;if(null!==n){if(!(n instanceof Qe)){var i=e.Ke(e.R.da,null,null);null!==i&&i.Yl(n)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.$a=t,t.doMouseUp())}}else t.canStart()&&(on(t,!0),t.ta||t.stopTool())}function on(t,e,n){if(void 0===n&&(n=null),e&&t.standardMouseSelect(),!t.standardMouseClick())if(t.ta=!0,e=t.wm,null===n&&(n=t.findObjectWithContextMenu()),null!==n){var i=n.contextMenu;null!==i?(t.Ww=n instanceof Tr?n:null,t.showContextMenu(i,t.Ww)):null!==e&&t.showContextMenu(e,t.Ww)}else null!==e&&t.showContextMenu(e,null)}function an(t){return null===t.g?null:(t=new c(Ze),t.add(new Ze("Copy",function(t){t.pb.copySelection()},function(t){return t.pb.canCopySelection()})),t.add(new Ze("Cut",function(t){t.pb.cutSelection()},function(t){return t.pb.canCutSelection()})),t.add(new Ze("Delete",function(t){t.pb.deleteSelection()},function(t){return t.pb.canDeleteSelection()})),t.add(new Ze("Paste",function(t){t.pb.pasteSelection(t.R.da)},function(t){return t.pb.canPasteSelection()})),t.add(new Ze("Select All",function(t){t.pb.selectAll()},function(t){return t.pb.canSelectAll()})),t.add(new Ze("Undo",function(t){t.pb.undo()},function(t){return t.pb.canUndo()})),t.add(new Ze("Redo",function(t){t.pb.redo()},function(t){return t.pb.canRedo()})),t.add(new Ze("Scroll To Part",function(t){t.pb.scrollToPart()},function(t){return t.pb.canScrollToPart()})),t.add(new Ze("Zoom To Fit",function(t){t.pb.zoomToFit()},function(t){return t.pb.canZoomToFit()})),t.add(new Ze("Reset Zoom",function(t){t.pb.resetZoom()},function(t){return t.pb.canResetZoom()})),t.add(new Ze("Group Selection",function(t){t.pb.groupSelection()},function(t){return t.pb.canGroupSelection()})),t.add(new Ze("Ungroup Selection",function(t){t.pb.ungroupSelection()},function(t){return t.pb.canUngroupSelection()})),t.add(new Ze("Edit Text",function(t){t.pb.editTextBlock()},function(t){return t.pb.canEditTextBlock()})),t)}function sn(){0<arguments.length&&Wl.jd(sn),fe.call(this),this.name="DragSelecting",this.Bo=175,this.QC=!1;var t=new sa;t.Xf="Tool",t.em=!1;var e=new Po;e.name="SHAPE",e.Cb="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.sm=t}function hn(){0<arguments.length&&Wl.jd(hn),fe.call(this),this.name="Panning",this.qz=new w,this.Ij=!1;var t=this;this.BD=function(){e.document.removeEventListener("scroll",t.BD,!1),t.stopTool()}}function ln(){0<arguments.length&&Wl.jd(ln),fe.call(this),this.name="TextEditing",this.Dz=this.kk=null,this.AD=Bc,this.wl=null,this.Ta=zc,this.rl=null,this.ZC=1,this.uD=!0;var t=new Qe;this.fC=null,this.nC=t,this.Ly=null,un(this,t)}function un(t,e){var n=Wl.createElement("textarea");t.Ly=n,n.addEventListener("input",function(){if(null!==t.Yg){var e=t.OI(this.value),n=this.IJ;this.style.width=20+e.Aa.width*n+"px",this.style.height=10+e.Aa.height*n+"px",this.rows=e.DI}},!1),n.addEventListener("keydown",function(e){if(null!==t.Yg){var n=e.which;13===n?(!1===t.Yg.yx&&e.preventDefault(),t.acceptText(Rc)):9===n?(t.acceptText(Ic),e.preventDefault()):27===n&&(t.doCancel(),null!==t.g&&t.g.doFocus())}},!1),n.addEventListener("focus",function(){fn(t)},!1),n.addEventListener("blur",function(){dn(t)},!1),e.uB=function(){return n.value},e.AA=n,e.show=function(t,e,i){if(i.state===Gc)n.style.border="3px solid red",n.focus();else{var r=t.Xa(au),o=e.position,a=e.scale,s=t.nj()*a;s<i.xF&&(s=i.xF);var h=t.Ja.width*s+6,l=t.Ja.height*s+2,u=(r.x-o.x)*a,r=(r.y-o.y)*a;n.value=t.text,e.lj.style.font=t.font,n.style.cssText="position: absolute;z-index: 100;font: inherit;fontSize: "+100*s+"%;lineHeight: normal;width: "+h+"px;height: "+l+"px;left: "+((u-h/2|0)-1)+"px;top: "+((r-l/2|0)-1)+"px;textAlign: "+t.textAlign+";margin: 0;padding: 1px;border: 0;outline: none;white-space: pre-wrap;overflow: hidden;",n.IJ=s,e.lj.appendChild(n),n.focus(),i.ay&&(n.select(),n.setSelectionRange(0,9999))}},e.Dn=function(t){t.lj.removeChild(n)}}function cn(t){var e=t.Yg,n=t.g,i=t.xk;if(null!==e&&null!==i){var r=e.text,o=i.value,a="";i instanceof Qe?null!==i.uB&&(a=i.uB()):a="function"==typeof o?o():o,t.isValidText(e,r,a)?(t.Ub(t.name),t.Ta=_c,i instanceof Qe?i.show(e,n,t):null!==t.rl&&(i.style.border=t.rl,t.rl=null),t.Gf=t.name,e.text=a,null!==e.lG&&e.lG(e,r,a),null!==n&&n.Ca("TextEdited",e,r),t.Kk(),t.stopTool(),null!==n&&n.doFocus()):(t.Ta=Gc,null!==e.dA&&e.dA(t,r,a),i instanceof Qe?i.show(e,n,t):(null===t.rl&&(t.rl=i.style.border,i.style.border="3px solid red"),"function"==typeof i.focus&&i.focus()))}}function fn(t){if(null!==t.xk){var e=t.Ly;t.Ta===Vc&&(t.Ta=Uc),"function"==typeof e.select&&t.ay&&(e.select(),e.setSelectionRange(0,9999))}}function dn(t){if(null!==t.xk){var e=t.Ly;"function"==typeof e.focus&&e.focus(),"function"==typeof e.select&&t.ay&&(e.select(),e.setSelectionRange(0,9999))}}function pn(){fe.call(this),this.name="ToolManager",this.IG=new c(fe),this.JG=new c(fe),this.KG=new c(fe),this.DC=this.EC=850,this.sC=new T(2,2).Ha(),this.PD=5e3,this.cD=Wc,this.BC=Yc,this.ov=this.gC=null,this.fn=-1}function vn(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.ta?t.ZE:t.jI,e.R)}function yn(t,e,n,i){Wl.j(e,"string",pn,"replaceStandardTool:name"),Wl.G(i,c,pn,"replaceStandardTool:list"),null!==n&&(Wl.G(n,fe,pn,"replaceStandardTool:newtool"),n.g&&n.g!==t.g&&Wl.k("Cannot share tools between Diagrams: "+n.toString()),n.name=e,n.Qc(t.g)),t.findTool(e)?t.replaceTool(e,n):null!==n&&i.add(n)}function gn(){this.hC=mn,this.kr=this.lr=this.Z=null,this.lo=this.mr=this.nr=0,this.mo=this.pc=this.So=this.Vj=!1,this.Wj=this.df=!0,this.mv=this.lv=this.cC=null,this.bC=0,this.nv=null,this.av=new d("string"),this.Sy=600,this.MG=new w(0,0),this.QB=this.PB=this.TD=!1,this.Qm=new b(Tr,En)}function mn(t,e,n,i){return t/=i/2,1>t?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function bn(t){if(t.df&&(t.av.clear(),t.pc))if(t.mo){if(0===t.lo){var e=+new Date;t.lo=e,requestAnimationFrame(function(){if(!1!==t.pc&&!t.Vj&&t.lo===e){var n=t.Z;n.oj("temporaryPixelRatio")&&(n.jk=1),zn(n),t.pc=!1,n.Ca("AnimationStarting"),kn(t,e)}})}}else t.pc=!1}function wn(t,e,n,i,o,a){if(!(!t.pc||"position"===n&&i.L(o)||e instanceof sa&&!e.cF)){var s=t.Qm;if(s.contains(e)){var s=s.la(e),h=s.start,l=s.end;void 0===h[n]&&(h[n]=xn(i)),s.Vw&&void 0!==l[n]?s.Jt[n]=xn(o):(a||(s.Jt[n]=xn(o)),l[n]=xn(o)),a&&0===n.indexOf("position:")&&e instanceof sa&&(s.Jt.location=xn(e.location))}else h=new r,l=new r,h[n]=xn(i),l[n]=xn(o),i=l,o=h.position,o instanceof w&&!o.H()&&t.av.contains("Expand SubGraph")&&o.assign(i.position),h=new En(h,l,a),a&&0===n.indexOf("position:")&&e instanceof sa&&(h.Jt.location=xn(e.location)),s.add(e,h);t.mo=!0}}function xn(t){return t instanceof w?t.copy():t instanceof T?t.copy():t}function kn(t,e){function n(){if(!1!==a.Vj&&a.lo===e){var t=+new Date,i=t>v?u:t-p;Tn(a),Mn(a,o,d,s,i,u),a.lv&&a.lv(),ri(o),Sn(a),t>v?Pn(a):requestAnimationFrame(n)}}var i;void 0===i&&(i=new r);var o=t.Z;if(null!==o){t.Vj=!0;var a=t,s=i.PK||t.hC,h=i.pL||null,l=i.qL||null,u=i.duration||t.Sy,c=t.MG;for(i=t.Qm.i;i.next();){var f=i.value.start.position;f instanceof w&&(f.H()||f.assign(c))}t.cC=s,t.lv=h,t.mv=l,t.bC=u,t.nv=t.Qm;var d=t.nv;for(i=d.i;i.next();)h=i.value.end,h["position:placeholder"]&&(l=h["position:placeholder"],c=l.Xa(nu),c.x+=l.padding.left,c.y+=l.padding.top,h["position:placeholder"]=c);Tn(t),Mn(t,o,d,s,0,u),ri(t.Z),Sn(t);var p=+new Date,v=p+u;a.lo===e&&requestAnimationFrame(function(){n()})}}function Tn(t){if(!t.So){var e=t.Z;t.TD=e.wb,t.PB=e.Oe,t.QB=e.Ju,e.wb=!0,e.Oe=!0,e.Ju=!0,t.So=!0}}function Sn(t){var e=t.Z;e.wb=t.TD,e.Oe=t.PB,e.Ju=t.QB,t.So=!1}function Mn(t,e,n,i,r,o){for(n=n.i;n.next();){var a,s=n.key,h=n.value,l=h.start,h=h.end;for(a in h)"position"===a&&(h["position:placeholder"]||h["position:node"])||void 0===Xc[a]||Xc[a](s,l[a],h[a],i,r,o)}i=e.uA,e.uA=!0,a=t.hC,0!==t.nr&&0!==t.mr&&(n=t.nr,e.Gb=a(r,n,t.mr-n,o)),null!==t.lr&&null!==t.kr&&(n=t.lr,t=t.kr,e.ib=new w(a(r,n.x,t.x-n.x,o),a(r,n.y,t.y-n.y,o))),e.uA=i}function Pn(t){t.Vj=!1,t.mo=!1,Tn(t);for(var e=t.Z,n=t.cC,i=t.bC,r=t.nv.i;r.next();){var o,a=r.key,s=r.value,h=s.start,l=s.end,u=s.Jt;for(o in l)if(void 0!==Xc[o]){var c=o;!s.Vw||"position:node"!==c&&"position:placeholder"!==c||(c="position"),Xc[c](a,h[o],void 0!==u[o]?u[o]:s.Vw?h[o]:l[o],n,i,i)}s.Vw&&void 0!==u.location&&a instanceof sa&&(a.location=u.location),s.Ux&&a instanceof sa&&a.ud(!1)}for(n=t.Z.links;n.next();)i=n.value,null!==i.mp&&(i.points=i.mp,i.mp=null);e.Hx.clear(),e.jk=null,e.rc(),e.oa(),e.Zf(),ni(e),Sn(t),t.mv&&t.mv(),t.lo=0,t.nv=null,t.mv=null,t.lv=null,t.lr=null,t.kr=null,t.nr=0,t.mr=0,t.Qm=new b(Tr,En),e.Ca("AnimationFinished"),e.Me()}function Cn(t,e,n){var i=e.Y,r=n.Y,o=null;if(n instanceof Ds&&(o=n.placeholder),null!==o?(i=o.Xa(nu),i.x+=o.padding.left,i.y+=o.padding.top,wn(t,e,"position",i,e.position,!1)):wn(t,e,"position",new w(r.x+r.width/2-i.width/2,r.y+r.height/2-i.height/2),e.position,!1),wn(t,e,"scale",.01,e.scale,!1),e instanceof Ds)for(e=e.Nc;e.next();)(o=e.value)instanceof Ea&&Cn(t,o,n)}function Nn(t,e,n){if(e.isVisible()){var i=null;if(n instanceof Ds&&(i=n.placeholder),null!==i?wn(t,e,"position:placeholder",e.position,i,!0):wn(t,e,"position:node",e.position,n,!0),wn(t,e,"scale",e.scale,.01,!0),t.pc&&(i=t.Qm,i.contains(e)&&(i.la(e).Ux=!0)),e instanceof Ds)for(e=e.Nc;e.next();)(i=e.value)instanceof Ea&&Nn(t,i,n)}}function Dn(t,e,n){t.pc&&(null===t.lr&&e.H()&&null===t.kr&&(t.lr=e.copy()),t.kr=n.copy(),t.mo=!0)}function An(t,e,n){t.pc&&t.Z.Gn&&(0===t.nr&&0===t.mr&&(t.nr=e),t.mr=n,t.mo=!0)}function En(t,e,n){this.start=t,this.end=e,this.Jt=new r,this.Vw=n,this.Ux=!1}function jn(){0<arguments.length&&Wl.jd(jn),Wl.mc(this),this.Z=null,this.zb=new c(sa),this.Rb="",this.wc=1,this.hz=!1,this.sl=this.Hz=this.Uk=this.Tk=this.Sk=this.Rk=this.Pk=this.Qk=this.Ok=this.Wk=this.Nk=this.Vk=this.Mk=this.Lk=!0,this.ez=!1,this.gw=[]}function Ln(t,e,n,i){if(t.visible&&0!==t.wc){1!==t.wc&&(e.globalAlpha=t.wc);var r=t.gw;r.length=0;var o=n.scale;t=t.zb.n;for(var a=t.length,s=i.length,h=0;h<a;h++){var l=t[h];if(Sa(l)){if(l instanceof _a){var u=l;if(u.jc&&r.push(u),!1===u.$g)continue}var c,u=da(l,l.Y);t:{c=u;for(var f=i,d=s,p=2/o,v=4/o,y=0;y<d;y++){var g=f[y];if(0!==g.width&&0!==g.height&&c.aF(g.x-p,g.y-p,g.width+v,g.height+v)){c=!0;break t}}c=!1}c&&(1<u.width*o||1<u.height*o?l.te(e,n):ba(l,e))}}e.globalAlpha=1}}function Fn(t,e,n){if(e=On(t,e,n),n instanceof Ds&&null!==n&&isNaN(n.fo)){if(0!==n.Nc.count){for(var i=-1,r=t.zb.n,o=r.length,a=0;a<o;a++){var s=r[a];if(s===n&&(e=a,0<=i))break;if(0>i&&s.La===n&&(i=a,0<=e))break}!(0>i)&&i<e&&(r=t.zb,r.Yc(e),r.Ld(i,n))}n=n.La,null!==n&&Fn(t,-1,n)}}function On(t,e,n){var i=n.fo;if(isNaN(i))return e;t=t.zb;var r=t.count;if(1>=r)return e;if(0>e&&(e=t.indexOf(n)),0>e)return-1;for(var o=e-1,a=NaN;0<=o&&(a=t.ea(o).fo,isNaN(a));)o--;for(var s=e+1,h=NaN;s<r&&(h=t.ea(s).fo,isNaN(h));)s++;if(!isNaN(a)&&a>i)for(;;){if(-1===o||a<=i){if(++o===e)break;return t.Yc(e),t.Ld(o,n),o}for(a=NaN;0<=--o&&(a=t.ea(o).fo,isNaN(a)););}else if(!isNaN(h)&&h<i)for(;;){if(s===r||h>=i){if(--s===e)break;return t.Yc(e),t.Ld(s,n),s}for(h=NaN;++s<r&&(h=t.ea(s).fo,isNaN(h)););}return e}function In(t){function n(){e.document.removeEventListener("DOMContentLoaded",n,!1),Bn(i)}1<arguments.length&&Wl.k("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),Wl.mc(this),Md=[],this.Sc=!0,this.JB=new gn,this.JB.Qc(this),this.Dd=17,this.Lr=!1,this.sz="default";var i=this;null!==e.document.body?Bn(this):e.document.addEventListener("DOMContentLoaded",n,!1),this.ac=new c(jn),this.Mb=this.Jb=0,this.gk=this.Nb=this.rf=this.Eb=null,this.QF(),this.Po=null,this.PF(),this.ib=new w(NaN,NaN).freeze(),this.Gb=1,this.Hv=new w(NaN,NaN).freeze(),this.Iv=NaN,this.Zv=1e-4,this.Xv=100,this.dd=new j,this.Iw=new w(NaN,NaN).freeze(),this.zv=new S(NaN,NaN,NaN,NaN).freeze(),this.qw=new E(0,0,0,0).freeze(),this.rw=hf,this.nw=this.lw=null,this.rm=Qc,this.so=eu,this.fl=Qc,this.Mo=eu,this.Jv=this.Gv=nu,this.Ce=!0,this.Hr=!1,this.rg=new d(sa),this.$k=new b(_a,S),this.Do=!0,this.OB=250,this.no=-1,this.dv=new E(16,16,16,16).freeze(),this.rv=this.Nf=!1,this.Ho=!0,this.Ii=new At,this.Uc=new At,this.Qb=new At,this.hh=this.wi=null,this.ht=!1,this.Oy=this.Py=null,$i(this),this.fp=new d(Ea),this.xl=new d(Ds),this.Zo=new d(_a),this.zb=new d(sa),this.Pv=!0,this.Dw=uf,this.HC=!1,this.Fw=ef,this.Jy=this.My=this.Ez=null,this.kv="",this.jr="auto",this.Ai=this.ej=this.Ti=this.bw=this.Ui=this.Vi=this.Wi=this.zi=this.Fi=this.xi=null,this.oz=!1,this.oD={},this.kw=0,this.$i=[null,null],this.Gy=null,this.Gq=this.Ny=this.zz=this.vD=this.dj=!1,this.SC=!0,this.gz=this.Xd=!1,this.le=null;var r=this;this.$C=function(t){if(t.ca===r.ca&&r.Va){r.Va=!1;try{var e=t.yc;""===t.of&&e===vc&&Si(r,t.object,t.propertyName)}finally{r.Va=!0}}},this.aD=function(t){Ti(r,t)},this.WD=!0,this.eh=-2,this.Bi=new b(Object,sa),this.Kj=new b(Object,_a),this.Fm=new b(Object,Array),this.hp=new b("string",Array),this.rz=new c(Ho),this.Ki=!1,this.Mk=this.Lk=this.Tu=this.df=!0,this.Vu=this.Uu=!1,this.$u=this.Yu=this.Uk=this.Tk=this.Sk=this.Rk=this.Pk=this.Qk=this.Ok=this.Xu=this.Wk=this.Nk=this.Vk=!0,this.Dm=this.PC=!1,this.Zu=this.Wu=this.Ev=this.Dv=!0,this.tw=this.pw=16,this.vz=this.ow=!1,this.Qs=this.sw=null,this.wz=this.xz=0,this.gf=new E(5).freeze(),this.vw=new d(sa).freeze(),this.Yv=999999999,this.Fv=new d(sa).freeze(),this.gl=this.Bm=this.Uj=!0,this.dl=this.Tj=!1,this.je=null,this.bv=!0,this.fh=!1,this.HG=new d(_a),this.FC=new d(ps),this.Cd=null,this.fD=1,this.yD=0,this.oh={scale:1,position:new w,bounds:new S,isScroll:!1},this.VD=new S(NaN,NaN,NaN,NaN).freeze(),this.sv=new S(NaN,NaN,NaN,NaN).freeze(),this.uv=null,this.hw=new d(ur),Vn(this),this.Tv=this.Bv=this.cw=this.kC=this.jC=this.lC=this.$j=this.bl=this.Xi=null,Rn(this),this.od=null,this.Av=!1,this.vo=null,this.bb=new pn,this.bb.initializeStandardTools(),this.$a=this.Ft=this.bb,this.pb=new he,this.ca=new Qt,this.dj=!0,this.Sb=new Os,this.dj=!1,this.xC=this.Ry=null,this.Ad=1,this.jk=null,this.el=new ar,void 0!==t&&hr(this,t);var o=Wl.vfo.split(".");!0!==Wl.$w.licenseKey&&"1"===o[0]&&7>parseInt(o[1],10)&&(Wl.trace("Warning: You have entered a license key for GoJS version 1.7 or later, but this library is version "+Wl.vfo+". This license key will do nothing until you upgrade to GoJS 1.7 or later."),Wl.$w.licenseKey=!0),this.kl=1,this.Hm=0,this.UC=new w,this.RD=500,this.cv=new w,this.Zs=null,this.hl=!1,this.preventDefault=this.Tx=this.FF=this.GF=this.EF=this.Pn=this.Og=this.Qn=this.Nn=this.On=this.wB=this.nB=this.oB=this.pB=this.ul=this.Ms=this.tl=this.Ls=null,this.Mv=!1,this.dD=1,this.Sc=!1}function Rn(t){t.Xi=new b("string",sa);var e=new Ea,n=new Oo;n.bind(new ie("text","",xc)),e.add(n),t.lC=e,t.Xi.add("",e),e=new Ea,n=new Oo,n.stroke="brown",n.bind(new ie("text","",xc)),e.add(n),t.Xi.add("Comment",e),e=new Ea,e.em=!1,e.Oz=!1,n=new Po,n.Cb="Ellipse",n.fill="black",n.stroke=null,n.Ba=new T(3,3).Ha(),e.add(n),t.Xi.add("LinkLabel",e),t.bl=new b("string",Ds),e=new Ds,e.YA="GROUPPANEL",e.type=$f,n=new Oo,n.font="bold 12pt sans-serif",n.bind(new ie("text","",xc)),e.add(n),n=new Qr(Xf),n.name="GROUPPANEL";var i=new Po;i.Cb="Rectangle",i.fill="rgba(128,128,128,0.2)",i.stroke="black",n.add(i),i=new Fs,i.padding=new E(5,5,5,5).Ha(),n.add(i),e.add(n),t.jC=e,t.bl.add("",e),t.$j=new b("string",_a),e=new _a,n=new Po,n.Vf=!0,e.add(n),n=new Po,n.Aq="Standard",n.fill="black",n.stroke=null,n.lb=0,e.add(n),t.kC=e,t.$j.add("",e),e=new _a,n=new Po,n.Vf=!0,n.stroke="brown",e.add(n),t.$j.add("Comment",e),e=new Aa,e.type=Xf,n=new Po,n.fill=null,n.stroke="dodgerblue",n.lb=3,e.add(n),n=new Fs,n.margin=new E(1.5,1.5,1.5,1.5).Ha(),e.add(n),t.cw=e,t.Bv=e,e=new Aa,e.type=ed,n=new Po,n.Vf=!0,n.fill=null,n.stroke="dodgerblue",n.lb=3,e.add(n),t.Tv=e}function Bn(t){var n=Wl.createElement("p");n.style.width="100%",n.style.height="200px",n.style.boxSizing="content-box";var i=Wl.createElement("div");i.style.position="absolute",i.style.visibility="hidden",i.style.width="200px",i.style.height="150px",i.style.overflow="hidden",i.style.boxSizing="content-box",i.appendChild(n),e.document.body.appendChild(i);var r=n.offsetWidth;i.style.overflow="scroll",n=n.offsetWidth,r===n&&(n=i.clientWidth),e.document.body.removeChild(i),i=r-n,0!==i||Wl.iF||(i=11),t.Dd=i,i=Wl.createElement("div"),i.dir="rtl",i.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",i.textContent="A",e.document.body.appendChild(i),r="reverse",0<i.scrollLeft?r="default":(i.scrollLeft=1,0===i.scrollLeft&&(r="negative")),e.document.body.removeChild(i),t.sz=r}function qn(t){var n=t.Eb;n.addEventListener("touchstart",t.pB,!1),n.addEventListener("touchmove",t.oB,!1),n.addEventListener("touchend",t.nB,!1),n.addEventListener("mousemove",t.On,!1),n.addEventListener("mousedown",t.Nn,!1),n.addEventListener("mouseup",t.Qn,!1),n.addEventListener("mousewheel",t.Og,!1),n.addEventListener("DOMMouseScroll",t.Og,!1),n.addEventListener("mouseout",t.Pn,!1),n.addEventListener("keydown",t.zI,!1),n.addEventListener("keyup",t.AI,!1),n.addEventListener("selectstart",function(t){return t.preventDefault(),!1},!1),n.addEventListener("contextmenu",function(t){return t.preventDefault(),!1},!1),n.addEventListener("gesturechange",function(e){t.bb.Yp===$c&&e.preventDefault()},!1),n.addEventListener("pointerdown",t.EF,!1),n.addEventListener("pointermove",t.GF,!1),n.addEventListener("pointerleave",t.FF,!1),e.addEventListener("resize",t.wB,!1)}function zn(t){if(null!==t.Eb){var e=t.Nb;if(0!==e.clientWidth&&0!==e.clientHeight){var n=t.dl?t.Dd:0,i=t.Tj?t.Dd:0,r=t.Ad;t.Ad=t.computePixelRatio(),t.Ad!==r&&(t.Hr=!0,t.Me()),e.clientWidth===t.Jb+n&&e.clientHeight===t.Mb+i||(t.Bm=!0,t.Ce=!0,e=t.Sb,null!==e&&e.Ax&&t.Gl===Qc&&e.J(),t.Xd||t.Me())}}}function Vn(t){var e=new jn;e.name="Background",t.ut(e),e=new jn,e.name="",t.ut(e),e=new jn,e.name="Foreground",t.ut(e),e=new jn,e.name="Adornment",e.Kc=!0,t.ut(e),e=new jn,e.name="Tool",e.Kc=!0,e.dF=!0,t.ut(e),e=new jn,e.name="Grid",e.uf=!1,e.Tg=!1,e.Kc=!0,t.bH(e,t.Lt("Background"))}function Un(t){t.od=new Qr(nd),t.od.name="GRID";var e=new Po;e.Cb="LineH",e.stroke="lightgray",e.lb=.5,e.interval=1,t.od.add(e),e=new Po,e.Cb="LineH",e.stroke="gray",e.lb=.5,e.interval=5,t.od.add(e),e=new Po,e.Cb="LineH",e.stroke="gray",e.lb=1,e.interval=10,t.od.add(e),e=new Po,e.Cb="LineV",e.stroke="lightgray",e.lb=.5,e.interval=1,t.od.add(e),e=new Po,e.Cb="LineV",e.stroke="gray",e.lb=.5,e.interval=5,t.od.add(e),e=new Po,e.Cb="LineV",e.stroke="gray",e.lb=1,e.interval=10,t.od.add(e),e=new sa,e.add(t.od),e.Xf="Grid",e.fo=0,e.wA=!1,e.cF=!1,e.Tg=!1,e.zA="GRID",t.add(e),t.zb.remove(e),t.od.visible=!1}function Hn(){this.Z.isEnabled?this.Z.KH(this):yi(this.Z)}function Gn(t){this.Z.isEnabled?(this.Z.vz=!0,this.Z.xz=t.target.scrollTop,this.Z.wz=t.target.scrollLeft):yi(this.Z)}function _n(t){if(t.LE.H()){var e=t.LE.copy();return e.Jw(t.padding),e}for(var n=!0,i=t.ac.n,r=i.length,o=0;o<r;o++){var a=i[o];if(a.visible&&(!a.Kc||a.dF))for(var a=a.zb.n,s=a.length,h=0;h<s;h++){var l=a[h];l.wA&&l.isVisible()&&(l=l.Y,l.H()&&(n?(n=!1,e=l.copy()):e.Hh(l)))}}return n&&(e=new S(0,0,0,0)),e.Jw(t.padding),e}function Wn(t,e){if((e||t.fh)&&!t.Sc&&null!==t.Eb&&!t.Qa.lf&&t.re.H()){t.Sc=!0;var n=t.rm;e&&t.fl!==Qc&&(n=t.fl);var i=n!==Qc?Kn(t,n):t.scale,n=t.tb.copy(),r=t.Jb/i,o=t.Mb/i,a=null,s=t.Qa;s.pc&&(a=t.ib.copy()),t.position.Ra();var h=t.so;e&&!h.gd()&&t.Mo.gd()&&(h=t.Mo),Yn(t,t.ib,t.re,r,o,h,e),t.position.freeze(),null!==a&&Dn(s,a,t.ib),r=t.scale,t.scale=i,t.Sc=!1,i=t.tb,i.Jc(n)||t.uu(n,i,r,t.scale,!1)}}function Kn(t,e){var n=t.pb.Yw;if(null===t.Eb)return n;t.Uj&&Gi(t,t.th());var i=t.re;if(!i.H())return n;var r=i.width,i=i.height,o=t.Jb,a=t.Mb,s=o/r,h=a/i;return e===Zc?(r=Math.min(h,s),r>n&&(r=n),r<t.zh&&(r=t.zh),r>t.yh&&(r=t.yh),r):e===tf?(r=h>s?(a-t.Dd)/i:(o-t.Dd)/r,r>n&&(r=n),r<t.zh&&(r=t.zh),r>t.yh&&(r=t.yh),r):t.scale}function Yn(t,e,n,i,r,o,a){var s=e.x,h=e.y;(a||t.VA===hf)&&(o.gd()&&(i>n.width&&(s=n.x+(o.x*n.width+o.offsetX)-(o.x*i-o.offsetX)),r>n.height&&(h=n.y+(o.y*n.height+o.offsetY)-(o.y*r-o.offsetY))),o=t.XF,a=i-n.width,i<n.width+o.left+o.right?(s=Math.min(s+i/2,n.right+Math.max(a,o.right)-i/2),s=Math.max(s,n.left-Math.max(a,o.left)+i/2),s-=i/2):s>n.left?s=n.left:s<n.right-i&&(s=n.right-i),i=r-n.height,r<n.height+o.top+o.bottom?(h=Math.min(h+r/2,n.bottom+Math.max(i,o.bottom)-r/2),h=Math.max(h,n.top-Math.max(i,o.top)+r/2),h-=r/2):h>n.top?h=n.top:h<n.bottom-r&&(h=n.bottom-r)),e.x=isFinite(s)?s:-t.padding.left,e.y=isFinite(h)?h:-t.padding.top,null!==t.IF&&(t=t.IF(t,e),e.x=t.x,e.y=t.y)}function $n(t,e,n,i){for(void 0===n&&(n=null),void 0===i&&(i=null),ai(t),t=t.ac.Hn;t.next();){var r=t.value;if(r.visible&&!r.Kc&&null!==(r=r.Ke(e,n,i)))return r}return null}function Jn(t,e,n,i,r){i.g=e,i.event=n,r?ti(t,n,i):(i.cf=e.Qb.cf,i.da=e.Qb.da),t=0,n.ctrlKey&&(t+=1),n.altKey&&(t+=2),n.shiftKey&&(t+=4),n.metaKey&&(t+=8),i.vd=t,i.button=n.button,n.buttons&&(i.buttons=n.buttons),Wl.Fk&&0===n.button&&n.ctrlKey&&(i.button=2),i.Ol=!1,i.up=!1,i.Ge=1,i.Nl=0,i.Bc=!1,i.bubbles=!1,i.timestamp=Date.now(),i.du=!1,i.Vg=n.target.Z?n.target.Z:null,i.Qe=null}function Xn(t,e,n,i,r){i.g=t,ti(t,n,i),i.vd=0,i.button=0,i.buttons=1,i.Ol=!0,i.up=!1,i.Ge=1,i.Nl=0,i.Bc=!1,i.bubbles=!0,i.event=e,i.timestamp=Date.now(),i.du=r,i.Vg=e.target.Z?e.target.Z:null,i.Qe=null,t.Ii=i.copy(),Mc=null}function Qn(t,n,i,r,o){var a=null;r.g=t,null!==i?((a=e.document.elementFromPoint(i.clientX,i.clientY))&&a.Z?a=a.Z:(i=n.changedTouches[0],a=t),r.Vg=a,ti(t,i,r)):null!==t.Uc?(r.da=t.Uc.da,r.cf=t.Uc.cf,r.Vg=t.Uc.Vg):null!==t.Ii&&(r.da=t.Ii.da,r.cf=t.Ii.cf,r.Vg=t.Ii.Vg),r.vd=0,r.button=0,r.buttons=1,r.Ol=!1,r.up=!1,r.Ge=1,r.Nl=0,r.Bc=!1,r.bubbles=!1,r.event=n,r.timestamp=Date.now(),r.du=o,r.Qe=null}function Zn(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),(void 0===e.touches||2>e.touches.length)&&e.preventDefault(),e.cancelBubble=!0,!1)}function ti(t,e,n){var i=t.Eb,r=t.Jb,o=t.Mb,a=0,s=0;null!==i&&(i=i.getBoundingClientRect(),a=e.clientX-r/i.width*i.left,s=e.clientY-o/i.height*i.top),n.cf.l(a,s),null!==t.dd?(e=Wl.xb(a,s),t.dd.mi(e),n.da.assign(e),Wl.v(e)):n.da.l(a,s)}function ei(t,e,n,i){var r=null;if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;r=e.targetTouches[n]}else{if(null===t.$i[0])return;r=t.$i[n]}n=t.Eb,e=t.Jb,t=t.Mb;var o=0,a=0;null!==n&&null!==r&&(n=n.getBoundingClientRect(),o=r.clientX-e/n.width*n.left,a=r.clientY-t/n.height*n.top),i.l(o,a)}function ni(t){t.Xd||ai(t),t.Uj&&Gi(t,t.th())}function ii(t,e){t.Qa.lf||t.Sc||!t.Bm||yi(t)||(e&&ai(t),Wn(t,!1))}function ri(t){if(!t.Xd&&(t.Nf=!1,null!==t.Nb)){t.Xd=!0;var e=t.Qa,n=t.rz;if(!e.So&&0!==n.length){for(var i=n.n,r=i.length,o=0;o<r;o++){var a=i[o];_r(a,!1),a.I()}n.clear()}n=t.FC,0<n.count&&(n.each(function(t){t.tB()}),n.clear()),i=n=!1,e.lf&&(i=!0,n=t.wb,t.wb=!0),e.pc||zn(t),ii(t,!1),null!==t.od&&(t.od.visible&&!t.Av&&(wi(t),t.Av=!0),!t.od.visible&&t.Av&&(t.Av=!1)),ai(t),r=!1,t.fh&&!t.bv||(t.fh?Ki(t,!t.rv):(t.Ub("Initial Layout"),!1===e.isEnabled&&e.qi(),Ki(t,!1)),r=!0),t.rv=!1,ai(t),t.zz||e.lf||ni(t),ii(t,!0),r&&(t.fh||oi(t),t.Ca("LayoutCompleted")),ai(t),r&&!t.fh&&(t.fh=!0,t.Fd("Initial Layout"),t.wb||t.pa.clear(),Wl.setTimeout(function(){t.oi=!1},1)),ci(t),bn(e),t.te(t.rf),i&&(t.wb=n),t.Xd=!1}}function oi(t){var e=t.ac.n;if(t.Cf(e,e.length,t),t.fl!==Qc?t.scale=Kn(t,t.fl):t.rm!==Qc?t.scale=Kn(t,t.rm):(e=t.nI,isFinite(e)&&0<e&&(t.scale=e)),e=t.mI,e.H())t.position=e;else{e=Wl.K(),e.Wn(t.re,t.lI);var n=t.tb,n=Wl.Wg(0,0,n.width,n.height),i=Wl.K();i.Wn(n,t.oI),i.l(e.x-i.x,e.y-i.y),t.position=i,Wl.Hb(n),Wl.v(i),Wl.v(e),fi(t),ii(t,!0),Wn(t,!0)}t.Ca("InitialLayoutCompleted"),wi(t)}function ai(t){if((t.Xd||!t.Qa.lf)&&0!==t.rg.count){for(var e=0;23>e;e++){var n=t.rg.i;if(null===n||0===t.rg.count)break;t.rg=new d(sa),t.tB(n,t.rg)}t.eg.each(function(t){t instanceof Ds&&0!=(65536&t.za)!=!1&&(t.za^=65536)})}}function si(t,e){for(var n=Wl.mb(),i=Wl.mb(),r=e.Nc;r.next();){var o=r.value;o.isVisible()&&(o instanceof Ds?(Gr(o)||Wr(o)||xa(o))&&si(t,o):o instanceof _a?o.W===e||o.aa===e?i.push(o):n.push(o):(Dr(o,1/0,1/0),o.hc()))}for(var r=n.length,a=0;a<r;a++)o=n[a],Dr(o,1/0,1/0),o.hc();for(Wl.wa(n),Dr(e,1/0,1/0),e.hc(),r=i.length,a=0;a<r;a++)o=i[a],Dr(o,1/0,1/0),o.hc();Wl.wa(i)}function hi(t,e,n,i,r){null===t.Nb&&Wl.k("No div specified");var o=t.Eb;if(null===o&&Wl.k("No canvas specified"),!t.Qa.pc){var a=t.rf;if(t.Ce){pi(t);var s=t.Ad;Wl.En?(o.width=o.width,a.Fe(!0)):(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,t.Jb*s,t.Mb*s)),a.ey(!1),a.drawImage(t.Ry.Gd,0<i?0:Math.round(-i),0<r?0:Math.round(-r)),r=t.ib;var o=t.Gb,h=Math.round(r.x*o)/o,l=Math.round(r.y*o)/o;for(i=t.dd,i.reset(),1!==o&&i.scale(o),0===r.x&&0===r.y||i.translate(-h,-l),a.save(),a.beginPath(),r=n.length,o=0;o<r;o++)h=n[o],0!==h.width&&0!==h.height&&a.rect(Math.floor(h.x),Math.floor(h.y),Math.ceil(h.width),Math.ceil(h.height));for(a.clip(),a.setTransform(1,0,0,1,0,0),a.scale(s,s),a.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),n=t.ac.n,r=n.length,t.Cf(n,r,t),ui(t,a),o=0;o<r;o++)Ln(n[o],a,t,e);a.restore(),a.Fe(!0),t.el?t.el.lm(t)&&t.uv():t.zr=function(){return new w(0,0)},t.gl=!1,t.Ce=!1,t.Tx()}}}function li(t,e,n,i,r,o,a,s,h,l){null===t.Nb&&Wl.k("No div specified"),null===t.Eb&&Wl.k("No canvas specified"),void 0===a&&(a=null),void 0===s&&(s=null),void 0===h&&(h=!1),void 0===l&&(l=!1),pi(t),t.rf.Fe(!0),di(t),t.gz=!0;var u=new S(o.x,o.y,i.width/r,i.height/r),c=u.copy();c.Jw(n),wi(t,c),ai(t);var c=t.ac.n,f=c.length;if(t.Cf(c,f,t,u),u=t.Ad,e.setTransform(1,0,0,1,0,0),e.scale(u,u),e.clearRect(0,0,i.width,i.height),null!==s&&""!==s&&(e.fillStyle=s,e.fillRect(0,0,i.width,i.height)),i=Wl.Ff(),i.reset(),i.translate(n.left,n.top),i.scale(r),0===o.x&&0===o.y||i.translate(-o.x,-o.y),e.setTransform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),Wl.ve(i),ui(t,e),null!==a){var p=new d(sa);for(n=a.i,n.reset();n.next();)r=n.value,!1===l&&"Grid"===r.layer.name||null===r||p.add(r);l=function(n){var i=h;if(n.visible&&0!==n.wc&&(void 0===i&&(i=!0),i||!n.Kc)){var i=n.zb.n,r=i.length;if(0!==r){1!==n.wc&&(e.globalAlpha=n.wc),n=n.gw,n.length=0;for(var o=t.scale,a=0;a<r;a++){var s=i[a];if(Sa(s)&&p.contains(s)){if(s instanceof _a){var l=s;if(l.jc&&n.push(l),!1===l.$g)continue}l=s.Y,1<l.width*o||1<l.height*o?s.te(e,t):ba(s,e)}}e.globalAlpha=1}}}}else if(!h&&l){var v=t.Cn.V,y=v.layer;l=function(n){n===y?v.te(e,t):n.te(e,t,h)}}else l=function(n){n.te(e,t,h)};for(n=0;n<f;n++)l(c[n]);t.gz=!1,t.el?t.el.lm(t)&&t.uv():t.zr=function(){return new w(0,0)},t.rf.Fe(!0),di(t),t.Cf(c,f,t),wi(t)}function ui(t,e){var n=t.gk;null!==n&&(void 0!==n.imageSmoothingEnabled&&e.ey(!!n.imageSmoothingEnabled),void 0!==(n=n.defaultFont)&&null!==n&&(e.font=n))}function ci(t){if(0===t.pa.Gh&&0!==t.$k.count){for(;0<t.$k.count;){var e=t.$k;for(t.$k=new b(_a,S),e=e.i;e.next();){var n=e.key;us(n,e.value),n.Le()}}t.oa()}}function fi(t){!1===t.Bm&&(t.Bm=!0)}function di(t){!1===t.gl&&(t.gl=!0)}function pi(t){!1!==t.Hr&&(t.Hr=!1,vi(t,t.Jb,t.Mb))}function vi(t,e,n){var i=t.Eb,r=t.Ad,o=e*r,r=n*r;i.width===o&&i.height===r||(i.width=o,i.height=r,i.style.width=e+"px",i.style.height=n+"px",t.Ce=!0,t.rf.Fe(!0))}function yi(t){var e=t.Eb;if(null===e)return!0;var n=t.Nb,i=t.Jb,r=t.Mb,o=t.VD.copy();if(!o.H())return!0;var a=!1,s=t.dl?t.Dd:0,h=t.Tj?t.Dd:0,l=n.clientWidth||i+s,u=n.clientHeight||r+h;l===i+s&&u===r+h||(t.dl=!1,t.Tj=!1,h=s=0,t.Jb=l,t.Mb=u,a=t.Hr=!0),t.Bm=!1;var c=t.tb,n=t.re,l=n.width,u=n.height,f=c.width,d=c.height,p=n.x,v=c.x,y=n.right,g=c.right+s,m=n.y,b=c.y,w=n.bottom,c=c.bottom+h,x="1px",k="1px",n=t.scale;if(t.VA===hf&&l<f+s&&u<d+h||(t.pA&&t.ne&&(x=1,p+1<v&&(x=Math.max((v-p)*n+t.Jb,x)),y>g+1&&(x=Math.max((y-g)*n+t.Jb,x)),f+s+1<l&&(x=Math.max((l-f+s)*n+t.Jb,x)),x=x.toString()+"px"),t.qA&&t.oe&&(s=1,m+1<b&&(s=Math.max((b-m)*n+t.Mb,s)),w>c+1&&(s=Math.max((w-c)*n+t.Mb,s)),d+h+1<u&&(s=Math.max((u-d+h)*n+t.Mb,s)),k=s.toString()+"px")),h="1px"!==x,s="1px"!==k,!(h&&s||!h&&!s)){s&&(g-=t.Dd),h&&(c-=t.Dd),t.pA&&t.ne&&(x=1,p+1<v&&(x=Math.max((v-p)*n+t.Jb,x)),y>g+1&&(x=Math.max((y-g)*n+t.Jb,x)),f+1<l&&(x=Math.max((l-f)*n+t.Jb,x)),x=x.toString()+"px");var h="1px"!==x,T=h!==t.Tj?t.Mb-t.Dd:t.Mb;t.qA&&t.oe&&(s=1,m+1<b&&(s=Math.max((b-m)*n+T,s)),w>c+1&&(s=Math.max((w-c)*n+T,s)),d+1<u&&(s=Math.max((u-d)*n+T,s)),k=s.toString()+"px"),s="1px"!==k}if(t.ow&&h===t.Tj&&s===t.dl)return i===t.Jb&&r===t.Mb||t.Zf(),!1;if(h!==t.Tj&&(t.Mb="1px"===x?t.Mb+t.Dd:Math.max(t.Mb-t.Dd,1),a=!0),t.Tj=h,t.Qs.style.width=x,s!==t.dl&&(t.Jb="1px"===k?t.Jb+t.Dd:Math.max(t.Jb-t.Dd,1),a=!0,t.Lr&&(h=Wl.K(),s?(e.style.left=t.Dd+"px",t.position=h.l(t.ib.x+t.Dd/t.scale,t.ib.y)):(e.style.left="0px",t.position=h.l(t.ib.x-t.Dd/t.scale,t.ib.y)),Wl.v(h))),t.dl=s,t.Qs.style.height=k,e=t.sw,h=e.scrollLeft,t.pA&&t.ne&&(f+1<l?h=(t.position.x-p)*n:p+1<v?h=e.scrollWidth-e.clientWidth:y>g+1&&(h=t.position.x*n)),t.Lr)switch(t.sz){case"negative":h=-(e.scrollWidth-h-e.clientWidth);break;case"reverse":h=e.scrollWidth-h-e.clientWidth}return e.scrollLeft=h,t.qA&&t.oe&&(d+1<u?e.scrollTop=(t.position.y-m)*n:m+1<b?e.scrollTop=e.scrollHeight-e.clientHeight:w>c+1&&(e.scrollTop=t.position.y*n)),a&&(t.Hr=!0),l=t.Jb,u=t.Mb,e.style.width=l+(t.dl?t.Dd:0)+"px",e.style.height=u+(t.Tj?t.Dd:0)+"px",t.vz=!1,i===l&&r===u&&!t.Qa.pc||(c=t.tb,t.uu(o,c,n,t.scale,a),!1)}function gi(t,e,n){var i=e.layer;null!==i&&i.g===t&&(e.fb=!1,e.Mg=!1,e.J(Ad),n&&e.un(),n=i.kf(-1,e,!1),0<=n&&t.Xc(gc,"parts",i,e,null,n,null),null!==(t=e.Dx)&&t(e,i,null))}function mi(t,e,n){if(Wl.G(e,jn,In,"addLayer:layer"),null!==e.g&&e.g!==t&&Wl.k("Cannot share a Layer with another Diagram: "+e+" of "+e.g),null===n?null!==e.g&&Wl.k("Cannot add an existing Layer to this Diagram again: "+e):(Wl.G(n,jn,In,"addLayer:existingLayer"),n.g!==t&&Wl.k("Existing Layer must be in this Diagram: "+n+" not in "+n.g),e===n&&Wl.k("Cannot move a Layer before or after itself: "+e)),e.g!==t){e=e.name,t=t.ac,n=t.count;for(var i=0;i<n;i++)t.ea(i).name===e&&Wl.k("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function bi(t,e,n){if(t.Sc||t.Xd)t.Gb=n,n=t.Qa,n.pc&&An(n,e,t.Gb);else if(t.Sc=!0,null===t.Eb)t.Gb=n;else{var i=t.tb.copy(),r=t.Jb,o=t.Mb;i.width=t.Jb/e,i.height=t.Mb/e;var a=t.mm.x,s=t.mm.y,h=t.qE;isNaN(a)&&(h.sj()?h.qj(wu)?a=0:h.qj(xu)&&(a=r-1):a=h.gd()?h.x*(r-1):r/2),isNaN(s)&&(h.sj()?h.qj(bu)?s=0:h.qj(ku)&&(s=o-1):s=h.gd()?h.y*(o-1):o/2),null!==t.WF&&(n=t.WF(t,n)),n<t.zh&&(n=t.zh),n>t.yh&&(n=t.yh),r=Wl.xb(t.ib.x+a/e-a/n,t.ib.y+s/e-s/n),t.position=r,Wl.v(r),t.Gb=n,t.uu(i,t.tb,e,n,!1),t.Sc=!1,Wn(t,!1),n=t.Qa,n.pc&&An(n,e,t.Gb),t.oa(),fi(t)}}function wi(t,e){void 0===e&&(e=null);var n=t.od;if(null!==n&&n.visible){for(var i=Wl.jm(),r=1,o=1,a=n.xa.n,s=a.length,h=0;h<s;h++){var l=a[h],u=l.interval;2>u||(ro(l.Cb)?o=o*u/yt(o,u):r=r*u/yt(r,u))}if(a=n.px,i.l(o*a.width,r*a.height),a=o=h=s=0,null!==e)s=e.width,h=e.height,o=e.x,a=e.y;else{for(r=Wl.Ef(),o=t.tb,r.l(o.x,o.y,o.width,o.height),a=t.hw.i;a.next();)o=a.value.tb,o.H()&&A(r,o.x,o.y,o.width,o.height);if(!r.H())return void Wl.Hb(r);s=r.width,h=r.height,o=r.x,a=r.y,Wl.Hb(r)}n.width=s+2*i.width,n.height=h+2*i.height,r=Wl.K(),vt(o,a,0,0,i.width,i.height,r),r.offset(-i.width,-i.height),Wl.Ak(i),n.V.location=r,Wl.v(r)}}function xi(t){if(t=t.selection,0<t.count){for(var e=t.ec(),n=e.length,i=0;i<n;i++)e[i].fb=!1;t.Ra(),t.clear(),t.freeze()}}function ki(t){var e=t.oi;t.WD!==e&&(t.WD=e,t.Ca("Modified"))}function Ti(t,e){if(e.ca===t.ca){var n=e.yc,i=e.propertyName;if(n===pc&&"S"===i[0])if("StartingFirstTransaction"===i)n=t.bb,n.bf.each(function(e){e.Qc(t)}),n.$f.each(function(e){e.Qc(t)}),n.ag.each(function(e){e.Qc(t)}),t.Xd||t.fh||(t.rv=!0,t.Ho&&(t.Nf=!0));else if("StartingUndo"===i||"StartingRedo"===i){var r=t.Qa;r.lf&&!t.wb&&r.qi(),t.Ca("ChangingSelection")}else"StartedTransaction"===i&&(r=t.Qa,r.lf&&!t.wb&&r.qi());else if(t.Va){t.Va=!1;try{var o=e.of;if(""!==o)if(n===vc){if("linkFromKey"===o){var a=e.object,s=t.Rf(a);if(null!==s){var h=e.newValue,l=t.Je(h);s.W=l}}else if("linkToKey"===o)a=e.object,null!==(s=t.Rf(a))&&(h=e.newValue,l=t.Je(h),s.aa=l);else if("linkFromPortId"===o){if(a=e.object,null!==(s=t.Rf(a))){var u=e.newValue;"string"==typeof u&&(s.Kg=u)}}else if("linkToPortId"===o)a=e.object,null!==(s=t.Rf(a))&&"string"==typeof(u=e.newValue)&&(s.Fh=u);else if("nodeGroupKey"===o){var a=e.object,c=t.wh(a);if(null!==c){var f=e.newValue;if(void 0!==f){var d=t.Je(f);c.La=d instanceof Ds?d:null}else c.La=null}}else if("linkLabelKeys"===o){if(a=e.object,null!==(s=t.Rf(a))){var p=e.oldValue,v=e.newValue;if(Wl.isArray(p))for(var y=Wl.Za(p),g=0;g<y;g++){var m=Wl.Ea(p,g),l=t.Je(m);null!==l&&(l.Mc=null)}if(Wl.isArray(v))for(y=Wl.Za(v),g=0;g<y;g++)m=Wl.Ea(v,g),null!==(l=t.Je(m))&&(l.Mc=s)}}else if("nodeParentKey"===o){var b=e.object,w=t.Je(e.newValue),x=t.jx(b);if(null!==x){var k=x.wn();null!==k?null===w?t.remove(k):t.Od?k.W=w:k.aa=w:Ii(t,w,x)}}else if("parentLinkCategory"===o){var b=e.object,x=t.jx(b),T=e.newValue;null!==x&&"string"==typeof T&&null!==(k=x.wn())&&(k.sd=T)}else if("nodeCategory"===o){var a=e.object,S=t.wh(a),T=e.newValue;null!==S&&"string"==typeof T&&(S.sd=T)}else if("linkCategory"===o){var a=e.object,M=t.Rf(a),T=e.newValue;null!==M&&"string"==typeof T&&(M.sd=T)}else if("nodeDataArray"===o){var P=e.oldValue;zi(t,P);var C=e.newValue;ji(t,C)}else"linkDataArray"===o&&(P=e.oldValue,zi(t,P),C=e.newValue,Ri(t,C));t.oi=!0}else n===yc?(C=e.newValue,"nodeDataArray"===o&&Wl.Ua(C)?Li(t,C):"linkDataArray"===o&&Wl.Ua(C)?Bi(t,C):"linkLabelKeys"===o&&_t(C)&&(s=t.Rf(e.object),l=t.Je(C),null!==s&&null!==l&&(l.Mc=s)),t.oi=!0):n===gc?(P=e.oldValue,"nodeDataArray"===o&&Wl.Ua(P)?Vi(t,P):"linkDataArray"===o&&Wl.Ua(P)?Vi(t,P):"linkLabelKeys"===o&&_t(P)&&null!==(l=t.Je(P))&&(l.Mc=null),t.oi=!0):n===pc&&("SourceChanged"===o?null!==e.object?Si(t,e.object,e.propertyName):(t.RJ(),t.vG()):"ModelDisplaced"===o&&t.dm());else if(n===vc){var N=e.propertyName,a=e.object;a===t.ca?"nodeKeyProperty"!==N&&"nodeCategoryProperty"!==N&&"linkFromKeyProperty"!==N&&"linkToKeyProperty"!==N&&"linkFromPortIdProperty"!==N&&"linkToPortIdProperty"!==N&&"linkLabelKeysProperty"!==N&&"nodeIsGroupProperty"!==N&&"nodeGroupKeyProperty"!==N&&"nodeParentKeyProperty"!==N&&"linkCategoryProperty"!==N||t.pa.gb||t.dm():Si(t,a,N),t.oi=!0}else if(n===yc||n===gc)Mi(t,e),t.oi=!0;else if(n===pc){"FinishedUndo"!==i&&"FinishedRedo"!==i||(t.pa.Li=!0,t.Ca("ChangedSelection"),ai(t),t.pa.Li=!1),r=t.Qa,"RolledBackTransaction"===i&&r.qi(),t.rv=!0,t.Zf(),0===t.pa.Gh&&bn(r),"CommittedTransaction"===i&&t.pa.iz&&(t.eh=Math.min(t.eh,t.pa.pj-1));var D=e.oF;D&&(ki(t),t.Hx.clear()),!t.oz&&D&&(t.oz=!0,Wl.setTimeout(function(){t.$a.standardMouseOver(),t.oz=!1},10))}}finally{t.Va=!0}}}}function Si(t,e,n){if("string"==typeof n){var i=t.wh(e);if(null!==i)i.Ib(n),t.ca instanceof ne&&null!==(i=t.Rf(e))&&i.Ib(n);else{for(var i=null,r=t.Fm.i;r.next();){for(var o=r.value,a=0;a<o.length;a++){var s=o[a].QH(e);null!==s&&(null===i&&(i=Wl.mb()),i.push(s))}if(null!==i)break}if(null!==i){for(r=0;r<i.length;r++)i[r].Ib(n);Wl.wa(i)}}e===t.ca.Gk&&t.vG(n)}}function Mi(t,e){var n=e.yc===yc,i=n?e.yj:e.zj,r=n?e.newValue:e.oldValue,o=t.Fm.la(e.object);if(Array.isArray(o))for(var a=0;a<o.length;a++){var s=o[a];if(n)wo(s,r,i);else{var h=i;if(!(0>h)){var l=h;bo(s)&&l++,s.kf(l),xo(s,l,h)}}}}function Pi(t,e){var n=e.Zj;if(Wl.isArray(n)){var i=t.Fm.la(n);if(null===i)i=[],i.push(e),t.Fm.add(n,i);else{for(n=0;n<i.length;n++)if(i[n]===e)return;i.push(e)}}}function Ci(t,e){var n=e.Zj;if(Wl.isArray(n)){var i=t.Fm.la(n);if(null!==i)for(var r=0;r<i.length;r++)if(i[r]===e){i.splice(r,1),0===i.length&&t.Fm.remove(n);break}}}function Ni(t,e){for(var n=e.xa.n,i=n.length,r=0;r<i;r++){var o=n[r];o instanceof Ho&&Di(t,o)}}function Di(t,e){var n=e.element;if(null!==n&&n instanceof HTMLImageElement){var i=e.Te;if(null!==i&&(i.Jo instanceof Event&&null!==e.Ue&&e.Ue(e,i.Jo),!0===i.Lv&&(null!==e.hi&&e.hi(e,i.uz),null!==e.g&&e.g.rz.add(e))),n=n.src,null===(i=t.hp.la(n)))i=[],i.push(e),t.hp.add(n,i);else{for(n=0;n<i.length;n++)if(i[n]===e)return;i.push(e)}}}function Ai(t,e){for(var n=e.xa.n,i=n.length,r=0;r<i;r++){var o=n[r];o instanceof Ho&&Ei(t,o)}}function Ei(t,e){var n=e.element;if(null!==n&&n instanceof HTMLImageElement){var n=n.src,i=t.hp.la(n);if(null!==i)for(var r=0;r<i.length;r++)if(i[r]===e){i.splice(r,1),0===i.length&&t.hp.remove(n);break}}}function ji(t,e){if(null!==e){for(var n=t.ca,i=n instanceof Qt,r=Wl.Za(e),o=0;o<r;o++){var a=Wl.Ea(e,o);n.He(a)?Li(t,a,!1):i&&Bi(t,a)}if(i||n instanceof ne){for(o=0;o<r;o++)a=Wl.Ea(e,o),n.He(a)&&Oi(t,a);if(i)for(n=t.links;n.next();)Wa(n.value)}_i(t,!1)}}function Li(t,e,n){if(void 0!==e&&null!==e&&!t.pa.gb&&!t.Bi.contains(e)){void 0===n&&(n=!0);var i=t.kA(e),r=Fi(t,e,i);if(null!==r&&(mo(r),null!==(r=r.copy()))){var o=t.Oe;t.Oe=!0,r.vi=i,r.Vd=e,t.add(r),r.Vd=null,r.data=e,n&&Oi(t,e),t.Oe=o}}}function Fi(t,e,n){var i=!1,r=t.ca;return r instanceof Qt&&(i=r.vA(e)),i?null===(e=t.oA.la(n))&&null===(e=t.oA.la(""))&&(pf||(pf=!0,Wl.trace('No Group template found for category "'+n+'"'),Wl.trace("  Using default group template")),e=t.jC):null===(e=t.LA.la(n))&&null===(e=t.LA.la(""))&&(df||(df=!0,Wl.trace('No Node template found for category "'+n+'"'),Wl.trace("  Using default node template")),e=t.lC),e}function Oi(t,e){var n=t.ca;if(n instanceof Qt||n instanceof ne){var i=n.ub(e);if(void 0!==i){var r=Jt(n,i),o=t.wh(e);if(null!==r&&null!==o){for(r=r.i;r.next();){var a=r.value;if(n instanceof Qt){var s=n;if(s.He(a)){if(o instanceof Ds&&s.zn(a)===i){var h=o,a=t.wh(a);null!==a&&(a.La=h)}}else{var l=t.Rf(a);if(null!==l&&o instanceof Ea&&(h=o,s.Tl(a)===i&&(l.W=h),s.Ul(a)===i&&(l.aa=h),a=s.Bk(a),Wl.isArray(a)))for(s=0;s<Wl.Za(a);s++)if(Wl.Ea(a,s)===i){h.Mc=l;break}}}else n instanceof ne&&(l=n,l.He(a)&&o instanceof Ea&&(h=o,l.Bn(a)===i&&(a=t.jx(a),Ii(t,h,a))))}$t(n,i)}n instanceof Qt?void 0!==(n=n.zn(e))&&(n=t.Je(n))instanceof Ds&&(o.La=n):n instanceof ne&&void 0!==(n=n.Bn(e))&&o instanceof Ea&&(h=o,o=t.Je(n),Ii(t,o,h))}}}function Ii(t,e,n){if(null!==e&&null!==n){var i=t.bb.tF,r=e,o=n;if(t.Od){for(e=o.ge;e.next();)if(e.value.aa===o)return}else for(r=n,o=e,e=r.ge;e.next();)if(e.value.W===r)return;if((null===i||!qe(i,r,o,null,!0))&&(i=t.mx(n.data),null!==(e=qi(t,i))&&(mo(e),null!==(e=e.copy())))){var a=t.Oe;t.Oe=!0,e.vi=i,e.Vd=n.data,e.W=r,e.aa=o,t.add(e),e.Vd=null,e.data=n.data,t.Oe=a}}}function Ri(t,e){if(null!==e){for(var n=Wl.Za(e),i=0;i<n;i++){Bi(t,Wl.Ea(e,i))}_i(t,!1)}}function Bi(t,e){if(void 0!==e&&null!==e&&!t.pa.gb&&!t.Kj.contains(e)){var n=t.mx(e),i=qi(t,n);if(null!==i&&(mo(i),null!==(i=i.copy()))){var r=t.Oe;t.Oe=!0,i.vi=n,i.Vd=e;var n=t.ca,o=n.XH(e);if(""!==o&&(i.Kg=o),o=n.Tl(e),void 0!==o&&(o=t.Je(o))instanceof Ea&&(i.W=o),o=n.aI(e),""!==o&&(i.Fh=o),o=n.Ul(e),void 0!==o&&(o=t.Je(o))instanceof Ea&&(i.aa=o),n=n.Bk(e),Wl.isArray(n))for(var o=Wl.Za(n),a=0;a<o;a++){var s=Wl.Ea(n,a),s=t.Je(s);null!==s&&(s.Mc=i)}t.add(i),i.Vd=null,i.data=e,t.Oe=r}}}function qi(t,e){var n=t.yA.la(e);return null===n&&null===(n=t.yA.la(""))&&(vf||(vf=!0,Wl.trace('No Link template found for category "'+e+'"'),Wl.trace("  Using default link template")),n=t.kC),n}function zi(t,e){for(var n=Wl.Za(e),i=0;i<n;i++){Vi(t,Wl.Ea(e,i))}}function Vi(t,e){if(void 0!==e&&null!==e){var n=t.wh(e);if(null!==n){gi(t,n,!1);var i=t.ca;if(i instanceof Qt&&n instanceof Ea){var r=i.ub(n.data);if(void 0!==r){for(var o=n.ge;o.next();)Yt(i,r,o.value.data);if(n.mf&&null!==(o=n.Mc)&&Yt(i,r,o.data),n instanceof Ds)for(n=n.Nc;n.next();)o=n.value.data,i.He(o)&&Yt(i,r,o)}}else if(i instanceof ne&&n instanceof Ea){if(null!==(o=t.Rf(n.data))){o.fb=!1,o.Mg=!1;var a=o.layer;if(null!==a){var s=a.kf(-1,o,!1);0<=s&&t.Xc(gc,"parts",a,o,null,s,null),s=o.Dx,null!==s&&s(o,a,null)}}for(o=t.Od,n=n.ge;n.next();)a=n.value,a=(o?a.aa:a.W).data,i.He(a)&&Yt(i,r,a)}}}}function Ui(t,e,n){for(var i in n){var r=e[i],o=n[i];if(Wl.isArray(o)){if(!Wl.isArray(r)||r.length<o.length)return!1;for(var a=0;a<r.length;a++){var s=r[a],h=o[a];if(void 0!==h&&!Hi(t,s,h))return!1}}else if(!Hi(t,r,o))return!1}return!0}function Hi(t,e,n){if("function"==typeof n){if(!n(e))return!1}else if(n instanceof RegExp){if(!e||!n.test(e.toString()))return!1}else if(Wl.Ua(e)&&Wl.Ua(n)){if(!Ui(t,e,n))return!1}else if(e!==n)return!1;return!0}function Gi(t,e){t.Uj=!1;var n=t.sv;n.L(e)||(e=e.S(),t.sv=e,Wn(t,!1),t.Ca("DocumentBoundsChanged",null,n.copy()),fi(t))}function _i(t,e){for(var n=t.xl.i;n.next();)Wi(t,n.value,e);null!==t.Sb&&(e?t.Sb.zf=!1:t.Sb.J())}function Wi(t,e,n){if(null!==e){for(var i=e.cp.i;i.next();)Wi(t,i.value,n);null!==e.Sb&&(n?e.Sb.zf=!1:e.Sb.J())}}function Ki(t,e){if(!t.Ny){var n=t.Sb,i=t.Va;t.Va=!0;try{var r=t.pa.Gh;0===r&&t.Ub("Layout");var o=t.Qa;1!==t.pa.Gh||o.lf||o.pc||e||o.Tn("Layout");for(var a=t.xl.i;a.next();)Yi(t,a.value,e);n.zf||e&&!n.nF&&0!==r||(n.doLayout(t),ai(t),n.zf=!0)}finally{0===r&&t.Fd("Layout"),t.bv=!n.zf,t.Va=i}}}function Yi(t,e,n){if(null!==e){for(var i=e.cp.i;i.next();)Yi(t,i.value,n);i=e.Sb,null===i||i.zf||n&&!i.nF||(e.Rn=!e.location.H(),i.doLayout(e),e.J(Ed),i.zf=!0,si(t,e))}}function $i(t){function e(t){var e=t.toLowerCase(),r=new c("function");n.add(t,r),n.add(e,r),i.add(t,t),i.add(e,t)}var n=new b("string",c),i=new b("string","string");e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),t.Py=n,t.Oy=i}function Ji(t,e){var n=t.Oy.la(e);return null!==n?n:t.Oy.la(e.toLowerCase())}function Xi(t,e){var n=t.Py.la(e);return null!==n?n:null!==(n=t.Py.la(e.toLowerCase()))?n:(Wl.k("Unknown DiagramEvent name: "+e),null)}function Qi(t,e){var n=!1;if(t.tb.vk(e)&&(n=!0),n=t.eA(e,function(t){return t.V},function(t){return t instanceof _a},!0,function(t){return t instanceof _a},n),0!==n.count)for(n=n.i;n.next();){var i=n.value;i.Ek&&i.Yb()}}function Zi(t,e,n,i){if(null===t.Cd&&(t.Cd=new vs),t.Cd.Yt||t.Cd.group!==n||t.Cd.hB!==i){if(null===n){e=t.Uj?_n(t):t.re.copy(),e.Tf(100,100),t.Cd.initialize(e),e=Wl.Ef();for(var r=t.eg;r.next();){var o=r.value,a=o.layer;null!==a&&a.visible&&!a.Kc&&tr(t,o,i,e)}}else for(n.Y.H()||n.$e(),e=n.Y.copy(),e.Tf(20,20),t.Cd.initialize(e),e=Wl.Ef(),r=n.Nc;r.next();)(o=r.value)instanceof Ea&&tr(t,o,i,e);Wl.Hb(e),t.Cd.group=n,t.Cd.hB=i,t.Cd.Yt=!1}else e&&bs(t.Cd);return t.Cd}function tr(t,e,n,i){if(e!==n)if(e.isVisible()&&e.Oz&&!e.mf){n=e.getAvoidableRect(i),i=t.Cd.Jp,e=t.Cd.Hp;for(var r=n.x+n.width,o=n.y+n.height,a=n.x;a<r;a+=i){for(var s=n.y;s<o;s+=e)ms(t.Cd,a,s);ms(t.Cd,a,o)}for(s=n.y;s<o;s+=e)ms(t.Cd,r,s);ms(t.Cd,r,o)}else if(e instanceof Ds)for(e=e.Nc;e.next();)(r=e.value)instanceof Ea&&tr(t,r,n,i)}function er(t,e){null===t.Cd||t.Cd.Yt||null!==e&&(!e.Oz||e.mf)||(t.Cd.Yt=!0)}function nr(t){-1===t.no&&(t.no=Wl.setTimeout(function(){if(-1!==t.no){ir(t);var e=t.R.event;if(null!==e){var n=rr(t,t.cv);n.Jc(t.position)||(t.position=n,t.R.da=t.qB(t.cv),t.iy(e,null,e.target.Z)||t.doMouseMove(),t.Uj=!0,Gi(t,t.th()),t.Ce=!0,t.Zf(),nr(t))}}},t.OB))}function ir(t){-1!==t.no&&(Wl.clearTimeout(t.no),t.no=-1)}function rr(t,e){var n=t.position,i=t.kE;if(0>=i.top&&0>=i.left&&0>=i.right&&0>=i.bottom)return n;var r=t.tb,o=t.scale,r=Wl.Wg(0,0,r.width*o,r.height*o),a=Wl.xb(0,0);if(e.x>=r.x&&e.x<r.x+i.left){var s=Math.max(t.Cu,1),s=0|s;a.x-=s,e.x<r.x+i.left/2&&(a.x-=s),e.x<r.x+i.left/4&&(a.x-=4*s)}else e.x<=r.x+r.width&&e.x>r.x+r.width-i.right&&(s=Math.max(t.Cu,1),s|=0,a.x+=s,e.x>r.x+r.width-i.right/2&&(a.x+=s),e.x>r.x+r.width-i.right/4&&(a.x+=4*s));return e.y>=r.y&&e.y<r.y+i.top?(s=Math.max(t.Du,1),s|=0,a.y-=s,e.y<r.y+i.top/2&&(a.y-=s),e.y<r.y+i.top/4&&(a.y-=4*s)):e.y<=r.y+r.height&&e.y>r.y+r.height-i.bottom&&(s=Math.max(t.Du,1),s|=0,a.y+=s,e.y>r.y+r.height-i.bottom/2&&(a.y+=s),e.y>r.y+r.height-i.bottom/4&&(a.y+=4*s)),a.Jc(Ou)||(n=new w(n.x+a.x/o,n.y+a.y/o)),Wl.Hb(r),Wl.v(a),n}function or(t,e){if(t.Qa.qi(),t.Zf(),null===t.Eb)return null;"object"!=typeof e&&Wl.k("properties argument must be an Object.");var n=!1,i=e.size||null,r=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(r="NaN");var o=e.maxSize;void 0===e.maxSize&&(n=!0,o="svg"===e.context?new T(1/0,1/0):new T(2e3,2e3));var a=e.position||null,s=e.parts||null,h=void 0===e.padding?1:e.padding,l=e.background||null,u=e.omitTemporary;void 0===u&&(u=!0);var c=e.document||document,f=e.elementFinished||null,d=e.showTemporary;void 0===d&&(d=!u),u=e.showGrid,void 0===u&&(u=d),null!==i&&isNaN(i.width)&&isNaN(i.height)&&(i=null),"number"==typeof h?h=new E(h):h instanceof E||(h=new E(0)),h.left=Math.max(h.left,0),h.right=Math.max(h.right,0),h.top=Math.max(h.top,0),h.bottom=Math.max(h.bottom,0),t.Do=!1,t.rf.Fe(!0);var p=new _(null,c),v=p.wk;if(!(i||r||s||a))return p.width=t.Jb+Math.ceil(h.left+h.right),p.height=t.Mb+Math.ceil(h.top+h.bottom),"svg"===e.context?(v=new R(p.Gd,c,f),li(t,v,h,new T(p.width,p.height),t.Gb,t.ib,s,l,d,u),t.Do=!0,v):(li(t,v,h,new T(p.width,p.height),t.Gb,t.ib,s,l,d,u),t.Do=!0,p);var y=t.pb.Yw,g=new w(0,0),m=t.re.copy();if(m.GJ(t.padding),d)for(var b=!0,b=t.ac.n,x=b.length,k=0;k<x;k++){var M=b[k];if(M.visible&&M.Kc)for(var M=M.zb.n,P=M.length,C=0;C<P;C++){var N=M[C];N.wA&&N.isVisible()&&(N=N.Y,N.H()&&m.Hh(N))}}if(g.x=m.x,g.y=m.y,null!==s){var D,b=!0,x=s.i;for(x.reset();x.next();)(N=x.value)instanceof sa&&(null!==(M=N.layer)&&!M.visible||null!==M&&!d&&M.Kc||!N.isVisible()||(N=N.Y,N.H()&&(b?(b=!1,D=N.copy()):D.Hh(N))));b&&(D=new S(0,0,0,0)),m.width=D.width,m.height=D.height,g.x=D.x,g.y=D.y}return null!==a&&a.H()&&(g=a,r||(r=y)),b=N=0,null!==h&&(N=h.left+h.right,b=h.top+h.bottom),k=x=0,null!==i&&(x=i.width,k=i.height,isFinite(x)&&(x=Math.max(0,x-N)),isFinite(k)&&(k=Math.max(0,k-b))),D=a=0,null!==i&&null!==r?("NaN"===r&&(r=y),i.H()?(a=x,D=k):isNaN(k)?(a=x,D=m.height*r):(a=m.width*r,D=k)):null!==i?i.H()?(r=Math.min(x/m.width,k/m.height),a=x,D=k):isNaN(k)?(r=x/m.width,a=x,D=m.height*r):(r=k/m.height,a=m.width*r,D=k):null!==r?"NaN"===r&&o.H()?(r=Math.min((o.width-N)/m.width,(o.height-b)/m.height),r>y?(r=y,a=m.width,D=m.height):(a=o.width,D=o.height)):(a=m.width*r,D=m.height*r):(r=y,a=m.width,D=m.height),null!==h?(a+=N,D+=b):h=new E(0),null!==o&&(i=o.width,o=o.height,"svg"!==e.context&&n&&!yf&&(a>i||D>o)&&(Wl.trace("Diagram.makeImage(data): Diagram width or height is larger than the default max size. ("+Math.ceil(a)+"x"+Math.ceil(D)+" vs 2000x2000) Consider increasing the max size."),yf=!0),isNaN(i)&&(i=2e3),isNaN(o)&&(o=2e3),isFinite(i)&&(a=Math.min(a,i)),isFinite(o)&&(D=Math.min(D,o))),p.width=Math.ceil(a),p.height=Math.ceil(D),"svg"===e.context?(v=new R(p.Gd,c,f),li(t,v,h,new T(Math.ceil(a),Math.ceil(D)),r,g,s,l,d,u),t.Do=!0,v):(li(t,v,h,new T(Math.ceil(a),Math.ceil(D)),r,g,s,l,d,u),t.Do=!0,p)}function ar(){this.CD=null,this.TG="63ad05bbe23a1786468a4c741b6d2",this.Gi=this.TG===this._tk||null}function sr(t){var n="f",i=e[Wl.Hg("76a715b2f73f148a")][Wl.Hg("72ba13b5")],r=Wl.Hg;if(e[r("7da7")]&&e[r("7da7")][r("76a115b6ed251eaf4692")]){t.Gi=!0;var o=e[r("7da7")][r("76a115b6ed251eaf4692")],o=r(o).split(r("39e9"));if(6>o.length)return;var a=r(o[1]).split(".");if("7da71ca0"!==o[4])return;var s=r(Wl[r("6cae19")]).split(".");if(!(a[0]>s[0]||a[0]===s[0]&&a[1]>=s[1]))return;for(a=i[r("76ad18b4f73e")],s=i[r("73a612b6fb191d")](r("35e7"))+2;s<a;s++)n+=i[s];if(a=n[r("73a612b6fb191d")](r(o[2])),0>a&&r(o[2])!==r("7da71ca0ad381e90")&&(a=n[r("73a612b6fb191d")](r("76a715b2ef3e149757"))),0>a&&(a=n[r("73a612b6fb191d")](r("76a715b2ef3e149757"))),t.Gi=!(0<=a&&a<n[r("73a612b6fb191d")](r("35"))),!t.Gi)return}for(a=i[r("76ad18b4f73e")],s=i[r("73a612b6fb191d")](r("35e7"))+2;s<a;s++)n+=i[s];a=n[r("73a612b6fb191d")](r(Wl.adym)),0>a&&r(Wl.adym)!==r("7da71ca0ad381e90")&&(a=n[r("73a612b6fb191d")](r("76a715b2ef3e149757"))),t.Gi=!(0<=a&&a<n[r("73a612b6fb191d")](r("35"))),t.Gi&&(n=e.document[r("79ba13b2f7333e8846865a7d00")]("div"),i=r("02cncncn"),"."===i[0]&&(i=i[r("69bd14a0f724128a44")](1)),n[r("79a417a0f0181a8946")]=i,e.document[r("78a712aa")]?(e.document[r("78a712aa")][r("7bb806b6ed32388c4a875b")](n),i=e[r("7dad0290ec3b0b91578e5b40007031bf")](n)[r("7dad0283f1390b81519f4645156528bf")](r("78a704b7e62456904c9b12701b6532a8")),e.document[r("78a712aa")][r("68ad1bbcf533388c4a875b")](n),i&&-1!==i.indexOf(r(Wl.qH))&&-1!==i.indexOf(r(Wl.rH))&&(t.Gi=!1)):(t.Gi=null,t.Gi=!1))}function hr(t,n){void 0!==n&&null!==n||Wl.k("Diagram setup requires an argument DIV."),null!==t.Nb&&Wl.k("Diagram has already completed setup."),"string"==typeof n?t.Nb=e.document.getElementById(n):n instanceof HTMLDivElement?t.Nb=n:Wl.k("No DIV or DIV id supplied: "+n),null===t.Nb&&Wl.k("Invalid DIV id; could not get element with id: "+n),void 0!==t.Nb.Z&&Wl.k("Invalid div id; div already has a Diagram associated with it."),"static"===e.getComputedStyle(t.Nb,null).position&&(t.Nb.style.position="relative"),t.Nb.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",t.Nb.style["-ms-touch-action"]="none",t.Nb.innerHTML="",t.Nb.Z=t;var i=new _(t);i.Gd.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",void 0!==i.style&&(i.style.position="absolute",i.style.top="0px",i.style.left="0px","rtl"===e.getComputedStyle(t.Nb,null).getPropertyValue("direction")&&(t.Lr=!0),i.style.zIndex="2",i.style.QL="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none"),t.Jb=t.Nb.clientWidth||1,t.Mb=t.Nb.clientHeight||1,t.Eb=i,t.rf=i.wk;var r=t.rf;t.dD=(e.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),t.Ad=t.computePixelRatio(),vi(t,t.Jb,t.Mb),t.uv=r[Wl.Hg("7eba17a4ca3b1a8346")][Wl.Hg("78a118b7")](r,Wl.lm,4,4),t.Nb.insertBefore(i.Gd,t.Nb.firstChild),i=new _(null),i.width=1,i.height=1,t.Ry=i,t.xC=i.wk;var i=Wl.createElement("div"),o=Wl.createElement("div");i.style.position="absolute",i.style.overflow="auto",i.style.width=t.Jb+"px",i.style.height=t.Mb+"px",i.style.zIndex="1",o.style.position="absolute",o.style.width="1px",o.style.height="1px",t.Nb.appendChild(i),i.appendChild(o),i.onscroll=Hn,i.onmousedown=Gn,i.ontouchstart=Gn,i.Z=t,i.PG=!0,i.QG=!0,t.sw=i,t.Qs=o,t.Tx=Wl.tE(function(){t.jk=null,t.oa()},300,!1),t.wB=Wl.tE(function(){zn(t)},250,!1),t.preventDefault=function(t){return t.preventDefault(),!1},t.On=function(e){if(t.isEnabled){t.Dm=!0;var n=t.Uc;Wl.En&&n.tj?(e.preventDefault(),e.simulated=!0,t.Zs=e):(t.Uc=t.Qb,t.Qb=n,Jn(t,t,e,n,!0),t.iy(e,null,e.target.Z)||(t.doMouseMove(),t.$a.isBeyondDragSize()&&(t.kl=0),Zn(n,e)))}},t.Nn=function(e){if(t.isEnabled){t.Dm=!0;var n=t.Uc;Wl.En&&null!==t.Zs?(t.Zs=e,e.preventDefault()):Wl.En&&400>e.timeStamp-t.Hm?e.preventDefault():t.hl?e.preventDefault():(t.Uc=t.Qb,t.Qb=n,Jn(t,t,e,n,!0),n.Ol=!0,n.Ge=e.detail,(Wl.gF||Wl.hF)&&(e.timeStamp-t.Hm<t.RD&&!t.$a.isBeyondDragSize()?t.kl++:t.kl=1,t.Hm=e.timeStamp,n.Ge=t.kl),t.Ii=n,!0===n.ur.simulated?(e.preventDefault(),e.simulated=!0):(Mc=null,t.doMouseDown(),t.Ii=t.Ii.copy(),1===e.button?e.preventDefault():Zn(n,e)))}},t.Qn=function(e){if(t.isEnabled)if(t.hl&&2===e.button)e.preventDefault();else if(t.hl&&0===e.button&&(t.hl=!1),t.ht)e.preventDefault();else{t.Dm=!0;var n=t.Uc;if(Wl.En){if(400>e.timeStamp-t.Hm)return void e.preventDefault();t.Hm=e.timeStamp}Wl.En&&null!==t.Zs?(t.Zs=null,e.preventDefault()):(t.Uc=t.Qb,t.Qb=n,Jn(t,t,e,n,!0),n.up=!0,n.Ge=e.detail,(Wl.gF||Wl.hF)&&(n.Ge=t.kl),n.bubbles=e.bubbles,e.target.Z&&(n.Vg=e.target.Z),t.fG(e,null,new w,n.Vg)||(t.doMouseUp(),ir(t),Zn(n,e)))}},t.Og=function(e){if(t.isEnabled){var n=t.Uc;t.Uc=t.Qb,t.Qb=n,Jn(t,t,e,n,!0),n.bubbles=!0,n.Nl=void 0!==e.wheelDelta?e.wheelDelta:-40*e.detail,t.doMouseWheel(),Zn(n,e)}},t.Pn=function(){if(t.isEnabled){t.Dm=!1;var e=t.$a;e.cancelWaitAfter(),e instanceof pn&&e.hideToolTip()}},t.pB=function(e){if(t.isEnabled){t.ht=!1,t.hl=!0;var n=t.Uc;t.Uc=t.Qb,t.Qb=n,Xn(t,e,e.targetTouches[0],n,1<e.touches.length),t.doMouseDown(),Zn(n,e)}},t.oB=function(e){if(t.isEnabled){var n=t.Uc;t.Uc=t.Qb,t.Qb=n;var i=null;0<e.changedTouches.length?i=e.changedTouches[0]:0<e.targetTouches.length&&(i=e.targetTouches[0]),Qn(t,e,i,n,1<e.touches.length),t.iy(i?i:e,null,n.Vg)||t.doMouseMove(),Zn(n,e)}},t.nB=function(n){if(t.isEnabled)if(t.ht)n.preventDefault();else{var i=t.Uc;if(t.Uc=t.Qb,t.Qb=i,!(1<n.touches.length)){var r=null,o=null;if(0<n.changedTouches.length?o=n.changedTouches[0]:0<n.targetTouches.length&&(o=n.targetTouches[0]),i.g=t,i.Ge=1,null!==o){r=e.document.elementFromPoint(o.clientX,o.clientY),null!==r&&r.Z instanceof In&&r.Z!==t&&ti(r.Z,o,i),ti(t,n.changedTouches[0],i);var a=o.screenX,s=o.screenY,h=t.UC;n.timeStamp-t.Hm<t.RD&&!(25<Math.abs(h.x-a)||25<Math.abs(h.y-s))?t.kl++:t.kl=1,i.Ge=t.kl,t.Hm=n.timeStamp,t.UC.l(a,s)}i.vd=0,i.button=0,i.buttons=1,i.Ol=!1,i.up=!0,i.Nl=0,i.Bc=!1,i.bubbles=!1,i.event=n,i.timestamp=Date.now(),i.Vg=null===r?n.target.Z:r.Z?r.Z:null,i.Qe=null,t.fG(o?o:n,null,new w,i.Vg)||t.doMouseUp(),Zn(i,n),t.hl=!1}}},t.EF=function(e){if("touch"===e.pointerType){var n=t.oD;void 0===n[e.pointerId]&&(t.kw++,n[e.pointerId]=e),t.$i[0]=null,t.$i[1]=null;for(var i in n)if(null===t.$i[0])t.$i[0]=n[i];else if(null===t.$i[1]){t.$i[1]=n[i];break}t.isEnabled&&(t.ht=!1,t.hl=!0,n=t.Uc,t.Uc=t.Qb,t.Qb=n,Xn(t,e,e,n,1<t.kw),t.doMouseDown(),Zn(n,e))}},t.GF=function(e){if("touch"===e.pointerType&&!(2>t.kw)){var n=t.$i;n[0].pointerId===e.pointerId&&(n[0]=e),n[1].pointerId===e.pointerId&&(n[1]=e),t.isEnabled&&(n=t.Uc,t.Uc=t.Qb,t.Qb=n,Qn(t,e,e,n,!0),t.iy(e,null,n.Vg)||(t.doMouseMove(),Zn(n,e)))}},t.FF=function(e){if("touch"===e.pointerType){var n=t.oD;void 0!==n[e.pointerId]&&(t.kw--,delete n[e.pointerId],n=t.$i,null!==n[0]&&n[0].pointerId===e.pointerId&&(n[0]=null),null!==n[1]&&n[1].pointerId===e.pointerId&&(n[1]=null))}},r.Fe(!0),qn(t)}function lr(t){1<arguments.length&&Wl.k("Palette constructor can only take one optional argument, the DIV HTML element or its id."),In.call(this,t),this.zt=!0,this.El=!1,this.eb=!0,this.qE=iu,this.Sb=new _s}function ur(t){1<arguments.length&&Wl.k("Overview constructor can only take one optional argument, the DIV HTML element or its id."),In.call(this,t),this.Qa.isEnabled=!1,this.Sc=!0,this.fk=null,this.vv=!0,this.zJ("drawShadows",!1);var e=new sa,n=new Po;n.stroke="magenta",n.lb=2,n.fill="transparent",n.name="BOXSHAPE",e.em=!0,e.YA="BOXSHAPE",e.zA="BOXSHAPE",e.TF="BOXSHAPE",e.cursor="move",e.add(n),this.sm=e,n=new Aa,n.type=Jf,n.Af=au;var i=new Fs;i.Vf=!0,n.add(i),i=new Po,i.ph=au,i.Cb="Rectangle",i.Ba=new T(64,64),i.cursor="se-resize",i.alignment=uu,n.add(i),e.RF=n,this.hn=this.sk=!1,this.uf=this.Bt=!0,this.kE=0,this.Bz=new _(null),this.SG=this.Bz.wk,this.bb.se=new dr,this.bb.UF=new pr;var r=this;this.click=function(){var t=r.fk;if(null!==t){var e=t.tb,n=r.R.da;t.position=new w(n.x-e.width/2,n.y-e.height/2)}},this.BF=function(){fr(r)},this.AF=function(){null!==r.fk&&(r.rc(),r.oa())},this.Gl=Zc,this.Sc=!1}function cr(t){t.Sc||t.Xd||!1!==t.Nf||(t.Nf=!0,requestAnimationFrame(function(){if(t.Nf&&!t.Xd&&(t.Nf=!1,null!==t.Nb)){if(t.Xd=!0,ai(t),t.re.H()||Gi(t,t.th()),null===t.Nb&&Wl.k("No div specified"),null===t.Eb&&Wl.k("No canvas specified"),t.Ce){var e=t.fk;if(null!==e&&!e.Qa.lf&&!e.Qa.pc){var e=t.rf,n=t.Bz;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.Eb.width,t.Eb.height),e.drawImage(n.Gd,0,0),n=t.dd,n.reset(),1!==t.scale&&n.scale(t.scale),0===t.position.x&&0===t.position.y||n.translate(-t.position.x,-t.position.y),e.scale(t.Ad,t.Ad),e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy);for(var n=t.ac.n,i=n.length,r=0;r<i;r++)n[r].te(e,t);t.gl=!1,t.Ce=!1}}t.Xd=!1}}))}function fr(t){var e=t.sh;if(null!==e){var n=t.fk;if(null!==n){t.Ce=!0;var n=n.tb,i=e.Eu,r=Wl.jm();r.l(n.width,n.height),i.Ba=r,Wl.Ak(r),t=2/t.scale,i instanceof Po&&(i.lb=t),e.location=new w(n.x-t/2,n.y-t/2)}}}function dr(){pe.call(this),this.ql=null}function pr(){Ke.call(this)}function vr(t){1<arguments.length&&Wl.k("Brush constructor can take at most one optional argument, the Brush type."),Wl.mc(this),this.Q=!1,void 0===t?(this.na=gf,this.qo="black"):"string"==typeof t?(this.na=gf,this.qo=t):(this.na=t,this.qo="black");var e=this.na;e===mf?(this.rp=iu,this.Fo=lu):this.Fo=this.rp=e===bf?au:tu,this.yw=0,this.wv=NaN,this.dh=this.jw=this.bh=null,this.Hy=this.ro=0}function yr(t,e){switch(e){case xf:var n=100*mr(Mf.Cc),i=100*mr(Mf.wd),r=100*mr(Mf.Wc);return Cf.Cc=.4124564*n+.3575761*i+.1804375*r,Cf.wd=.2126729*n+.7151522*i+.072175*r,Cf.Wc=.0193339*n+.119192*i+.9503041*r,Cf.cg=Mf.cg,n=wr(Cf.Cc/Lf[0]),i=wr(Cf.wd/Lf[1]),r=wr(Cf.Wc/Lf[2]),Nf.Cc=116*i-16,Nf.wd=500*(n-i),Nf.Wc=200*(i-r),Nf.cg=Cf.cg,Nf.Cc=Math.min(100,Math.max(0,Nf.Cc+100*t)),n=(Nf.Cc+16)/116,i=n-Nf.Wc/200,Cf.Cc=Lf[0]*xr(Nf.wd/500+n),Cf.wd=Lf[1]*(Nf.Cc>jf*Ef?Math.pow(n,3):Nf.Cc/jf),Cf.Wc=Lf[2]*xr(i),Cf.cg=Nf.cg,n=-.969266*Cf.Cc+1.8760108*Cf.wd+.041556*Cf.Wc,i=.0556434*Cf.Cc+-.2040259*Cf.wd+1.0572252*Cf.Wc,Mf.Cc=255*br((3.2404542*Cf.Cc+-1.5371385*Cf.wd+-.4985314*Cf.Wc)/100),Mf.wd=255*br(n/100),Mf.Wc=255*br(i/100),Mf.cg=Cf.cg,Mf.Cc=Math.round(Mf.Cc),255<Mf.Cc?Mf.Cc=255:0>Mf.Cc&&(Mf.Cc=0),Mf.wd=Math.round(Mf.wd),255<Mf.wd?Mf.wd=255:0>Mf.wd&&(Mf.wd=0),Mf.Wc=Math.round(Mf.Wc),255<Mf.Wc?Mf.Wc=255:0>Mf.Wc&&(Mf.Wc=0),"rgba("+Mf.Cc+", "+Mf.wd+", "+Mf.Wc+", "+Mf.cg+")";case kf:var r=Mf.Cc/255,o=Mf.wd/255,a=Mf.Wc/255,s=Math.max(r,o,a),i=Math.min(r,o,a),h=s-i,i=(s+i)/2;if(0===h)n=r=0;else{switch(s){case r:n=(o-a)/h%6;break;case o:n=(a-r)/h+2;break;case a:n=(r-o)/h+4}n*=60,0>n&&(n+=360),r=h/(1-Math.abs(2*i-1))}return Pf.Cc=Math.round(n),Pf.wd=Math.round(100*r),Pf.Wc=Math.round(100*i),Pf.cg=Mf.cg,Pf.Wc=Math.min(100,Math.max(0,Pf.Wc+100*t)),"hsla("+Pf.Cc+", "+Pf.wd+"%, "+Pf.Wc+"%, "+Pf.cg+")";default:return Wl.k("Unknown color space: "+e),"rgba(0, 0, 0, 1)"}}function gr(t){Sf.clearRect(0,0,1,1),Sf.fillStyle="#000000";var e=Sf.fillStyle;Sf.fillStyle=t,Sf.fillStyle!==e?(Sf.fillRect(0,0,1,1),t=Sf.getImageData(0,0,1,1).data,Mf.Cc=t[0],Mf.wd=t[1],Mf.Wc=t[2],Mf.cg=t[3]/255):(Sf.fillStyle="#FFFFFF",Sf.fillStyle=t,Mf.Cc=0,Mf.wd=0,Mf.Wc=0,Mf.cg=1)}function mr(t){return t/=255,.04045>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)}function br(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function wr(t){return t>Ef?Math.pow(t,1/3):(jf*t+16)/116}function xr(t){var e=t*t*t;return e>Ef?e:(116*t-16)/jf}function kr(){this.cg=this.Wc=this.wd=this.Cc=0}function Tr(){Wl.mc(this),this.P=4225027,this.wc=1,this.mh=null,this.Rb="",this.$b=this.Db=null,this.ib=new w(NaN,NaN).freeze(),this.Se=$u,this.Wh=Uu,this.Vh=Ku,this.dd=new j,this.pm=new j,this.Ri=new j,this.Gb=this.Co=1,this.hg=0,this.Bg=Of,this.Mm=Ru,this.pd=new S(NaN,NaN,NaN,NaN).freeze(),this.nc=new S(NaN,NaN,NaN,NaN).freeze(),this.Tc=new S(0,0,NaN,NaN).freeze(),this.U=this.As=this.Bs=null,this.om=this.he=eu,this.Ns=0,this.bj=1,this.Uq=0,this.yi=1,this.ct=null,this.Rs=-(1/0),this.Xm=0,this.Ym=Ou,this.Zm=Vd,this.cr="",this.tc=this.ia=null,this.oo=-1,this.Tm=this.cn=this.kg=this.Zk=this.qp=null}function Sr(t){null===t.ia&&(t.ia=new Xr)}function Mr(t,e,n,i,r,o,a){var s=.001,h=o.length;t.moveTo(e,n),i-=e,s=r-n,0===i&&(i=.001),r=s/i;for(var l=Math.sqrt(i*i+s*s),u=0,c=!0,f=0!==a;.1<=l;){if(f){for(s=o[u++%h],s-=a;0>s;)s+=o[u++%h],c=!c;f=!1}else s=o[u++%h];s>l&&(s=l);var d=Math.sqrt(s*s/(1+r*r));0>i&&(d=-d),e+=d,n+=r*d,c?t.lineTo(e,n):t.moveTo(e,n),l-=s,c=!c}}function Pr(t,e,n){var i=t.Ql();if(null!==i)for(var r=t.tc.i;r.next();){var o=r.value,a=null;if(null!==o.zq){if(null===(a=re(o,i,t)))continue;o.ly(t,a,n,null)}else if(o.zx){var s=e.g;null===s||s.Oe||o.ly(t,s.ca.Gk,n,i)}else{var h=i.data;if(null===h)continue;s=e.g,null===s||s.Oe||o.ly(t,h,n,i)}a===t&&null!==(s=i.hx(o.im))&&o.wG(s,a,n)}}function Cr(t,e,n,i,r){var o=t.pd,a=t.Ri;a.reset(),Fr(t,a,e,n,i,r),t.Ri=a,o.x=e,o.y=n,o.width=i,o.height=r,a.cu()||a.tG(o)}function Nr(t,e,n,i){return!1!==t.Tg&&(i.multiply(t.transform),n?t.Lg(e,i):t.pn(e,i))}function Dr(t,e,n,i,r){if(!1!==Gr(t)){var o=t.margin,a=o.right+o.left,o=o.top+o.bottom;e=Math.max(e-a,0),n=Math.max(n-o,0),r=r||0,i=Math.max((i||0)-a,0),r=Math.max(r-o,0);var a=t.angle,o=0,o=t.Ba,s=0;t instanceof Po&&(s=t.lb),90===a||270===a?(e=isFinite(o.height)?o.height+s:e,n=isFinite(o.width)?o.width+s:n):(e=isFinite(o.width)?o.width+s:e,n=isFinite(o.height)?o.height+s:n);var o=i||0,s=r||0,h=t instanceof Qr;switch(Ir(t,!0)){case Ff:s=o=0,h&&(n=e=1/0);break;case Bf:isFinite(e)&&e>i&&(o=e),isFinite(n)&&n>r&&(s=n);break;case Rf:isFinite(e)&&e>i&&(o=e),s=0,h&&(n=1/0);break;case If:isFinite(n)&&n>r&&(s=n),o=0,h&&(e=1/0)}var h=t.Bf,l=t.Ah;o>h.width&&l.width<h.width&&(o=h.width),s>h.height&&l.height<h.height&&(s=h.height),i=Math.max(o/t.scale,l.width),r=Math.max(s/t.scale,l.height),h.width<i&&(i=Math.min(l.width,i)),h.height<r&&(r=Math.min(l.height,r)),e=Math.min(h.width,e),n=Math.min(h.height,n),e=Math.max(i,e),n=Math.max(r,n),90!==a&&270!==a||(o=e,e=n,n=o,o=i,i=r,r=o),t.pd.Ra(),t.Mn(e,n,i,r),t.pd.freeze(),t.pd.H()||Wl.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.pd.toString()),_r(t,!1)}}function Ar(t,e,n,i,r){var o=t.Y;if(o.x=e,o.y=n,o.width=i,o.height=r,!t.Ba.H()){o=t.pd,n=t.margin,e=n.right+n.left;var a=n.top+n.bottom;switch(n=o.width+e,o=o.height+a,i+=e,r+=a,e=Ir(t,!0),n===i&&o===r&&(e=Ff),e){case Ff:(n>i||o>r)&&(_r(t,!0),Dr(t,n>i?i:n,o>r?r:o));break;case Bf:_r(t,!0),Dr(t,i,r,0,0);break;case Rf:_r(t,!0),Dr(t,i,o,0,0);break;case If:_r(t,!0),Dr(t,n,r,0,0)}}}function Er(t,e,n){var i=t.nc;0===i.width||0===i.height||isNaN(i.x)||isNaN(i.y)||(null!==t.$b&&(jr(t,e,t.$b,!0,!0),t.$b instanceof vr&&t.$b.type===bf?(e.beginPath(),e.rect(i.x,i.y,i.width,i.height),e.Ig(t.$b)):e.fillRect(i.x,i.y,i.width,i.height)),null!==t.Db&&(jr(t,e,t.Db,!0,!1),t.Db instanceof vr&&t.Db.type===bf?(e.beginPath(),e.rect(i.x,i.y,i.width,i.height),e.Ig(t.Db)):e.fillRect(i.x,i.y,i.width,i.height)),t.yk(e,n))}function jr(t,e,n,i,r){if(null!==n){var o=1,a=1;if("string"==typeof n)i?e.fillStyle=n:e.strokeStyle=n;else if(n.type===gf)i?e.fillStyle=n.color:e.strokeStyle=n.color;else{var s,a=t.Ja,o=a.width,a=a.height;if(r)var h=t.Y,o=h.width,a=h.height;var l=e instanceof W;if(l&&n.dh&&(n.type===wf||n.ro===o&&n.Hy===a))s=n.dh;else{var u=h=0,c=0,f=0,d=0,p=0,p=d=0;if(r&&(h=t.Y,o=h.width,a=h.height,d=h.x,p=h.y),h=n.start.x*o+n.start.offsetX,u=n.start.y*a+n.start.offsetY,c=n.end.x*o+n.end.offsetX,f=n.end.y*a+n.end.offsetY,h+=d,c+=d,u+=p,f+=p,n.type===mf)s=e.createLinearGradient(h,u,c,f);else if(n.type===bf)p=isNaN(n.It)?Math.max(o,a)/2:n.It,isNaN(n.Ku)?(d=0,p=Math.max(o,a)/2):d=n.Ku,s=e.createRadialGradient(h,u,d,c,f,p);else if(n.type===wf)try{s=e.createPattern(n.pattern,"repeat")}catch(t){s=null}else Wl.xd(n.type,"Brush type");if(n.type!==wf&&null!==(r=n.tk))for(r=r.i;r.next();)s.addColorStop(r.key,r.value);if(l&&(n.dh=s,null!==s&&(n.ro=o,n.Hy=a),null===s&&n.type===wf&&-1!==n.ro)){n.ro=-1;var v=t.g;null!==v&&-1===n.ro&&Wl.setTimeout(function(){v.Sx()},600)}}i?e.fillStyle=s:e.strokeStyle=s}}}function Lr(t){if(0!=(2048&t.P)==!0){var e=t.dd;if(e.reset(),!t.nc.H()||!t.pd.H())return void Ur(t,!1);e.translate(t.nc.x,t.nc.y),e.translate(-t.Aa.x,-t.Aa.y);var n=t.Ja;Fr(t,e,n.x,n.y,n.width,n.height),Ur(t,!1),Hr(t,!0)}0!=(4096&t.P)==!0&&(e=t.N,null===e?(t.pm.set(t.dd),t.Co=t.scale,Hr(t,!1)):null!==e.qh&&(n=t.pm,n.reset(),e.Zg()?n.multiply(e.pm):null!==e.N&&n.multiply(e.N.pm),n.multiply(t.dd),t.Co=t.scale*e.Co,Hr(t,!1)))}function Fr(t,e,n,i,r,o){if(1!==t.scale&&e.scale(t.scale),0!==t.angle){var a=au;t.rj()&&t.Af.gd()&&(a=t.Af);var s=Wl.K();if(t instanceof sa&&t.Yf!==t)for(n=t.Yf,i=n.Ja,s.Hu(i.x,i.y,i.width,i.height,a),n.Ri.ob(s),s.offset(-n.Aa.x,-n.Aa.y),a=n.N;null!==a&&a!==t;)a.Ri.ob(s),s.offset(-a.Aa.x,-a.Aa.y),a=a.N;else s.Hu(n,i,r,o,a);e.rotate(t.angle,s.x,s.y),Wl.v(s)}}function Or(t){if(!1===Wr(t)){var e=t.N;null!==e?e.I():t.rj()&&null!==(e=t.g)&&(e.rg.add(t),t instanceof Ea&&t.Uf(),e.Me()),Kr(t,!0)}}function Ir(t,e){var n=t.stretch,i=t.N;return null!==i&&i.na===Qf?Rr(t,i.ce(t.Zb),i.be(t.column),e):null!==i&&i.na===Xf&&i.Hd()===t?Br(t,Bf,e):n===Of?null!==i?i.na===Jf&&i.Hd()===t?Br(t,Bf,e):(n=i.$d,n===Of?Br(t,Ff,e):Br(t,n,e)):Br(t,Ff,e):Br(t,n,e)}function Rr(t,e,n,i){var r=t.stretch;if(r!==Of)return Br(t,r,i);var o=r=null;switch(e.stretch){case If:o=!0;break;case Bf:o=!0}switch(n.stretch){case Rf:r=!0;break;case Bf:r=!0}return e=t.N.$d,null===r&&(r=e===Rf||e===Bf),null===o&&(o=e===If||e===Bf),!0===r&&!0===o?Br(t,Bf,i):!0===r?Br(t,Rf,i):!0===o?Br(t,If,i):Br(t,Ff,i)}function Br(t,e,n){if(n)return e;if(e===Ff)return Ff;if(n=t.Ba,n.H())return Ff;if(t=t.angle,!isNaN(n.width))if(90!==t&&270!==t){if(e===Rf)return Ff;if(e===Bf)return If}else{if(e===If)return Ff;if(e===Bf)return Rf}if(!isNaN(n.height))if(90!==t&&270!==t){if(e===If)return Ff;if(e===Bf)return Rf}else{if(e===Rf)return Ff;if(e===Bf)return If}return e}function qr(t,e){t.P=e?512|t.P:t.P&-513}function zr(t){return 0!=(1024&t.P)}function Vr(t,e){t.P=e?1024|t.P:t.P&-1025}function Ur(t,e){t.P=e?2048|t.P:t.P&-2049}function Hr(t,e){t.P=e?4096|t.P:t.P&-4097}function Gr(t){return 0!=(8192&t.P)}function _r(t,e){t.P=e?8192|t.P:t.P&-8193}function Wr(t){return 0!=(16384&t.P)}function Kr(t,e){t.P=e?16384|t.P:t.P&-16385}function Yr(t){var e=t.V;if(e instanceof Ea&&(null!==t.Pd||t===e.port)){var n=e.g;null===n||n.pa.gb||Fa(e,t)}}function $r(t){var e=t.g;null===e||e.pa.gb||(t instanceof Qr?t instanceof Ea?t.Uf():ao(t,t,function(t){Yr(t)}):Yr(t))}function Jr(t,e){if("string"==typeof e)if(t instanceof Oo)t.text=e;else if(t instanceof Po)t.Cb=e;else if(t instanceof Ho)t.source=e;else if(t instanceof Qr){var i=Kl(Qr,e);null!==i?t.type=i:Wl.k("Unknown Panel type as an argument to GraphObject.make: "+e)}else t instanceof vr?(i=Kl(vr,e),null!==i?t.type=i:Wl.k("Unknown Brush type as an argument to GraphObject.make: "+e)):t instanceof mt?(i=Kl(mt,e),null!==i?t.type=i:Wl.k("Unknown Geometry type as an argument to GraphObject.make: "+e)):t instanceof Ct?(i=Kl(Ct,e),null!==i?t.type=i:Wl.k("Unknown PathSegment type as an argument to GraphObject.make: "+e)):Wl.k("Unable to use a string as an argument to GraphObject.make: "+e);else if(e instanceof Tr)i=e,t instanceof Qr||Wl.k("A GraphObject can only be added to a Panel, not to: "+t),t.add(i);else if(e instanceof So){var o,a=e,i=t;a.we&&i.getRowDefinition?o=i.getRowDefinition(a.index):!a.we&&i.getColumnDefinition?o=i.getColumnDefinition(a.index):Wl.k("A RowColumnDefinition can only be added to a Panel, not to: "+t),o.Np(a)}else if(e instanceof n)"function"==typeof t.gc?t.gc(e):Wl.Ej(t,e);else if(e instanceof ie)t instanceof Tr?t.bind(e):t instanceof So?t.bind(e):Wl.k("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof Pt)t instanceof mt?t.dc.add(e):Wl.k("A PathFigure can only be added to a Geometry, not to: "+t);else if(e instanceof Ct)t instanceof Pt?t.vb.add(e):Wl.k("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Os)t instanceof In?t.Sb=e:t instanceof Ds?t.Sb=e:Wl.k("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(i=0;i<e.length;i++)Jr(t,e[i]);else if("object"==typeof e&&null!==e)if(t instanceof vr){o=new r;for(i in e)a=parseFloat(i),isNaN(a)?o[i]=e[i]:t.addColorStop(a,e[i]);Wl.Fu(t,o)}else if(t instanceof So){void 0!==e.row?(o=e.row,(void 0===o||null===o||1/0===o||isNaN(o)||0>o)&&Wl.k("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+o),t.we=!0,t.index=o):void 0!==e.column&&(o=e.column,(void 0===o||null===o||1/0===o||isNaN(o)||0>o)&&Wl.k("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+o),t.we=!1,t.index=o),o=new r;for(i in e)"row"!==i&&"column"!==i&&(o[i]=e[i]);Wl.Fu(t,o)}else Wl.Fu(t,e);else Wl.k('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function Xr(){this.sr=this.Ai=this.ej=this.Cq=this.Fq=this.Eq=this.Dq=this.Ti=this.ks=this.js=this.Ui=this.Vi=this.Wi=this.ms=this.ls=this.zi=this.Fi=this.xi=null}function Qr(t){Tr.call(this),void 0===t?this.na=Yf:(Wl.nb(t,Qr,Qr,"type"),this.na=t),this.xa=new c(Tr),this.gf=Ru,this.na===nd&&(this.Fn=!0),this.gr=eu,this.Di=Of,this.na===Qf&&Zr(this),this.Dp=qf,this.Er=Wu,this.Fr=Ou,this.Br=0,this.Ar=100,this.Dr=10,this.Cr=0,this.Xk=this.Vd=this.Sj=this.ym=this.Am=null,this.Rr=NaN,this.tg=this.Zj=null,this.Uo="category",this.sg=null,this.gj=new S(NaN,NaN,NaN,NaN),this.kk=this.Os=this.en=null,this.Hj=""}function Zr(t){t.Lj=Ru,t.Nh=1,t.Ci=null,t.vm=null,t.Mh=1,t.Lh=null,t.um=null,t.Yd=[],t.Td=[],t.Wm=hd,t.tm=hd,t.fj=0,t.Oi=0}function to(t,e){e.P=6144|t.P,e.wc=t.wc,e.Db=t.Db,e.$b=t.$b,e.Se=t.Se.S(),e.Wh=t.Wh.S(),e.Vh=t.Vh.S(),e.Ri=t.Ri.copy(),e.Gb=t.Gb,e.hg=t.hg,e.Bg=t.Bg,e.Mm=t.Mm.S(),e.he=t.he.S(),e.om=t.om.S(),e.Xm=t.Xm,e.Ym=t.Ym.S(),e.Zm=t.Zm,null!==t.kg&&(e.kg=t.kg.copy()),e.cn=t.cn,t instanceof Oo&&(e.Ed=t.Ed,e.qc=t.qc,e.mg=t.mg,e.vl=t.vl,e.lg=t.lg,e.zl=t.zl,e.Em=t.Em,e.Yj=t.Yj,e.Xj=t.Xj,e.Yi=t.Yi,e.qk=t.qk,e.xm=null,e.ci=t.ci,e.di=t.di,e.gh=t.gh,e.Xo=t.Xo,e.qg=t.qg,e.pg=t.pg,e.og=t.og,e.zm=t.zm)}function eo(t,e,n,i){for(var r=i.length,o=t.Y,a=n?t.ce(0):t.be(0),s=0;s<r;s++){var h=i[s];if(void 0!==h&&h!==a&&0!==h.Ka){if(n){if(h.position>o.height)continue}else if(h.position>o.width)continue;var l=h.uq;isNaN(l)&&(l=n?t.Nh:t.Mh);var u=h.tq;null===u&&(u=n?t.Ci:t.Lh),0!==l&&null!==u&&(jr(t,e,u,!1,!1),e.beginPath(),u=h.position+l,n?u>o.height&&(l-=u-o.height):u>o.width&&(l-=u-o.width),h=h.position+l/2,e.lineWidth=l,u=t.padding,n?(h+=u.top,l=u.left,u=o.width-u.right,e.moveTo(l,h),e.lineTo(u,h)):(h+=u.left,l=u.top,u=o.height-u.bottom,e.moveTo(h,l),e.lineTo(h,u)),e.stroke())}}}function no(t,e,n,i,r){for(var o=i.length,a=t.Y,s=0;s<o;s++){var h=i[s];if(void 0!==h&&null!==h.background&&h.Yz!==r&&0!==h.Ka){var l=n?a.height:a.width;if(!(h.position>l)){var u=h.Ye(),c=h.uq;isNaN(c)&&(c=n?t.Nh:t.Mh);var f=h.tq;null===f&&(f=n?t.Ci:t.Lh),null===f&&(c=0),u-=c,c=h.position+c,u+=h.Ka,c+u>l&&(u=l-c),0>=u||(l=t.padding,jr(t,e,h.background,!0,!1),n?e.fillRect(l.left,c+l.top,a.width-(l.left+l.right),u):e.fillRect(c+l.left,l.top,u,a.height-(l.top+l.bottom)))}}}}function io(t,e,n){if(0!=t%e)return!1;e=n.length;for(var i=0;i<e;i++)if(0==t%n[i])return!1;return!0}function ro(t){return"LineV"===t||"BarV"===t}function oo(t){return null!==t.V?t.V.Yf:null}function ao(t,e,n){if(n(t,e),e instanceof Qr){e=e.xa.n;for(var i=e.length,r=0;r<i;r++)ao(t,e[r],n)}}function so(t,e){ho(t,t,e)}function ho(t,e,n){n(e),e=e.xa.n;for(var i=e.length,r=0;r<i;r++){var o=e[r];o instanceof Qr&&ho(t,o,n)}}function lo(t,e,n){if(n(e),e instanceof Qr){e=e.xa.n;for(var i=e.length,r=0;r<i;r++)lo(t,e[r],n)}}function uo(t,e,n){if(n(e))return e;if(e instanceof Qr){e=e.xa.n;for(var i=e.length,r=0;r<i;r++){var o=uo(t,e[r],n);if(null!==o)return o}}return null}function co(t){t=t.xa.n;for(var e=t.length,n=0,i=0;i<e;i++){var r=t[i];if(r instanceof Qr)n=Math.max(n,co(r));else if(r instanceof Po){t:{if(null!==!r.Mf)switch(r.Go){case"None":case"Square":case"Ellipse":case"Circle":case"LineH":case"LineV":case"FramedRectangle":case"RoundedRectangle":case"Line1":case"Line2":case"Border":case"Cube1":case"Cube2":case"Junction":case"Cylinder1":case"Cylinder2":case"Cylinder3":case"Cylinder4":case"PlusLine":case"XLine":case"ThinCross":case"ThickCross":r=0;break t}r=r.gi/2*r.dn*r.nj()}n=Math.max(n,r)}}return n}function fo(t,e,n,i){for(var r=t.xa.n,o=r.length;o--;){var a=r[o];if(a.visible){var s=a.Y,h=t.Ja;s.x>h.width||s.y>h.height||0>s.x+s.width||0>s.y+s.height||(a instanceof Qr&&fo(a,e,n,i),null!==e&&(a=e(a)),null===a||null!==n&&!n(a)||i.add(a))}}}function po(t){var e=null;return t instanceof Po&&(e=t.A,e===eu&&(e=null),null!==(t=t.wf)&&null===e&&(e=t.A)),null===e&&(e=nu),e}function vo(t){var e=null;return t instanceof Po&&(e=t.B,e===eu&&(e=null),null!==(t=t.wf)&&null===e&&(e=t.B)),null===e&&(e=uu),e}function yo(t,e){t.P=e?16777216|t.P:t.P&-16777217}function go(t){return null!==(t=t.Xk)&&t.Q}function mo(t){var e=t.Xk;if(null===e)null!==t.data&&Wl.k("Template cannot have .data be non-null: "+t),t.Xk=e=new c(ie);else if(e.Q)return;var n=new c(Tr);yo(t,!1),ao(t,t,function(t,i){var r=i.tc;if(null!==r)for(Vr(i,!1),r=r.i;r.next();){var o=r.value;o.mode===wc&&Vr(i,!0);var a=o.zq;null!==a&&("/"===a&&yo(t,!0),null!==(a=re(o,t,i))&&(n.add(a),null===a.qp&&(a.qp=new c(ie)),a.qp.add(o))),e.add(o)}if(i instanceof Qr&&i.type===Qf){if(0<i.Yd.length)for(r=i.Yd,o=r.length,a=0;a<o;a++){var s=r[a];if(void 0!==s&&null!==s.tc)for(var h=s.tc.i;h.next();){var l=h.value;l.Cg=s,l.it=2,l.yp=s.index,e.add(l)}}if(0<i.Td.length)for(r=i.Td,o=r.length,a=0;a<o;a++)if(void 0!==(s=r[a])&&null!==s.tc)for(h=s.tc.i;h.next();)l=h.value,l.Cg=s,l.it=1,l.yp=s.index,e.add(l)}});for(var i=n.i;i.next();){var r=i.value;if(null!==r.qp){Vr(r,!0);for(var o=r.qp.i;o.next();){var a=o.value;null===r.tc&&(r.tc=new c(ie)),r.tc.add(a)}}r.qp=null}for(i=e.i;i.next();)if(r=i.value,null!==(o=r.Cg)){r.Cg=null;var s=r.ky,h=s.indexOf(".");0<h&&o instanceof Qr&&(a=s.substring(0,h),s=s.substr(h+1),h=o.td(a),null!==h?(o=h,r.ky=s):Wl.trace('Warning: unable to find GraphObject named "'+a+'" for Binding: '+r.toString())),o instanceof So?(r.im=Wl.Jd(o.N),o.N.oo=r.im):(r.im=Wl.Jd(o),o.oo=r.im)}e.freeze(),t instanceof sa&&t.ee()&&t.$e()}function bo(t){return!!(t.type===Jf||t.type===Xf||t.type===ed||t.type===Qf&&0<t.xa.length&&(t=t.xa.ea(0),t.Vf&&t instanceof Qr&&(t.type===Zf||t.type===td)))}function wo(t,e,n){if(!(void 0===e||null===e||0>n)){var i;i=ko(t,e);var r=t.yI,o=null;null!==r&&(o=r.la(i)),null===o&&(rd||(rd=!0,Wl.trace('No item template Panel found for category "'+i+'" on '+t),Wl.trace("  Using default item template."),i=new Qr,r=new Oo,r.bind(new ie("text","",xc)),i.add(r),od=i),o=od),i=o,null!==i&&(mo(i),i=i.copy(),0!=(16777216&i.P)&&null!==(r=t.Ql())&&yo(r,!0),"object"==typeof e&&(null===t.sg&&(t.sg=new b(Object,Qr)),t.sg.add(e,i)),r=n,bo(t)&&r++,t.Ld(r,i),i.Vd=e,xo(t,r,n),i.Vd=null,i.data=e)}}function xo(t,e,n){for(t=t.xa;e<t.length;){var i=t.ea(e);if(i instanceof Qr){var r=e,o=n;i.type===Zf?i.Zb=r:i.type===td&&(i.column=r),i.fu=o}e++,n++}}function ko(t,e){if(null===e)return"";var n=t.Uo,i="";if("function"==typeof n)i=n(e);else{if("string"!=typeof n||"object"!=typeof e)return"";if(""===n)return"";i=Wl.sb(e,n)}return void 0===i?"":"string"==typeof i?i:(Wl.k("Panel.getCategoryForItemData found a non-string category for "+e+": "+i),"")}function To(t,e,n){var i=e.CE;if(null!==i&&i(e,n),e instanceof Qr){e=e.xa.n;for(var i=e.length,r=0;r<i;r++){var o=e[r];n&&o instanceof Qr&&!o.isEnabled||To(t,o,n)}}}function So(){Wl.mc(this),this.mh=null,this.Ov=!0,this.uc=0,this.hf=NaN,this.dk=0,this.ck=1/0,this.he=eu,this.ib=this.Sa=0,this.tc=null,this.$s=ad,this.Bg=Of,this.Vs=this.hk=null,this.Ws=NaN,this.Db=this.Yh=null,this.br=!1}function Mo(t){if(t.Iu===ad){var e=t.mh;return t.we?e.tJ:e.sH}return t.Iu}function Po(){Tr.call(this),this.Mf=this.hb=null,this.Go="None",this.yr=Of,this.qc=this.zd="black",this.gi=1,this.tp="butt",this.wp="miter",this.dn=10,this.vp=null,this.tf=0,this.fi=this.ei=eu,this.xs=this.ws=NaN,this.Ir=!1,this.zs=null,this.Io=this.Ap="None",this.qg=1,this.pg=0,this.og=1}function Co(t,e,n,i){var r=n.length;if(!(4>r)){for(var o=i.Aa,a=Math.max(1,o.width),o=o.height,s=n[0],h=n[1],l=0,u=0,c=0,f=0,d=0,p=0,v=f=0,y=Wl.mb(),g=2;g<r;g+=2)l=n[g],u=n[g+1],c=l-s,f=u-h,0===c&&(c=.001),d=f/c,p=Math.atan2(f,c),f=Math.sqrt(c*c+f*f),y.push([c,p,d,f]),v+=f,s=l,h=u;s=n[0],h=n[1],c=i.Aa.width,i instanceof Po&&(c-=i.lb),1>c&&(c=1);for(var r=n=c,l=a/2,u=0!==l,g=0,f=y[g],c=f[0],p=f[1],d=f[2],f=f[3],m=0;.1<=v;){if(0===m&&(u?(r=n,r-=l,v-=l,u=!1):r=n,0===r&&(r=1)),r>v)return void Wl.wa(y);r>f?(m=r-f,r=f):m=0;var b=Math.sqrt(r*r/(1+d*d));if(0>c&&(b=-b),s+=b,h+=d*b,t.translate(s,h),t.rotate(p),t.translate(-(a/2),-(o/2)),0===m&&i.yk(t,e),t.translate(a/2,o/2),t.rotate(-p),t.translate(-s,-h),v-=r,f-=r,0!==m){if(++g===y.length)return void Wl.wa(y);f=y[g],c=f[0],p=f[1],d=f[2],f=f[3],r=m}}Wl.wa(y)}}function No(t,e,n,i){var r=e.length;if(!(4>r)){var o=.001,a=n.length,s=e[0],h=e[1];if(4===r)Mr(t,s,h,e[2],e[3],n,i);else{t.moveTo(s,h);for(var l=o=0,u=0,c=0,f=0,d=c=0,p=Wl.mb(),v=2;v<r;v+=2)o=e[v],l=e[v+1],u=o-s,c=l-h,0===u&&(u=.001),f=c/u,c=Math.sqrt(u*u+c*c),p.push([u,f,c]),d+=c,s=o,h=l;s=e[0],h=e[1],e=0;for(var r=!0,o=n[e%a],l=0!==i,v=0,c=p[v],u=c[0],f=c[1],c=c[2],y=0;.1<=d;){0===y&&(o=n[e%a],e++,l&&(i%=o,o-=i,l=!1)),o>d&&(o=d),o>c?(y=o-c,o=c):y=0;var g=Math.sqrt(o*o/(1+f*f));if(0>u&&(g=-g),s+=g,h+=f*g,r?t.lineTo(s,h):t.moveTo(s,h),d-=o,c-=o,0!==y){if(++v===p.length)return void Wl.wa(p);c=p[v],u=c[0],f=c[1],c=c[2],o=y}else r=!r}Wl.wa(p)}}}function Do(t,e,n,i){if(!1!==Gr(t)){t.pd.Ra();var r=t.gi;0===r&&i instanceof Aa&&i.type===ed&&i.rb instanceof Po&&(r=i.rb.lb),r*=t.Gb,i instanceof _a&&null!==i.hb?(e=i.hb.kb,Cr(t,e.x-r/2,e.y-r/2,e.width+r,e.height+r)):Cr(t,-(r/2),-(r/2),e+r,n+r),t.pd.freeze(),t.pd.H()||Wl.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.pd.toString()),_r(t,!1)}}function Ao(t){var e=t.jA;return null!==t.Mf?e===Of?Bf:e:e===Of?Zu[t.Cb].$d:e}function Eo(t,e,n,i,r){return t=n.x-t,e=n.y-e,e=t*t+e*e,e<i?(r.x=n.x,r.y=n.y,e):i}function jo(t,e,n,i,r,o,a,s,h){var l=!1,u=(r-a)*(e-i)-(o-s)*(t-n);return 0!==u&&(h.x=((r*s-o*a)*(t-n)-(r-a)*(t*i-e*n))/u,h.y=((r*s-o*a)*(e-i)-(o-s)*(t*i-e*n))/u,(t>n?t-n:n-t)<(e>i?e-i:i-e)?(r=e<i?e:i,t=e<i?i:e,(h.y>r||$(h.y,r))&&(h.y<t||$(h.y,t))&&(l=!0)):(r=t<n?t:n,t=t<n?n:t,(h.x>r||$(h.x,r))&&(h.x<t||$(h.x,t))&&(l=!0)),l)}function Lo(t,e,n,i){if(!t.PE(e,n,i))return!1;t=e.x,e=e.y;var r=n.x;n=n.y;var o=i.x;if(i=i.y,t===r){var a=0;return t=0,e<n?(a=e,t=n):(a=n,t=e),i>=a&&i<=t}return t<r?(a=t,t=r):a=r,o>=a&&o<=t}function Fo(t){var e=t.g;null!==e&&e.pa.gb||(t.sq=Yd,"None"!==t.Ap?(t.Ne=-1,t.ph=du):"None"!==t.Io&&(t.Ne=0,t.ph=new L(1-du.x,du.y)))}function Oo(){Tr.call(this),this.Ed="",this.qc="black",this.mg="13px sans-serif",this.vl="start",this.lg=Ff,this.zl=vu,this.Em=!0,this.Xj=this.Yj=!1,this.Yi=wd,this.qk=bd,this.Wv=this.ke=0,this.xm=this.kz=this.lz=null,this.Pi=new Uo,this.rr=!1,this.Ue=this.Sq=this.jt=this.wl=this.kt=null,this.di=this.ci=0,this.gh=1/0,this.Xo=0,this.qg=1,this.pg=0,this.og=1,this.zm=null}function Io(t,e,n,i){e=e.replace(/^\s+|\s+$/g,"");var r=0,o=0,a=0,s=t.mg,o=t.ci+t.di,h=Math.max(0,qo(t)+o),a=t.Yi===xd?zo(s):0;if(t.ke>=t.gh)return new T(0,h);if(t.qk===gd){if(n.hj=1,o=Bo(e,s),0===a||o<=i)return n.ff=o,n.qf.push(n.ff),n.Re.push(e),new T(o,h);var l=Ro(e);e=e.substr(l.length);for(var u=Ro(e),o=Bo(l+u,s);0<u.length&&o<=i;)l+=u,e=e.substr(u.length),u=Ro(e),o=Bo((l+u).replace(/^\s+|\s+$/g,""),s);for(l+=u.replace(/^\s+|\s+$/g,""),i=Math.max(1,i-a);Bo(l,s)>i&&1<l.length;)l=l.substr(0,l.length-1);return l+=pd,a=Bo(l,s),n.qf.push(a),n.ff=a,n.Re.push(l),new T(a,h)}var c=0;for(0===e.length&&(c=1,n.qf.push(0),n.Re.push(e));0<e.length;){for(l=Ro(e),e=e.substr(l.length);Bo(l,s)>i;){for(u=1,o=Bo(l.substr(0,u),s),a=0;o<=i;)u++,a=o,o=Bo(l.substr(0,u),s);if(1===u?(n.qf[t.ke+c]=o,r=Math.max(r,o)):(n.qf[t.ke+c]=a,r=Math.max(r,a)),u--,1>u&&(u=1),n.Re[t.ke+c]=l.substr(0,u),c++,l=l.substr(u),t.ke+c>t.gh)break}for(u=Ro(e),o=Bo(l+u,s);0<u.length&&o<=i;)l+=u,e=e.substr(u.length),u=Ro(e),o=Bo((l+u).replace(/^\s+|\s+$/g,""),s);if(""!==(l=l.replace(/^\s+|\s+$/g,""))&&("­"===l[l.length-1]&&(l=l.substring(0,l.length-1)+"‐"),0===u.length?(n.qf.push(o),r=Math.max(r,o)):(a=Bo(l,s),n.qf.push(a),r=Math.max(r,a)),n.Re.push(l),c++,t.ke+c>t.gh))break}return n.hj=Math.min(t.gh,c),n.ff=Math.max(n.ff,r),new T(n.ff,h*n.hj)}function Ro(t){for(var e=t.length,n=0;n<e&&!ld.test(t.charAt(n));)n++;for(;n<e&&ld.test(t.charAt(n));)n++;return n>=e?t:t.substr(0,n)}function Bo(t,e){return vd!==e&&(vd=yd.font=e),yd.measureText(t).width}function qo(t){if(null!==t.xm)return t.xm;var e=t.mg;vd!==e&&(vd=yd.font=e);var n=0;return void 0!==ud[e]&&5e3>cd?n=ud[e]:(n=1.3*yd.measureText("M").width,ud[e]=n,cd++),t.xm=n}function zo(t){vd!==t&&(vd=yd.font=t);var e=0;return void 0!==fd[t]&&5e3>dd?e=fd[t]:(e=yd.measureText(pd).width,fd[t]=e,dd++),e}function Vo(t,e,n){var i=t.Ed.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),r=t.ci+t.di,r=Math.max(0,qo(t)+r);if(0===i.length)return n.ff=0,t.ke=1,r;if(!t.yx){var o=i.indexOf("\n",0);0<=o&&(i=i.substr(0,o))}for(var o=0,a=t.ke=0,s=-1,h=!1;!h;)s=i.indexOf("\n",a),-1===s&&(s=i.length,h=!0),a<=s&&(a=i.substr(a,s-a),t.qk!==gd?(n.hj=0,a=Io(t,a,n,e),o+=a.height,t.ke+=n.hj):(Io(t,a,n,e),o+=r,t.ke++),t.ke===t.gh&&(h=!0)),a=s+1;return t.Wv=o}function Uo(){this.ff=this.hj=0,this.qf=[],this.Re=[]}function Ho(){Tr.call(this),this.Te=null,this.bt="",this.ik=Ju,this.Lo=Bf,this.hi=this.Ue=null,this.Ko=au,this.lg=Ff,this.xp=null,this.fz=!1,this.yv=!0,this.Uv=!1,this.op=null}function Go(){var t=Md;if(0===t.length)for(var n=e.document.getElementsByTagName("canvas"),i=n.length,r=0;r<i;r++){var o=n[r];o.parentElement&&o.parentElement.Z&&t.push(o.parentElement.Z)}return t}function _o(t,e){t.Lv=!0,t.Jo=!1;for(var n=null,i=Go(),r=i.length,o=0;o<r;o++){var a=i[o],s=a.hp.la(t.src);if(null!==s)for(r=s.length,o=0;o<r;o++)n=s[o],a.rz.add(n),a.Me(),null===t.uz&&(t.uz=e,null!==n.hi&&n.hi(n,e))}}function Wo(t,e){t.Jo=e;for(var n=null,i=Go(),r=i.length,o=0;o<r;o++)if(null!==(n=i[o].hp.la(t.src))){for(var r=n.length,a=Wl.mb(),o=0;o<r;o++)a.push(n[o]);for(o=0;o<r;o++)n=a[o],null!==n.Ue&&n.Ue(n,e);Wl.wa(a)}}function Ko(t){this.Gp=[new $o(t,1)]}function Yo(t,e,n,i){var r=new _(null),o=r.wk,a=1/e;r.width=n/e,r.height=i/e,e=new $o(r.Gd,e),n=t.Gp[t.Gp.length-1],o.setTransform(a*n.lq,0,0,a*n.lq,0,0),o.drawImage(n.source,0,0),t.Gp.push(e)}function $o(t,e){this.source=t,this.lq=e}function Jo(){this.o=new mt,this.Vb=null}function Xo(t,e,n,i,r,o){null===t.o&&Wl.k("StreamGeometryContext has been closed"),void 0!==r&&!0===r?(null===t.Vb&&Wl.k("Need to call beginFigure first"),i=new Ct(hc),i.D=e,i.F=n,t.Vb.vb.add(i)):(t.Vb=new Pt,t.Vb.ja=e,t.Vb.ha=n,t.Vb.bu=i,t.o.dc.add(t.Vb)),void 0!==o&&(t.Vb.Ro=o)}function Qo(t){null===t.o&&Wl.k("StreamGeometryContext has been closed"),null===t.Vb&&Wl.k("Need to call beginFigure first");var e=t.Vb.vb.length;0<e&&t.Vb.vb.ea(e-1).close()}function Zo(t){null===t.o&&Wl.k("StreamGeometryContext has been closed"),null===t.Vb&&Wl.k("Need to call beginFigure first"),0<t.Vb.vb.length&&(t.Vb.bu=!0)}function ta(t,e,n,i,r,o,a,s){void 0===s&&(s=!1),null===t.o&&Wl.k("StreamGeometryContext has been closed"),null===t.Vb&&Wl.k("Need to call beginFigure first");var h=new Ct(uc);h.sc=e,h.Pc=n,h.Bh=i,h.Ch=r,h.D=o,h.F=a,s&&h.close(),t.Vb.vb.add(h)}function ea(t,e,n,i,r){var o;void 0===o&&(o=!1),null===t.o&&Wl.k("StreamGeometryContext has been closed"),null===t.Vb&&Wl.k("Need to call beginFigure first");var a=new Ct(cc);a.sc=e,a.Pc=n,a.D=i,a.F=r,o&&a.close(),t.Vb.vb.add(a)}function na(t,e,n,i,r,o,a,s){var h;void 0===h&&(h=!1),null===t.o&&Wl.k("StreamGeometryContext has been closed"),null===t.Vb&&Wl.k("Need to call beginFigure first"),e=new Ct(dc,a,s,e,n,i,r,o),h&&e.close(),t.Vb.vb.add(e)}function ia(t){t=ra(t);var e=Wl.mb();e[0]=t[0];for(var n=1,i=1;i<t.length;)e[n]=t[i],e[n+1]=t[i],e[n+2]=t[i+1],i+=2,n+=3;return Wl.wa(t),e}function ra(t){var e=oa(t),n=Wl.mb(),i=Math.floor(e.length/2),r=e.length-1;t=0==t%2?2:1;for(var o=0;o<r;o++){var a=e[o],s=e[o+1],h=e[(i+o-1)%r],l=e[(i+o+t)%r];n[2*o]=a,n[2*o+1]=lt(a.x,a.y,h.x,h.y,s.x,s.y,l.x,l.y,new w)}return n[n.length]=n[0],Wl.wa(e),n}function oa(t){for(var e=Wl.mb(),n=1.5*Math.PI,i=0,r=0;r<t;r++)i=2*Math.PI/t*r+n,e[r]=new w(.5+.5*Math.cos(i),.5+.5*Math.sin(i));return e.push(e[0]),e}function aa(t){var e=tc[t];if(void 0===e){var n=t.toLowerCase();if("none"===n)return"None";if(void 0===(e=tc[n])){var i,r=null;for(i in Nd)if(i.toLowerCase()===n){r=i;break}if(null!==r)return t=sc(Nd[r],!1),tc[r]=t,n!==r&&(tc[n]=r),r}}return"string"==typeof e?e:e instanceof mt?t:null}function sa(t){Qr.call(this,t),this.O=2408959,this.ll=this.vi="",this.Js=this.Gs=this.Ss=this.Tr=null,this.Us="",this.ti=this.Gr=this.Ts=this.$m=null,this.Is="",this.jp=null,this.Hs=$u,this.Ks="",this.lp=null,this.Ed="",this.Rv=this.Vq=this.Yk=null,this.Si=new w(NaN,NaN).freeze(),this.Yr="",this.ol=null,this.Zr=nu,this.gs=zu,this.$r=Vu,this.or=null,this.Ur=jd,this.bn=qu,this.an="gray",this.Ag=4,this.VC=-1,this.tt=NaN,this.EG=new S,this.Om=null,this.bk=NaN}function ha(t,e){e.bb.bf.each(function(e){e.isEnabled&&e.updateAdornments(t)}),e.bb.updateAdornments(t)}function la(t){0!=(16384&t.O)!=!1&&(t.updateAdornments(),t.O&=-16385)}function ua(t){if(!1===xa(t)){var e=t.g;null!==e&&(e.rg.add(t),e.Me()),ka(t,!0),t.Ji()}}function ca(t){if(t.O|=2097152,!1!==xa(t)){var e=t.position,n=t.location;n.H()&&e.H()||va(t,e,n);var n=t.nc,i=n.copy();n.Ra(),n.x=e.x,n.y=e.y,n.freeze(),t.Lx(i,n),ka(t,!1)}}function fa(t,e,n,i){void 0===i&&(i=new w),n=n.Nd()?au:n;var r=e.Ja;if(i.l(r.width*n.x+n.offsetX,r.height*n.y+n.offsetY),null===e||e===t)return i;for(e.transform.ob(i),e=e.N;null!==e&&e!==t;)e.transform.ob(i),e=e.N;return t.Ri.ob(i),i.offset(-t.pd.x,-t.pd.y),i}function da(t,e){var n,i=t.EG;isNaN(t.bk)&&(t.bk=co(t)),n=t.bk;var r=2*n;if(!t.$l)return i.l(e.x-1-n,e.y-1-n,e.width+2+r,e.height+2+r),i;n=e.x;var r=e.y,o=e.width,a=e.height,s=t.shadowBlur,h=t.AJ,o=o+s,a=a+s;return n-=s/2,r-=s/2,0<h.x?o+=h.x:(n+=h.x,o-=h.x),0<h.y?a+=h.y:(r+=h.y,a-=h.y),i.l(n-1,r-1,o+2,a+2),i}function pa(t,e,n,i){null===e||t instanceof Aa||(e=e.Qa,e.pc&&wn(e,t,"position",i.copy(),n.copy(),!1))}function va(t,e,n){var i=Wl.K(),r=t.Af,o=t.Yf;r.Nd()&&Wl.k("determineOffset: Part's locationSpot must be real: "+r.toString());var a=o.Ja,s=o instanceof Po?o.lb:0;if(i.Hu(0,0,a.width+s,a.height+s,r),o!==t)for(i.offset(-s/2,-s/2),o.transform.ob(i),r=o.N;null!==r&&r!==t;)r.transform.ob(i),r=r.N;t.Ri.ob(i),i.offset(-t.pd.x,-t.pd.y),r=t.g,o=n.H(),a=e.H(),o&&a?0!=(2097152&t.O)?ya(t,e,n,r,i):ga(t,e,n,r,i):o?ya(t,e,n,r,i):a&&ga(t,e,n,r,i),t.O|=2097152,Wl.v(i),t.Ji()}function ya(t,e,n,i,r){var o=e.x,a=e.y;e.l(n.x-r.x,n.y-r.y),null!==i&&(n=i.Qa,(r=n.Vj)||!n.pc||t instanceof Aa||wn(n,t,"position",new w(o,a),e,!1),r||e.x===o&&e.y===a||(n=i.wb,i.wb=!0,t.h("position",new w(o,a),e),i.wb=n))}function ga(t,e,n,i,r){var o=n.copy();n.l(e.x+r.x,e.y+r.y),n.L(o)||null===i||(e=i.wb,i.wb=!0,t.h("location",o,n),i.wb=e)}function ma(t,e,n){Ta(t,!1),t instanceof Ea&&er(n,t),t.layer.Kc||e||n.rc(),e=t.nc;var i=n.tb;i.H()?(Sa(t)?D(e,i)||t.Cf(!1):e.Lg(i)&&t.Cf(!0),t.updateAdornments()):n.gl=!0}function ba(t,e){var n=t.nc;if(0!==n.width&&0!==n.height&&!isNaN(n.x)&&!isNaN(n.y)&&t.isVisible()){var i=t.transform;null!==t.$b&&(jr(t,e,t.$b,!0,!0),e.fillRect(n.x,n.y,n.width,n.height)),null===t.$b&&null===t.Db&&(jr(t,e,"rgba(0,0,0,0.4)",!0,!1),e.fillRect(n.x,n.y,n.width,n.height)),null!==t.Db&&(i.cu()||e.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),n=t.Ja,jr(t,e,t.Db,!0,!1),e.fillRect(0,0,n.width,n.height),i.cu()||(n=1/(i.m11*i.m22-i.m12*i.m21),e.transform(i.m22*n,-i.m12*n,-i.m21*n,i.m11*n,n*(i.m21*i.dy-i.m22*i.dx),n*(i.m12*i.dx-i.m11*i.dy))))}}function wa(t,e,n,i){e.constructor===t.constructor||Ld||(Ld=!0,Wl.trace('Should not change the class of the Part when changing category from "'+n+'" to "'+i+'"'),Wl.trace("  Old class: "+Wl.jf(t)+", new class: "+Wl.jf(e)+", part: "+t.toString())),t.Ct();var r=t.data;n=t.Xf;var o=t.fb,a=t.Mg,s=!0,h=!0,l=!1;if(t instanceof Ea)var u=t,s=u.uj,h=u.hd,l=u.Ou;e.li(t),e.cloneProtected(t),t.vi=i,t.I(),t.oa(),e=t.g,i=!0,null!==e&&(i=e.wb,e.wb=!0),t.Vd=r,null!==r&&t.Ib(),null!==e&&(e.wb=i),r=t.Xf,r!==n&&(t.ll=n,t.Xf=r),t instanceof Ea&&(u=t,u.uj=s,u.hd=h,u.Ou=l,u.ee()&&u.J(64)),t.fb=o,t.Mg=a}function xa(t){return 0!=(32768&t.O)}function ka(t,e){t.O=e?32768|t.O:t.O&-32769}function Ta(t,e){t.O=e?65536|t.O:t.O&-65537}function Sa(t){return 0!=(131072&t.O)}function Ma(t,e){t.O=e?1048576|t.O:t.O&-1048577}function Pa(t,e){var n=e.La;return null!==n?1+Pa(t,n):e instanceof Ea&&null!==(n=e.Mc)?Pa(t,n):0}function Ca(t,e){var n=e.La;return null!==n?Ca(t,n):e instanceof Ea&&null!==(n=e.Mc)?Ca(t,n):e}function Na(t,e,n){if(e===n||null===n)return!1;var i=e.La;return!(null===i||i!==n&&!Na(t,i,n))||e instanceof Ea&&null!==(e=e.Mc)&&Na(t,e,n)}function Da(t){return!!t.isVisible()&&(null===(t=t.layer)||!t.Kc)}function Aa(t){0===arguments.length?sa.call(this,Yf):sa.call(this,t),this.O&=-257,this.ll="Adornment",this.Lb=this.ah=this.Ec=null}function Ea(t){sa.call(this,t),this.za=13,this.oc=new c(_a),this.ot=this.Vo=this.nl=this.Wr=this.Vr=null,this.Oq=Bu,this.me=this.Ih=null,this.Cs=Rd,this.pk=!1}function ja(t,e){null!==e&&(null===t.Ih&&(t.Ih=new d(ps)),t.Ih.add(e))}function La(t,e,n,i){if(null===e||null===t.Ih)return null;for(var r=t.Ih.i;r.next();){var o=r.value;if(o.jq===t&&o.qu===e&&o.Ox===n&&o.Px===i||o.jq===e&&o.qu===t&&o.Ox===i&&o.Px===n)return o}return null}function Fa(t,e){for(var n=t.ge;n.next();){var i=n.value;i.fd!==e&&i.Sd!==e||(Oa(t,i.fd),Oa(t,i.Sd),i.Yb())}}function Oa(t,e){if(null!==e){var n=e.Bs;null!==n&&n.bq(),n=t.La,null===n||n.xe||Oa(n,n.Pl(""))}}function Ia(t,e,n){if(Oa(t,n),!t.oc.contains(e)){t.oc.add(e);var i=t.EI;if(null!==i){var r=!0,o=t.g;null!==o&&(r=o.Va,o.Va=!0),i(t,e,n),null!==o&&(o.Va=r)}e.Lc&&(n=e.W,e=e.aa,null!==n&&null!==e&&n!==e&&(i=!0,o=t.g,null!==o&&(i=o.Od),t=i?e:n,r=i?n:e,t.pk||(t.pk=r),!r.uj||null!==o&&o.pa.gb||(i?n===r&&(r.uj=!1):e===r&&(r.uj=!1))))}}function Ra(t,e,n){if(Oa(t,n),t.oc.remove(e)){var i=t.FI,r=t.g;if(null!==i){var o=!0;null!==r&&(o=r.Va,r.Va=!0),i(t,e,n),null!==r&&(r.Va=o)}e.Lc&&(n=!0,null!==r&&(n=r.Od),t=n?e.aa:e.W,e=n?e.W:e.aa,null!==t&&(t.pk=!1),null===e||e.uj||(0===e.oc.count?(e.pk=null,null!==r&&r.pa.gb||(e.uj=!0)):Ba(e)))}}function Ba(t){if(t.pk=!1,0!==t.oc.count){var e=!0,n=t.g;if(null===n||!n.pa.gb){for(null!==n&&(e=n.Od),n=t.oc.i;n.next();){var i=n.value;if(i.Lc)if(e){if(i.W===t)return void(t.uj=!1)}else if(i.aa===t)return void(t.uj=!1)}t.uj=!0}}}function qa(t){null===t.me?t.me=new b("string",Tr):t.me.clear(),ao(t,t,function(t,e){var n=e.Pd;null!==n&&t.me.add(n,e)}),0===t.me.count&&t.me.add("",t)}function za(t,e,n){var i=e.Pd;if(null!==i&&(null!==t.me&&t.me.remove(i),null!==(e=t.g)&&n)){for(n=null,i=t.FE(i);i.next();)t=i.value,null===n&&(n=Wl.mb()),n.push(t);if(null!==n){for(i=0;i<n.length;i++)t=n[i],e.remove(t);Wl.wa(n)}}}function Va(t,e){var n=e.Rl();return null===n?0:1+Va(t,n)}function Ua(t,e,n,i,r,o,a){if(1<i)for(var s=n?t.ix():t.Jg();s.next();){var h=s.value;h.Lc&&(null===(h=h.lA(t))||h===t||e.contains(h)||(e.add(h),Ua(h,e,n,i-1,r,o,a)))}else Ha(t,e,n,r,o,a)}function Ha(t,e,n,i,r,o){for(var a=r===t||t.hd,s=n?t.ix():t.Jg();s.next();){var h=s.value;h.Lc&&(null===(h=h.lA(t))||h===t||e.contains(h)||(e.add(h),a&&(o&&Nn(i,h,r),h.Wl(),h.ud(!1)),h.hd&&(h.Ou=h.hd,Ha(h,e,n,i,r,o))))}t.hd=!1}function Ga(t,e,n,i,r,o,a){for(var s=o!==t&&t.hd,h=n?t.ix():t.Jg();h.next();){var l=h.value;l.Lc&&(s||l.$g||l.Yb(),null!==(l=l.lA(t))&&l!==t&&!e.contains(l)&&(e.add(l),s||(l.ud(!0),l.Wl(),a&&Cn(r,l,o)),2<i||l.Ou))&&(l.Ou=!1,Ga(l,e,n,i-1,r,o,a))}t.hd=!0}function _a(){sa.call(this,ed),this.Wb=8,this.ng=null,this.Oh="",this.Dg=this.xr=null,this.ii="",this.nt=null,this.Hq=Vd,this.ar=0,this.dr=Vd,this.er=NaN,this.Vm=qd,this.at=.5,this.sf=null,this.bd=new c(w).freeze(),this.ah=this.oC=this.iC=this.ui=this.Hi=this.hb=this.mw=this.mp=this.Ve=null,this.Cz=new w,this.U=this.GD=this.FD=null}function Wa(t){var e=t.W,n=t.aa;null!==e&&null!==n?Ka(t,e.PH(n)):Ka(t,null)}function Ka(t,e){var n=t.Yk;if(n!==e){null!==n&&Es(n,t),t.Yk=e,null!==e&&As(e,t);var i=t.pE;if(null!==i){var r=!0,o=t.g;null!==o&&(r=o.Va,o.Va=!0),i(t,n,e),null!==o&&(o.Va=r)}!t.$g||t.FD!==n&&t.GD!==n||t.Yb()}}function Ya(t,e){null===t.sf&&(t.sf=new d(Ea)),t.sf.add(e),t.I()}function $a(t){0===t.bd.count?t.$g=!1:(t.$g=!0,t.Pp=t.m(0),t.Qp=t.m(t.ra-1),ls(t,!1))}function Ja(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function Xa(t,e){var n=e.Bs;return null===n&&(n=new Ss,n.port=e,n.Oc=e.V,e.Bs=n),Ps(n,t)}function Qa(t,e){if(null===e)return au;var n=t.Ab;return n.Vc()&&null!==e&&(n=e.Ab),n===eu?tu:n}function Za(t,e){if(null===e)return au;var n=t.Bb;return n.Vc()&&null!==e&&(n=e.Bb),n===eu?tu:n}function ts(t){if(null===t.g||!t.Ek)return!1;var e=t.points.n,n=e.length;if(4>n)return!1;t=Zi(t.g,!0,t.La,null);for(var i=1;i<n-2;i++){var r=e[i],o=e[i+1];if(!t.am(Math.min(r.x,o.x),Math.min(r.y,o.y),Math.abs(r.x-o.x),Math.abs(r.y-o.y)))return!0}return!1}function es(t,e,n,i,r,o){var a=e.Jp,s=e.Hp,h=gs(e,n,i),l=n,u=i;for(0===r?l+=a:90===r?u+=s:180===r?l-=a:u-=s;1<h&&gs(e,l,u)===h-1;)n=l,i=u,0===r?l+=a:90===r?u+=s:180===r?l-=a:u-=s,h-=1;o?1<h&&(180===r||0===r?n=Math.floor(n/a)*a+a/2:90!==r&&270!==r||(i=Math.floor(i/s)*s+s/2)):(n=Math.floor(n/a)*a+a/2,i=Math.floor(i/s)*s+s/2),1<h&&(o=r,l=n,u=i,0===r?(o=90,u+=s):90===r?(o=180,l-=a):180===r?(o=270,u-=s):270===r&&(o=0,l+=a),gs(e,l,u)===h-1?es(t,e,l,u,o,!1):(l=n,u=i,0===r?(o=270,u-=s):90===r?(o=0,l+=a):180===r?(o=90,u+=s):270===r&&(o=180,l-=a),gs(e,l,u)===h-1&&es(t,e,l,u,o,!1))),t.Cl(n,i)}function ns(t,e,n,i){return t=n-t,isNaN(t)||1/0===t||-(1/0)===t?NaN:(0>t&&(t=-t),e=i-e,isNaN(e)||1/0===e||-(1/0)===e?NaN:(0>e&&(e=-e),$(t,0)?e:$(e,0)?t:Math.sqrt(t*t+e*e)))}function is(t,e,n,i){var r=t.ra;if(2>r)return e;if(n){var o=t.m(1);if(n=o.x-i.x,i=o.y-i.y,0===(o=ns(e.x,e.y,n,i)))return e;r=2===r?.5*o:o,t=t.computeShortLength(!0),t>r&&(t=r),n=t*(n-e.x)/o,t=t*(i-e.y)/o,e.x+=n,e.y+=t}else{if(o=t.m(r-2),n=o.x-i.x,i=o.y-i.y,0===(o=ns(e.x,e.y,n,i)))return e;r=2===r?.5*o:o,t=t.computeShortLength(!1),t>r&&(t=r),n=t*(e.x-n)/o,t=t*(e.y-i)/o,e.x-=n,e.y-=t}return e}function rs(t,e,n,i){for(var r=t.ra,o=e;$(e.x,o.x)&&$(e.y,o.y);){if(n>=r)return r-1;o=t.m(n++)}if(!$(e.x,o.x)&&!$(e.y,o.y))return n-1;for(var a=o;$(e.x,o.x)&&$(o.x,a.x)&&(!i||(e.y>=o.y?o.y>=a.y:o.y<=a.y))||$(e.y,o.y)&&$(o.y,a.y)&&(!i||(e.x>=o.x?o.x>=a.x:o.x<=a.x));){if(n>=r)return r-1;a=t.m(n++)}return n-2}function os(t,e,n,i,r,o,a){if(!a&&hs(t)){a=[];var s=0;t.isVisible()&&(s=as(t,r,o,a));var h=r.x,h=r.y;if(0<s)if(Y(r.y,o.y))if(r.x<o.x)for(var l=0;l<s;){var u=Math.max(r.x,Math.min(a[l++]-5,o.x-10));e.lineTo(u+n,o.y+i);for(var h=u+n,c=Math.min(u+10,o.x);l<s;){var f=a[l];if(!(f<c+10))break;l++,c=Math.min(f+5,o.x)}f=(u+c)/2+n,f=o.y-10+i,u=c+n,c=o.y+i,t.Ze===Hd?Xo(e,u,c,!1,!1):ta(e,h,f,u,f,u,c)}else for(l=s-1;0<=l;){for(u=Math.min(r.x,Math.max(a[l--]+5,o.x+10)),e.lineTo(u+n,o.y+i),h=u+n,c=Math.max(u-10,o.x);0<=l&&(f=a[l])>c-10;)l--,c=Math.max(f-5,o.x);f=o.y-10+i,u=c+n,c=o.y+i,t.Ze===Hd?Xo(e,u,c,!1,!1):ta(e,h,f,u,f,u,c)}else if(Y(r.x,o.x))if(r.y<o.y)for(l=0;l<s;){for(u=Math.max(r.y,Math.min(a[l++]-5,o.y-10)),e.lineTo(o.x+n,u+i),h=u+i,c=Math.min(u+10,o.y);l<s&&(f=a[l])<c+10;)l++,c=Math.min(f+5,o.y);f=o.x-10+n,u=o.x+n,c+=i,t.Ze===Hd?Xo(e,u,c,!1,!1):ta(e,f,h,f,c,u,c)}else for(l=s-1;0<=l;){for(u=Math.min(r.y,Math.max(a[l--]+5,o.y+10)),e.lineTo(o.x+n,u+i),h=u+i,c=Math.max(u-10,o.y);0<=l&&(f=a[l])>c-10;)l--,c=Math.max(f-5,o.y);f=o.x-10+n,u=o.x+n,c+=i,t.Ze===Hd?Xo(e,u,c,!1,!1):ta(e,f,h,f,c,u,c)}}e.lineTo(o.x+n,o.y+i)}function as(t,e,n,i){var r=t.g;if(null===r||e.L(n))return 0;for(r=r.Ex;r.next();){var o=r.value;if(null!==o&&o.visible)for(var o=o.zb.n,a=o.length,s=0;s<a;s++){var h=o[s];if(h instanceof _a){if(h===t)return 0<i.length&&i.sort(function(t,e){return t-e}),i.length;if(h.isVisible()&&hs(h)){var l=h.Vn;l.H()&&t.Vn.Lg(l)&&!t.usesSamePort(h)&&null!==(l=h.path)&&l.vj()&&ss(e,n,i,h)}}}}return 0<i.length&&i.sort(function(t,e){return t-e}),i.length}function ss(t,e,n,i){for(var r=Y(t.y,e.y),o=i.ra,a=i.m(0),s=Wl.K(),h=1;h<o;h++){var l=i.m(h);if(h<o-1){var u=i.m(h+1);a.y===l.y&&l.y===u.y?(l.x>a.x&&u.x>l.x||l.x<a.x&&u.x<l.x)&&(l=u,h++):a.x===l.x&&l.x===u.x&&(l.y>a.y&&u.y>l.y||l.y<a.y&&u.y<l.y)&&(l=u,h++)}t:{var u=s,c=t.x,f=t.y,d=e.x,p=e.y,v=a.x,a=a.y,y=l.x,g=l.y;if(Y(c,d)){if(!Y(f,p)&&Y(a,g)&&Math.min(f,p)<a&&Math.max(f,p)>a&&Math.min(v,y)<c&&Math.max(v,y)>c&&!Y(v,y)){u.x=c,u.y=a,u=!0;break t}}else if(Y(f,p)&&Y(v,y)&&Math.min(c,d)<v&&Math.max(c,d)>v&&Math.min(a,g)<f&&Math.max(a,g)>f&&!Y(a,g)){u.x=v,u.y=f,u=!0;break t}u.x=0,u.y=0,u=!1}u&&(r?n.push(s.x):n.push(s.y)),a=l}Wl.v(s)}function hs(t){return(t=t.Ze)===Gd||t===Hd}function ls(t,e){if(e||hs(t)){var n=t.g;null===n||n.$k.contains(t)||null===t.mw||n.$k.add(t,t.mw)}}function us(t,e){var n=t.layer;if(null!==n&&n.visible&&!n.Kc){var i=n.g;if(null!==i)for(var r=!1,i=i.Ex;i.next();){var o=i.value;if(o.visible)if(o===n)for(var r=!0,a=!1,o=o.zb.n,s=o.length,h=0;h<s;h++){var l=o[h];l instanceof _a&&(l===t?a=!0:a&&cs(t,l,e))}else if(r)for(o=o.zb.n,s=o.length,h=0;h<s;h++)(l=o[h])instanceof _a&&cs(t,l,e)}}}function cs(t,e,n){if(null!==e&&null!==e.hb&&hs(e)){var i=e.Vn;i.H()&&(t.Vn.Lg(i)||n.Lg(i))&&(t.usesSamePort(e)||e.Le())}}function fs(t){var e=t.ng;if(null!==e){var n=t.Dg;if(null!==n){var i=t.Oh;t=t.ii;for(var r=null,o=null,a=e.oc.n,s=a.length,h=0;h<s;h++){var l=a[h];(l.ng===e&&l.Oh===i&&l.Dg===n&&l.ii===t||l.ng===n&&l.Oh===t&&l.Dg===e&&l.ii===i)&&(null===o?o=l:(null===r&&(r=[],r.push(o)),r.push(l)))}if(null!==r){for(o=La(e,n,i,t),null===o&&(o=new ps,o.jq=e,o.Ox=i,o.qu=n,o.Px=t,ja(e,o),ja(n,o)),o.links=r,h=0;h<r.length;h++)l=r[h],l.ui=o;o.bq()}}}}function ds(t){var e=t.ui;null!==e&&(t.ui=null,0<=(t=e.links.indexOf(t))&&(Wl.Gg(e.links,t),e.bq()))}function ps(){Wl.mc(this),this.Kv=!1,this.Px=this.qu=this.Ox=this.jq=null,this.links=[]}function vs(){Wl.mc(this),this.hB=this.group=null,this.Yt=!0,this.abort=!1,this.xg=this.wg=1,this.bs=this.as=-1,this.Be=this.Ae=8,this.yd=null,this.xG=!1,this.gG=22,this.rF=111}function ys(t,e,n){return t.wg<=e&&e<=t.as&&t.xg<=n&&n<=t.bs}function gs(t,e,n){return ys(t,e,n)?(e-=t.wg,e/=t.Ae,n-=t.xg,n/=t.Be,t.yd[0|e][0|n]):0}function ms(t,e,n){ys(t,e,n)&&(e-=t.wg,e/=t.Ae,n-=t.xg,n/=t.Be,t.yd[0|e][0|n]=0)}function bs(t){if(null!==t.yd)for(var e=0;e<=t.Bp;e++)for(var n=0;n<=t.Cp;n++)1<=t.yd[e][n]&&(t.yd[e][n]|=999999)}function ws(t,e,n,i,r,o,a,s,h){if(!(e<o||e>a||n<s||n>h)){var l,u;l=0|e,u=0|n;var c=t.yd[l][u];if(1<=c&&999999>c)for(r?u+=i:l+=i,c+=1;o<=l&&l<=a&&s<=u&&u<=h&&!(c>=t.yd[l][u]);)t.yd[l][u]=c,c+=1,r?u+=i:l+=i;if(l=r?u:l,r)if(0<i)for(n+=i;n<l;n+=i)ws(t,e,n,1,!r,o,a,s,h),ws(t,e,n,-1,!r,o,a,s,h);else for(n+=i;n>l;n+=i)ws(t,e,n,1,!r,o,a,s,h),ws(t,e,n,-1,!r,o,a,s,h);else if(0<i)for(e+=i;e<l;e+=i)ws(t,e,n,1,!r,o,a,s,h),ws(t,e,n,-1,!r,o,a,s,h);else for(e+=i;e>l;e+=i)ws(t,e,n,1,!r,o,a,s,h),ws(t,e,n,-1,!r,o,a,s,h)}}function xs(t,e,n,i,r,o,a,s,h){e|=0,n|=0;var l=0,u=1;for(t.yd[e][n]=u;0===l&&e>o&&e<a&&n>s&&n<h;)u+=1,t.yd[e][n]=u,r?n+=i:e+=i,l=t.yd[e][n]}function ks(t,e,n,i,r,o,a,s,h){e|=0,n|=0;var l=0;for(t.yd[e][n]=999999;0===l&&e>o&&e<a&&n>s&&n<h;)t.yd[e][n]=999999,r?n+=i:e+=i,l=t.yd[e][n]}function Ts(t,e,n,i,r,o){if(null!==t.yd){t.abort=!1;var a=e.x,s=e.y;if(ys(t,a,s)&&(a-=t.wg,a/=t.Ae,s-=t.xg,s/=t.Be,e=i.x,i=i.y,ys(t,e,i)))if(e-=t.wg,e/=t.Ae,i-=t.xg,i/=t.Be,1>=Math.abs(a-e)&&1>=Math.abs(s-i))t.abort=!0;else{var h=o.x,l=o.y,u=o.x+o.width,c=o.y+o.height,h=h-t.wg,h=h/t.Ae,l=l-t.xg,l=l/t.Be,u=u-t.wg,u=u/t.Ae,c=c-t.xg,c=c/t.Be;o=Math.max(0,Math.min(t.Bp,0|h)),u=Math.min(t.Bp,Math.max(0,0|u)),l=Math.max(0,Math.min(t.Cp,0|l)),c=Math.min(t.Cp,Math.max(0,0|c)),a|=0,s|=0,e|=0,i|=0,h=90===n||270===n,xs(t,a,s,0===n||90===n?1:-1,h,o,u,l,c),xs(t,a,s,1,!h,o,u,l,c),xs(t,a,s,-1,!h,o,u,l,c),ks(t,e,i,0===r||90===r?1:-1,90===r||270===r,o,u,l,c),ks(t,e,i,1,!(90===r||270===r),o,u,l,c),ks(t,e,i,-1,!(90===r||270===r),o,u,l,c),t.abort||(ws(t,a,s,1,!1,o,u,l,c),ws(t,a,s,-1,!1,o,u,l,c),ws(t,a,s,1,!0,o,u,l,c),ws(t,a,s,-1,!0,o,u,l,c))}}}function Ss(){Wl.mc(this),this.port=this.Oc=null,this.bg=[],this.iq=!1}function Ms(t,e,n,i){switch(e=e.offsetY){case Wl.Zc:return 90;case Wl.Rc:return 180;case Wl.kd:return 270;case Wl.$c:return 0}switch(e){case Wl.Zc|Wl.kd:return 180<n?270:90;case Wl.Rc|Wl.$c:return 90<n&&270>=n?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case Wl.Rc|Wl.kd:return n>t&&n<=180+t?180:270;case Wl.kd|Wl.$c:return n>180-t&&n<=360-t?270:0;case Wl.$c|Wl.Zc:return n>t&&n<=180+t?90:0;case Wl.Zc|Wl.Rc:return n>180-t&&n<=360-t?180:90;case Wl.Rc|Wl.kd|Wl.$c:return 90<n&&n<=180+t?180:n>180+t&&n<=360-t?270:0;case Wl.kd|Wl.$c|Wl.Zc:return 180<n&&n<=360-t?270:n>t&&180>=n?90:0;case Wl.$c|Wl.Zc|Wl.Rc:return n>t&&n<=180-t?90:n>180-t&&270>=n?180:0;case Wl.Zc|Wl.Rc|Wl.kd:return n>180-t&&n<=180+t?180:n>180+t?270:90}return i&&e!==(Wl.Rc|Wl.kd|Wl.$c|Wl.Zc)&&0>(n-=15)&&(n+=360),n>t&&n<180-t?90:n>=180-t&&n<=180+t?180:n>180+t&&n<360-t?270:0}function Ps(t,e){var n=t.bg;if(0===n.length){t:if(!t.iq){n=t.iq,t.iq=!0;var i,r=null,o=t.Oc,o=o instanceof Ds?o:null;if(null===o||o.xe)i=t.Oc.FE(t.port.Pd);else{if(!o.Y.H()){t.iq=n;break t}r=o,i=r.EE()}var a=t.bg.length=0,s=t.port.Xa(nu,Wl.K()),h=t.port.Xa(uu,Wl.K()),o=Wl.Wg(s.x,s.y,0,0);for(o.si(h),Wl.v(s),Wl.v(h),s=Wl.xb(o.x+o.width/2,o.y+o.height/2),i=i.i;i.next();)if(h=i.value,h.isVisible()){var l=h.fd===t.port||h.W.ni(r),u=h.computeSpot(l);if(u.sj()&&null!==(l=l?h.Sd:h.fd)){var c=l.V;if(null!==c){var l=h.computeOtherPoint(c,l),c=s.zc(l),u=Ms(o,u,c,h.jc),f=0;0===u?(f=Wl.$c,180<c&&(c-=360)):f=90===u?Wl.Zc:180===u?Wl.Rc:Wl.kd,u=t.bg[a],void 0===u?(u=new Cs(h,c,f),t.bg[a]=u):(u.link=h,u.angle=c,u.ye=f),u.Mx.set(l),a++}}}for(Wl.v(s),t.bg.sort(Ss.prototype.ZI),r=t.bg.length,s=-1,a=i=0;a<r;a++)void 0!==(u=t.bg[a])&&(u.ye!==s&&(s=u.ye,i=0),u.$p=i,i++);for(s=-1,i=0,a=r-1;0<=a;a--)void 0!==(u=t.bg[a])&&(u.ye!==s&&(s=u.ye,i=u.$p+1),u.sn=i);a=t.bg,l=t.port,r=t.Oc.dJ,s=Wl.K(),i=Wl.K(),h=Wl.K(),u=Wl.K(),l.Xa(nu,s),l.Xa(ru,i),l.Xa(uu,h),l.Xa(hu,u);var d=f=c=l=0;if(r===Bd)for(var p=0;p<a.length;p++){var v=a[p];if(null!==v){var y=v.link.computeThickness();switch(v.ye){case Wl.Zc:f+=y;break;case Wl.Rc:d+=y;break;case Wl.kd:l+=y;break;default:case Wl.$c:c+=y}}}for(var g=0,m=0,b=1,p=0;p<a.length;p++)if(null!==(v=a[p])){var w,x;if(g!==v.ye){switch(g=v.ye){case Wl.Zc:w=h,x=u;break;case Wl.Rc:w=u,x=s;break;case Wl.kd:w=s,x=i;break;default:case Wl.$c:w=i,x=h}var k=x.x-w.x;switch(x=x.y-w.y,g){case Wl.Zc:f>Math.abs(k)?(b=Math.abs(k)/f,f=Math.abs(k)):b=1;break;case Wl.Rc:d>Math.abs(x)?(b=Math.abs(x)/d,d=Math.abs(x)):b=1;break;case Wl.kd:l>Math.abs(k)?(b=Math.abs(k)/l,l=Math.abs(k)):b=1;break;default:case Wl.$c:c>Math.abs(x)?(b=Math.abs(x)/c,c=Math.abs(x)):b=1}m=0}var T=v.gq;if(r===Bd){switch(y=v.link.computeThickness(),y*=b,T.set(w),g){case Wl.Zc:T.x=w.x+k/2+f/2-m-y/2;break;case Wl.Rc:T.y=w.y+x/2+d/2-m-y/2;break;case Wl.kd:T.x=w.x+k/2-l/2+m+y/2;break;default:case Wl.$c:T.y=w.y+x/2-c/2+m+y/2}m+=y}else y=.5,r===Rd&&(y=(v.$p+1)/(v.sn+1)),T.x=w.x+k*y,T.y=w.y+x*y}for(Wl.v(s),Wl.v(i),Wl.v(h),Wl.v(u),w=t.bg,k=0;k<w.length;k++)null!==(x=w[k])&&(x.bx=t.computeEndSegmentLength(x));t.iq=n,Wl.Hb(o)}n=t.bg}for(o=0;o<n.length;o++)if(null!==(w=n[o])&&w.link===e)return w;return null}function Cs(t,e,n){this.link=t,this.angle=e,this.ye=n,this.Mx=new w,this.sn=this.$p=0,this.gq=new w,this.bx=0}function Ns(){this.ok=this.Rj=eu,this.mk=this.Pj=NaN,this.lk=this.Oj=Fd,this.nk=this.Qj=NaN,this.lt=this.vr=null,this.mt=this.wr=1/0}function Ds(t){Ea.call(this,t),this.za|=4608,this.ds=new d(sa),this.cp=new d(Ds),this.Lb=this.et=this.pl=this.es=this.cs=null,this.je=new Os,this.je.group=this}function As(t,e){if(t.ds.add(e)){e instanceof Ds&&t.cp.add(e);var n=t.QI;if(null!==n){var i=!0,r=t.g;null!==r&&(i=r.Va,r.Va=!0),n(t,e),null!==r&&(r.Va=i)}t.isVisible()&&t.xe||e.ud(!1)}e instanceof _a&&!t.Tw||(n=t.Lb,null===n&&(n=t),n.I())}function Es(t,e){if(t.ds.remove(e)){e instanceof Ds&&t.cp.remove(e);var n=t.RI;if(null!==n){var i=!0,r=t.g;null!==r&&(i=r.Va,r.Va=!0),n(t,e),null!==r&&(r.Va=i)}t.isVisible()&&t.xe||e.ud(!0)}e instanceof _a&&!t.Tw||(n=t.Lb,null===n&&(n=t),n.I())}function js(t,e,n,i){for(var r=t.Nc;r.next();){var o=r.value;if(o.ud(!1),o instanceof Ds){var a=o;a.xe&&(a.vB=a.xe,js(a,e,n,i))}if(o instanceof Ea)o.Uf(e),Nn(n,o,i);else if(o instanceof _a)for(o=o.Wf;o.next();)o.value.Uf(e)}t.xe=!1}function Ls(t,e,n,i){for(var r=t.Nc;r.next();){var o=r.value;if(o.ud(!0),o instanceof Ds){var a=o;a.vB&&(a.vB=!1,Ls(a,e,n,i))}if(o instanceof Ea)o.Uf(e),Cn(n,o,i);else if(o instanceof _a)for(o=o.Wf;o.next();)o.value.Uf(e)}t.xe=!0}function Fs(){Tr.call(this),this.gf=Ru,this.Ps=new S(NaN,NaN,NaN,NaN)}function Os(){0<arguments.length&&Wl.jd(Os),Wl.mc(this),this.cz=this.Z=null,this.Wj=this.Kr=!0,this.Qr=!1,this.Lq=new w(0,0).freeze(),this.Mr=this.Nr=!0,this.rC="",this.To=!1,this.pz=null}function Is(t,e,n,i,r,o,a,s){for(n=n.i;n.next();){var h=n.value;i&&!h.dq||null!==r&&!r(h)||!h.canLayout()||(o&&h instanceof Ea?h.mf||(h instanceof Ds&&null===h.Sb?Is(t,e,h.Nc,!1,r,o,a,s):(Rs(h),e.add(h))):a&&h instanceof _a?e.add(h):!s||!h.ee()||h instanceof Ea||(Rs(h),e.add(h)))}}function Rs(t){var e=t.Y;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.$e()}function Bs(){if(Wl.mc(this),this.je=null,this.vertexes)for(var t=this.vertexes.i;t.next();){var e=t.value;e.clear(),e.network=null}if(this.edges)for(t=this.edges.i;t.next();)e=t.value,e.clear(),e.network=null;this.vertexes=new d(Hs),this.edges=new d(Gs),this.Jx=new b(Ea,Hs),this.Fx=new b(_a,Gs)}function qs(t,e){if(null===e)return!1;var n=t.vertexes.remove(e);return n&&(t.Jx.remove(e.Oc),e.network=null),n}function zs(t,e){null!==e&&t.edges.remove(e)&&(t.Fx.remove(e.link),e.network=null)}function Vs(t){for(var e=Wl.mb(),n=t.edges.i;n.next();){var i=n.value;null!==i.fromVertex&&null!==i.toVertex||e.push(i)}for(n=e.length,i=0;i<n;i++)t.Rp(e[i]);Wl.wa(e)}function Us(t,e,n){if(null!==n&&n.network!==e){qs(t,n),e.Dl(n);for(var i=n.lc;i.next();){var r=i.value;r.network!==e&&(zs(t,r),e.Ep(r),Us(t,e,r.fromVertex))}for(i=n.ic;i.next();)n=i.value,n.network!==e&&(zs(t,n),e.Ep(n),Us(t,e,n.toVertex))}}function Hs(){Wl.mc(this),this.network=null,this.M=new S(0,0,10,10).freeze(),this.T=new w(5,5).freeze(),this.qd=this.Vd=null,this.Pe=new c(Gs),this.Ie=new c(Gs)}function Gs(){Wl.mc(this),this.toVertex=this.fromVertex=this.link=this.data=this.network=null}function _s(){0<arguments.length&&Wl.jd(_s),Os.call(this),this.Ax=!0,this.rt=this.st=NaN,this.Jj=new T(NaN,NaN).freeze(),this.bi=new T(10,10).freeze(),this.he=op,this.ld=ap,this.ai=up,this.Kh=ip}function Ws(){0<arguments.length&&Wl.jd(Ws),Os.call(this),this.Uy=this.Eo=this.Wd=0,this.qr=360,this.Ty=fp,this.al=0,this.yC=fp,this.iv=this.Fg=this.QD=0,this.Gw=new rh,this.jv=this.Rm=0,this.OG=600,this.Ds=NaN,this.Nq=1,this.dt=0,this.gt=360,this.ld=fp,this.ba=yp,this.ai=Sp,this.Kh=np,this.bi=6,this.ss=Mp}function Ks(t,e,n,i,r){var o=t.qr,a=t.Wd;t=t.Fg,i=i*Math.PI/180,n=n*Math.PI/180;for(var s=e.length,h=0;h<s;h++){var l=i+(r===yp?h*n/(360<=o?s:s-1):-(h*n)/s),u=e.ea(h),c=a*Math.tan(l)/t,c=Math.sqrt((a*a+t*t*c*c)/(1+c*c));u.ka=c*Math.cos(l),u.sa=c*Math.sin(l),u.actualAngle=180*l/Math.PI}}function Ys(t,e,n,i){var r=t.Wd,o=t.Fg,a=t.al;n=n*Math.PI/180;for(var s=e.length,h=0;h<s;h++){var l=e.ea(h),u=e.ea(h===s-1?0:h+1),c=o*Math.sin(n);l.ka=r*Math.cos(n),l.sa=c,l.actualAngle=180*n/Math.PI,isNaN(l.diameter)&&sh(l,0),isNaN(u.diameter)&&sh(u,0),l=ih(t,r,o,i===yp?n:-n,(l.diameter+u.diameter)/2+a),n+=i===yp?l:-l}}function $s(t,e,n,i){var r=t.Wd,o=t.Fg,a=t.iv;n=n*Math.PI/180;for(var s=e.length,h=0;h<s;h++){var l=e.ea(h);l.ka=r*Math.cos(n),l.sa=o*Math.sin(n),l.actualAngle=180*n/Math.PI,l=ih(t,r,o,i===yp?n:-n,a),n+=i===yp?l:-l}}function Js(t,e,n,i,r){var o=t.jv,o=t.qr;if(t.Rm=0,t.Gw=new rh,360>n){for(o=i+(r===yp?o:-o);0>o;)o+=360;o%=360,180<o&&(o-=360),o*=Math.PI/180,t.jv=o,Qs(t,e,n,i,r)}else Xs(t,e,n,i,r);t.Gw.commit(e)}function Xs(t,e,n,i,r){var o=t.Wd,a=t.al,s=t.Eo,h=o*Math.cos(i*Math.PI/180),l=t.Fg*Math.sin(i*Math.PI/180),u=e.ec();if(3===u.length)u[0].ka=o,u[0].sa=0,u[1].ka=u[0].ka-u[0].width/2-u[1].width/2-a,u[1].y=u[0].y,u[2].ka=(u[0].ka+u[1].ka)/2,u[2].y=u[0].y-u[2].height-a;else if(4===u.length)u[0].ka=o,u[0].sa=0,u[2].ka=-u[0].ka,u[2].sa=u[0].sa,u[1].ka=0,u[1].y=Math.min(u[0].y,u[2].y)-u[1].height-a,u[3].ka=0,u[3].y=Math.max(u[0].y+u[0].height+a,u[2].y+u[2].height+a);else{for(var o=Wl.K(),c=0;c<u.length&&(u[c].ka=h,u[c].sa=l,!(c>=u.length-1));c++)Zs(t,h,l,u,c,r,o)||th(t,h,l,u,c,r,o),h=o.x,l=o.y;if(Wl.v(o),!(23<++t.Rm)){var h=u[0].ka,l=u[0].sa,o=u[u.length-1].ka,c=u[u.length-1].sa,f=Math.abs(h-o)-((u[0].width+u[u.length-1].width)/2+a),d=Math.abs(l-c)-((u[0].height+u[u.length-1].height)/2+a),a=0;1>Math.abs(d)?Math.abs(h-o)<(u[0].width+u[u.length-1].width)/2&&(a=0):a=0<d?d:1>Math.abs(f)?0:f,f=!1,f=Math.abs(o)>Math.abs(c)?0<o!=l>c:0<c!=h<o,(f=r===yp?f:!f)&&(a=-Math.abs(a),a=Math.min(a,-u[u.length-1].width),a=Math.min(a,-u[u.length-1].height)),t.Gw.compare(a,u),1<Math.abs(a)&&(t.Wd=8>t.Rm?t.Wd-a/(2*Math.PI):5>u.length&&10<a?t.Wd/2:t.Wd-(0<a?1.7:-2.3),t.Fg=t.Wd*s,Xs(t,e,n,i,r))}}}function Qs(t,e,n,i,r){for(var o=t.Wd,a=t.Fg,s=t.Eo,h=o*Math.cos(i*Math.PI/180),l=a*Math.sin(i*Math.PI/180),u=Wl.K(),c=e.ec(),f=0;f<c.length&&(c[f].ka=h,c[f].sa=l,!(f>=c.length-1));f++)Zs(t,h,l,c,f,r,u)||th(t,h,l,c,f,r,u),h=u.x,l=u.y;if(Wl.v(u),!(23<++t.Rm)){if(h=Math.atan2(l,h),h=r===yp?t.jv-h:h-t.jv,h=Math.abs(h)<Math.abs(h-2*Math.PI)?h:h-2*Math.PI,o=h*(o+a)/2,a=t.Gw,Math.abs(o)<Math.abs(a.Xp))for(a.Xp=o,a.eo=[],a.Bq=[],h=0;h<c.length;h++)a.eo[h]=c[h].kb.x,a.Bq[h]=c[h].kb.y;1<Math.abs(o)&&(t.Wd=8>t.Rm?t.Wd-o/(2*Math.PI):t.Wd-(0<o?1.7:-2.3),t.Fg=t.Wd*s,Qs(t,e,n,i,r))}}function Zs(t,e,n,i,r,o,a){var s=t.Wd,h=t.Fg,l=0,u=0;t=(i[r].width+i[r+1].width)/2+t.al;var c=!1;if(0<=n!=(o===yp)){if((l=e+t)>s){if((l=e-t)<-s)return a.x=l,a.y=u,!1;c=!0}}else if((l=e-t)<-s){if((l=e+t)>s)return a.x=l,a.y=u,!1;c=!0}return u=Math.sqrt(1-Math.min(1,l*l/(s*s)))*h,0>n!==c&&(u=-u),Math.abs(n-u)>(i[r].height+i[r+1].height)/2?(a.x=l,a.y=u,!1):(a.x=l,a.y=u,!0)}function th(t,e,n,i,r,o,a){var s=t.Wd,h=t.Fg,l=0,u=0;if(t=(i[r].height+i[r+1].height)/2+t.al,i=!1,0<=e!=(o===yp)){if((u=n-t)<-h){if((u=n+t)>h)return a.x=l,void(a.y=u);i=!0}}else if((u=n+t)>h){if((u=n-t)<-h)return a.x=l,void(a.y=u);i=!0}l=Math.sqrt(1-Math.min(1,u*u/(h*h)))*s,0>e!==i&&(l=-l),a.x=l,a.y=u}function eh(t,e,n,i,r){var o=t.OG;if(.001>Math.abs(t.Eo-1))return void 0!==i&&void 0!==r?r*e:2*Math.PI*e;t=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;for(var a=0,s=0,s=void 0!==i&&void 0!==r?r/(o+1):Math.PI/(2*(o+1)),h=0,l=0;l<=o;l++)h=void 0!==i&&void 0!==r?i+l*r/o:l*Math.PI/(2*o),h=Math.sin(h),a+=Math.sqrt(1-t*t*h*h)*s;return void 0!==i&&void 0!==r?(e>n?e:n)*a:4*(e>n?e:n)*a}function nh(t,e,n,i,r){return e/(void 0!==i&&void 0!==r?eh(t,1,n,i,r):eh(t,1,n))}function ih(t,e,n,i,r){if(.001>Math.abs(t.Eo-1))return r/e;var o=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n,a=0;t=2*Math.PI/(700*t.network.vertexes.count),e>n&&(i+=Math.PI/2);for(var s=0;;s++){var h=Math.sin(i+s*t),a=a+(e>n?e:n)*Math.sqrt(1-o*o*h*h)*t;if(a>=r)return s*t}}function rh(){this.Xp=-(1/0),this.Bq=this.eo=null}function oh(){Bs.call(this)}function ah(){Hs.call(this),this.actualAngle=this.diameter=NaN}function sh(t,e){var n=t.network;if(null===n)return NaN;if(null===(n=n.Sb))return NaN;if(n.Pf===vp)if(n.Ix===Pp)t.diameter=Math.max(t.width,t.height);else{var n=Math.abs(Math.sin(e)),i=Math.abs(Math.cos(e));if(0===n)return t.width;if(0===i)return t.height;t.diameter=Math.min(t.height/n,t.width/i)}else t.diameter=n.Ix===Pp?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.diameter}function hh(){Gs.call(this)}function lh(){0<arguments.length&&Wl.jd(lh),Os.call(this),this.Eg=null,this.Sr=0,this.ig=new T(100,100).freeze(),this.Mq=!1,this.$h=!0,this.Jh=!1,this.bp=100,this.tr=1,this.Ph=1e3,this.Es=Math,this.Ao=.05,this.zo=50,this.xo=150,this.yo=0,this.ir=10,this.hr=5}function uh(t,e,n){if(ch(t,e)){var i=t.Ph;t.Ph*=1+1/(e+1);var r=fh(t,e),o=Math.max(0,Math.max(Math.min(t.network.vertexes.count,n*(e+1)/11),10));for(t.DA+=o,uh(t,e+1,n),gh(t,o),dh(t,r),e=t.Eg,null===e?e=new c(xh):e.clear(),e.Ic(r.vertexes),e.sort(function(t,e){return null===t||null===e||t===e?0:e.fg-t.fg}),r=e.i;r.next();)ph(t,r.value);t.Ph=i}}function ch(t,e){if(10<e||3>t.network.vertexes.count)return!1;null===t.Eg?t.Eg=new c(xh):t.Eg.clear(),t.Eg.Ic(t.network.vertexes);var n=t.Eg;n.sort(function(t,e){return null===t||null===e||t===e?0:e.fg-t.fg});for(var i=n.count-1;0<=i&&1>=n.ea(i).fg;)i--;return 1<n.count-i}function fh(t,e){for(var n=t.network,i=new wh,r=t.Eg.i;r.next();){var o=r.value;if(!(1<o.fg))break;i.Dl(o);var a=new bh;a.sy=o.fg,a.ty=o.width,a.qy=o.height,a.AB=o.T.x,a.BB=o.T.y,null===o.Eh&&(o.Eh=new c(bh)),o.Eh.add(a),o.UA=o.Eh.count-1}for(var s=n.edges.i;s.next();)if(r=s.value,r.fromVertex.network===i&&r.toVertex.network===i)i.Ep(r);else if(r.fromVertex.network===i){var h=r.fromVertex.on;null===h&&(h=new c(xh),r.fromVertex.on=h),h.add(r.toVertex),r.fromVertex.fg--,r.fromVertex.Hk+=r.toVertex.Hk}else r.toVertex.network===i&&(h=r.toVertex.on,null===h&&(h=new c(xh),r.toVertex.on=h),h.add(r.fromVertex),r.toVertex.fg--,r.toVertex.Hk+=r.fromVertex.Hk);for(r=i.edges.i;r.next();)o=r.value,o.length*=Math.max(1,K((o.fromVertex.Hk+o.toVertex.Hk)/(4*e+1)));for(r=i.vertexes.i;r.next();)if(o=r.value,null!==(h=o.on)&&0<h.count&&(a=o.Eh.ea(o.Eh.count-1),!(0>=(a=a.sy-o.fg)))){for(var l=0,u=0,f=h.count-a;f<h.count;f++){for(var d=h.ea(f),p=null,s=d.edges.i;s.next();){var v=s.value;if(v.YH(d)===o){p=v;break}}null!==p&&(u+=p.length,l+=d.width*d.height)}h=o.ka,s=o.sa,f=o.width,d=o.height,p=o.T,v=f*d,1>v&&(v=1),l=K((l+v+u*u*4/(a*a))/v),a=(l-1)*f/2,l=(l-1)*d/2,o.kb=new S(h-p.x-a,s-p.y-l,f+2*a,d+2*l),o.focus=new w(p.x+a,p.y+l)}return t.network=i,n}function dh(t,e){for(var n=t.network.vertexes.i;n.next();){var i=n.value;if(i.network=e,null!==i.Eh){var r=i.Eh.ea(i.UA);i.fg=r.sy;var o=r.AB,a=r.BB;i.kb=new S(i.ka-o,i.sa-a,r.ty,r.qy),i.focus=new w(o,a),i.UA--}}for(n=t.network.edges.i;n.next();)n.value.network=e;t.network=e}function ph(t,e){var n=e.on;if(null!==n&&0!==n.count){var i=e.ka,r=e.sa,o=e.width,a=e.height;null!==e.Eh&&0<e.Eh.count&&(a=e.Eh.ea(0),o=a.ty,a=a.qy);for(var o=K(o*o+a*a)/2,s=!1,h=a=0,l=0,u=e.vertexes.i;u.next();){var c=u.value;1>=c.fg?h++:(s=!0,l++,a+=Math.atan2(e.sa-c.sa,e.ka-c.ka))}if(0!==h)for(0<l&&(a/=l),u=l=0,l=s?2*Math.PI/(h+1):2*Math.PI/h,0==h%2&&(u=l/2),1<n.count&&n.sort(function(t,e){return null===t||null===e||t===e?0:e.width*e.height-t.width*t.height}),s=0==h%2?0:1,n=n.i;n.next();)if(h=n.value,!(1<h.fg||t.isFixed(h))){for(var c=null,f=h.edges.i;f.next();){c=f.value;break}var f=h.width,d=h.height,f=K(f*f+d*d)/2,c=o+c.length+f,f=a+(l*(s/2>>1)+u)*(0==s%2?1:-1);h.ka=i+c*Math.cos(f),h.sa=r+c*Math.sin(f),s++}}}function vh(t,e,n,i,r,o,a){var s=9e19,h=-1,l=0;t:for(;l<e;l++){var u=t[l],c=u.x-n,f=u.y-i,c=c*c+f*f;if(c<s){for(f=l-1;0<=f;f--)if(t[f].y>u.y&&t[f].x-u.x<r+a.width)continue t;for(f=l+1;f<e;f++)if(t[f].x>u.x&&t[f].y-u.y<o+a.height)continue t;h=l,s=c}}return h}function yh(t,e){var n=t.M,i=n.x,r=n.y,o=n.width,n=n.height,a=e.M,s=a.x,h=a.y,l=a.width,a=a.height;return i+o<s?r>h+a?(i=i+o-s,r=r-h-a,K(i*i+r*r)):r+n<h?(i=i+o-s,r=r+n-h,K(i*i+r*r)):s-(i+o):i>s+l?r>h+a?(i=i-s-l,r=r-h-a,K(i*i+r*r)):r+n<h?(i=i-s-l,r=r+n-h,K(i*i+r*r)):i-(s+l):r>h+a?r-(h+a):r+n<h?h-(r+n):.1}function gh(t,e){t.Eg=null;for(var n=t.Sr+e;t.Sr<n&&(t.Sr++,mh(t)););t.Eg=null}function mh(t){null===t.Eg&&(t.Eg=new c(xh),t.Eg.Ic(t.network.vertexes));var e=t.Eg.n;if(0>=e.length)return!1;var n=e[0];n.forceX=0,n.forceY=0;for(var i=n.ka,r=i,a=n.sa,s=a,n=1;n<e.length;n++){var h=e[n];h.forceX=0,h.forceY=0;var l=h.ka,h=h.sa,i=Math.min(i,l),r=Math.max(r,l),a=Math.min(a,h),s=Math.max(s,h)}(a=r-i>s-a)?e.sort(function(t,e){return null===t||null===e||t===e?0:t.ka-e.ka}):e.sort(function(t,e){return null===t||null===e||t===e?0:t.sa-e.sa});for(var s=t.Ph,u=0,f=0,d=0,n=0;n<e.length;n++){var h=e[n],l=h.M,p=h.T,i=l.x+p.x,l=l.y+p.y,f=h.charge*t.electricalFieldX(i,l),d=h.charge*t.electricalFieldY(i,l),f=f+h.mass*t.gravitationalFieldX(i,l),d=d+h.mass*t.gravitationalFieldY(i,l);for(h.forceX+=f,h.forceY+=d,p=n+1;p<e.length;p++)if((r=e[p])!==h){var v=r.M,f=r.T,d=v.x+f.x,v=v.y+f.y;if(i-d>s||d-i>s){if(a)break}else if(l-v>s||v-l>s){if(!a)break}else{var y=yh(h,r);1>y?(f=t.Rx,null===f&&(t.Rx=f=new o(0)),u=f.random(),y=f.random(),i>d?(f=Math.abs(r.M.right-h.M.x),f=(1+f)*u):i<d?(f=Math.abs(r.M.x-h.M.right),f=-(1+f)*u):(f=Math.max(r.width,h.width),f=(1+f)*u-f/2),l>v?(d=Math.abs(r.M.bottom-h.M.y),d=(1+d)*y):i<d?(d=Math.abs(r.M.y-h.M.bottom),d=-(1+d)*y):(d=Math.max(r.height,h.height),d=(1+d)*y-d/2)):(u=-(h.charge*r.charge)/(y*y),f=(d-i)/y*u,d=(v-l)/y*u),h.forceX+=f,h.forceY+=d,r.forceX-=f,r.forceY-=d}}}for(n=t.network.edges.i;n.next();)a=n.value,h=a.fromVertex,r=a.toVertex,l=h.M,p=h.T,i=l.x+p.x,l=l.y+p.y,v=r.M,f=r.T,d=v.x+f.x,v=v.y+f.y,y=yh(h,r),1>y?(f=t.Rx,null===f&&(t.Rx=f=new o(0)),u=f.random(),y=f.random(),f=(i>d?1:-1)*(1+(r.width>h.width?r.width:h.width))*u,d=(l>v?1:-1)*(1+(r.height>h.height?r.height:h.height))*y):(u=a.stiffness*(y-a.length),f=(d-i)/y*u,d=(v-l)/y*u),h.forceX+=f,h.forceY+=d,r.forceX-=f,r.forceY-=d;for(n=0,i=Math.max(t.Ph/20,50),r=0;r<e.length;r++)h=e[r],t.isFixed(h)?t.moveFixedVertex(h):(a=h.forceX,s=h.forceY,a<-i?a=-i:a>i&&(a=i),s<-i?s=-i:s>i&&(s=i),h.ka+=a,h.sa+=s,n=Math.max(n,a*a+s*s));return n>t.DE*t.DE}function bh(){this.BB=this.AB=this.qy=this.ty=this.sy=0}function wh(){Bs.call(this)}function xh(){Hs.call(this),this.isFixed=!1,this.mass=this.charge=NaN,this.Hk=this.fg=this.forceY=this.forceX=0,this.Eh=this.on=null,this.UA=0}function kh(){Gs.call(this),this.length=this.stiffness=NaN}function Th(){0<arguments.length&&Wl.jd(Th),Os.call(this),this.Ud=this.Im=25,this.ba=0,this.wo=Cp,this.Yo=Dp,this.No=jp,this.Gm=4,this.jo=Ip,this.Zi=Vp,this.$h=!0,this.Xr=4,this.Kb=this.Vv=this.qb=-1,this.Lf=this.fs=0,this.Ob=this.Jf=this.Kf=this.ug=this.ie=null,this.os=0,this.ns=this.Nm=null,this.yg=0,this.ps=null,this.NB=new w,this.ih=[],this.ih.length=100}function Sh(t){var e=t.fromVertex.qd;return t=t.toVertex.qd,null===e&&null===t?8:null===e||null===t?4:1}function Mh(t){null===t.Nm&&(t.Nm=[]);for(var e=0,n=t.network.vertexes.i;n.next();){var i=n.value;t.Nm[e]=i.layer,e++,t.Nm[e]=i.column,e++,t.Nm[e]=i.index,e++}return t.Nm}function Ph(t,e){for(var n=0,i=t.network.vertexes.i;i.next();){var r=i.value;r.layer=e[n],n++,r.column=e[n],n++,r.index=e[n],n++}}function Ch(t,e,n){var i=el(t,e),r=t.ie[e];(null===t.ns||t.ns.length<r*r)&&(t.ns=[]);for(var o=t.ns,a=0;a<r;a++){var s=0,h=i[a],l=h.near,u=0;if(null!==l&&l.layer===h.layer)if((u=l.index)>a)for(var c=a+1;c<u;c++)h=i[c],h.near===l&&h.ln===l.ln||s++;else for(c=a-1;c>u;c--)h=i[c],h.near===l&&h.ln===l.ln||s++;var f,d,l=0,p=f=c=h=0,v=0,y=0;d=0;var g;if(0<=n)for(u=i[a].Pe,l=0;l<u.count;l++)if(f=u.n[l],f.valid&&f.fromVertex.layer!==e)for(h=f.fromVertex.index,c=f.portToPos,f=f.portFromPos,p=l+1;p<u.count;p++)d=u.n[p],d.valid&&d.fromVertex.layer!==e&&(v=d.fromVertex.index,y=d.portToPos,d=d.portFromPos,c<y&&(h>v||h===v&&f>d)&&s++,y<c&&(v>h||v===h&&d>f)&&s++);if(0>=n)for(u=i[a].Ie,l=0;l<u.count;l++)if(f=u.n[l],f.valid&&f.toVertex.layer!==e)for(h=f.toVertex.index,c=f.portToPos,f=f.portFromPos,p=l+1;p<u.count;p++)d=u.n[p],d.valid&&d.toVertex.layer!==e&&(v=d.toVertex.index,y=d.portToPos,d=d.portFromPos,f<d&&(h>v||h===v&&c>y)&&s++,d<f&&(v>h||v===h&&y>c)&&s++);for(o[a*r+a]=s,u=a+1;u<r;u++){var m=0,b=0;if(0<=n)for(s=i[a].Pe,g=i[u].Pe,l=0;l<s.count;l++)if(f=s.n[l],f.valid&&f.fromVertex.layer!==e)for(h=f.fromVertex.index,f=f.portFromPos,p=0;p<g.count;p++)d=g.n[p],d.valid&&d.fromVertex.layer!==e&&(v=d.fromVertex.index,d=d.portFromPos,(h<v||h===v&&f<d)&&b++,(v<h||v===h&&d<f)&&m++);if(0>=n)for(s=i[a].Ie,g=i[u].Ie,l=0;l<s.count;l++)if(f=s.n[l],f.valid&&f.toVertex.layer!==e)for(h=f.toVertex.index,c=f.portToPos,p=0;p<g.count;p++)d=g.n[p],d.valid&&d.toVertex.layer!==e&&(v=d.toVertex.index,y=d.portToPos,(h<v||h===v&&c<y)&&b++,(v<h||v===h&&y<c)&&m++);o[a*r+u]=m,o[u*r+a]=b}}return nl(t,e,i),o}function Nh(t){for(var e=0,n=0;n<=t.qb;n++){for(var i=t,r=n,o=el(i,r),a=i.ie[r],s=0,h=0;h<a;h++){var l,u=null,u=o[h].Ie,c=0,f=0;if(null!==u)for(var d=0;d<u.count;d++)l=u.n[d],l.valid&&l.toVertex.layer!==r&&(c=l.fromVertex.column+l.portFromColOffset,f=l.toVertex.column+l.portToColOffset,s+=(Math.abs(c-f)+1)*Sh(l))}nl(i,r,o),e+=s}return e}function Dh(t,e,n){for(var i=el(t,e),r=t.ie[e],o=[],a=0;a<r;a++){var s=i[a],h=null;0>=n&&(h=s.Pe);var l=null;0<=n&&(l=s.Ie);var u=0,c=0,f=s.near;if(null!==f&&f.layer===s.layer&&(u+=f.column-1,c++),null!==h)for(f=0;f<h.count;f++){var s=h.n[f],d=s.fromVertex;s.valid&&!s.rev&&d.layer!==e&&(u+=d.column,c++)}if(null!==l)for(h=0;h<l.count;h++)s=l.n[h],f=s.toVertex,s.valid&&!s.rev&&f.layer!==e&&(u+=f.column,c++);o[a]=0===c?-1:u/c}return nl(t,e,i),o}function Ah(t,e,n){for(var i=el(t,e),r=t.ie[e],o=[],a=0;a<r;a++){var s=i[a],h=null;0>=n&&(h=s.Pe);var l=null;0<=n&&(l=s.Ie);var u=0,c=[],f=s.near;if(null!==f&&f.layer===s.layer&&(c[u]=f.column-1,u++),null!==h)for(f=0;f<h.count;f++){var s=h.n[f],d=s.fromVertex;s.valid&&!s.rev&&d.layer!==e&&(c[u]=d.column+s.portFromColOffset,u++)}if(null!==l)for(h=0;h<l.count;h++)s=l.n[h],f=s.toVertex,s.valid&&!s.rev&&f.layer!==e&&(c[u]=f.column+s.portToColOffset,u++);0===u?o[a]=-1:(c.sort(function(t,e){return t-e}),l=u>>1,o[a]=0!=(1&u)?c[l]:c[l-1]+c[l]>>1)}return nl(t,e,i),o}function Eh(t,e,n,i,r,o){if(e.component===i){e.component=n;var a=0,s=0;if(r)for(var h=e.ic;h.next();){var s=h.value,l=s.toVertex,a=e.layer-l.layer,s=t.linkMinLength(s);a===s&&Eh(t,l,n,i,r,o)}if(o)for(h=e.lc;h.next();)s=h.value,l=s.fromVertex,a=l.layer-e.layer,s=t.linkMinLength(s),a===s&&Eh(t,l,n,i,r,o)}}function jh(t,e,n,i,r,o){if(e.component===i){if(e.component=n,r)for(var a=e.ic;a.next();)jh(t,a.value.toVertex,n,i,r,o);if(o)for(e=e.lc;e.next();)jh(t,e.value.fromVertex,n,i,r,o)}}function Lh(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid)return e}return null}function Fh(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid){for(var n=!0,i=e.ic;i.next();)if(i.value.toVertex.valid){n=!1;break}if(n)return e}}return null}function Oh(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid){for(var n=!0,i=e.lc;i.next();)if(i.value.fromVertex.valid){n=!1;break}if(n)return e}}return null}function Ih(t,e){e.Sp=t.os,t.os++;for(var n=e.ic;n.next();){var i=n.value,r=i.toVertex;-1===r.Sp&&(i.forest=!0,Ih(t,r))}e.finish=t.os,t.os++}function Rh(t){for(var e=t.network.vertexes.i;e.next();){var n=Bh(t,e.value);t.qb=Math.max(n,t.qb)}}function Bh(t,e){var n=0;if(-1===e.layer){for(var i=e.ic;i.next();)var r=i.value,o=r.toVertex,r=t.linkMinLength(r),n=Math.max(n,Bh(t,o)+r);e.layer=n}else n=e.layer;return n}function qh(t,e){var n=0;if(-1===e.layer){for(var i=e.lc;i.next();)var r=i.value,o=r.fromVertex,r=t.linkMinLength(r),n=Math.max(n,qh(t,o)+r);e.layer=n}else n=e.layer;return n}function zh(t,e){if(!e.valid){e.valid=!0;for(var n=e.ic;n.next();)zh(t,n.value.toVertex);for(n=t.network.vertexes.i;n.next();)n.value.component=-1;for(var i=e.Pe.n,r=i.length,o=0;o<r;o++){var a=i[o],s=t.linkMinLength(a);a.fromVertex.layer-a.toVertex.layer>s&&Eh(t,a.fromVertex,0,-1,!0,!1)}for(Eh(t,e,1,-1,!0,!0);0!==e.component;){for(var s=0,i=1/0,h=0,l=null,u=t.network.vertexes.i;u.next();){var c=u.value;if(1===c.component){for(var f=0,d=!1,p=c.Pe.n,r=p.length,o=0;o<r;o++){var a=p[o],v=a.fromVertex,f=f+1;1!==v.component&&(s+=1,v=v.layer-c.layer,a=t.linkMinLength(a),i=Math.min(i,v-a))}for(a=c.Ie.n,r=a.length,o=0;o<r;o++)p=a[o].toVertex,f-=1,1!==p.component?s-=1:d=!0;(null===l||f<h)&&!d&&(l=c,h=f)}}if(0<s){for(n.reset();n.next();)r=n.value,1===r.component&&(r.layer+=i);e.component=0}else l.component=0}for(n=t.network.vertexes.i;n.next();)n.value.component=-1;for(Eh(t,e,1,-1,!0,!1);0!==e.component;){for(o=0,r=1/0,i=0,s=null,h=t.network.vertexes.i;h.next();)if(l=h.value,1===l.component){for(u=0,c=!1,a=l.Pe.n,f=a.length,d=0;d<f;d++)p=a[d].fromVertex,u+=1,1!==p.component?o+=1:c=!0;for(a=l.Ie.n,f=a.length,d=0;d<f;d++)p=a[d],v=p.toVertex,u-=1,1!==v.component&&(o-=1,v=l.layer-v.layer,p=t.linkMinLength(p),r=Math.min(r,v-p));(null===s||u>i)&&!c&&(s=l,i=u)}if(0>o){for(n.reset();n.next();)o=n.value,1===o.component&&(o.layer-=r);e.component=0}else s.component=0}}}function Vh(t,e,n){return 90===t.ba?n&&!e.rev||!n&&e.rev?270:90:180===t.ba?n&&!e.rev||!n&&e.rev?0:180:270===t.ba?n&&!e.rev||!n&&e.rev?90:270:n&&!e.rev||!n&&e.rev?180:0}function Uh(t,e){var n=e.layer;e.index=t.ie[n],t.ie[n]++;for(var n=e.Ie.ec(),i=!0;i;)for(var i=!1,r=0;r<n.length-1;r++){var o=n[r],a=n[r+1];o.portFromColOffset>a.portFromColOffset&&(i=!0,n[r]=a,n[r+1]=o)}for(r=0;r<n.length;r++)i=n[r],i.valid&&(i=i.toVertex,-1===i.index&&Uh(t,i))}function Hh(t,e){var n=e.layer;e.index=t.ie[n],t.ie[n]++;for(var n=e.Pe.ec(),i=!0,r=0;i;)for(i=!1,r=0;r<n.length-1;r++){var o=n[r],a=n[r+1];o.portToColOffset>a.portToColOffset&&(i=!0,n[r]=a,n[r+1]=o)}for(r=0;r<n.length;r++)i=n[r],i.valid&&(i=i.fromVertex,-1===i.index&&Hh(t,i))}function Gh(t,e,n){var i=0,r=el(t,e),o=t.ie[e],a=Ah(t,e,n);for(n=Dh(t,e,n),i=0;i<o;i++)-1===n[i]&&(n[i]=r[i].column),-1===a[i]&&(a[i]=r[i].column);for(var s,h=!0;h;)for(h=!1,i=0;i<o-1;i++)(a[i+1]<a[i]||a[i+1]===a[i]&&n[i+1]<n[i])&&(h=!0,s=a[i],a[i]=a[i+1],a[i+1]=s,s=n[i],n[i]=n[i+1],n[i+1]=s,s=r[i],r[i]=r[i+1],r[i+1]=s);for(i=a=0;i<o;i++)s=r[i],s.index=i,a+=t.nodeMinColumnSpace(s,!0),s.column=a,a+=1,a+=t.nodeMinColumnSpace(s,!1);nl(t,e,r)}function _h(t,e,n){var i=el(t,e),r=t.ie[e];n=Ch(t,e,n);var o,a=0;for(o=[],a=0;a<r;a++)o[a]=-1;var s;for(s=[],a=0;a<r;a++)s[a]=-1;for(var h=!1,l=!0;l;)for(l=!1,a=0;a<r-1;a++){var u=n[i[a].index*r+i[a+1].index],c=n[i[a+1].index*r+i[a].index],f=0,d=0,p=i[a].column,v=i[a+1].column,y=t.nodeMinColumnSpace(i[a],!0),g=t.nodeMinColumnSpace(i[a],!1),m=t.nodeMinColumnSpace(i[a+1],!0),b=t.nodeMinColumnSpace(i[a+1],!1),y=p-y+m,g=v-g+b,m=m=0,w=i[a].lc.i;for(w.reset();w.next();)if(b=w.value,b.valid&&b.fromVertex.layer===e){for(b=b.fromVertex,m=0;i[m]!==b;)m++;m<a&&(f+=2*(a-m),d+=2*(a+1-m)),m===a+1&&(f+=1),m>a+1&&(f+=4*(m-a),d+=4*(m-(a+1)))}for(w=i[a].ic.i,w.reset();w.next();)if(b=w.value,b.valid&&b.toVertex.layer===e){for(b=b.toVertex,m=0;i[m]!==b;)m++;m===a+1&&(d+=1)}for(w=i[a+1].lc.i,w.reset();w.next();)if(b=w.value,b.valid&&b.fromVertex.layer===e){for(b=b.fromVertex,m=0;i[m]!==b;)m++;m<a&&(f+=2*(a+1-m),d+=2*(a-m)),m===a&&(d+=1),m>a+1&&(f+=4*(m-(a+1)),d+=4*(m-a))}for(w=i[a+1].ic.i,w.reset();w.next();)if(b=w.value,b.valid&&b.toVertex.layer===e){for(b=b.toVertex,m=0;i[m]!==b;)m++;m===a&&(f+=1)}var m=b=0,w=o[i[a].index],x=s[i[a].index],k=o[i[a+1].index],T=s[i[a+1].index];-1!==w&&(b+=Math.abs(w-p),m+=Math.abs(w-g)),-1!==x&&(b+=Math.abs(x-p),m+=Math.abs(x-g)),-1!==k&&(b+=Math.abs(k-v),m+=Math.abs(k-y)),-1!==T&&(b+=Math.abs(T-v),m+=Math.abs(T-y)),(d<f-.5||d===f&&c<u-.5||d===f&&c===u&&m<b-.5)&&(l=h=!0,i[a].column=g,i[a+1].column=y,u=i[a],i[a]=i[a+1],i[a+1]=u)}for(a=0;a<r;a++)i[a].index=a;return nl(t,e,i),h}function Wh(t,e,n){for(var i=!1;Kh(t,e,n);)i=!0;return i}function Kh(t,e,n){var i=0,r=el(t,e),o=t.ie[e],a=Dh(t,e,-1);if(0<n)for(i=0;i<o;i++)a[i]=-1;var s=Dh(t,e,1);if(0>n)for(i=0;i<o;i++)s[i]=-1;for(var h=!1,l=!0;l;)for(l=!1,i=0;i<o;i++){var u=r[i].column,c=t.nodeMinColumnSpace(r[i],!0),f=t.nodeMinColumnSpace(r[i],!1),d=0,d=0>i-1||u-r[i-1].column-1>c+t.nodeMinColumnSpace(r[i-1],!1)?u-1:u,c=0,c=i+1>=o||r[i+1].column-u-1>f+t.nodeMinColumnSpace(r[i+1],!0)?u+1:u,p=f=0,v=0,y=0,g=0,m=0;if(0>=n)for(var b=r[i].lc.i;b.next();){var w=b.value;w.valid&&w.fromVertex.layer!==e&&(y=Sh(w),g=w.portFromColOffset,m=w.portToColOffset,w=w.fromVertex.column,f+=(Math.abs(u+m-(w+g))+1)*y,p+=(Math.abs(d+m-(w+g))+1)*y,v+=(Math.abs(c+m-(w+g))+1)*y)}if(0<=n)for(b=r[i].ic.i;b.next();)w=b.value,w.valid&&w.toVertex.layer!==e&&(y=Sh(w),g=w.portFromColOffset,m=w.portToColOffset,w=w.toVertex.column,f+=(Math.abs(u+g-(w+m))+1)*y,p+=(Math.abs(d+g-(w+m))+1)*y,v+=(Math.abs(c+g-(w+m))+1)*y);m=g=y=0,b=a[r[i].index],w=s[r[i].index],-1!==b&&(y+=Math.abs(b-u),g+=Math.abs(b-d),m+=Math.abs(b-c)),-1!==w&&(y+=Math.abs(w-u),g+=Math.abs(w-d),m+=Math.abs(w-c)),p<f||p===f&&g<y?(l=h=!0,r[i].column=d):(v<f||v===f&&m<y)&&(l=h=!0,r[i].column=c)}return nl(t,e,r),t.normalize(),h}function Yh(t,e,n){var i=0,r=el(t,e),o=t.ie[e],a=Ah(t,e,n);for(n=[],i=0;i<o;i++)n[i]=a[i];for(a=!0;a;)for(a=!1,i=0;i<o;i++){var s=r[i].column,h=t.nodeMinColumnSpace(r[i],!0),l=t.nodeMinColumnSpace(r[i],!1),u=0,c=0,f=0,f=c=0;-1===n[i]?0===i&&i===o-1?u=s:0===i?(c=r[i+1].column,u=c-s===l+t.nodeMinColumnSpace(r[i+1],!0)?s-1:s):i===o-1?(f=r[i-1].column,u=s-f===h+t.nodeMinColumnSpace(r[i-1],!1)?s+1:s):(f=r[i-1].column,f=f+t.nodeMinColumnSpace(r[i-1],!1)+h+1,c=r[i+1].column,c=c-t.nodeMinColumnSpace(r[i+1],!0)-l-1,u=(f+c)/2|0):0===i&&i===o-1?u=n[i]:0===i?(c=r[i+1].column,c=c-t.nodeMinColumnSpace(r[i+1],!0)-l-1,u=Math.min(n[i],c)):i===o-1?(f=r[i-1].column,f=f+t.nodeMinColumnSpace(r[i-1],!1)+h+1,u=Math.max(n[i],f)):(f=r[i-1].column,f=f+t.nodeMinColumnSpace(r[i-1],!1)+h+1,c=r[i+1].column,c=c-t.nodeMinColumnSpace(r[i+1],!0)-l-1,f<n[i]&&n[i]<c?u=n[i]:f>=n[i]?u=f:c<=n[i]&&(u=c)),u!==s&&(a=!0,r[i].column=u)}nl(t,e,r),t.normalize()}function $h(t,e){for(var n=!0,i=t.network.vertexes.i;i.next();){var r=i.value,o=t.nodeMinColumnSpace(r,!0),a=t.nodeMinColumnSpace(r,!1);if(r.column-o<=e&&r.column+a>=e){n=!1;break}}if(r=!1,n)for(i.reset();i.next();)n=i.value,n.column>e&&(n.column-=1,r=!0);return r}function Jh(t,e){for(var n=e,n=e+1,i=0,r=[],o=[],i=0;i<=t.qb;i++)r[i]=!1,o[i]=!1;for(var a=t.network.vertexes.i;a.next();){var i=a.value,s=i.column-t.nodeMinColumnSpace(i,!0),h=i.column+t.nodeMinColumnSpace(i,!1);s<=e&&h>=e&&(r[i.layer]=!0),s<=n&&h>=n&&(o[i.layer]=!0)}for(s=!0,n=!1,i=0;i<=t.qb;i++)s=s&&!(r[i]&&o[i]);if(s)for(a.reset();a.next();)r=a.value,r.column>e&&(r.column-=1,n=!0);return n}function Xh(t,e){for(var n=0;n<=t.Kb;n++)for(;$h(t,n););for(t.normalize(),n=0;n<t.Kb;n++)for(;Jh(t,n););t.normalize();var i,n=0,r=0,o=0,a=0;if(0<e)for(n=0;n<=t.Kb;n++)for(i=Mh(t),r=Nh(t),o=r+1;r<o;)o=r,Qh(t,n,1),a=Nh(t),a>r?Ph(t,i):a<r&&(r=a,i=Mh(t));if(0>e)for(n=t.Kb;0<=n;n--)for(i=Mh(t),r=Nh(t),o=r+1;r<o;)o=r,Qh(t,n,-1),a=Nh(t),a>r?Ph(t,i):a<r&&(r=a,i=Mh(t));t.normalize()}function Qh(t,e,n){t.yg=0;for(var i=t.network.vertexes.i;i.next();)i.value.component=-1;if(0<n)for(i.reset();i.next();){var r=i.value;r.column-t.nodeMinColumnSpace(r,!0)<=e&&(r.component=t.yg)}if(0>n)for(i.reset();i.next();)r=i.value,r.column+t.nodeMinColumnSpace(r,!1)>=e&&(r.component=t.yg);for(t.yg++,i.reset();i.next();)e=i.value,-1===e.component&&(jh(t,e,t.yg,-1,!0,!0),t.yg++);var o=0;for(e=[],o=0;o<t.yg*t.yg;o++)e[o]=!1;for(r=[],o=0;o<(t.qb+1)*(t.Kb+1);o++)r[o]=-1;for(i.reset();i.next();)for(var o=i.value,a=o.layer,s=Math.max(0,o.column-t.nodeMinColumnSpace(o,!0)),h=Math.min(t.Kb,o.column+t.nodeMinColumnSpace(o,!1));s<=h;s++)r[a*(t.Kb+1)+s]=o.component;for(o=0;o<=t.qb;o++){if(0<n)for(s=0;s<t.Kb;s++)-1!==r[o*(t.Kb+1)+s]&&-1!==r[o*(t.Kb+1)+s+1]&&r[o*(t.Kb+1)+s]!==r[o*(t.Kb+1)+s+1]&&(e[r[o*(t.Kb+1)+s]*t.yg+r[o*(t.Kb+1)+s+1]]=!0);if(0>n)for(s=t.Kb;0<s;s--)-1!==r[o*(t.Kb+1)+s]&&-1!==r[o*(t.Kb+1)+s-1]&&r[o*(t.Kb+1)+s]!==r[o*(t.Kb+1)+s-1]&&(e[r[o*(t.Kb+1)+s]*t.yg+r[o*(t.Kb+1)+s-1]]=!0)}for(r=[],o=0;o<t.yg;o++)r[o]=!0;for(a=new c("number"),a.add(0),h=0;0!==a.count;)if(h=a.n[a.count-1],a.Yc(a.count-1),r[h])for(r[h]=!1,o=0;o<t.yg;o++)e[h*t.yg+o]&&a.Ld(0,o);if(0<n)for(i.reset();i.next();)t=i.value,r[t.component]&&(t.column-=1);if(0>n)for(i.reset();i.next();)n=i.value,r[n.component]&&(n.column+=1)}function Zh(t,e){return 270===t.ba?e?cu:pu:90===t.ba?e?pu:cu:180===t.ba?e?fu:du:e?du:fu}function tl(t,e){var n=t-e;return-1<n&&1>n}function el(t,e){var n,i=t.ie[e];if(i>=t.ih.length){n=[];for(var r=0;r<t.ih.length;r++)n[r]=t.ih[r];t.ih=n}for(void 0===t.ih[i]||null===t.ih[i]?n=[]:(n=t.ih[i],t.ih[i]=null),i=t.ps[e],r=0;r<i.length;r++){var o=i[r];n[o.index]=o}return n}function nl(t,e,n){t.ih[t.ie[e]]=n}function il(){this.index=this.qe=this.Xe=this.fe=this.first=this.layer=0,this.link=null,this.ri=0}function rl(){Bs.call(this)}function ol(){Hs.call(this),this.index=this.column=this.layer=-1,this.component=NaN,this.near=null,this.valid=!1,this.finish=this.Sp=NaN,this.ln=0,this.JA=this.KA=null}function al(){Gs.call(this),this.forest=this.rev=this.valid=!1,this.portToPos=this.portFromPos=NaN,this.portToColOffset=this.portFromColOffset=0}function sl(){0<arguments.length&&Wl.jd(sl),Os.call(this),this.rd=new d(Object),this.ys=Up,this.If=Hp,this.pt=ov,this.Sv=fv,this.IB=null,this.Jh=!0,this.ld=lv,this.ig=new T(10,10).freeze(),this.ua=new Vl,this.va=new Vl,this.Az=[]}function hl(t){var e=new d(Vl);for(t=t.i;t.next();){var n=t.value;n.initialized||e.add(n)}return e}function ll(t,e){for(var n=999999,i=null,r=e.i;r.next();){var o=r.value;switch(t.If){case Hp:o.lc.count<n&&(n=o.lc.count,i=o);break;case Gp:o.ic.count<n&&(n=o.ic.count,i=o);break;default:Wl.k("Unhandled path value "+t.If.toString())}}return i}function ul(t,e){if(null!==e){switch(t.If){case Hp:if(0<e.ic.count){for(var n=new c(Vl),i=e.JH;i.next();){var r=i.value;cl(t,e,r)&&n.add(r)}0<n.count&&(e.children=n.ec())}break;case Gp:if(0<e.lc.count){for(n=new c(Vl),i=e.DJ;i.next();)r=i.value,cl(t,e,r)&&n.add(r);0<n.count&&(e.children=n.ec())}break;default:Wl.k("Unhandled path value"+t.If.toString())}for(n=e.children,i=n.length,r=0;r<i;r++){var o=n[r];o.initialized=!0,o.level=e.level+1,o.parent=e,t.rd.remove(o)}for(r=0;r<i;r++)o=n[r],ul(t,o)}}function cl(t,e,n){if(n.initialized){var i;if(null===e)i=!1;else{for(i=e.parent;null!==i&&i!==n;)i=i.parent;i=i===n}if(i||n.level>e.level)return!1;t.removeChild(n.parent,n)}return!0}function fl(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===tv&&t.sortTreeVertexChildren(e);for(var n=0,i=e.nn,r=0,o=e.children,a=o.length,s=0;s<a;s++){var h=o[s];fl(t,h),n+=h.descendantCount+1,i=Math.max(i,h.maxChildrenCount),r=Math.max(r,h.maxGenerationCount)}e.descendantCount=n,e.maxChildrenCount=i,e.maxGenerationCount=0<i?r+1:0}}function dl(t,e){switch(t.pt){default:case ov:return null!==e.parent?e.parent:t.ua;case hv:return null===e.parent?t.ua:null===e.parent.parent?t.va:e.parent;case sv:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.va:t.ua;case av:var n=!0;if(0===e.nn)n=!1;else for(var i=e.children,r=i.length,o=0;o<r;o++)if(0<i[o].nn){n=!1;break}return n&&null!==e.parent?t.va:null!==e.parent?e.parent:t.ua}}function pl(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var n=e.children,i=n.length,r=0;r<i;r++)pl(t,n[r])}}function vl(t,e){if(null!==e){e.alignment!==tv&&t.sortTreeVertexChildren(e);for(var n=e.children,i=n.length,r=0;r<i;r++)vl(t,n[r])}}function yl(t){return t===Zp||t===tv||t===ev||t===nv}function gl(t){return t===Zp||t===tv}function ml(t){var e=t.parent;if(null!==e){var n=e.alignment;if(yl(n)){if(gl(n)){for(e=e.children,n=0;n<e.length&&t!==e[n];)n++;return 0==n%2}if(n===ev)return!0}}return!1}function bl(t,e){if(0===e.nn){var n=!1,i=0,r=Jp;null!==e.parent&&(i=e.parent.angle,r=e.parent.alignment,n=yl(r)),r=ml(e),e.qa.l(0,0),e.jb.l(e.width,e.height),null===e.parent||null===e.comments||(180!==i&&270!==i||n)&&!r?e.Pa.l(0,0):180===i&&!n||(90===i||270===i)&&r?e.Pa.l(e.width-2*e.T.x,0):e.Pa.l(0,e.height-2*e.T.y)}else{for(var n=Rl(e),i=90===n||270===n,o=0,r=e.children,a=r.length,s=0;s<a;s++)var h=r[s],o=Math.max(o,i?h.jb.width:h.jb.height);var l=e.alignment,u=l===Xp,c=l===Qp,f=yl(l),d=Math.max(0,e.breadthLimit),p=Bl(e),v=e.nodeSpacing,y=ql(e),g=u||c?0:y/2,m=e.rowSpacing,b=0;(u||c||e.pq||e.qq&&1===e.maxGenerationCount)&&(b=Math.max(0,e.rowIndent));var u=e.width,w=e.height,x=0,k=0,T=0,S=0,M=0,P=0,C=0,N=0,D=0,A=0;if(f&&!gl(l)&&135<n&&r.reverse(),gl(l))if(1<a)for(s=0;s<a;s++){var h=r[s],E=h.jb;0==s%2&&s!==a-1?D=Math.max(D,(i?E.width:E.height)+kl(h)-v):0!=s%2&&(A=Math.max(A,(i?E.width:E.height)+kl(h)-v))}else 1===a&&(D=i?r[0].jb.width:r[0].jb.height);if(f)switch(l){case Zp:case tv:k=135>n?wl(e,r,D,x,k):xl(e,r,D,x,k),D=k.x,x=k.width,k=k.height;break;case ev:for(s=0;s<a;s++)h=r[s],E=h.jb,d=0===C?0:m,i?(h.qa.l(o-E.width,M+d),x=Math.max(x,E.width),k=Math.max(k,M+d+E.height),M+=d+E.height):(h.qa.l(S+d,o-E.height),x=Math.max(x,S+d+E.width),k=Math.max(k,E.height),S+=d+E.width),C++;break;case nv:for(o=0;o<a;o++)h=r[o],E=h.jb,d=0===C?0:m,i?(h.qa.l(v/2+e.T.x,M+d),x=Math.max(x,E.width),k=Math.max(k,M+d+E.height),M+=d+E.height):(h.qa.l(S+d,v/2+e.T.y),x=Math.max(x,S+d+E.width),k=Math.max(k,E.height),S+=d+E.width),C++}else for(s=0;s<a;s++)h=r[s],E=h.jb,i?(0<d&&0<C&&S+v+E.width>d&&(S<o&&Nl(e,l,o-S,0,N,s-1),P++,C=0,N=s,T=k,S=0,M=135<n?-k-m:k+m),A=0===C?g:v,Al(t,h,0,M),h.qa.l(S+A,M),x=Math.max(x,S+A+E.width),k=Math.max(k,T+(0===P?0:m)+E.height),S+=A+E.width):(0<d&&0<C&&M+v+E.height>d&&(M<o&&Nl(e,l,0,o-M,N,s-1),P++,C=0,N=s,T=x,M=0,S=135<n?-x-m:x+m),A=0===C?g:v,Al(t,h,S,0),h.qa.l(S,M+A),k=Math.max(k,M+A+E.height),x=Math.max(x,T+(0===P?0:m)+E.width),M+=A+E.height),C++;switch(0<P&&(i?(k+=Math.max(0,p),S<x&&Nl(e,l,x-S,0,N,a-1),0<b&&(c||Dl(e,b,0,0,a-1),x+=b)):(x+=Math.max(0,p),M<k&&Nl(e,l,0,k-M,N,a-1),0<b&&(c||Dl(e,0,b,0,a-1),k+=b))),b=c=0,l){case $p:i?c+=x/2-e.T.x-y/2:b+=k/2-e.T.y-y/2;break;case Jp:0<P?i?c+=x/2-e.T.x-y/2:b+=k/2-e.T.y-y/2:i?(l=r[0].qa.x+r[0].Pa.x,v=r[a-1].qa.x+r[a-1].Pa.x+2*r[a-1].T.x,c+=l+(v-l)/2-e.T.x-y/2):(l=r[0].qa.y+r[0].Pa.y,v=r[a-1].qa.y+r[a-1].Pa.y+2*r[a-1].T.y,b+=l+(v-l)/2-e.T.y-y/2);break;case Xp:i?(c-=y,x+=y):(b-=y,k+=y);break;case Qp:i?(c+=x-e.width+y,x+=y):(b+=k-e.height+y,k+=y);break;case Zp:case tv:i?c=1<a?c+(D+v/2-e.T.x):c+(r[0].T.x-e.T.x+r[0].Pa.x):b=1<a?b+(D+v/2-e.T.y):b+(r[0].T.y-e.T.y+r[0].Pa.y);break;case ev:i?c+=x+v/2-e.T.x:b+=k+v/2-e.T.y;break;case nv:break;default:Wl.k("Unhandled alignment value "+l.toString())}for(s=0;s<a;s++)h=r[s],i?h.qa.l(h.qa.x+h.Pa.x-c,h.qa.y+(135<n?(f?-k:-h.jb.height)+h.Pa.y-p:w+p+h.Pa.y)):h.qa.l(h.qa.x+(135<n?(f?-x:-h.jb.width)+h.Pa.x-p:u+p+h.Pa.x),h.qa.y+h.Pa.y-b);i?(x=Ml(e,x,c),0>c&&(c=0),135<n&&(b+=k+p),k+=w+p):(135<n&&(c+=x+p),x+=u+p,k=Pl(e,k,b),0>b&&(b=0)),e.Pa.l(c,b),e.jb.l(x,k)}}function wl(t,e,n,i,r){var o=e.length;if(0===o)return new S(n,0,i,r);if(1===o){var a=e[0];return i=a.jb.width,r=a.jb.height,new S(n,0,i,r)}for(var s=t.nodeSpacing,h=t.rowSpacing,l=90===Rl(t),u=0,c=0,f=0,d=0;d<o;d++)if(!(0!=d%2||1<o&&d===o-1)){var a=e[d],p=a.jb,v=0===u?0:h;if(l){var y=kl(a)-s;a.qa.l(n-(p.width+y),f+v),i=Math.max(i,p.width+y),r=Math.max(r,f+v+p.height),f+=v+p.height}else y=kl(a)-s,a.qa.l(c+v,n-(p.height+y)),r=Math.max(r,p.height+y),i=Math.max(i,c+v+p.width),c+=v+p.width;u++}var u=0,g=c,m=f;for(l?(c=n+s,f=0):(c=0,f=n+s),d=0;d<o;d++)0!=d%2&&(a=e[d],p=a.jb,v=0===u?0:h,l?(y=kl(a)-s,a.qa.l(c+y,f+v),i=Math.max(i,c+p.width+y),r=Math.max(r,f+v+p.height),f+=v+p.height):(y=kl(a)-s,a.qa.l(c+v,f+y),i=Math.max(i,c+v+p.width),r=Math.max(r,f+p.height+y),c+=v+p.width),u++);return 1<o&&1==o%2&&(a=e[o-1],p=a.jb,e=Tl(a,l?Math.max(Math.abs(m),Math.abs(f)):Math.max(Math.abs(g),Math.abs(c))),l?(a.qa.l(n+s/2-a.T.x-a.Pa.x,r+e),l=n+s/2-a.T.x-a.Pa.x,i=Math.max(i,l+p.width),0>l&&(i-=l),r=Math.max(r,Math.max(m,f)+e+p.height),0>a.qa.x&&(n=Sl(t,a.qa.x,!1,n,s))):(a.qa.l(i+e,n+s/2-a.T.y-a.Pa.y),i=Math.max(i,Math.max(g,c)+e+p.width),l=n+s/2-a.T.y-a.Pa.y,r=Math.max(r,l+p.height),0>l&&(r-=l),0>a.qa.y&&(n=Sl(t,a.qa.y,!0,n,s)))),new S(n,0,i,r)}function xl(t,e,n,i,r){var o=e.length;if(0===o)return new S(n,0,i,r);if(1===o){var a=e[0];return i=a.jb.width,r=a.jb.height,new S(n,0,i,r)}for(var s=t.nodeSpacing,h=t.rowSpacing,l=270===Rl(t),u=0,c=0,f=0,d=0;d<o;d++)if(!(0!=d%2||1<o&&d===o-1)){var a=e[d],p=a.jb,v=0===u?0:h;if(l){var y=kl(a)-s,f=f-(v+p.height);a.qa.l(n-(p.width+y),f),i=Math.max(i,p.width+y),r=Math.max(r,Math.abs(f))}else y=kl(a)-s,c-=v+p.width,a.qa.l(c,n-(p.height+y)),r=Math.max(r,p.height+y),i=Math.max(i,Math.abs(c));u++}var u=0,g=c,m=f;for(l?(c=n+s,f=0):(c=0,f=n+s),d=0;d<o;d++)0!=d%2&&(a=e[d],p=a.jb,v=0===u?0:h,l?(y=kl(a)-s,f-=v+p.height,a.qa.l(c+y,f),i=Math.max(i,c+p.width+y),r=Math.max(r,Math.abs(f))):(y=kl(a)-s,c-=v+p.width,a.qa.l(c,f+y),r=Math.max(r,f+p.height+y),i=Math.max(i,Math.abs(c))),u++);for(1<o&&1==o%2&&(a=e[o-1],p=a.jb,h=Tl(a,l?Math.max(Math.abs(m),Math.abs(f)):Math.max(Math.abs(g),Math.abs(c))),l?(a.qa.l(n+s/2-a.T.x-a.Pa.x,-r-p.height-h),c=n+s/2-a.T.x-a.Pa.x,i=Math.max(i,c+p.width),0>c&&(i-=c),r=Math.max(r,Math.abs(Math.min(m,f))+h+p.height),0>a.qa.x&&(n=Sl(t,a.qa.x,!1,n,s))):(a.qa.l(-i-p.width-h,n+s/2-a.T.y-a.Pa.y),i=Math.max(i,Math.abs(Math.min(g,c))+h+p.width),c=n+s/2-a.T.y-a.Pa.y,r=Math.max(r,c+p.height),0>c&&(r-=c),0>a.qa.y&&(n=Sl(t,a.qa.y,!0,n,s)))),d=0;d<o;d++)a=e[d],l?a.qa.l(a.qa.x,a.qa.y+r):a.qa.l(a.qa.x+i,a.qa.y);return new S(n,0,i,r)}function kl(t){return null===t.parent?0:t.parent.nodeSpacing}function Tl(t){return null===t.parent?0:t.parent.rowSpacing}function Sl(t,e,n,i,r){t=t.children;for(var o=t.length,a=0;a<o;a++)n?t[a].qa.l(t[a].qa.x,t[a].qa.y-e):t[a].qa.l(t[a].qa.x-e,t[a].qa.y);return e=t[o-1],Math.max(i,n?e.Pa.y+e.T.y-r/2:e.Pa.x+e.T.x-r/2)}function Ml(t,e,n){switch(t.alignment){case Jp:case $p:var i=e;return n+t.width>i&&(i=n+t.width),0>n&&(i-=n),i;case Xp:return t.width>e?t.width:e;case Qp:return 2*t.T.x>e?t.width:e+t.width-2*t.T.x;case Zp:case tv:return i=Math.min(0,n),n=Math.max(e,n+t.width),Math.max(t.width,n-i);case ev:return t.width-t.T.x+t.nodeSpacing/2+e;case nv:return Math.max(t.width,t.T.x+t.nodeSpacing/2+e);default:return e}}function Pl(t,e,n){switch(t.alignment){case Jp:case $p:var i=e;return n+t.height>i&&(i=n+t.height),0>n&&(i-=n),i;case Xp:return t.height>e?t.height:e;case Qp:return 2*t.T.y>e?t.height:e+t.height-2*t.T.y;case Zp:case tv:return i=Math.min(0,n),n=Math.max(e,n+t.height),Math.max(t.height,n-i);case ev:return t.height-t.T.y+t.nodeSpacing/2+e;case nv:return Math.max(t.height,t.T.y+t.nodeSpacing/2+e);default:return e}}function Cl(t,e,n){switch(t){case $p:e/=2,n/=2;break;case Jp:e/=2,n/=2;break;case Xp:n=e=0;break;case Qp:break;default:Wl.k("Unhandled alignment value "+t.toString())}return new w(e,n)}function Nl(t,e,n,i,r,o){e=Cl(e,n,i),Dl(t,e.x,e.y,r,o)}function Dl(t,e,n,i,r){if(0!==e||0!==n)for(t=t.children;i<=r;i++){var o=t[i].qa;o.x+=e,o.y+=n}}function Al(t,e,n,i){var r=e.parent;switch(t.If){case Hp:for(t=e.lc;t.next();)e=t.value,e.fromVertex===r&&e.Fs.l(n,i);break;case Gp:for(t=e.ic;t.next();)e=t.value,e.toVertex===r&&e.Fs.l(n,i);break;default:Wl.k("Unhandled path value "+t.If.toString())}}function El(t,e,n){for(var i=0;i<t.length;i++){var r=t[i];r.x+=e,r.y+=n}}function jl(t,e,n,i,r,o,a,s){var h=Rl(e),l=90===h||270===h,u=e.nodeSpacing;e=i;var c=r;i=o,r=a;var f=n.gu,d=n.Bu;a=n.jb;var p=l?Math.max(r,a.height):Math.max(i,a.width);if(null!==f&&h===Rl(n)||(f=Ll(t,2),d=Ll(t,2),l?(f[0].l(0,0),f[1].l(0,a.height),d[0].l(a.width,0),d[1].l(d[0].x,f[1].y)):(f[0].l(0,0),f[1].l(a.width,0),d[0].l(0,a.height),d[1].l(f[1].x,d[0].y))),l){if(n=i,i=9999999,!(null===c||2>c.length||null===f||2>f.length))for(l=h=0;h<c.length&&l<f.length;){r=c[h];var v=f[l];o=v.x;var y=v.y;o+=n;var g=r;h+1<c.length&&(g=c[h+1]);var m=v,v=m.x,m=m.y;l+1<f.length&&(m=f[l+1],v=m.x,m=m.y,v+=n);var b=i;r.y===y?b=o-r.x:r.y>y&&r.y<m?b=o+(r.y-y)/(m-y)*(v-o)-r.x:y>r.y&&y<g.y&&(b=o-(r.x+(y-r.y)/(g.y-r.y)*(g.x-r.x))),b<i&&(i=b),g.y<=r.y?h++:m<=y?l++:(g.y<=m&&h++,m<=g.y&&l++)}if(n-=i,n+=u,h=f,l=n,null===e||2>e.length||null===h||2>h.length)i=null;else{for(u=Ll(t,e.length+h.length),i=o=r=0;o<h.length&&h[o].y<e[0].y;)y=h[o++],u[i++].l(y.x+l,y.y);for(;r<e.length;)y=e[r++],u[i++].l(y.x,y.y);for(r=e[e.length-1].y;o<h.length&&h[o].y<=r;)o++;for(;o<h.length&&h[o].y>r;)y=h[o++],u[i++].l(y.x+l,y.y);for(h=Ll(t,i),r=0;r<i;r++)h[r].assign(u[r]);Fl(t,u),i=h}if(o=d,y=n,null===c||2>c.length||null===o||2>o.length)r=null;else{for(u=Ll(t,c.length+o.length),l=g=h=0;h<c.length&&c[h].y<o[0].y;)r=c[h++],u[l++].l(r.x,r.y);for(;g<o.length;)r=o[g++],u[l++].l(r.x+y,r.y);for(o=o[o.length-1].y;h<c.length&&c[h].y<=o;)h++;for(;h<c.length&&c[h].y>o;)r=c[h++],u[l++].l(r.x,r.y);for(r=Ll(t,l),h=0;h<l;h++)r[h].assign(u[h]);Fl(t,u)}o=Math.max(0,n)+a.width,a=p}else{if(n=r,i=9999999,!(null===c||2>c.length||null===f||2>f.length))for(l=h=0;h<c.length&&l<f.length;)r=c[h],v=f[l],o=v.x,y=v.y,y+=n,g=r,h+1<c.length&&(g=c[h+1]),m=v,v=m.x,m=m.y,l+1<f.length&&(m=f[l+1],v=m.x,m=m.y,m+=n),b=i,r.x===o?b=y-r.y:r.x>o&&r.x<v?b=y+(r.x-o)/(v-o)*(m-y)-r.y:o>r.x&&o<g.x&&(b=y-(r.y+(o-r.x)/(g.x-r.x)*(g.y-r.y))),b<i&&(i=b),g.x<=r.x?h++:v<=o?l++:(g.x<=v&&h++,v<=g.x&&l++);if(n-=i,n+=u,h=f,l=n,null===e||2>e.length||null===h||2>h.length)i=null;else{for(u=Ll(t,e.length+h.length),i=o=r=0;o<h.length&&h[o].x<e[0].x;)y=h[o++],u[i++].l(y.x,y.y+l);for(;r<e.length;)y=e[r++],u[i++].l(y.x,y.y);for(r=e[e.length-1].x;o<h.length&&h[o].x<=r;)o++;for(;o<h.length&&h[o].x>r;)y=h[o++],u[i++].l(y.x,y.y+l);for(h=Ll(t,i),r=0;r<i;r++)h[r].assign(u[r]);Fl(t,u),i=h}if(o=d,y=n,null===c||2>c.length||null===o||2>o.length)r=null;else{for(u=Ll(t,c.length+o.length),l=g=h=0;h<c.length&&c[h].x<o[0].x;)r=c[h++],u[l++].l(r.x,r.y);for(;g<o.length;)r=o[g++],u[l++].l(r.x,r.y+y);for(o=o[o.length-1].x;h<c.length&&c[h].x<=o;)h++;for(;h<c.length&&c[h].x>o;)r=c[h++],u[l++].l(r.x,r.y);for(r=Ll(t,l),h=0;h<l;h++)r[h].assign(u[h]);Fl(t,u)}o=p,a=Math.max(0,n)+a.height}return Fl(t,e),Fl(t,f),Fl(t,c),Fl(t,d),s[0]=i,s[1]=r,new S(n,0,o,a)}function Ll(t,e){var n=t.Az[e];if(void 0!==n&&void 0!==(n=n.pop()))return n;for(var n=[],i=0;i<e;i++)n[i]=new w;return n}function Fl(t,e){var n=e.length,i=t.Az[n];void 0===i&&(i=[],t.Az[n]=i),i.push(e)}function Ol(t,e,n,i){if(null!==e){e.x=n,e.y=i,e=e.children;for(var r=e.length,o=0;o<r;o++){var a=e[o];Ol(t,a,n+a.qa.x,i+a.qa.y)}}}function Il(t,e){if(null!==e){t.setPortSpots(e);for(var n=e.children,i=n.length,r=0;r<i;r++)Il(t,n[r])}}function Rl(t){return t=t.angle,45>=t?0:135>=t?90:225>=t?180:315>=t?270:0}function Bl(t){var e=Rl(t),e=90===e||270===e,n=t.layerSpacing;if(0<t.layerSpacingParentOverlap)var i=Math.min(1,t.layerSpacingParentOverlap),n=n-(e?t.height*i:t.width*i);return n<(e?-t.height:-t.width)&&(n=e?-t.height:-t.width),n}function ql(t){var e=Rl(t),e=90===e||270===e,n=t.nodeIndent;if(0<t.nodeIndentPastParent)var i=Math.min(1,t.nodeIndentPastParent),n=n+(e?t.width*i:t.height*i);return n=Math.max(0,n)}function zl(){Bs.call(this)}function Vl(){Hs.call(this),this.initialized=!1,this.parent=null,this.children=[],this.maxGenerationCount=this.maxChildrenCount=this.descendantCount=this.level=0,this.comments=null,this.qa=new w(0,0),this.jb=new T(0,0),this.Pa=new w(0,0),this.qq=this.pq=this.sJ=!1,this.Bu=this.gu=null,this.sorting=_p,this.comparer=np,this.angle=0,this.alignment=Jp,this.nodeIndentPastParent=this.nodeIndent=0,this.nodeSpacing=20,this.layerSpacing=50,this.layerSpacingParentOverlap=0,this.compaction=rv,this.breadthLimit=0,this.rowSpacing=25,this.commentSpacing=this.rowIndent=10,this.commentMargin=20,this.setsPortSpot=!0,this.portSpot=eu,this.setsChildPortSpot=!0,this.childPortSpot=eu}function Ul(){Gs.call(this),this.Fs=new w(0,0)}function Hl(){Tr.call(this),this.Te=null}var Gl,_l={};if(!e.document||void 0===e.document.createElement("canvas").getContext)throw e.console&&e.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");Function.prototype.bind||(Function.prototype.bind=function(t){function e(){return o.apply(t,r.concat(i.call(arguments)))}function n(){}var i=Array.prototype.slice,r=i.call(arguments,1),o=this;return n.prototype=this.prototype,e.prototype=new n,e}),function(){for(var t=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!e.requestAnimationFrame;++i)e.requestAnimationFrame=e[n[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[i]+"CancelAnimationFrame"]||e[n[i]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(n){var i=(new Date).getTime(),r=Math.max(8,16-(i-t)),o=e.setTimeout(function(){n(i+r)},r);return t=i+r,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){e.clearTimeout(t)})}(),_l.Debug=null;var Wl={kd:1,Rc:2,$c:4,Zc:8,En:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("534.30")&&0<e.navigator.userAgent.indexOf("Android"),gF:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("MSIE 10.0"),hF:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("Trident/7"),VK:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("Edge/"),Fk:void 0!==e.navigator&&void 0!==e.navigator.platform&&0<=e.navigator.platform.toUpperCase().indexOf("MAC"),iF:void 0!==e.navigator&&void 0!==e.navigator.platform&&null!==e.navigator.platform.match(/(iPhone|iPod|iPad)/i),tE:function(t,e,n){var i=-1;return function(){var r=this,o=arguments;-1!==i&&Wl.clearTimeout(i),i=Wl.setTimeout(function(){i=-1,n||t.apply(r,o)},e),n&&!i&&t.apply(r,o)}},setTimeout:function(t,n){return e.setTimeout(t,n)},clearTimeout:function(t){e.clearTimeout(t)},createElement:function(t){return e.document.createElement(t)},k:function(t){throw Error(t)},ma:function(t,e){var n="The object is frozen, so its properties cannot be set: "+t.toString();void 0!==e&&(n+="  to value: "+e),Wl.k(n)},G:function(t,e,n,i){t instanceof e||(n=Wl.getTypeName(n),void 0!==i&&(n+="."+i),Wl.xd(t,e,n))},j:function(t,e,n,i){typeof t!==e&&(n=Wl.getTypeName(n),void 0!==i&&(n+="."+i),Wl.xd(t,e,n))},Zd:function(t,e,n){"number"==typeof t&&isFinite(t)||(e=Wl.getTypeName(e),void 0!==n&&(e+="."+n),Wl.k(e+" must be a real number type, and not NaN or Infinity: "+t))},nb:function(t,e,i,r){t instanceof n&&t.Ee===e||(i=Wl.getTypeName(i),void 0!==r&&(i+="."+r),Wl.xd(t,"a constant of class "+Wl.jf(e),i))},uK:function(t,e){"string"==typeof t?Tf(t)||Wl.k('Color "'+t+'" is not a valid color string for '+e):t instanceof vr||Wl.k("Value for "+e+" must be a color string or a Brush, not "+t)},xd:function(t,e,n,i){e=Wl.getTypeName(e),n=Wl.getTypeName(n),void 0!==i&&(n+="."+i),"string"==typeof t?Wl.k(n+" value is not an instance of "+e+': "'+t+'"'):Wl.k(n+" value is not an instance of "+e+": "+t)},Fa:function(t,e,n,i){n=Wl.getTypeName(n),void 0!==i&&(n+="."+i),Wl.k(n+" is not in the range "+e+": "+t)},jd:function(t){Wl.k(Wl.jf(t)+" constructor cannot take any arguments.")},Oa:function(t){Wl.k("Collection was modified during iteration: "+t.toString()+"\n  Perhaps you should iterate over a copy of the collection,\n  or you could collect items to be removed from the collection after the iteration.")},Ej:function(t,e){Wl.k("No property to set for this enum value: "+e+" on "+t.toString())},trace:function(t){e.console&&e.console.log(t)},$w:{},Gt:function(t,n){!0!==Wl.$w[t]&&(Wl.$w[t]=!0,e.console&&e.console.log(t+" is deprecated in "+n+", see the GoJS change log for more information."))},Ua:function(t){return"object"==typeof t&&null!==t},isArray:function(t){return Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection},tI:function(t){return Array.isArray(t)},Pz:function(t,e,n){Wl.isArray(t)||Wl.xd(t,"Array or NodeList or HTMLCollection",e,n)},Za:function(t){return t.length},Il:function(t){return Array.prototype.slice.call(t)},Ea:function(t,e){return Array.isArray(t),t[e]},jE:function(t,e,n){Array.isArray(t)?t[e]=n:Wl.k("Cannot replace an object in an HTMLCollection or NodeList at "+e)},Fl:function(t,e){if(Array.isArray(t))return t.indexOf(e);for(var n=t.length,i=0;i<n;i++)if(t[i]===e)return i;return-1},rh:function(t,e,n){Array.isArray(t)?e>=t.length?t.push(n):t.splice(e,0,n):Wl.k("Cannot insert an object into an HTMLCollection or NodeList: "+n+" at "+e)},Gg:function(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):Wl.k("Cannot remove an object from an HTMLCollection or NodeList at "+e)},uy:[],K:function(){var t=Wl.uy.pop();return void 0===t?new w:t},xb:function(t,e){var n=Wl.uy.pop();return void 0===n?new w(t,e):(n.x=t,n.y=e,n)},v:function(t){Wl.uy.push(t)},EB:[],jm:function(){var t=Wl.EB.pop();return void 0===t?new T:t},Ak:function(t){Wl.EB.push(t)},vy:[],Ef:function(){var t=Wl.vy.pop();return void 0===t?new S:t},Wg:function(t,e,n,i){var r=Wl.vy.pop();return void 0===r?new S(t,e,n,i):(r.x=t,r.y=e,r.width=n,r.height=i,r)},Hb:function(t){Wl.vy.push(t)},FB:[],Ff:function(){var t=Wl.FB.pop();return void 0===t?new j:t},ve:function(t){Wl.FB.push(t)},wy:null,s:function(){var t=Wl.wy;return null!==t?(Wl.wy=null,t):new Jo},q:function(t){t.reset(),Wl.wy=t},DB:[],mb:function(){var t=Wl.DB.pop();return void 0===t?[]:t},wa:function(t){t.length=0,Wl.DB.push(t)},ho:Object.freeze([]),nm:1,mc:function(t){t.__gohashid=Wl.nm++},Zp:function(t){var e=t.__gohashid;return void 0===e&&(e=Wl.nm++,t.__gohashid=e),e},Jd:function(t){return t.__gohashid},ga:function(t,e){e.Fy=t,_l[t]=e},Ma:function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},ki:function(t){t.RG=!0},defineProperty:function(t,e,n,i,r){Wl.j(t,"function","Util.defineProperty:classfunc"),Wl.j(e,"object","Util.defineProperty:propobj"),Wl.j(n,"function","Util.defineProperty:getter"),Wl.j(i,"function","Util.defineProperty:setter");for(var o in e){if(e=e[o],n={get:n,set:i,enumerable:!0},void 0!==r)for(var a in r)n[a]=r[a];Object.defineProperty(t.prototype,o,n),r=Object.getOwnPropertyDescriptor(t.prototype,o),e&&r&&Object.defineProperty(t.prototype,e,r);break}},VJ:!1,u:function(t,e,n,i){Wl.j(t,"function","Util.defineReadOnlyProperty:classfunc"),Wl.j(e,"object","Util.defineReadOnlyProperty:propobj"),Wl.j(n,"function","Util.defineReadOnlyProperty:getter");for(var r in e){var o=e[r];if(e={get:n,set:function(t){Wl.k('The property "'+o+'" is read-only and cannot be set to '+t)},enumerable:!0},void 0!==i)for(var a in i)e[a]=i[a];Object.defineProperty(t.prototype,r,e),i=Object.getOwnPropertyDescriptor(t.prototype,r),o&&i&&Object.defineProperty(t.prototype,o,i);break}},ae:function(t,e){for(var n in e)e[n]=!0;t.prototype.NG=e},getTypeName:function(t){return void 0===t?"":"string"==typeof t?t:"function"==typeof t?Wl.jf(t):null===t?"*":""},jf:function(t){if("function"==typeof t){if(t.Fy)return t.Fy;if(t.name)return t.name;var e=t.toString(),n=e.indexOf("("),e=e.substring(9,n).trim();if(""!==e)return t.Fy=e}else if("object"==typeof t&&t.constructor)return Wl.jf(t.constructor);return typeof t},p:function(t,e,i){Wl.j(t,"function","Util.defineEnumValue:classfunc"),Wl.j(e,"string","Util.defineEnumValue:name"),Wl.j(i,"number","Util.defineEnumValue:num"),i=new n(t,e,i),Object.freeze(i),t[e]=i;var r=t.Ru;return r instanceof b||(r=new b("string",n),t.Ru=r),r.add(e,i),i},sb:function(t,e){if(!t||!e)return null;var n=void 0;try{"function"==typeof e?n=e(t):"function"==typeof t.getAttribute?null===(n=t.getAttribute(e))&&(n=void 0):n=t[e]}catch(t){}return n},Na:function(t,e,n){if(t&&e)try{"function"==typeof e?e(t,n):"function"==typeof t.setAttribute?t.setAttribute(e,n):t[e]=n}catch(t){}},Fu:function(t,e){Wl.j(t,"object","Setting properties requires Objects as arguments"),Wl.j(e,"object","Setting properties requires Objects as arguments");var n,i=t instanceof Qr,r=t instanceof In;for(n in e){""===n&&Wl.k("Setting properties requires non-empty property names");var o=t,a=n;if(i||r){var s=n.indexOf(".");if(0<s){var h=n.substring(0,s);i?o=t.td(h):void 0!==(o=t[h])&&null!==o||(o=t.bb[h]),Wl.Ua(o)?a=n.substr(s+1):Wl.k("Unable to find object named: "+h+" in "+t.toString()+" when trying to set property: "+n)}}if("_"!==a[0]&&!Wl.YE(o,a)){if(r&&"ModelChanged"===a){t.dH(e[a]);continue}if(r&&"Changed"===a){t.gn(e[a]);continue}if(r&&Wl.YE(t.bb,a))o=t.bb;else{if(r&&Ji(t,a)){t.Kz(a,e[a]);continue}if(t instanceof Lt&&"Changed"===a){t.gn(e[a]);continue}Wl.k('Trying to set undefined property "'+a+'" on object: '+o.toString())}}o[a]=e[n],"_"===a[0]&&o instanceof Tr&&o.aH(a)}},YE:function(t,e){if(t.hasOwnProperty(e))return!0;for(var n=Object.getPrototypeOf(t);n&&n!==Function;){if(n.hasOwnProperty(e))return!0;var i=n.NG;if(i&&i[e])return!0;n=Object.getPrototypeOf(n)}return!1},fJ:function(t){for(var e=[],n=0;256>n;n++)e[n]=n;for(var i=0,r=0,n=0;256>n;n++)i=(i+e[n]+119)%256,r=e[n],e[n]=e[i],e[i]=r;for(var i=n=0,o="",a=0;a<t.length;a++)n=(n+1)%256,i=(i+e[n])%256,r=e[n],e[n]=e[i],e[i]=r,o+=String.fromCharCode(t.charCodeAt(a)^e[(e[n]+e[i])%256]);return o},hI:function(t){for(var e={},n=0;256>n;n++)e["0123456789abcdef".charAt(n>>4)+"0123456789abcdef".charAt(15&n)]=String.fromCharCode(n);t.length%2&&(t="0"+t);for(var i=[],r=0,n=0;n<t.length;n+=2)i[r++]=e[t.substr(n,2)];return t=i.join(""),""===t?"0":t},Hg:function(t){return Wl.fJ(Wl.hI(t))},lm:null,adym:"7da71ca0ad381e90",vfo:"2be641fdb6",qH:"@COLOR1",rH:"@COLOR2"};Wl.lm=function(){var t=e.document.createElement("canvas"),i=t.getContext("2d");i[Wl.Hg("7ca11abfd022028846")]=Wl.Hg("398c3597c01238");for(var r=["5da73c80a3330d854f9e5e671d6633","32ab5ff3b26f42dc0ed90f22422913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],o=1;5>o;o++)i[Wl.Hg("7ca11abfd7330390")](Wl.Hg(r[o-1]),10,15*o+0);for(i[Wl.Hg("7ca11abfd022028846")]=Wl.Hg("39f046ebb36e4b"),o=1;5>o;o++)i[Wl.Hg("7ca11abfd7330390")](Wl.Hg(r[o-1]),10,15*o+0);return 4===r.length&&"5"===r[0][0]&&"7"===r[3][0]||(Wl.p=function(t,e){var i=new n(t,e,2);Object.freeze(i),t[e]=i;var r=t.Ru;return r instanceof b||(r=new b("string",n),t.Ru=r),r.add(e,i),i}),t}(),Wl.ga("EnumValue",n),n.prototype.toString=function(){return Wl.jf(this.TB)+"."+this.Rb},Wl.u(n,{Ee:"classType"},function(){return this.TB}),Wl.u(n,{name:"name"},function(){return this.Rb}),Wl.u(n,{value:"value"},function(){return this.VG});var Kl;n.findName=Kl=function(t,e){if(void 0===e||null===e||""===e)return null;Wl.j(t,"function","findName:classfunc"),Wl.j(e,"string","EnumValue.findName:name");var n=t.Ru;return n instanceof b?n.la(e):null},i.prototype.toString=function(){return this.RB.join("")},i.prototype.add=function(t){""!==t&&this.RB.push(t)},o.prototype.random=function(){var t=this.seed%this.CB*this.py-this.seed/this.CB*this.BG;return this.seed=0<t?t:t+this.Qu,this.seed*this.AG},Wl.u(a,{i:"iterator"},function(){return this}),a.prototype.reset=a.prototype.reset=function(){},a.prototype.next=a.prototype.next=function(){return!1},a.prototype.hasNext=function(){return!1},a.prototype.first=a.prototype.first=function(){return null},a.prototype.any=function(){return!1},a.prototype.all=function(){return!0},a.prototype.each=function(){return this},a.prototype.map=function(){return this},a.prototype.filter=function(){return this},a.prototype.concat=function(t){return t.i},Wl.u(a,{count:"count"},function(){return 0}),a.prototype.Hf=function(){},a.prototype.toString=function(){return"EmptyIterator"};var Yl=new a;Wl.ae(s,{key:!0,value:!0}),Wl.u(s,{i:"iterator"},function(){return this}),s.prototype.reset=s.prototype.reset=function(){this.key=-1},s.prototype.next=s.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},s.prototype.hasNext=function(){return this.next()},s.prototype.first=s.prototype.first=function(){return this.key=0,this.value},s.prototype.any=function(t){return this.key=-1,t(this.value)},s.prototype.all=function(t){return this.key=-1,t(this.value)},s.prototype.each=function(t){return this.key=-1,t(this.value),this},s.prototype.map=function(t){return new s(t(this.value))},s.prototype.filter=function(t){return t(this.value)?new s(this.value):Yl},s.prototype.concat=function(t){return new h(this,t.i)},Wl.u(s,{count:"count"},function(){return 1}),s.prototype.Hf=function(){this.value=null},s.prototype.toString=function(){return"SingletonIterator("+this.value+")"},Wl.ae(h,{key:!0,value:!0}),Wl.u(h,{i:"iterator"},function(){return this}),h.prototype.reset=h.prototype.reset=function(){this.il.reset(),this.jl.reset(),this.Su=!1},h.prototype.next=h.prototype.next=function(){if(!this.Su){var t=this.il;if(t.next())return this.key=t.key,this.value=t.value,!0;this.Su=!0}return!(!this.Su||(t=this.jl,!t.next()))&&(this.key=t.key,this.value=t.value,!0)},h.prototype.hasNext=function(){return this.next()},h.prototype.first=h.prototype.first=function(){return this.reset(),this.next()?this.value:null},h.prototype.any=function(t){return!(!this.il.any(t)&&!this.jl.any(t))},h.prototype.all=function(t){return!(!this.il.all(t)||!this.jl.all(t))},h.prototype.each=function(t){return this.il.each(t),this.jl.each(t),this},h.prototype.map=function(t){return new h(this.il.map(t),this.jl.map(t))},h.prototype.filter=function(t){return new h(this.il.filter(t),this.jl.filter(t))},h.prototype.concat=function(t){return new h(this,t.i)},Wl.u(h,{count:"count"},function(){return this.il.count+this.jl.count}),h.prototype.Hf=function(){this.value=this.key=null},h.prototype.toString=function(){return"ConcatIterator()"},Wl.ae(l,{key:!0,value:!0}),Wl.u(l,{i:"iterator"},function(){return this}),Wl.defineProperty(l,{kq:"predicate"},function(){return this.Xh},function(t){this.Xh=t}),l.prototype.reset=l.prototype.reset=function(){var t=this.vc;t.Pb=null,this.Ta=t.C,this.uc=-1},l.prototype.next=l.prototype.next=function(){var t=this.vc;if(t.C!==this.Ta){if(0>this.key)return!1;Wl.Oa(t)}var t=t.n,e=t.length,n=++this.uc,i=this.Xh;if(null!==i)for(;n<e;){var r=t[n];if(i(r))return this.key=this.uc=n,this.value=r,!0;n++}else{if(n<e)return this.key=n,this.value=t[n],!0;this.Hf()}return!1},l.prototype.hasNext=function(){return this.next()},l.prototype.first=l.prototype.first=function(){var t=this.vc;this.Ta=t.C,this.uc=0;var t=t.n,e=t.length,n=this.Xh;if(null!==n){for(var i=0;i<e;){var r=t[i];if(n(r))return this.key=this.uc=i,this.value=r;i++}return null}return 0<e?(r=t[0],this.key=0,this.value=r):null},l.prototype.any=function(t){var e=this.vc;e.Pb=null;var n=e.C;this.uc=-1;for(var i=e.n,r=i.length,o=this.Xh,a=0;a<r;a++){var s=i[a];if(null===o||o(s)){if(t(s))return!0;e.C!==n&&Wl.Oa(e)}}return!1},l.prototype.all=function(t){var e=this.vc;e.Pb=null;var n=e.C;this.uc=-1;for(var i=e.n,r=i.length,o=this.Xh,a=0;a<r;a++){var s=i[a];if(null===o||o(s)){if(!t(s))return!1;e.C!==n&&Wl.Oa(e)}}return!0},l.prototype.each=function(t){var e=this.vc;e.Pb=null;var n=e.C;this.uc=-1;for(var i=e.n,r=i.length,o=this.Xh,a=0;a<r;a++){var s=i[a];(null===o||o(s))&&(t(s),e.C!==n&&Wl.Oa(e))}return this},l.prototype.map=function(t){var e=this.vc;e.Pb=null;var n=e.C;this.uc=-1;for(var i=[],r=e.n,o=r.length,a=this.Xh,s=0;s<o;s++){var h=r[s];(null===a||a(h))&&(i.push(t(h)),e.C!==n&&Wl.Oa(e))}return t=new c,t.n=i,t.Gc(),t.i},l.prototype.filter=function(t){var e=this.vc;e.Pb=null;var n=e.C;this.uc=-1;for(var i=[],r=e.n,o=r.length,a=this.Xh,s=0;s<o;s++){var h=r[s];(null===a||a(h))&&(t(h)&&i.push(h),e.C!==n&&Wl.Oa(e))}return t=new c(e.na),t.n=i,t.Gc(),t.i},l.prototype.concat=function(t){return this.vc.Pb=null,new h(this,t.i)},Wl.u(l,{count:"count"},function(){var t=this.Xh;if(null!==t){for(var e=0,n=this.vc.n,i=n.length,r=0;r<i;r++)t(n[r])&&e++;return e}return this.vc.n.length}),l.prototype.Hf=function(){this.key=-1,this.value=null,this.Ta=-1,this.Xh=null,this.vc.Pb=this},l.prototype.toString=function(){return"ListIterator@"+this.uc+"/"+this.vc.count},Wl.ae(u,{key:!0,value:!0}),Wl.u(u,{i:"iterator"},function(){return this}),u.prototype.reset=u.prototype.reset=function(){var t=this.vc;t.Mi=null,this.Ta=t.C,this.uc=t.n.length},u.prototype.next=u.prototype.next=function(){var t=this.vc;if(t.C!==this.Ta){if(0>this.key)return!1;Wl.Oa(t)}var e=--this.uc;return 0<=e?(this.key=e,this.value=t.n[e],!0):(this.Hf(),!1)},u.prototype.hasNext=function(){return this.next()},u.prototype.first=u.prototype.first=function(){var t=this.vc;this.Ta=t.C;var e=t.n;return this.uc=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},u.prototype.any=function(t){var e=this.vc;e.Mi=null;var n=e.C,i=e.n,r=i.length;for(this.uc=r,r-=1;0<=r;r--){if(t(i[r]))return!0;e.C!==n&&Wl.Oa(e)}return!1},u.prototype.all=function(t){var e=this.vc;e.Mi=null;var n=e.C,i=e.n,r=i.length;for(this.uc=r,r-=1;0<=r;r--){if(!t(i[r]))return!1;e.C!==n&&Wl.Oa(e)}return!0},u.prototype.each=function(t){var e=this.vc;e.Mi=null;var n=e.C,i=e.n,r=i.length;for(this.uc=r,r-=1;0<=r;r--)t(i[r]),e.C!==n&&Wl.Oa(e);return this},u.prototype.map=function(t){var e=this.vc;e.Mi=null;var n=e.C,i=[],r=e.n,o=r.length;for(this.uc=o,o-=1;0<=o;o--)i.push(t(r[o])),e.C!==n&&Wl.Oa(e);return t=new c,t.n=i,t.Gc(),t.i},u.prototype.filter=function(t){var e=this.vc;e.Mi=null;var n=e.C,i=[],r=e.n,o=r.length;for(this.uc=o,o-=1;0<=o;o--){var a=r[o];t(a)&&i.push(a),e.C!==n&&Wl.Oa(e)}return t=new c(e.na),t.n=i,t.Gc(),t.i},u.prototype.concat=function(t){return this.vc.Mi=null,new h(this,t.i)},Wl.u(u,{count:"count"},function(){return this.vc.n.length}),u.prototype.Hf=function(){this.key=-1,this.value=null,this.Ta=-1,this.vc.Mi=this},u.prototype.toString=function(){return"ListIteratorBackwards("+this.uc+"/"+this.vc.count+")"},Wl.ga("List",c),c.prototype.Gc=function(){var t=this.C;t++,999999999<t&&(t=0),this.C=t},c.prototype.freeze=c.prototype.freeze=function(){return this.Q=!0,this},c.prototype.thaw=c.prototype.Ra=function(){return this.Q=!1,this},c.prototype.toString=function(){return"List("+Wl.getTypeName(this.na)+")#"+Wl.Jd(this)},c.prototype.add=c.prototype.add=function(t){null!==t&&(this.Q&&Wl.ma(this,t),this.n.push(t),this.Gc())},c.prototype.push=c.prototype.push=function(t){this.add(t)},c.prototype.addAll=c.prototype.Ic=function(t){if(null===t)return this;this.Q&&Wl.ma(this);var e=this.n;if(Wl.isArray(t))for(var n=Wl.Za(t),i=0;i<n;i++){var r=Wl.Ea(t,i);e.push(r)}else for(t=t.i;t.next();)r=t.value,e.push(r);return this.Gc(),this},c.prototype.clear=c.prototype.clear=function(){this.Q&&Wl.ma(this),this.n.length=0,this.Gc()},c.prototype.contains=c.prototype.contains=function(t){return null!==t&&-1!==this.n.indexOf(t)},c.prototype.has=c.prototype.has=function(t){return this.contains(t)},c.prototype.indexOf=c.prototype.indexOf=function(t){return null===t?-1:this.n.indexOf(t)},c.prototype.elt=c.prototype.ea=function(t){var e=this.n;return(0>t||t>=e.length)&&Wl.Fa(t,"0 <= i < length",c,"elt:i"),e[t]},c.prototype.get=c.prototype.get=function(t){return this.ea(t)},c.prototype.setElt=c.prototype.gg=function(t,e){var n=this.n;(0>t||t>=n.length)&&Wl.Fa(t,"0 <= i < length",c,"setElt:i"),this.Q&&Wl.ma(this,t),n[t]=e},c.prototype.set=c.prototype.set=function(t,e){this.gg(t,e)},c.prototype.first=c.prototype.first=function(){var t=this.n;return 0===t.length?null:t[0]},c.prototype.last=c.prototype.fe=function(){var t=this.n,e=t.length;return 0<e?t[e-1]:null},c.prototype.pop=c.prototype.pop=function(){this.Q&&Wl.ma(this);var t=this.n;return 0<t.length?t.pop():null},c.prototype.any=function(t){for(var e=this.n,n=this.C,i=e.length,r=0;r<i;r++){if(t(e[r]))return!0;this.C!==n&&Wl.Oa(this)}return!1},c.prototype.all=function(t){for(var e=this.n,n=this.C,i=e.length,r=0;r<i;r++){if(!t(e[r]))return!1;this.C!==n&&Wl.Oa(this)}return!0},c.prototype.each=function(t){for(var e=this.n,n=this.C,i=e.length,r=0;r<i;r++)t(e[r]),this.C!==n&&Wl.Oa(this);return this},c.prototype.map=function(t){for(var e=new c,n=[],i=this.n,r=this.C,o=i.length,a=0;a<o;a++)n.push(t(i[a])),this.C!==r&&Wl.Oa(this);return e.n=n,e.Gc(),e},c.prototype.filter=function(t){for(var e=new c(this.na),n=[],i=this.n,r=this.C,o=i.length,a=0;a<o;a++){var s=i[a];t(s)&&n.push(s),this.C!==r&&Wl.Oa(this)}return e.n=n,e.Gc(),e},c.prototype.concat=function(t){return this.copy().Ic(t)},c.prototype.insertAt=c.prototype.Ld=function(t,e){0>t&&Wl.Fa(t,">= 0",c,"insertAt:i"),this.Q&&Wl.ma(this,t);var n=this.n;return t>=n.length?n.push(e):n.splice(t,0,e),this.Gc(),!0},c.prototype.remove=c.prototype.remove=function(t){if(null===t)return!1;this.Q&&Wl.ma(this,t);var e=this.n;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.Gc(),!0)},c.prototype.delete=c.prototype.delete=function(t){return this.remove(t)},c.prototype.removeAt=c.prototype.Yc=function(t){var e=this.n;(0>t||t>=e.length)&&Wl.Fa(t,"0 <= i < length",c,"removeAt:i"),this.Q&&Wl.ma(this,t),t===e.length-1?e.pop():e.splice(t,1),this.Gc()},c.prototype.removeRange=c.prototype.removeRange=function(t,e){var n=this.n,i=n.length;if(0>t)t=0;else if(t>=i)return this;if(0>e)return this;if(e>=i&&(e=i-1),t>e)return this;this.Q&&Wl.ma(this);for(var r=t,o=e+1;o<i;)n[r++]=n[o++];return n.length=i-(e-t+1),this.Gc(),this},c.prototype.copy=function(){var t=new c(this.na),e=this.n;return 0<e.length&&(t.n=Array.prototype.slice.call(e)),t},c.prototype.toArray=c.prototype.ec=function(){for(var t=this.n,e=this.count,n=Array(e),i=0;i<e;i++)n[i]=t[i];return n},c.prototype.toSet=c.prototype.pG=function(){for(var t=new d(this.na),e=this.n,n=this.count,i=0;i<n;i++)t.add(e[i]);return t},c.prototype.sort=c.prototype.sort=function(t){return this.Q&&Wl.ma(this),this.n.sort(t),this.Gc(),this},c.prototype.sortRange=c.prototype.yq=function(t,e,n){var i=this.n,r=i.length;void 0===e&&(e=0),void 0===n&&(n=r),this.Q&&Wl.ma(this);var o=n-e;if(1>=o)return this;if((0>e||e>=r-1)&&Wl.Fa(e,"0 <= from < length",c,"sortRange:from"),2===o)return n=i[e],r=i[e+1],0<t(n,r)&&(i[e]=r,i[e+1]=n,this.Gc()),this;if(0===e)if(n>=r)i.sort(t);else for(o=i.slice(0,n),o.sort(t),t=0;t<n;t++)i[t]=o[t];else if(n>=r)for(o=i.slice(e),o.sort(t),t=e;t<r;t++)i[t]=o[t-e];else for(o=i.slice(e,n),o.sort(t),t=e;t<n;t++)i[t]=o[t-e];return this.Gc(),this},c.prototype.reverse=c.prototype.reverse=function(){return this.Q&&Wl.ma(this),this.n.reverse(),this.Gc(),this},Wl.u(c,{count:"count"},function(){return this.n.length}),Wl.u(c,{size:"size"},function(){return this.n.length}),Wl.u(c,{length:"length"},function(){return this.n.length}),Wl.u(c,{i:"iterator"},function(){if(0>=this.n.length)return Yl;var t=this.Pb;return null!==t?(t.reset(),t):new l(this)}),Wl.u(c,{Hn:"iteratorBackwards"},function(){if(0>=this.n.length)return Yl;var t=this.Mi;return null!==t?(t.reset(),t):new u(this)}),Wl.ae(f,{key:!0,value:!0}),Wl.u(f,{i:"iterator"},function(){return this}),f.prototype.reset=f.prototype.reset=function(){var t=this.Zh;t.Pb=null,this.Ta=t.C,this.Wa=null},f.prototype.next=f.prototype.next=function(){var t=this.Zh;if(t.C!==this.Ta){if(null===this.key)return!1;Wl.Oa(t)}var e=this.Wa,e=null===e?t.Da:e.Ya;return null!==e?(this.Wa=e,this.value=e.value,this.key=e.key,!0):(this.Hf(),!1)},f.prototype.hasNext=function(){return this.next()},f.prototype.first=f.prototype.first=function(){var t=this.Zh;if(this.Ta=t.C,null!==(t=t.Da)){this.Wa=t;var e=t.value;return this.key=t.key,this.value=e}return null},f.prototype.any=function(t){var e=this.Zh;e.Pb=null;var n=e.C;this.Wa=null;for(var i=e.Da;null!==i;){if(t(i.value))return!0;e.C!==n&&Wl.Oa(e),i=i.Ya}return!1},f.prototype.all=function(t){var e=this.Zh;e.Pb=null;var n=e.C;this.Wa=null;for(var i=e.Da;null!==i;){if(!t(i.value))return!1;e.C!==n&&Wl.Oa(e),i=i.Ya}return!0},f.prototype.each=function(t){var e=this.Zh;e.Pb=null;var n=e.C;this.Wa=null;for(var i=e.Da;null!==i;)t(i.value),e.C!==n&&Wl.Oa(e),i=i.Ya;return this},f.prototype.map=function(t){var e=this.Zh;e.Pb=null;for(var n=new c,i=e.C,r=e.Da;null!==r;)n.add(t(r.value)),e.C!==i&&Wl.Oa(e),r=r.Ya;return n.i},f.prototype.filter=function(t){var e=this.Zh;e.Pb=null;for(var n=new c(e.na),i=e.C,r=e.Da;null!==r;){var o=r.value;t(o)&&n.add(o),e.C!==i&&Wl.Oa(e),r=r.Ya}return n.i},f.prototype.concat=function(t){return this.Zh.Pb=null,new h(this,t.i)},Wl.u(f,{count:"count"},function(){return this.Zh.md}),f.prototype.Hf=function(){this.value=this.key=null,this.Ta=-1,this.Zh.Pb=this},f.prototype.toString=function(){return null!==this.Wa?"SetIterator@"+this.Wa.value:"SetIterator"},Wl.ga("Set",d),d.prototype.Gc=function(){var t=this.C;t++,999999999<t&&(t=0),this.C=t},d.prototype.freeze=d.prototype.freeze=function(){return this.Q=!0,this},d.prototype.thaw=d.prototype.Ra=function(){return this.Q=!1,this},d.prototype.toString=function(){return"Set("+Wl.getTypeName(this.na)+")#"+Wl.Jd(this)},d.prototype.add=d.prototype.add=function(t){if(null===t)return!1;this.Q&&Wl.ma(this,t);var e=t;return Wl.Ua(t)&&(e=Wl.Zp(t)),void 0===this.nd[e]&&(this.md++,t=new g(t,t),this.nd[e]=t,e=this.Sh,null===e?this.Da=t:(t.ip=e,e.Ya=t),this.Sh=t,this.Gc(),!0)},d.prototype.addAll=d.prototype.Ic=function(t){if(null===t)return this;if(this.Q&&Wl.ma(this),Wl.isArray(t))for(var e=Wl.Za(t),n=0;n<e;n++)this.add(Wl.Ea(t,n));else for(t=t.i;t.next();)this.add(t.value);return this},d.prototype.contains=d.prototype.contains=function(t){if(null===t)return!1;var e=t;return(!Wl.Ua(t)||void 0!==(e=Wl.Jd(t)))&&void 0!==this.nd[e]},d.prototype.has=d.prototype.has=function(t){return this.contains(t)},d.prototype.containsAll=function(t){if(null===t)return!0;for(t=t.i;t.next();)if(!this.contains(t.value))return!1;return!0},d.prototype.containsAny=function(t){if(null===t)return!0;for(t=t.i;t.next();)if(this.contains(t.value))return!0;return!1},d.prototype.first=d.prototype.first=function(){var t=this.Da;return null===t?null:t.value},d.prototype.any=function(t){for(var e=this.C,n=this.Da;null!==n;){if(t(n.value))return!0;this.C!==e&&Wl.Oa(this),n=n.Ya}return!1},d.prototype.all=function(t){for(var e=this.C,n=this.Da;null!==n;){if(!t(n.value))return!1;this.C!==e&&Wl.Oa(this),n=n.Ya}return!0},d.prototype.each=function(t){for(var e=this.C,n=this.Da;null!==n;)t(n.value),this.C!==e&&Wl.Oa(this),n=n.Ya;return this},d.prototype.map=function(t){for(var e=new d,n=this.C,i=this.Da;null!==i;)e.add(t(i.value)),this.C!==n&&Wl.Oa(this),i=i.Ya;return e},d.prototype.filter=function(t){for(var e=new d(this.na),n=this.C,i=this.Da;null!==i;){var r=i.value;t(r)&&e.add(r),this.C!==n&&Wl.Oa(this),i=i.Ya}return e},d.prototype.concat=function(t){return this.copy().Ic(t)},d.prototype.remove=d.prototype.remove=function(t){if(null===t)return!1;this.Q&&Wl.ma(this,t);var e=t;if(Wl.Ua(t)&&void 0===(e=Wl.Jd(t)))return!1;if(void 0===(t=this.nd[e]))return!1;var n=t.Ya,i=t.ip;return null!==n&&(n.ip=i),null!==i&&(i.Ya=n),this.Da===t&&(this.Da=n),this.Sh===t&&(this.Sh=i),delete this.nd[e],this.md--,this.Gc(),!0},d.prototype.delete=d.prototype.delete=function(t){return this.remove(t)},d.prototype.removeAll=d.prototype.Vx=function(t){if(null===t)return this;if(this.Q&&Wl.ma(this),Wl.isArray(t))for(var e=Wl.Za(t),n=0;n<e;n++)this.remove(Wl.Ea(t,n));else for(t=t.i;t.next();)this.remove(t.value);return this},d.prototype.retainAll=function(t){if(null===t||0===this.count)return this;this.Q&&Wl.ma(this);var e=new d(this.na);e.Ic(t),t=[];for(var n=this.i;n.next();){var i=n.value;e.contains(i)||t.push(i)}return this.Vx(t),this},d.prototype.clear=d.prototype.clear=function(){this.Q&&Wl.ma(this),this.nd={},this.md=0,this.Sh=this.Da=null,this.Gc()},d.prototype.copy=function(){var t,e=new d(this.na),n=this.nd;for(t in n)e.add(n[t].value);return e},d.prototype.toArray=d.prototype.ec=function(){var t,e=Array(this.md),n=this.nd,i=0;for(t in n)e[i]=n[t].value,i++;return e},d.prototype.toList=function(){var t,e=new c(this.na),n=this.nd;for(t in n)e.add(n[t].value);return e},Wl.u(d,{count:"count"},function(){return this.md}),Wl.u(d,{size:"size"},function(){return this.md}),Wl.u(d,{i:"iterator"},function(){if(0>=this.md)return Yl;var t=this.Pb;return null!==t?(t.reset(),t):new f(this)}),Wl.ae(p,{key:!0,value:!0}),Wl.u(p,{i:"iterator"},function(){return this}),p.prototype.reset=p.prototype.reset=function(){this.Ta=this.Ga.C,this.Wa=null},p.prototype.next=p.prototype.next=function(){var t=this.Ga;if(t.C!==this.Ta){if(null===this.key)return!1;Wl.Oa(t)}var e=this.Wa,e=null===e?t.Da:e.Ya;return null!==e?(this.Wa=e,this.value=this.key=t=e.key,!0):(this.Hf(),!1)},p.prototype.hasNext=function(){return this.next()},p.prototype.first=p.prototype.first=function(){var t=this.Ga;return this.Ta=t.C,t=t.Da,null!==t?(this.Wa=t,this.value=this.key=t=t.key):null},p.prototype.any=function(t){var e=this.Ga,n=e.C;this.Wa=null;for(var i=e.Da;null!==i;){if(t(i.key))return!0;e.C!==n&&Wl.Oa(e),i=i.Ya}return!1},p.prototype.all=function(t){var e=this.Ga,n=e.C;this.Wa=null;for(var i=e.Da;null!==i;){if(!t(i.key))return!1;e.C!==n&&Wl.Oa(e),i=i.Ya}return!0},p.prototype.each=function(t){var e=this.Ga,n=e.C;this.Wa=null;for(var i=e.Da;null!==i;)t(i.key),e.C!==n&&Wl.Oa(e),i=i.Ya;return this},p.prototype.map=function(t){var e=this.Ga,n=e.C;this.Wa=null;for(var i=new c,r=e.Da;null!==r;)i.add(t(r.key)),e.C!==n&&Wl.Oa(e),r=r.Ya;return i.i},p.prototype.filter=function(t){var e=this.Ga,n=e.C;this.Wa=null;for(var i=new c(e.Rh),r=e.Da;null!==r;){var o=r.key;t(o)&&i.add(o),e.C!==n&&Wl.Oa(e),r=r.Ya}return i.i},p.prototype.concat=function(t){return new h(this,t.i)},Wl.u(p,{count:"count"},function(){return this.Ga.md}),p.prototype.Hf=function(){this.value=this.key=null,this.Ta=-1},p.prototype.toString=function(){return null!==this.Wa?"MapKeySetIterator@"+this.Wa.value:"MapKeySetIterator"},Wl.Ma(v,d),v.prototype.freeze=function(){return this},v.prototype.Ra=function(){return this},v.prototype.toString=function(){return"MapKeySet("+this.Ga.toString()+")"},v.prototype.add=v.prototype.add=function(){return Wl.k("This Set is read-only: "+this.toString()),!1},v.prototype.set=v.prototype.set=function(){return Wl.k("This Set is read-only: "+this.toString()),!1},v.prototype.contains=v.prototype.contains=function(t){return this.Ga.contains(t)},v.prototype.has=v.prototype.has=function(t){return this.contains(t)},v.prototype.remove=v.prototype.remove=function(){return Wl.k("This Set is read-only: "+this.toString()),!1},v.prototype.delete=v.prototype.delete=function(){return this.remove()},v.prototype.clear=v.prototype.clear=function(){Wl.k("This Set is read-only: "+this.toString())},v.prototype.first=v.prototype.first=function(){var t=this.Ga.Da;return null!==t?t.key:null},v.prototype.any=function(t){for(var e=this.Ga.Da;null!==e;){if(t(e.key))return!0;e=e.Ya}return!1},v.prototype.all=function(t){for(var e=this.Ga.Da;null!==e;){if(!t(e.key))return!1;e=e.Ya}return!0},v.prototype.each=function(t){for(var e=this.Ga.Da;null!==e;)t(e.key),e=e.Ya;return this},v.prototype.map=function(t){for(var e=new d,n=this.Ga.Da;null!==n;)e.add(t(n.key)),n=n.Ya;return e},v.prototype.filter=function(t){for(var e=new d(this.Ga.Rh),n=this.Ga.Da;null!==n;){var i=n.key;t(i)&&e.add(i),n=n.Ya}return e},v.prototype.concat=function(t){return this.pG().Ic(t)},v.prototype.copy=function(){return new v(this.Ga)},v.prototype.toSet=v.prototype.pG=function(){var t,e=new d(this.Ga.Rh),n=this.Ga.nd;for(t in n)e.add(n[t].key);return e},v.prototype.toArray=v.prototype.ec=function(){var t,e=this.Ga.nd,n=Array(this.Ga.md),i=0;for(t in e)n[i]=e[t].key,i++;return n},v.prototype.toList=function(){var t,e=new c(this.Ga.Rh),n=this.Ga.nd;for(t in n)e.add(n[t].key);return e},Wl.u(v,{count:"count"},function(){return this.Ga.md}),Wl.u(v,{size:"size"},function(){return this.Ga.md}),Wl.u(v,{i:"iterator"},function(){return 0>=this.Ga.md?Yl:new p(this.Ga)}),Wl.ae(y,{key:!0,value:!0}),Wl.u(y,{i:"iterator"},function(){return this}),y.prototype.reset=y.prototype.reset=function(){var t=this.Ga;t.Ni=null,this.Ta=t.C,this.Wa=null},y.prototype.next=y.prototype.next=function(){var t=this.Ga;if(t.C!==this.Ta){if(null===this.key)return!1;Wl.Oa(t)}var e=this.Wa,e=null===e?t.Da:e.Ya;return null!==e?(this.Wa=e,this.value=e.value,this.key=e.key,!0):(this.Hf(),!1)},y.prototype.hasNext=function(){return this.next()},y.prototype.first=y.prototype.first=function(){var t=this.Ga;if(this.Ta=t.C,null!==(t=t.Da)){this.Wa=t;var e=t.value;return this.key=t.key,this.value=e}return null},y.prototype.any=function(t){var e=this.Ga;e.Ni=null;var n=e.C;this.Wa=null;for(var i=e.Da;null!==i;){if(t(i.value))return!0;e.C!==n&&Wl.Oa(e),i=i.Ya}return!1},y.prototype.all=function(t){var e=this.Ga;e.Ni=null;var n=e.C;this.Wa=null;for(var i=e.Da;null!==i;){if(!t(i.value))return!1;e.C!==n&&Wl.Oa(e),i=i.Ya}return!0},y.prototype.each=function(t){var e=this.Ga;e.Ni=null;var n=e.C;this.Wa=null;for(var i=e.Da;null!==i;)t(i.value),e.C!==n&&Wl.Oa(e),i=i.Ya;return this},y.prototype.map=function(t){var e=this.Ga;e.Ni=null;var n=e.C;this.Wa=null;for(var i=new c,r=e.Da;null!==r;)i.add(t(r.value)),e.C!==n&&Wl.Oa(e),r=r.Ya;return i.i},y.prototype.filter=function(t){var e=this.Ga;e.Ni=null;var n=e.C;this.Wa=null;for(var i=new c(e.Rh),r=e.Da;null!==r;){var o=r.value;t(o)&&i.add(o),e.C!==n&&Wl.Oa(e),r=r.Ya}return i.i},y.prototype.concat=function(t){return this.Ga.Ni=null,new h(this,t.i)},Wl.u(y,{count:"count"},function(){return this.Ga.md}),y.prototype.Hf=function(){this.value=this.key=null,this.Ta=-1,this.Ga.Ni=this};y.prototype.toString=function(){return null!==this.Wa?"MapValueSetIterator@"+this.Wa.value:"MapValueSetIterator"},Wl.ae(g,{key:!0,value:!0}),g.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},Wl.ae(m,{key:!0,value:!0}),Wl.u(m,{i:"iterator"},function(){return this}),m.prototype.reset=m.prototype.reset=function(){var t=this.Ga;t.Pb=null,this.Ta=t.C,this.Wa=null},m.prototype.next=m.prototype.next=function(){var t=this.Ga;if(t.C!==this.Ta){if(null===this.key)return!1;Wl.Oa(t)}var e=this.Wa,e=null===e?t.Da:e.Ya;return null!==e?(this.Wa=e,this.key=e.key,this.value=e.value,!0):(this.Hf(),!1)},m.prototype.hasNext=function(){return this.next()},m.prototype.first=m.prototype.first=function(){var t=this.Ga;return this.Ta=t.C,t=t.Da,null!==t?(this.Wa=t,this.key=t.key,this.value=t.value,t):null},m.prototype.any=function(t){var e=this.Ga;e.Pb=null;var n=e.C;this.Wa=null;for(var i=e.Da;null!==i;){if(t(i))return!0;e.C!==n&&Wl.Oa(e),i=i.Ya}return!1},m.prototype.all=function(t){var e=this.Ga;e.Pb=null;var n=e.C;this.Wa=null;for(var i=e.Da;null!==i;){if(!t(i))return!1;e.C!==n&&Wl.Oa(e),i=i.Ya}return!0},m.prototype.each=function(t){var e=this.Ga;e.Pb=null;var n=e.C;this.Wa=null;for(var i=e.Da;null!==i;)t(i),e.C!==n&&Wl.Oa(e),i=i.Ya;return this},m.prototype.map=function(t){var e=this.Ga;e.Pb=null;var n=e.C;this.Wa=null;for(var i=new c,r=e.Da;null!==r;)i.add(t(r)),e.C!==n&&Wl.Oa(e),r=r.Ya;return i.i},m.prototype.filter=function(t){var e=this.Ga;e.Pb=null;var n=e.C;this.Wa=null;for(var i=new c,r=e.Da;null!==r;)t(r)&&i.add(r),e.C!==n&&Wl.Oa(e),r=r.Ya;return i.i},m.prototype.concat=function(t){return this.Ga.Pb=null,new h(this,t.i)},Wl.u(m,{count:"count"},function(){return this.Ga.md}),m.prototype.Hf=function(){this.value=this.key=null,this.Ta=-1,this.Ga.Pb=this},m.prototype.toString=function(){return null!==this.Wa?"MapIterator@"+this.Wa:"MapIterator"},Wl.ga("Map",b),b.prototype.Gc=function(){var t=this.C;t++,999999999<t&&(t=0),this.C=t},b.prototype.freeze=b.prototype.freeze=function(){return this.Q=!0,this},b.prototype.thaw=b.prototype.Ra=function(){return this.Q=!1,this},b.prototype.toString=function(){return"Map("+Wl.getTypeName(this.Rh)+","+Wl.getTypeName(this.qt)+")#"+Wl.Jd(this)},b.prototype.add=b.prototype.add=function(t,e){this.Q&&Wl.ma(this,t);var n=t;Wl.Ua(t)&&(n=Wl.Zp(t));var i=this.nd[n];return void 0===i?(this.md++,i=new g(t,e),this.nd[n]=i,n=this.Sh,null===n?this.Da=i:(i.ip=n,n.Ya=i),this.Sh=i,this.Gc(),!0):(i.value=e,!1)},b.prototype.set=b.prototype.set=function(t,e){return this.add(t,e)},b.prototype.addAll=b.prototype.Ic=function(t){if(null===t)return this;if(Wl.isArray(t))for(var e=Wl.Za(t),n=0;n<e;n++){var i=Wl.Ea(t,n);this.add(i.key,i.value)}else for(t=t.i;t.next();)this.add(t.key,t.value);return this},b.prototype.first=b.prototype.first=function(){return this.Da},b.prototype.any=function(t){for(var e=this.C,n=this.Da;null!==n;){if(t(n))return!0;this.C!==e&&Wl.Oa(this),n=n.Ya}return!1},b.prototype.all=function(t){for(var e=this.C,n=this.Da;null!==n;){if(!t(n))return!1;this.C!==e&&Wl.Oa(this),n=n.Ya}return!0},b.prototype.each=function(t){for(var e=this.C,n=this.Da;null!==n;)t(n),this.C!==e&&Wl.Oa(this),n=n.Ya;return this},b.prototype.map=function(t){for(var e=new b(this.Rh),n=this.C,i=this.Da;null!==i;)e.add(i.key,t(i)),this.C!==n&&Wl.Oa(this),i=i.Ya;return e},b.prototype.filter=function(t){for(var e=new b(this.Rh,this.qt),n=this.C,i=this.Da;null!==i;)t(i)&&e.add(i.key,i.value),this.C!==n&&Wl.Oa(this),i=i.Ya;return e},b.prototype.concat=function(t){return this.copy().Ic(t)},b.prototype.contains=b.prototype.contains=function(t){var e=t;return(!Wl.Ua(t)||void 0!==(e=Wl.Jd(t)))&&void 0!==this.nd[e]},b.prototype.has=b.prototype.has=function(t){return this.contains(t)},b.prototype.getValue=b.prototype.la=function(t){var e=t;return Wl.Ua(t)&&void 0===(e=Wl.Jd(t))?null:(t=this.nd[e],void 0===t?null:t.value)},b.prototype.get=b.prototype.get=function(t){return this.la(t)},b.prototype.remove=b.prototype.remove=function(t){if(null===t)return!1;this.Q&&Wl.ma(this,t);var e=t;if(Wl.Ua(t)&&void 0===(e=Wl.Jd(t)))return!1;if(void 0===(t=this.nd[e]))return!1;var n=t.Ya,i=t.ip;return null!==n&&(n.ip=i),null!==i&&(i.Ya=n),this.Da===t&&(this.Da=n),this.Sh===t&&(this.Sh=i),delete this.nd[e],this.md--,this.Gc(),!0},b.prototype.delete=b.prototype.delete=function(t){return this.remove(t)},b.prototype.clear=b.prototype.clear=function(){this.Q&&Wl.ma(this),this.nd={},this.md=0,this.Sh=this.Da=null,this.Gc()},b.prototype.copy=function(){var t,e=new b(this.Rh,this.qt),n=this.nd;for(t in n){var i=n[t];e.add(i.key,i.value)}return e},b.prototype.toArray=b.prototype.ec=function(){var t,e=this.nd,n=Array(this.md),i=0;for(t in e){var r=e[t];n[i]=new g(r.key,r.value),i++}return n},b.prototype.toKeySet=b.prototype.Fj=function(){return new v(this)},Wl.u(b,{count:"count"},function(){return this.md}),Wl.u(b,{size:"size"},function(){return this.md}),Wl.u(b,{i:"iterator"},function(){if(0>=this.count)return Yl;var t=this.Pb;return null!==t?(t.reset(),t):new m(this)}),Wl.u(b,{pF:"iteratorKeys"},function(){return 0>=this.count?Yl:new p(this)}),Wl.u(b,{qF:"iteratorValues"},function(){if(0>=this.count)return Yl;var t=this.Ni;return null!==t?(t.reset(),t):new y(this)}),Wl.ga("Point",w),Wl.ki(w),Wl.ae(w,{x:!0,y:!0}),w.prototype.assign=function(t){this.x=t.x,this.y=t.y},w.prototype.setTo=w.prototype.l=function(t,e){return this.x=t,this.y=e,this},w.prototype.set=w.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},w.prototype.copy=function(){var t=new w;return t.x=this.x,t.y=this.y,t},w.prototype.Ha=function(){return Object.freeze(this),this},w.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},w.prototype.freeze=function(){return this},w.prototype.Ra=function(){return Object.isFrozen(this)&&Wl.k("cannot thaw constant: "+this),this},w.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;return(i=t[e++])&&(r=parseFloat(i)),new w(n,r)}return new w},w.stringify=function(t){return t.x.toString()+" "+t.y.toString()},w.prototype.toString=function(){return"Point("+this.x+","+this.y+")"},w.prototype.equals=w.prototype.L=function(t){return t instanceof w&&(this.x===t.x&&this.y===t.y)},w.prototype.equalTo=w.prototype.ex=function(t,e){return this.x===t&&this.y===e},w.prototype.equalsApprox=w.prototype.Jc=function(t){return Y(this.x,t.x)&&Y(this.y,t.y)},w.prototype.add=w.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},w.prototype.subtract=w.prototype.Zn=function(t){return this.x-=t.x,this.y-=t.y,this},w.prototype.offset=w.prototype.offset=function(t,e){return this.x+=t,this.y+=e,this},w.prototype.rotate=w.prototype.rotate=function(t){if(0===t)return this;var e=this.x,n=this.y;if(0===e&&0===n)return this;var i=0,r=0;return 360<=t?t-=360:0>t&&(t+=360),90===t?(i=0,r=1):180===t?(i=-1,r=0):270===t?(i=0,r=-1):(t=t*Math.PI/180,i=Math.cos(t),r=Math.sin(t)),this.x=i*e-r*n,this.y=r*e+i*n,this},w.prototype.scale=w.prototype.scale=function(t,e){return this.x*=t,this.y*=e,this},w.prototype.distanceSquaredPoint=w.prototype.vf=function(t){var e=t.x-this.x;return t=t.y-this.y,e*e+t*t},w.prototype.distanceSquared=w.prototype.Tp=function(t,e){var n=t-this.x,i=e-this.y;return n*n+i*i},w.prototype.normalize=w.prototype.normalize=function(){var t=this.x,e=this.y,n=Math.sqrt(t*t+e*e);return 0<n&&(this.x=t/n,this.y=e/n),this},w.prototype.directionPoint=w.prototype.zc=function(t){return x(t.x-this.x,t.y-this.y)},w.prototype.direction=w.prototype.direction=function(t,e){return x(t-this.x,e-this.y)},w.prototype.projectOntoLineSegment=function(t,e,n,i){return at(t,e,n,i,this.x,this.y,this),this},w.prototype.projectOntoLineSegmentPoint=function(t,e){return at(t.x,t.y,e.x,e.y,this.x,this.y,this),this},w.prototype.snapToGrid=function(t,e,n,i){return vt(this.x,this.y,t,e,n,i,this),this},w.prototype.snapToGridPoint=function(t,e){return vt(this.x,this.y,t.x,t.y,e.width,e.height,this),this},w.prototype.setRectSpot=w.prototype.Wn=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},w.prototype.setSpot=w.prototype.Hu=function(t,e,n,i,r){return this.x=t+r.x*n+r.offsetX,this.y=e+r.y*i+r.offsetY,this},w.prototype.transform=function(t){return t.ob(this),this};var $l;w.distanceLineSegmentSquared=$l=function(t,e,n,i,r,o){var a=r-n,s=o-i,h=a*a+s*s;n-=t,i-=e;var l=-n*a-i*s;return 0>=l||l>=h?(a=r-t,s=o-e,Math.min(n*n+i*i,a*a+s*s)):(t=a*i-s*n)*t/h};var Jl;w.distanceSquared=Jl=function(t,e,n,i){return t=n-t,e=i-e,t*t+e*e};var Xl;w.direction=Xl=function(t,e,n,i){return t=n-t,e=i-e,0===t?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(i=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i)},w.prototype.isReal=w.prototype.H=function(){return isFinite(this.x)&&isFinite(this.y)},Wl.ga("Size",T),Wl.ki(T),Wl.ae(T,{width:!0,height:!0}),T.prototype.assign=function(t){this.width=t.width,this.height=t.height},T.prototype.setTo=T.prototype.l=function(t,e){return this.width=t,this.height=e,this},T.prototype.set=T.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},T.prototype.copy=function(){var t=new T;return t.width=this.width,t.height=this.height,t},T.prototype.Ha=function(){return Object.freeze(this),this},T.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},T.prototype.freeze=function(){return this},T.prototype.Ra=function(){return Object.isFrozen(this)&&Wl.k("cannot thaw constant: "+this),this},T.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;return(i=t[e++])&&(r=parseFloat(i)),new T(n,r)}return new T},T.stringify=function(t){return t.width.toString()+" "+t.height.toString()},T.prototype.toString=function(){return"Size("+this.width+","+this.height+")"},T.prototype.equals=T.prototype.L=function(t){return t instanceof T&&(this.width===t.width&&this.height===t.height)},T.prototype.equalTo=T.prototype.ex=function(t,e){return this.width===t&&this.height===e},T.prototype.equalsApprox=T.prototype.Jc=function(t){return Y(this.width,t.width)&&Y(this.height,t.height)},T.prototype.isReal=T.prototype.H=function(){return isFinite(this.width)&&isFinite(this.height)},Wl.ga("Rect",S),Wl.ki(S),Wl.ae(S,{x:!0,y:!0,width:!0,height:!0}),S.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},S.prototype.setTo=S.prototype.l=function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},S.prototype.set=S.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},S.prototype.setPoint=S.prototype.Ug=function(t){return this.x=t.x,this.y=t.y,this},S.prototype.setSize=function(t){return this.width=t.width,this.height=t.height,this},S.prototype.copy=function(){var t=new S;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},S.prototype.Ha=function(){return Object.freeze(this),this},S.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},S.prototype.freeze=function(){return this},S.prototype.Ra=function(){return Object.isFrozen(this)&&Wl.k("cannot thaw constant: "+this),this},S.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;(i=t[e++])&&(r=parseFloat(i));for(var o=0;""===t[e];)e++;(i=t[e++])&&(o=parseFloat(i));for(var a=0;""===t[e];)e++;return(i=t[e++])&&(a=parseFloat(i)),new S(n,r,o,a)}return new S},S.stringify=function(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()},S.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},S.prototype.equals=S.prototype.L=function(t){return t instanceof S&&(this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height)},S.prototype.equalTo=S.prototype.ex=function(t,e,n,i){return this.x===t&&this.y===e&&this.width===n&&this.height===i},S.prototype.equalsApprox=S.prototype.Jc=function(t){return Y(this.x,t.x)&&Y(this.y,t.y)&&Y(this.width,t.width)&&Y(this.height,t.height)},S.prototype.containsPoint=S.prototype.Ia=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},S.prototype.containsRect=S.prototype.vk=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},S.prototype.contains=S.prototype.contains=function(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),this.x<=t&&t+n<=this.x+this.width&&this.y<=e&&e+i<=this.y+this.height},S.prototype.reset=function(){this.height=this.width=this.y=this.x=0},S.prototype.offset=S.prototype.offset=function(t,e){return this.x+=t,this.y+=e,this},S.prototype.inflate=S.prototype.Tf=function(t,e){return C(this,e,t,e,t)},S.prototype.addMargin=S.prototype.Jw=function(t){return C(this,t.top,t.right,t.bottom,t.left)},S.prototype.subtractMargin=S.prototype.GJ=function(t){return C(this,-t.top,-t.right,-t.bottom,-t.left)},S.prototype.grow=function(t,e,n,i){return C(this,t,e,n,i)},S.prototype.intersectRect=function(t){return N(this,t.x,t.y,t.width,t.height)},S.prototype.intersect=S.prototype.$E=function(t,e,n,i){return N(this,t,e,n,i)},S.prototype.intersectsRect=S.prototype.Lg=function(t){return this.aF(t.x,t.y,t.width,t.height)},S.prototype.intersects=S.prototype.aF=function(t,e,n,i){var r=this.width,o=this.x;return!(1/0!==r&&1/0!==n&&(r+=o,n+=t,isNaN(n)||isNaN(r)||o>n||t>r))&&(t=this.height,n=this.y,!(1/0!==t&&1/0!==i&&(t+=n,i+=e,isNaN(i)||isNaN(t)||n>i||e>t)))},S.prototype.unionPoint=S.prototype.si=function(t){return A(this,t.x,t.y,0,0)},S.prototype.unionRect=S.prototype.Hh=function(t){return A(this,t.x,t.y,t.width,t.height)},S.prototype.union=S.prototype.uG=function(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),A(this,t,e,n,i)},S.prototype.setSpot=S.prototype.Hu=function(t,e,n){return this.x=t-n.offsetX-n.x*this.width,this.y=e-n.offsetY-n.y*this.height,this};var Ql;S.contains=Ql=function(t,e,n,i,r,o,a,s){return void 0===a&&(a=0),void 0===s&&(s=0),t<=r&&r+a<=t+n&&e<=o&&o+s<=e+i},S.intersects=function(t,e,n,i,r,o,a,s){return n+=t,a+=r,!(t>a||r>n)&&(t=i+e,s+=o,!(e>s||o>t))},Wl.defineProperty(S,{left:"left"},function(){return this.x},function(t){this.x=t}),Wl.defineProperty(S,{top:"top"},function(){return this.y},function(t){this.y=t}),Wl.defineProperty(S,{right:"right"},function(){return this.x+this.width},function(t){this.x+=t-(this.x+this.width)}),Wl.defineProperty(S,{bottom:"bottom"},function(){return this.y+this.height},function(t){this.y+=t-(this.y+this.height)}),Wl.defineProperty(S,{position:"position"},function(){return new w(this.x,this.y)},function(t){this.x=t.x,this.y=t.y}),Wl.defineProperty(S,{size:"size"},function(){return new T(this.width,this.height)},function(t){this.width=t.width,this.height=t.height}),Wl.defineProperty(S,{Hl:"center"},function(){return new w(this.x+this.width/2,this.y+this.height/2)},function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}),Wl.defineProperty(S,{ka:"centerX"},function(){return this.x+this.width/2},function(t){this.x=t-this.width/2}),Wl.defineProperty(S,{sa:"centerY"},function(){return this.y+this.height/2},function(t){this.y=t-this.height/2}),S.prototype.isReal=S.prototype.H=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},S.prototype.isEmpty=function(){return 0===this.width&&0===this.height},Wl.ga("Margin",E),Wl.ki(E),Wl.ae(E,{top:!0,right:!0,bottom:!0,left:!0}),E.prototype.assign=function(t){this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left},E.prototype.setTo=E.prototype.l=function(t,e,n,i){return this.top=t,this.right=e,this.bottom=n,this.left=i,this},E.prototype.set=E.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},E.prototype.copy=function(){var t=new E;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},E.prototype.Ha=function(){return Object.freeze(this),this},E.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},E.prototype.freeze=function(){return this},E.prototype.Ra=function(){return Object.isFrozen(this)&&Wl.k("cannot thaw constant: "+this),this},E.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=NaN;""===t[e];)e++;var i=t[e++];if(i&&(n=parseFloat(i)),isNaN(n))return new E;for(var r=NaN;""===t[e];)e++;if((i=t[e++])&&(r=parseFloat(i)),isNaN(r))return new E(n);for(var o=NaN;""===t[e];)e++;if((i=t[e++])&&(o=parseFloat(i)),isNaN(o))return new E(n,r);for(var a=NaN;""===t[e];)e++;return(i=t[e++])&&(a=parseFloat(i)),isNaN(a)?new E(n,r):new E(n,r,o,a)}return new E},E.stringify=function(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()},E.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},E.prototype.equals=E.prototype.L=function(t){return t instanceof E&&(this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left)},E.prototype.equalTo=E.prototype.ex=function(t,e,n,i){return this.top===t&&this.right===e&&this.bottom===n&&this.left===i},E.prototype.equalsApprox=E.prototype.Jc=function(t){return Y(this.top,t.top)&&Y(this.right,t.right)&&Y(this.bottom,t.bottom)&&Y(this.left,t.left)},E.prototype.isReal=E.prototype.H=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},Wl.ki(j),Wl.ae(j,{m11:!0,m12:!0,m21:!0,m22:!0,dx:!0,dy:!0}),j.prototype.set=j.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},j.prototype.copy=function(){var t=new j;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},j.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},j.prototype.equals=j.prototype.L=function(t){return t instanceof j&&(this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy)},j.prototype.isIdentity=j.prototype.cu=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy},j.prototype.reset=j.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},j.prototype.multiply=j.prototype.multiply=function(t){var e=this.m12*t.m11+this.m22*t.m12,n=this.m11*t.m21+this.m21*t.m22,i=this.m12*t.m21+this.m22*t.m22,r=this.m11*t.dx+this.m21*t.dy+this.dx,o=this.m12*t.dx+this.m22*t.dy+this.dy;return this.m11=this.m11*t.m11+this.m21*t.m12,this.m12=e,this.m21=n,this.m22=i,this.dx=r,this.dy=o,this},j.prototype.multiplyInverted=j.prototype.yF=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),n=t.m22*e,i=-t.m12*e,r=-t.m21*e,o=t.m11*e,a=e*(t.m21*t.dy-t.m22*t.dx),s=e*(t.m12*t.dx-t.m11*t.dy);return t=this.m12*n+this.m22*i,e=this.m11*r+this.m21*o,r=this.m12*r+this.m22*o,o=this.m11*a+this.m21*s+this.dx,a=this.m12*a+this.m22*s+this.dy,this.m11=this.m11*n+this.m21*i,this.m12=t,this.m21=e,this.m22=r,this.dx=o,this.dy=a,this},j.prototype.invert=j.prototype.qx=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,n=-this.m21*t,i=this.m11*t,r=t*(this.m21*this.dy-this.m22*this.dx),o=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=n,this.m22=i,this.dx=r,this.dy=o,this},j.prototype.rotate=j.prototype.rotate=function(t,e,n){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;this.translate(e,n);var i=0,r=0;90===t?(i=0,r=1):180===t?(i=-1,r=0):270===t?(i=0,r=-1):(r=t*Math.PI/180,i=Math.cos(r),r=Math.sin(r)),t=this.m12*i+this.m22*r;var o=this.m11*-r+this.m21*i,a=this.m12*-r+this.m22*i;return this.m11=this.m11*i+this.m21*r,this.m12=t,this.m21=o,this.m22=a,this.translate(-e,-n),this},j.prototype.translate=j.prototype.translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},j.prototype.scale=j.prototype.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},j.prototype.transformPoint=j.prototype.ob=function(t){var e=t.x,n=t.y;return t.x=e*this.m11+n*this.m21+this.dx,t.y=e*this.m12+n*this.m22+this.dy,t},j.prototype.invertedTransformPoint=j.prototype.mi=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),n=-this.m12*e,i=this.m11*e,r=e*(this.m12*this.dx-this.m11*this.dy),o=t.x,a=t.y;return t.x=o*this.m22*e+a*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),t.y=o*n+a*i+r,t},j.prototype.transformRect=j.prototype.tG=function(t){var e=t.x,n=t.y,i=e+t.width,r=n+t.height,o=this.m11,a=this.m12,s=this.m21,h=this.m22,l=this.dx,u=this.dy,c=e*o+n*s+l,f=e*a+n*h+u,d=i*o+n*s+l,n=i*a+n*h+u,p=e*o+r*s+l,e=e*a+r*h+u,o=i*o+r*s+l,i=i*a+r*h+u,r=c,a=f,c=Math.min(c,d),r=Math.max(r,d),a=Math.min(a,n),f=Math.max(f,n),c=Math.min(c,p),r=Math.max(r,p),a=Math.min(a,e),f=Math.max(f,e),c=Math.min(c,o),r=Math.max(r,o),a=Math.min(a,i),f=Math.max(f,i);return t.x=c,t.y=a,t.width=r-c,t.height=f-a,t},Wl.ga("Spot",L),Wl.ki(L),Wl.ae(L,{x:!0,y:!0,offsetX:!0,offsetY:!0}),L.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY},L.prototype.setTo=L.prototype.l=function(t,e,n,i){return this.x=t,this.y=e,this.offsetX=n,this.offsetY=i,this},L.prototype.set=L.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},L.prototype.copy=function(){var t=new L;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},L.prototype.Ha=function(){return Object.freeze(this),this},L.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},L.prototype.freeze=function(){return this},L.prototype.Ra=function(){return Object.isFrozen(this)&&Wl.k("cannot thaw constant: "+this),this};var Zl;L.parse=Zl=function(t){if("string"==typeof t){if("None"===(t=t.trim()))return tu;if("TopLeft"===t)return nu;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return iu;if("TopRight"===t)return ru;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return ou;if("Center"===t)return au;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return su;if("BottomLeft"===t)return hu;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return lu;if("BottomRight"===t)return uu;if("TopSide"===t)return bu;if("LeftSide"===t)return wu;if("RightSide"===t)return xu;if("BottomSide"===t)return ku;if("TopBottomSides"===t)return Tu;if("LeftRightSides"===t)return Su;if("TopLeftSides"===t)return Mu;if("TopRightSides"===t)return Pu;if("BottomLeftSides"===t)return Cu;if("BottomRightSides"===t)return Nu;if("NotTopSide"===t)return Du;if("NotLeftSide"===t)return Au;if("NotRightSide"===t)return Eu;if("NotBottomSide"===t)return ju;if("AllSides"===t)return Lu;if("Default"===t)return eu;t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];void 0!==i&&0<i.length&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;i=t[e++],void 0!==i&&0<i.length&&(r=parseFloat(i));for(var o=0;""===t[e];)e++;i=t[e++],void 0!==i&&0<i.length&&(o=parseFloat(i));for(var a=0;""===t[e];)e++;return i=t[e++],void 0!==i&&0<i.length&&(a=parseFloat(i)),new L(n,r,o,a)}return new L},L.stringify=function(t){return t.gd()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()},L.prototype.toString=function(){return this.gd()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.L(tu)?"None":this.L(nu)?"TopLeft":this.L(iu)?"Top":this.L(ru)?"TopRight":this.L(ou)?"Left":this.L(au)?"Center":this.L(su)?"Right":this.L(hu)?"BottomLeft":this.L(lu)?"Bottom":this.L(uu)?"BottomRight":this.L(bu)?"TopSide":this.L(wu)?"LeftSide":this.L(xu)?"RightSide":this.L(ku)?"BottomSide":this.L(Tu)?"TopBottomSides":this.L(Su)?"LeftRightSides":this.L(Mu)?"TopLeftSides":this.L(Pu)?"TopRightSides":this.L(Cu)?"BottomLeftSides":this.L(Nu)?"BottomRightSides":this.L(Du)?"NotTopSide":this.L(Au)?"NotLeftSide":this.L(Eu)?"NotRightSide":this.L(ju)?"NotBottomSide":this.L(Lu)?"AllSides":this.L(eu)?"Default":"None"},L.prototype.equals=L.prototype.L=function(t){return t instanceof L&&((this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY)},L.prototype.opposite=L.prototype.CF=function(){return new L(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},L.prototype.includesSide=L.prototype.qj=function(t){if(!this.sj())return!1;if(!t.sj())if(t.L(yu))t=wu;else if(t.L(gu))t=xu;else if(t.L(vu))t=bu;else{if(!t.L(mu))return!1;t=ku}return t=t.offsetY,(this.offsetY&t)===t},L.prototype.isSpot=L.prototype.gd=function(){return!isNaN(this.x)&&!isNaN(this.y)},L.prototype.isNoSpot=L.prototype.Nd=function(){return isNaN(this.x)||isNaN(this.y)},L.prototype.isSide=L.prototype.sj=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},L.prototype.isNone=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},L.prototype.isDefault=L.prototype.Vc=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY};var tu;L.None=tu=F(new L(0,0,0,0),0).Ha();var eu;L.Default=eu=F(new L(0,0,-1,0),-1).Ha();var nu;L.TopLeft=nu=new L(0,0,0,0).Ha();var iu;L.TopCenter=iu=new L(.5,0,0,0).Ha();var ru;L.TopRight=ru=new L(1,0,0,0).Ha();var ou;L.LeftCenter=ou=new L(0,.5,0,0).Ha();var au;L.Center=au=new L(.5,.5,0,0).Ha();var su;L.RightCenter=su=new L(1,.5,0,0).Ha();var hu;L.BottomLeft=hu=new L(0,1,0,0).Ha();var lu;L.BottomCenter=lu=new L(.5,1,0,0).Ha();var uu;L.BottomRight=uu=new L(1,1,0,0).Ha();var cu;L.MiddleTop=cu=iu;var fu;L.MiddleLeft=fu=ou;var du;L.MiddleRight=du=su;var pu;L.MiddleBottom=pu=lu;var vu;L.Top=vu=iu;var yu;L.Left=yu=ou;var gu;L.Right=gu=su;var mu;L.Bottom=mu=lu;var bu;L.TopSide=bu=F(new L(0,0,1,Wl.kd),1).Ha();var wu;L.LeftSide=wu=F(new L(0,0,1,Wl.Rc),1).Ha();var xu;L.RightSide=xu=F(new L(0,0,1,Wl.$c),1).Ha();var ku;L.BottomSide=ku=F(new L(0,0,1,Wl.Zc),1).Ha();var Tu;L.TopBottomSides=Tu=F(new L(0,0,1,Wl.kd|Wl.Zc),1).Ha();var Su;L.LeftRightSides=Su=F(new L(0,0,1,Wl.Rc|Wl.$c),1).Ha();var Mu;L.TopLeftSides=Mu=F(new L(0,0,1,Wl.kd|Wl.Rc),1).Ha();var Pu;L.TopRightSides=Pu=F(new L(0,0,1,Wl.kd|Wl.$c),1).Ha();var Cu;L.BottomLeftSides=Cu=F(new L(0,0,1,Wl.Zc|Wl.Rc),1).Ha();var Nu;L.BottomRightSides=Nu=F(new L(0,0,1,Wl.Zc|Wl.$c),1).Ha();var Du;L.NotTopSide=Du=F(new L(0,0,1,Wl.Rc|Wl.$c|Wl.Zc),1).Ha();var Au;L.NotLeftSide=Au=F(new L(0,0,1,Wl.kd|Wl.$c|Wl.Zc),1).Ha();var Eu;L.NotRightSide=Eu=F(new L(0,0,1,Wl.kd|Wl.Rc|Wl.Zc),1).Ha();var ju;L.NotBottomSide=ju=F(new L(0,0,1,Wl.kd|Wl.Rc|Wl.$c),1).Ha();var Lu;L.AllSides=Lu=F(new L(0,0,1,Wl.kd|Wl.Rc|Wl.$c|Wl.Zc),1).Ha(),O.prototype.copy=function(){var t=new O;return t.Tb[0]=this.Tb[0],t.Tb[1]=this.Tb[1],t.Tb[2]=this.Tb[2],t.Tb[3]=this.Tb[3],t.Tb[4]=this.Tb[4],t.Tb[5]=this.Tb[5],t},O.prototype.translate=function(t,e){this.Tb[4]+=this.Tb[0]*t+this.Tb[2]*e,this.Tb[5]+=this.Tb[1]*t+this.Tb[3]*e},O.prototype.scale=function(t,e){this.Tb[0]*=t,this.Tb[1]*=t,this.Tb[2]*=e,this.Tb[3]*=e},I.prototype.addColorStop=function(t,e){this.mE.push({offset:t,color:e})},Gl=R.prototype,Gl.arc=function(t,e,n,i,r,o){H(this,t,e,n,i,r,o)},Gl.beginPath=function(){this.path=[]},Gl.bezierCurveTo=function(t,e,n,i,r,o){this.path.push(["C",t,e,n,i,r,o])},Gl.clearRect=function(){},Gl.clip=function(){U(this,"clipPath",this.path,new O)},Gl.closePath=function(){this.path.push(["z"])},Gl.createLinearGradient=function(t,e,n,i){var r=new I("linear");return r.x1=t,r.y1=e,r.x2=n,r.y2=i,r},Gl.createPattern=function(){return null},Gl.createRadialGradient=function(t,e,n,i,r,o){var a=new I("radial");return a.x1=t,a.y1=e,a.r1=n,a.x2=i,a.y2=r,a.r2=o,a},Gl.drawImage=function(t,e,n,i,r,o,a,s,h){var l="";t instanceof HTMLCanvasElement&&(l=t.toDataURL()),t instanceof HTMLImageElement&&(l=t.src),void 0===i&&(o=e,a=n,s=i=t.naturalWidth,h=r=t.naturalHeight),i=i||0,r=r||0,o=o||0,a=a||0,s=s||0,h=h||0,l={x:0,y:0,width:t.naturalWidth,height:t.naturalHeight,href:l,preserveAspectRatio:"xMidYMid slice"},$(i,s)&&$(r,h)||(l.preserveAspectRatio="none");var u="";s/=i,h/=r,0===o&&0===a||(u+=" translate("+o+", "+a+")"),1===s&&1===h||(u+=" scale("+s+", "+h+")"),0===e&&0===n||(u+=" translate("+-e+", "+-n+")"),0===e&&0===n&&i===t.naturalWidth&&r===t.naturalHeight||(t="CLIP"+Wl.nm++,o=B(this,"clipPath",{id:t}),o.appendChild(B(this,"rect",{x:e,y:n,width:i,height:r})),this.hm.appendChild(o),l["clip-path"]="url(#"+t+")"),q(this,"image",l,this.vh,u),this.addElement("image",l)},Gl.fill=function(){U(this,"fill",this.path,this.vh)},Gl.Ig=function(){this.Lp?this.clip():this.fill()},Gl.fillRect=function(t,e,n,i){V(this,"fill",[t,e,n,i],this.vh)},Gl.fillText=function(t,e,n){t=[t,e,n],e=this.textAlign,"left"===e?e="start":"right"===e?e="end":"center"===e&&(e="middle"),e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},q(this,"fill",e,this.vh),this.addElement("text",e,t[0])},Gl.lineTo=function(t,e){this.path.push(["L",t,e])},Gl.moveTo=function(t,e){this.path.push(["M",t,e])},Gl.quadraticCurveTo=function(t,e,n,i){this.path.push(["Q",t,e,n,i])},Gl.rect=function(t,e,n,i){this.path.push(["M",t,e],["L",t+n,e],["L",t+n,e+i],["L",t,e+i],["z"])},Gl.restore=function(){this.vh=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.In=t.In,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},Gl.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,In:this.In,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.vh.copy())},Gl.setTransform=function(t,e,n,i,r,o){1===t&&0===e&&0===n&&1===i&&0===r&&0===o||G(this,t,e,n,i,r,o)},Gl.scale=function(t,e){this.vh.scale(t,e)},Gl.translate=function(t,e){this.vh.translate(t,e)},Gl.transform=function(){},Gl.stroke=function(){U(this,"stroke",this.path,this.vh)},Gl.Cj=function(){this.Lp||this.stroke()},Gl.strokeRect=function(t,e,n,i){V(this,"stroke",[t,e,n,i],this.vh)},Gl.addElement=function(t,e,n){return t=B(this,t,e,n),0<this.xf.length?this.xf[this.xf.length-1].appendChild(t):this.hm.appendChild(t),this.Bx=t},Gl.ab=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var t,e,n,i,r,o="SHADOW"+Wl.nm++,a=this.addElement("filter",{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},null);t=B(this,"feGaussianBlur",{in:"SourceAlpha",result:"blur",HL:this.shadowBlur/2}),e=B(this,"feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),n=B(this,"feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"}),i=B(this,"feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX,dy:this.shadowOffsetY}),r=B(this,"feMerge",{}),r.appendChild(B(this,"feMergeNode",{in:"offsetBlur"})),r.appendChild(B(this,"feMergeNode",{in:"SourceGraphic"})),a.appendChild(t),a.appendChild(e),a.appendChild(n),a.appendChild(i),a.appendChild(r),0<this.xf.length&&this.xf[this.xf.length-1].setAttributeNS(null,"filter","url(#"+o+")")}},Gl.gB=function(t,e,n){this.Xs=t,this.Ys=e,this.Ag=n},Gl.Xn=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0},Gl.Yn=function(){this.shadowOffsetX=this.Xs,this.shadowOffsetY=this.Ys,this.shadowBlur=this.Ag},Gl.cA=function(){return!1},Gl.$z=function(){},Gl.Fe=function(){},Gl.ey=function(){},Gl=_.prototype,Gl.toDataURL=function(t,e){return this.Gd.toDataURL(t,e)},Gl.getBoundingClientRect=function(){return this.Gd.getBoundingClientRect()},Gl.focus=function(){return this.Gd.focus()},Gl.addEventListener=function(t,e,n){this.Gd.addEventListener(t,e,n)},Gl.removeEventListener=function(t,e,n){this.Gd.removeEventListener(t,e,n)},Wl.defineProperty(_,{width:"width"},function(){return this.Gd.width},function(t){this.Gd.width=t}),Wl.defineProperty(_,{height:"height"},function(){return this.Gd.height},function(t){this.Gd.height=t}),Wl.u(_,{style:"style"},function(){return this.Gd.style}),W.prototype.ey=function(t){this.ya.rA=t,this.ya.nL=t},Wl.defineProperty(W,{fillStyle:"fillStyle"},function(){return this.ya.fillStyle},function(t){this.Cy!==t&&(this.Cy=this.ya.fillStyle=t)}),Wl.defineProperty(W,{font:"font"},function(){return this.ya.font},function(t){this.Dy!==t&&(this.Dy=this.ya.font=t)}),Wl.defineProperty(W,{globalAlpha:"globalAlpha"},function(){return this.ya.globalAlpha},function(t){this.ya.globalAlpha=t}),Wl.defineProperty(W,{lineCap:"lineCap"},function(){return this.ya.lineCap},function(t){this.ya.lineCap=t}),Wl.defineProperty(W,{In:"lineDashOffset"},function(){return this.ya.In},function(t){this.ya.In=t}),Wl.defineProperty(W,{lineJoin:"lineJoin"},function(){return this.ya.lineJoin},function(t){this.ya.lineJoin=t}),Wl.defineProperty(W,{lineWidth:"lineWidth"},function(){return this.ya.lineWidth},function(t){this.ya.lineWidth=t}),Wl.defineProperty(W,{miterLimit:"miterLimit"},function(){return this.ya.miterLimit},function(t){this.ya.miterLimit=t}),Wl.defineProperty(W,{shadowBlur:"shadowBlur"},function(){return this.ya.shadowBlur},function(t){this.ya.shadowBlur=t}),Wl.defineProperty(W,{shadowColor:"shadowColor"},function(){return this.ya.shadowColor},function(t){this.ya.shadowColor=t}),Wl.defineProperty(W,{shadowOffsetX:"shadowOffsetX"},function(){return this.ya.shadowOffsetX},function(t){this.ya.shadowOffsetX=t}),Wl.defineProperty(W,{shadowOffsetY:"shadowOffsetY"},function(){return this.ya.shadowOffsetY},function(t){this.ya.shadowOffsetY=t}),Wl.defineProperty(W,{strokeStyle:"strokeStyle"},function(){return this.ya.strokeStyle},function(t){this.Ey!==t&&(this.Ey=this.ya.strokeStyle=t)}),Wl.defineProperty(W,{textAlign:"textAlign"},function(){return this.ya.textAlign},function(t){this.ya.textAlign=t}),Wl.defineProperty(W,{rA:"imageSmoothingEnabled"},function(){return this.ya.rA},function(t){this.ya.rA=t}),Gl=W.prototype,Gl.arc=function(t,e,n,i,r,o){this.ya.arc(t,e,n,i,r,o)},Gl.beginPath=function(){this.ya.beginPath()},Gl.bezierCurveTo=function(t,e,n,i,r,o){this.ya.bezierCurveTo(t,e,n,i,r,o)},Gl.clearRect=function(t,e,n,i){this.ya.clearRect(t,e,n,i)},Gl.clip=function(){this.ya.clip()},Gl.closePath=function(){this.ya.closePath()},Gl.createLinearGradient=function(t,e,n,i){return this.ya.createLinearGradient(t,e,n,i)},Gl.createPattern=function(t,e){return this.ya.createPattern(t,e)},Gl.createRadialGradient=function(t,e,n,i,r,o){return this.ya.createRadialGradient(t,e,n,i,r,o)},Gl.drawImage=function(t,e,n,i,r,o,a,s,h){void 0===i?this.ya.drawImage(t,e,n):this.ya.drawImage(t,e,n,i,r,o,a,s,h)},Gl.fill=function(){this.ya.fill()},Gl.fillRect=function(t,e,n,i){this.ya.fillRect(t,e,n,i)},Gl.fillText=function(t,e,n){this.ya.fillText(t,e,n)},Gl.getImageData=function(t,e,n,i){return this.ya.getImageData(t,e,n,i)},Gl.lineTo=function(t,e){this.ya.lineTo(t,e)},Gl.measureText=function(t){return this.ya.measureText(t)},Gl.moveTo=function(t,e){this.ya.moveTo(t,e)},Gl.quadraticCurveTo=function(t,e,n,i){this.ya.quadraticCurveTo(t,e,n,i)},Gl.rect=function(t,e,n,i){this.ya.rect(t,e,n,i)},Gl.restore=function(){this.ya.restore()},W.prototype.rotate=function(t){this.ya.rotate(t)},Gl=W.prototype,Gl.save=function(){this.ya.save()},Gl.setTransform=function(t,e,n,i,r,o){this.ya.setTransform(t,e,n,i,r,o)},Gl.scale=function(t,e){this.ya.scale(t,e)},Gl.stroke=function(){this.ya.stroke()},Gl.transform=function(t,e,n,i,r,o){1===t&&0===e&&0===n&&1===i&&0===r&&0===o||this.ya.transform(t,e,n,i,r,o)},Gl.translate=function(t,e){this.ya.translate(t,e)},Gl.Ig=function(t){if(t instanceof vr&&t.type===bf){var e=t.ro;t=t.Hy,t>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.Tq?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.Tq?this.clip():this.fill()},Gl.Cj=function(){this.Tq||this.stroke()},Wl.defineProperty(W,{Lp:"clipInsteadOfFill"},function(){return this.Tq},function(t){this.Tq=t}),Gl=W.prototype,Gl.gB=function(t,e,n){this.Xs=t,this.Ys=e,this.Ag=n},Gl.Xn=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0},Gl.Yn=function(){this.shadowOffsetX=this.Xs,this.shadowOffsetY=this.Ys,this.shadowBlur=this.Ag},Gl.cA=function(t,e){var n=this.ya;if(void 0!==n.setLineDash)n.setLineDash(t),n.lineDashOffset=e;else if(void 0!==n.webkitLineDash)n.webkitLineDash=t,n.webkitLineDashOffset=e;else{if(void 0===n.mozDash)return!1;n.mozDash=t,n.mozDashOffset=e}return!0},Gl.$z=function(){var t=this.ya;void 0!==t.setLineDash?(t.setLineDash(Wl.ho),t.lineDashOffset=0):void 0!==t.webkitLineDash?(t.webkitLineDash=Wl.ho,t.webkitLineDashOffset=0):void 0!==t.mozDash&&(t.mozDash=null,t.mozDashOffset=0)},Gl.Fe=function(t){t&&(this.Dy=""),this.Cy=this.Ey=""};var Fu=(Math.sqrt(2)-1)/3*4,Ou=new w(0,0).Ha(),Iu=new S(0,0,0,0).Ha(),Ru=new E(0,0,0,0).Ha(),Bu=new E(2,2,2,2).Ha(),qu=new w(6,6).Ha(),zu=new w(-(1/0),-(1/0)).Ha(),Vu=new w(1/0,1/0).Ha(),Uu=new T(0,0).Ha(),Hu=new T(1,1).Ha(),Gu=new T(6,6).Ha(),_u=new T(8,8).Ha(),Wu=new T(10,10).Ha(),Ku=new T(1/0,1/0).Ha(),Yu=new w(NaN,NaN).Ha(),$u=new T(NaN,NaN).Ha(),Ju=new S(NaN,NaN,NaN,NaN).Ha(),Xu=new L(.156,.156).Ha(),Qu=new L(.844,.844).Ha(),Zu=new r,tc=new r,ec=null;Wl.ga("Geometry",mt),Wl.ki(mt),mt.prototype.copy=function(){var t=new mt;t.na=this.na,t.xc=this.xc,t.Hc=this.Hc,t.yb=this.yb,t.Fb=this.Fb;for(var e=this.Nj.n,n=e.length,i=t.Nj,r=0;r<n;r++){var o=e[r].copy();i.add(o)}return t.xv=this.xv,t.hv.assign(this.hv),t.cb=this.cb,t.ko=this.ko,t.Jq=this.Jq,t.Kq=this.Kq,t.ei=this.ei.S(),t.fi=this.fi.S(),t.Qo=this.Qo,t.Oo=this.Oo,t.Di=this.Di,t};var nc;mt.Line=nc=Wl.p(mt,"Line",0);var ic;mt.Rectangle=ic=Wl.p(mt,"Rectangle",1);var rc;mt.Ellipse=rc=Wl.p(mt,"Ellipse",2);var oc;mt.Path=oc=Wl.p(mt,"Path",3),mt.prototype.Ha=function(){return this.freeze(),Object.freeze(this),this},mt.prototype.freeze=function(){this.Q=!0;var t=this.dc;t.freeze();for(var t=t.n,e=t.length,n=0;n<e;n++)t[n].freeze();return this},mt.prototype.Ra=function(){Object.isFrozen(this)&&Wl.k("cannot thaw constant: "+this),this.Q=!1;var t=this.dc;t.Ra();for(var t=t.n,e=t.length,n=0;n<e;n++)t[n].Ra();return this},mt.prototype.equalsApprox=mt.prototype.Jc=function(t){if(!(t instanceof mt))return!1;if(this.type!==t.type)return this.type===nc&&t.type===oc?bt(this,t):t.type===nc&&this.type===oc&&bt(t,this);if(this.type===oc){var e=this.dc.n;t=t.dc.n;var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!e[i].Jc(t[i]))return!1;return!0}return Y(this.ja,t.ja)&&Y(this.ha,t.ha)&&Y(this.D,t.D)&&Y(this.F,t.F)};var ac;mt.stringify=ac=function(t){return t.toString()},mt.prototype.gc=function(t){t.Ee===mt?this.type=t:Wl.Ej(this,t)},mt.prototype.toString=function(t){switch(void 0===t&&(t=-1),this.type){case nc:return 0>t?"M"+this.ja.toString()+" "+this.ha.toString()+"L"+this.D.toString()+" "+this.F.toString():"M"+this.ja.toFixed(t)+" "+this.ha.toFixed(t)+"L"+this.D.toFixed(t)+" "+this.F.toFixed(t);case ic:var e=new S(this.ja,this.ha,0,0);return e.uG(this.D,this.F,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case rc:if(e=new S(this.ja,this.ha,0,0),e.uG(this.D,this.F,0,0),0>t){var n=e.left.toString()+" "+(e.y+e.height/2).toString(),i=e.right.toString()+" "+(e.y+e.height/2).toString();return"M"+n+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+i+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+n}return n=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),i=e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),"M"+n+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+i+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+n;case oc:for(var e="",n=this.dc.n,i=n.length,r=0;r<i;r++){var o=n[r];0<r&&(e+=" x "),o.bu&&(e+="F "),e+=o.toString(t)}return e;default:return this.type.toString()}},mt.fillPath=function(t){"string"!=typeof t&&Wl.xd(t,"string",mt,"fillPath:str"),t=t.split(/[Xx]/);for(var e=t.length,n="",i=0;i<e;i++)var r=t[i],n=null!==r.match(/[Ff]/)?0===i?n+r:n+"X"+(" "===r[0]?"":" ")+r:n+(0===i?"":"X ")+"F"+(" "===r[0]?"":" ")+r;return n};var sc;mt.parse=sc=function(t,e){function n(){return l>=v-1||null!==h[l+1].match(/[A-Za-z]/)}function i(){return l++,h[l]}function r(){var t=new w(parseFloat(i()),parseFloat(i()));return u===u.toLowerCase()&&(t.x=p.x+t.x,t.y=p.y+t.y),t}function o(){return p=r()}function a(){return d=r()}function s(){return"c"!==c.toLowerCase()&&"s"!==c.toLowerCase()?p:new w(2*p.x-d.x,2*p.y-d.y)}void 0===e&&(e=!1),"string"!=typeof t&&Wl.xd(t,"string",mt,"parse:str"),t=t.replace(/,/gm," "),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2"),t=t.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2"),t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=t.replace(/[\s\r\t\n]+/gm," "),t=t.replace(/^\s+|\s+$/g,"");for(var h=t.split(" "),l=-1,u="",c="",f=new w(0,0),d=new w(0,0),p=new w(0,0),v=h.length,y=Wl.s(),g=!1,m=!1,b=!0,x=null;!(l>=v-1);)if(c=u,""!==(u=i()))switch(u.toUpperCase()){case"X":b=!0,m=g=!1;break;case"M":for(x=o(),null===y.Vb||!0===b?(Xo(y,x.x,x.y,g,!1,!m),b=!1):y.moveTo(x.x,x.y),f=p;!n();)x=o(),y.lineTo(x.x,x.y);break;case"L":for(;!n();)x=o(),y.lineTo(x.x,x.y);break;case"H":for(;!n();)p=x=new w((u===u.toLowerCase()?p.x:0)+parseFloat(i()),p.y),y.lineTo(p.x,p.y);break;case"V":for(;!n();)p=x=new w(p.x,(u===u.toLowerCase()?p.y:0)+parseFloat(i())),y.lineTo(p.x,p.y);break;case"C":for(;!n();){var k=r(),T=a(),x=o();ta(y,k.x,k.y,T.x,T.y,x.x,x.y)}break;case"S":for(;!n();)k=s(),T=a(),x=o(),ta(y,k.x,k.y,T.x,T.y,x.x,x.y);break;case"Q":for(;!n();)T=a(),x=o(),ea(y,T.x,T.y,x.x,x.y);break;case"T":for(;!n();)d=T=s(),x=o(),ea(y,T.x,T.y,x.x,x.y);break;case"B":for(;!n();){var x=parseFloat(i()),k=parseFloat(i()),T=parseFloat(i()),S=parseFloat(i()),M=parseFloat(i()),P=M,C=!1;n()||(P=parseFloat(i()),n()||(C=0!==parseFloat(i()))),u===u.toLowerCase()&&(T+=p.x,S+=p.y),y.arcTo(x,k,T,S,M,P,C)}break;case"A":for(;!n();)k=Math.abs(parseFloat(i())),T=Math.abs(parseFloat(i())),S=parseFloat(i()),M=!!parseFloat(i()),P=!!parseFloat(i()),x=o(),na(y,k,T,S,M,P,x.x,x.y);break;case"Z":x=y.o.dc.n[y.o.dc.length-1],Qo(y),p=f;break;case"F":for(x="",k=1;h[l+k];)if(null!==h[l+k].match(/[Uu]/))k++;else{if(null!==h[l+k].match(/[A-Za-z]/)){x=h[l+k];break}k++}x.match(/[Mm]/)?g=!0:Zo(y);break;case"U":for(x="",k=1;h[l+k];)if(null!==h[l+k].match(/[Ff]/))k++;else{if(null!==h[l+k].match(/[A-Za-z]/)){x=h[l+k];break}k++}x.match(/[Mm]/)?m=!0:y.ab(!1)}if(f=y.o,Wl.q(y),e)for(y=f.dc.i;y.next();)x=y.value,x.bu=!0;return f},mt.prototype.wx=function(){if(this.cb||this.xv!==this.dc.C)return!0;for(var t=this.dc.n,e=t.length,n=0;n<e;n++)if(t[n].wx())return!0;return!1},mt.prototype.ny=function(){this.cb=!1,this.Jq=this.ko=null,this.Kq=NaN,this.xv=this.dc.C;for(var t=this.dc.n,e=t.length,n=0;n<e;n++)t[n].ny()},mt.prototype.th=function(){var t=this.hv;t.Ra(),isNaN(this.Qo)||isNaN(this.Oo)?t.l(0,0,0,0):t.l(0,0,this.Qo,this.Oo),xt(this,t,!1),A(t,0,0,0,0),t.freeze()},mt.prototype.computeBoundsWithoutOrigin=mt.prototype.uH=function(){var t=new S;return xt(this,t,!0),t},mt.prototype.normalize=mt.prototype.normalize=function(){this.Q&&Wl.ma(this);var t=this.uH();return this.offset(-t.x,-t.y),new w(-t.x,-t.y)},mt.prototype.offset=mt.prototype.offset=function(t,e){return this.Q&&Wl.ma(this),this.transform(1,0,0,1,t,e),this},mt.prototype.scale=mt.prototype.scale=function(t,e){return this.Q&&Wl.ma(this),this.transform(t,0,0,e,0,0),this},mt.prototype.rotate=mt.prototype.rotate=function(t,e,n){this.Q&&Wl.ma(this),void 0===e&&(e=0),void 0===n&&(n=0);var i=Wl.Ff();return i.reset(),i.rotate(t,e,n),this.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),Wl.ve(i),this},mt.prototype.transform=mt.prototype.transform=function(t,e,n,i,r,o){var a=0,s=0;switch(this.type){case nc:case ic:case rc:a=this.xc,s=this.Hc,this.xc=a*t+s*n+r,this.Hc=a*e+s*i+o,a=this.yb,s=this.Fb,this.yb=a*t+s*n+r,this.Fb=a*e+s*i+o;break;case oc:for(var h=this.dc.n,l=h.length,u=0;u<l;u++){var c=h[u],a=c.ja,s=c.ha;c.ja=a*t+s*n+r,c.ha=a*e+s*i+o;for(var c=c.vb.n,f=c.length,d=0;d<f;d++){var p=c[d];switch(p.type){case lc:case hc:a=p.D,s=p.F,p.D=a*t+s*n+r,p.F=a*e+s*i+o;break;case uc:a=p.sc,s=p.Pc,p.sc=a*t+s*n+r,p.Pc=a*e+s*i+o,a=p.Bh,s=p.Ch,p.Bh=a*t+s*n+r,p.Ch=a*e+s*i+o,a=p.D,s=p.F,p.D=a*t+s*n+r,p.F=a*e+s*i+o;break;case cc:a=p.sc,s=p.Pc,p.sc=a*t+s*n+r,p.Pc=a*e+s*i+o,a=p.D,s=p.F,p.D=a*t+s*n+r,p.F=a*e+s*i+o;break;case fc:a=p.ka,s=p.sa,p.ka=a*t+s*n+r,p.sa=a*e+s*i+o,0!==e&&(a=180*Math.atan2(e,t)/Math.PI,0>a&&(a+=360),p.ze+=a),0>t&&(p.ze=180-p.ze,p.pf=-p.pf),0>i&&(p.ze=-p.ze,p.pf=-p.pf),p.radiusX*=Math.sqrt(t*t+n*n),void 0!==p.radiusY&&(p.radiusY*=Math.sqrt(e*e+i*i));break;case dc:a=p.D,s=p.F,p.D=a*t+s*n+r,p.F=a*e+s*i+o,0!==e&&(a=180*Math.atan2(e,t)/Math.PI,0>a&&(a+=360),p.Gj+=a),0>t&&(p.Gj=180-p.Gj,p.Xl=!p.Xl),0>i&&(p.Gj=-p.Gj,p.Xl=!p.Xl),p.radiusX*=Math.sqrt(t*t+n*n),p.radiusY*=Math.sqrt(e*e+i*i);break;default:Wl.k("Unknown Segment type: "+p.type)}}}}return this.cb=!0,this},mt.prototype.Ia=function(t,e,n,i){var r=t.x,o=t.y,a=this.kb.x-20;t=t.y;for(var s=0,h=0,l=0,u=0,c=0,f=0,d=this.dc.n,p=d.length,v=0;v<p;v++){var y=d[v];if(y.bu){if(n&&y.Ia(r,o,e))return!0;for(var g=y.vb,h=y.ja,l=y.ha,m=h,b=l,w=g.n,x=0;x<=g.length;x++){var k,T;switch(x!==g.length?(k=w[x],T=k.type,c=k.D,f=k.F):(T=lc,c=m,f=b),T){case hc:if(u=kt(r,o,a,t,h,l,m,b),isNaN(u))return!0;s+=u,m=c,b=f;break;case lc:if(u=kt(r,o,a,t,h,l,c,f),isNaN(u))return!0;s+=u;break;case uc:u=ot(h,l,k.sc,k.Pc,k.Bh,k.Ch,c,f,a,t,r,o,.5),s+=u;break;case cc:u=ot(h,l,(h+2*k.sc)/3,(l+2*k.Pc)/3,(2*k.sc+c)/3,(2*k.Pc+f)/3,c,f,a,t,r,o,.5),s+=u;break;case fc:case dc:T=k.type===fc?Nt(k,y):Dt(k,y,h,l);var S=T.length;if(0===S){if(u=kt(r,o,a,t,h,l,k.ka,k.sa),isNaN(u))return!0;s+=u;break}for(var M=null,P=0;P<S;P++){if(M=T[P],0===P){if(u=kt(r,o,a,t,h,l,M[0],M[1]),isNaN(u))return!0;s+=u}u=ot(M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],a,t,r,o,.5),s+=u}null!==M&&(c=M[6],f=M[7]);break;default:Wl.k("Unknown Segment type: "+k.type)}h=c,l=f}if(0!==s)return!0;s=0}else if(y.Ia(r,o,i?e:e+2))return!0}return 0!==s},mt.prototype.getPointAlongPath=mt.prototype.$H=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new w),this.type===nc)return e.l(this.ja+t*(this.D-this.ja),this.ha+t*(this.F-this.ha)),e;for(var n=this.fA,i=this.lx,r=n.length,o=this.gA*t,a=0,s=0;s<r;s++)for(var h=i[s],l=h.length,u=0;u<l;u++){var c=h[u];if(a+c>=o)return i=(o-a)/c,n=n[s],s=n[2*u],r=n[2*u+1],e.l(s+(n[2*u+2]-s)*i,r+(n[2*u+3]-r)*i),e;a+=c}return e.l(NaN,NaN),e},mt.prototype.getFractionForPoint=mt.prototype.WH=function(t){if(this.type===nc){var e=this.ja,n=this.ha,i=this.D,r=this.F;if(e!==i||n!==r){var o=t.x;t=t.y;var a=0,s=0;return e===i?(n<r?(a=n,s=r):(a=r,s=n),t<=a?a===n?0:1:t>=s?s===n?0:1:Math.abs(t-n)/(s-a)):n===r?(e<i?(a=e,s=i):(a=i,s=e),o<=a?a===e?0:1:o>=s?s===e?0:1:Math.abs(o-e)/(s-a)):((o-e)*(o-e)+(t-n)*(t-n))/((i-e)*(i-e)+(r-n)*(r-n))}}else{if(this.type!==ic){for(var r=this.fA,a=this.lx,s=this.gA,h=Wl.K(),n=1/0,e=i=0,o=r.length,l=m=0,u=0;u<o;u++)for(var c=r[u],f=a[u],d=c.length,p=0;p<d;p+=2){var v=c[p],y=c[p+1];if(0!==p){at(m,l,v,y,t.x,t.y,h);var g=(h.x-t.x)*(h.x-t.x)+(h.y-t.y)*(h.y-t.y);g<n&&(n=g,i=e,i+=Math.sqrt((h.x-m)*(h.x-m)+(h.y-l)*(h.y-l))),e+=f[(p-2)/2]}m=v,l=y}return Wl.v(h),t=i/s,0>t?0:1<t?1:t}if(e=this.ja,n=this.ha,i=this.D,r=this.F,e!==i||n!==r){var a=i-e,s=r-n,h=2*a+2*s,o=t.x;t=t.y,o=Math.min(Math.max(o,e),i),t=Math.min(Math.max(t,n),r);var e=Math.abs(o-e),i=Math.abs(o-i),n=Math.abs(t-n),r=Math.abs(t-r),m=Math.min(e,i,n,r);if(m===n)return o/h;if(m===i)return(a+t)/h;if(m===r)return(2*a+s-o)/h;if(m===e)return(2*a+2*s-t)/h}}return 0},Wl.u(mt,{fA:null},function(){return St(this),this.ko}),Wl.u(mt,{lx:null},function(){return St(this),this.Jq}),Wl.u(mt,{gA:null},function(){var t=this.Kq;if(isNaN(t)){if(this.type===nc)var t=Math.abs(this.D-this.ja),e=Math.abs(this.F-this.ha),t=Math.sqrt(t*t+e*e);else if(this.type===ic)t=Math.abs(this.D-this.ja),e=Math.abs(this.F-this.ha),t=2*t+2*e;else for(var e=this.lx,n=e.length,i=t=0;i<n;i++)for(var r=e[i],o=r.length,a=0;a<o;a++)t+=r[a];this.Kq=t}return t}),Wl.defineProperty(mt,{type:"type"},function(){return this.na},function(t){this.na!==t&&(this.Q&&Wl.ma(this,t),this.na=t,this.cb=!0)}),Wl.defineProperty(mt,{ja:"startX"},function(){return this.xc},function(t){this.xc!==t&&(this.Q&&Wl.ma(this,t),this.xc=t,this.cb=!0)}),Wl.defineProperty(mt,{ha:"startY"},function(){return this.Hc},function(t){this.Hc!==t&&(this.Q&&Wl.ma(this,t),this.Hc=t,this.cb=!0)}),Wl.defineProperty(mt,{D:"endX"},function(){return this.yb},function(t){this.yb!==t&&(this.Q&&Wl.ma(this,t),this.yb=t,this.cb=!0)}),Wl.defineProperty(mt,{F:"endY"},function(){return this.Fb},function(t){this.Fb!==t&&(this.Q&&Wl.ma(this,t),this.Fb=t,this.cb=!0)}),Wl.defineProperty(mt,{dc:"figures"},function(){return this.Nj},function(t){this.Nj!==t&&(this.Q&&Wl.ma(this,t),this.Nj=t,this.cb=!0)}),mt.prototype.add=mt.prototype.add=function(t){return this.Nj.add(t),this},mt.prototype.setSpots=function(t,e,n,i,r,o,a,s){return this.Q&&Wl.ma(this),this.ei=new L(t,e,r,o).freeze(),this.fi=new L(n,i,a,s).freeze(),this},Wl.defineProperty(mt,{A:"spot1"},function(){return this.ei},function(t){this.Q&&Wl.ma(this,t),this.ei=t.S()}),Wl.defineProperty(mt,{B:"spot2"},function(){return this.fi},function(t){this.Q&&Wl.ma(this,t),this.fi=t.S()}),Wl.defineProperty(mt,{$d:"defaultStretch"},function(){return this.Di},function(t){this.Q&&Wl.ma(this,t),this.Di=t}),Wl.u(mt,{kb:"bounds"},function(){return this.wx()&&(this.ny(),this.th()),this.hv}),Wl.ga("PathFigure",Pt),Wl.ki(Pt),Pt.prototype.copy=function(){var t=new Pt;t.Cm=this.Cm,t.Ro=this.Ro,t.xc=this.xc,t.Hc=this.Hc;for(var e=this.np.n,n=e.length,i=t.np,r=0;r<n;r++){var o=e[r].copy();i.add(o)}return t.uw=this.uw,t.cb=this.cb,t},Pt.prototype.equalsApprox=Pt.prototype.Jc=function(t){if(!(t instanceof Pt&&Y(this.ja,t.ja)&&Y(this.ha,t.ha)))return!1;var e=this.vb.n;t=t.vb.n;var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!e[i].Jc(t[i]))return!1;return!0},Gl=Pt.prototype,Gl.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.ja.toString()+" "+this.ha.toString():"M"+this.ja.toFixed(t)+" "+this.ha.toFixed(t),n=this.vb.n,i=n.length,r=0;r<i;r++)e+=" "+n[r].toString(t);return e},Gl.freeze=function(){this.Q=!0;var t=this.vb;t.freeze();for(var e=t.n,t=t.length,n=0;n<t;n++)e[n].freeze();return this},Gl.Ra=function(){this.Q=!1;var t=this.vb;t.Ra();for(var t=t.n,e=t.length,n=0;n<e;n++)t[n].Ra();return this},Gl.wx=function(){if(this.cb)return!0;var t=this.vb;if(this.uw!==t.C)return!0;for(var t=t.n,e=t.length,n=0;n<e;n++)if(t[n].cb)return!0;return!1},Gl.ny=function(){this.cb=!1;var t=this.vb;this.uw=t.C;for(var t=t.n,e=t.length,n=0;n<e;n++){var i=t[n];i.cb=!1,i.jg=null}},Wl.defineProperty(Pt,{bu:"isFilled"},function(){return this.Cm},function(t){this.Q&&Wl.ma(this,t),this.Cm=t}),Wl.defineProperty(Pt,{$l:"isShadowed"},function(){return this.Ro},function(t){this.Q&&Wl.ma(this,t),this.Ro=t}),Wl.defineProperty(Pt,{ja:"startX"},function(){return this.xc},function(t){this.Q&&Wl.ma(this,t),this.xc=t,this.cb=!0}),Wl.defineProperty(Pt,{ha:"startY"},function(){return this.Hc},function(t){this.Q&&Wl.ma(this,t),this.Hc=t,this.cb=!0}),Wl.defineProperty(Pt,{vb:"segments"},function(){return this.np},function(t){this.Q&&Wl.ma(this,t),this.np=t,this.cb=!0}),Pt.prototype.add=Pt.prototype.add=function(t){return this.np.add(t),this},Pt.prototype.Ia=function(t,e,n){for(var i=this.ja,r=this.ha,o=i,a=r,s=this.vb.n,h=s.length,l=0;l<h;l++){var u=s[l];switch(u.type){case hc:o=u.D,a=u.F,i=u.D,r=u.F;break;case lc:if(J(i,r,u.D,u.F,n,t,e))return!0;i=u.D,r=u.F;break;case uc:if(X(i,r,u.sc,u.Pc,u.Bh,u.Ch,u.D,u.F,.5,t,e,n))return!0;i=u.D,r=u.F;break;case cc:if(et(i,r,u.sc,u.Pc,u.D,u.F,.5,t,e,n))return!0;i=u.D,r=u.F;break;case fc:case dc:var c=u.type===fc?Nt(u,this):Dt(u,this,i,r),f=c.length;if(0===f){if(J(i,r,u.ka,u.sa,n,t,e))return!0;i=u.ka,r=u.sa;break}for(var d=null,p=0;p<f;p++)if(d=c[p],0===p&&J(i,r,d[0],d[1],n,t,e)||X(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],.5,t,e,n))return!0;null!==d&&(i=d[6],r=d[7]);break;default:Wl.k("Unknown Segment type: "+u.type)}if(u.tx&&(i!==o||r!==a)&&J(i,r,o,a,n,t,e))return!0}return!1},Wl.ga("PathSegment",Ct),Wl.ki(Ct),Ct.prototype.copy=function(){var t=new Ct;return t.na=this.na,t.yb=this.yb,t.Fb=this.Fb,t.Bd=this.Bd,t.We=this.We,t.nh=this.nh,t.zg=this.zg,t.Wo=this.Wo,t.po=this.po,t.Qh=this.Qh,t.cb=this.cb,t},Ct.prototype.equalsApprox=Ct.prototype.Jc=function(t){if(!(t instanceof Ct)||this.type!==t.type||this.tx!==t.tx)return!1;switch(this.type){case hc:case lc:return Y(this.D,t.D)&&Y(this.F,t.F);case uc:return Y(this.D,t.D)&&Y(this.F,t.F)&&Y(this.sc,t.sc)&&Y(this.Pc,t.Pc)&&Y(this.Bh,t.Bh)&&Y(this.Ch,t.Ch);case cc:return Y(this.D,t.D)&&Y(this.F,t.F)&&Y(this.sc,t.sc)&&Y(this.Pc,t.Pc);case fc:return Y(this.ze,t.ze)&&Y(this.pf,t.pf)&&Y(this.ka,t.ka)&&Y(this.sa,t.sa)&&Y(this.radiusX,t.radiusX)&&Y(this.radiusY,t.radiusY);case dc:return this.Xl===t.Xl&&this.xx===t.xx&&Y(this.Gj,t.Gj)&&Y(this.D,t.D)&&Y(this.F,t.F)&&Y(this.radiusX,t.radiusX)&&Y(this.radiusY,t.radiusY);default:return!1}},Ct.prototype.gc=function(t){t.Ee===Ct?this.type=t:Wl.Ej(this,t)},Ct.prototype.toString=function(t){void 0===t&&(t=-1);var e="";switch(this.type){case hc:e=0>t?"M"+this.D.toString()+" "+this.F.toString():"M"+this.D.toFixed(t)+" "+this.F.toFixed(t);break;case lc:e=0>t?"L"+this.D.toString()+" "+this.F.toString():"L"+this.D.toFixed(t)+" "+this.F.toFixed(t);break;case uc:e=0>t?"C"+this.sc.toString()+" "+this.Pc.toString()+" "+this.Bh.toString()+" "+this.Ch.toString()+" "+this.D.toString()+" "+this.F.toString():"C"+this.sc.toFixed(t)+" "+this.Pc.toFixed(t)+" "+this.Bh.toFixed(t)+" "+this.Ch.toFixed(t)+" "+this.D.toFixed(t)+" "+this.F.toFixed(t);break;case cc:e=0>t?"Q"+this.sc.toString()+" "+this.Pc.toString()+" "+this.D.toString()+" "+this.F.toString():"Q"+this.sc.toFixed(t)+" "+this.Pc.toFixed(t)+" "+this.D.toFixed(t)+" "+this.F.toFixed(t);break;case fc:e=0>t?"B"+this.ze.toString()+" "+this.pf.toString()+" "+this.ka.toString()+" "+this.sa.toString()+" "+this.radiusX:"B"+this.ze.toFixed(t)+" "+this.pf.toFixed(t)+" "+this.ka.toFixed(t)+" "+this.sa.toFixed(t)+" "+this.radiusX;break;case dc:e=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.Gj.toString()+" "+(this.xx?1:0)+" "+(this.Xl?1:0)+" "+this.D.toString()+" "+this.F.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.Gj.toFixed(t)+" "+(this.xx?1:0)+" "+(this.Xl?1:0)+" "+this.D.toFixed(t)+" "+this.F.toFixed(t);break;default:e=this.type.toString()}return e+(this.Qh?"z":"")};var hc;Ct.Move=hc=Wl.p(Ct,"Move",0);var lc;Ct.Line=lc=Wl.p(Ct,"Line",1);var uc;Ct.Bezier=uc=Wl.p(Ct,"Bezier",2);var cc;Ct.QuadraticBezier=cc=Wl.p(Ct,"QuadraticBezier",3);var fc;Ct.Arc=fc=Wl.p(Ct,"Arc",4);var dc;Ct.SvgArc=dc=Wl.p(Ct,"SvgArc",4),Ct.prototype.freeze=function(){return this.Q=!0,this},Ct.prototype.Ra=function(){return this.Q=!1,this},Ct.prototype.close=Ct.prototype.close=function(){return this.Qh=!0,this},Wl.defineProperty(Ct,{tx:"isClosed"},function(){return this.Qh},function(t){this.Qh!==t&&(this.Qh=t,this.cb=!0)}),Wl.defineProperty(Ct,{type:"type"},function(){return this.na},function(t){this.Q&&Wl.ma(this,t),this.na=t,this.cb=!0}),Wl.defineProperty(Ct,{D:"endX"},function(){return this.yb},function(t){this.Q&&Wl.ma(this,t),this.yb=t,this.cb=!0}),Wl.defineProperty(Ct,{F:"endY"},function(){return this.Fb},function(t){this.Q&&Wl.ma(this,t),this.Fb=t,this.cb=!0}),Wl.defineProperty(Ct,{sc:"point1X"},function(){return this.Bd},function(t){this.Q&&Wl.ma(this,t),this.Bd=t,this.cb=!0}),Wl.defineProperty(Ct,{Pc:"point1Y"},function(){return this.We},function(t){this.Q&&Wl.ma(this,t),this.We=t,this.cb=!0}),Wl.defineProperty(Ct,{Bh:"point2X"},function(){return this.nh},function(t){this.Q&&Wl.ma(this,t),this.nh=t,this.cb=!0}),Wl.defineProperty(Ct,{Ch:"point2Y"},function(){return this.zg},function(t){this.Q&&Wl.ma(this,t),this.zg=t,this.cb=!0}),Wl.defineProperty(Ct,{ka:"centerX"},function(){return this.Bd},function(t){this.Q&&Wl.ma(this,t),this.Bd=t,this.cb=!0}),Wl.defineProperty(Ct,{sa:"centerY"},function(){return this.We},function(t){this.Q&&Wl.ma(this,t),this.We=t,this.cb=!0}),Wl.defineProperty(Ct,{radiusX:"radiusX"},function(){return this.nh},function(t){0>t&&Wl.Fa(t,">= zero",Ct,"radiusX"),this.Q&&Wl.ma(this,t),this.nh=t,this.cb=!0}),Wl.defineProperty(Ct,{radiusY:"radiusY"},function(){return this.zg},function(t){0>t&&Wl.Fa(t,">= zero",Ct,"radiusY"),this.Q&&Wl.ma(this,t),this.zg=t,this.cb=!0}),Wl.defineProperty(Ct,{ze:"startAngle"},function(){return this.yb},function(t){this.yb!==t&&(this.Q&&Wl.ma(this,t),t%=360,0>t&&(t+=360),this.yb=t,this.cb=!0)}),Wl.defineProperty(Ct,{pf:"sweepAngle"},function(){return this.Fb},function(t){this.Q&&Wl.ma(this,t),360<t&&(t=360),-360>t&&(t=-360),this.Fb=t,this.cb=!0}),Wl.defineProperty(Ct,{Xl:"isClockwiseArc"},function(){return this.po},function(t){this.Q&&Wl.ma(this,t),this.po=t,this.cb=!0}),Wl.defineProperty(Ct,{xx:"isLargeArc"},function(){return this.Wo},function(t){this.Q&&Wl.ma(this,t),this.Wo=t,this.cb=!0}),Wl.defineProperty(Ct,{Gj:"xAxisRotation"},function(){return this.Bd},function(t){t%=360,0>t&&(t+=360),this.Q&&Wl.ma(this,t),this.Bd=t,this.cb=!0}),Wl.ga("InputEvent",At),At.prototype.copy=function(){var t=new At;return t.Z=this.Z,t.Gz.assign(this.cf),t.Qy.assign(this.da),t.aw=this.aw,t.ev=this.ev,t.fv=this.fv,t.Qv=this.Qv,t.tv=this.tv,t.Ew=this.Ew,t.gv=this.gv,t.qv=this.qv,t.Nv=this.Nv,t.Cv=this.Cv,t.Ij=this.Ij,t.ur=this.ur,t.Cw=this.Cw,t.Bw=this.Bw,t.Cg=this.Cg,t},At.prototype.toString=function(){var t="^";return 0!==this.vd&&(t+="M:"+this.vd),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.Ge&&(t+="C:"+this.Ge),0!==this.Nl&&(t+="D:"+this.Nl),this.Bc&&(t+="h"),this.bubbles&&(t+="b"),null!==this.da&&(t+="@"+this.da.toString()),t},Wl.defineProperty(At,{g:"diagram"},function(){return this.Z},function(t){this.Z=t}),Wl.defineProperty(At,{cf:"viewPoint"},function(){return this.Gz},function(t){Wl.G(t,w,At,"viewPoint"),this.Gz.assign(t)}),Wl.defineProperty(At,{da:"documentPoint"},function(){return this.Qy},function(t){Wl.G(t,w,At,"documentPoint"),this.Qy.assign(t)}),At.prototype.getMultiTouchViewPoint=At.prototype.nx=function(t,e){var n=this.g;return null===n?e:(ei(n,this.event,t,e),e)},At.prototype.getMultiTouchDocumentPoint=function(t,e){var n=this.g;return null===n?e:(ei(n,this.event,t,e),e.assign(n.qB(e)),e)},Wl.defineProperty(At,{vd:"modifiers"},function(){return this.aw},function(t){this.aw=t}),Wl.defineProperty(At,{button:"button"},function(){return this.ev},function(t){if(this.ev=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}),Wl.defineProperty(At,{buttons:"buttons"},function(){return this.fv},function(t){this.fv=t}),Wl.defineProperty(At,{key:"key"},function(){return this.Qv},function(t){this.Qv=t}),Wl.defineProperty(At,{Ol:"down"},function(){return this.tv},function(t){this.tv=t}),Wl.defineProperty(At,{up:"up"},function(){return this.Ew},function(t){this.Ew=t}),Wl.defineProperty(At,{Ge:"clickCount"},function(){return this.gv},function(t){this.gv=t}),Wl.defineProperty(At,{Nl:"delta"},function(){return this.qv},function(t){this.qv=t}),Wl.defineProperty(At,{du:"isMultiTouch"},function(){return this.Nv},function(t){this.Nv=t}),Wl.defineProperty(At,{Bc:"handled"},function(){return this.Cv},function(t){this.Cv=t}),Wl.defineProperty(At,{bubbles:"bubbles"},function(){return this.Ij},function(t){this.Ij=t}),Wl.defineProperty(At,{event:"event"},function(){return this.ur},function(t){this.ur=t}),Wl.u(At,{tj:"isTouchEvent"},function(){var t=e.TouchEvent;return!!(t&&this.event instanceof t)||(t=e.PointerEvent)&&this.event instanceof t&&"touch"===this.event.pointerType}),Wl.u(At,{Fk:"isMac"},function(){return Wl.Fk}),Wl.defineProperty(At,{timestamp:"timestamp"},function(){return this.Cw},function(t){this.Cw=t}),Wl.defineProperty(At,{Vg:"targetDiagram"},function(){return this.Bw},function(t){this.Bw=t}),Wl.defineProperty(At,{Qe:"targetObject"},function(){return this.Cg},function(t){this.Cg=t}),Wl.defineProperty(At,{control:"control"},function(){return 0!=(1&this.vd)},function(t){this.vd=t?1|this.vd:this.vd&-2}),Wl.defineProperty(At,{shift:"shift"},function(){return 0!=(4&this.vd)},function(t){this.vd=t?4|this.vd:this.vd&-5}),Wl.defineProperty(At,{alt:"alt"},function(){return 0!=(2&this.vd)},function(t){this.vd=t?2|this.vd:this.vd&-3}),Wl.defineProperty(At,{mu:"meta"},function(){return 0!=(8&this.vd)},function(t){this.vd=t?8|this.vd:this.vd&-9}),Wl.defineProperty(At,{left:"left"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?0===this.button:0!=(1&this.buttons)},function(t){this.buttons=t?1|this.buttons:this.buttons&-2}),Wl.defineProperty(At,{right:"right"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?2===this.button:0!=(2&this.buttons)},function(t){this.buttons=t?2|this.buttons:this.buttons&-3}),Wl.defineProperty(At,{kL:"middle"},function(){var t=this.event;return null!==t&&t instanceof MouseEvent&&("mousedown"===t.type||"mouseup"===t.type)?1===this.button:0!=(4&this.buttons)},function(t){this.buttons=t?4|this.buttons:this.buttons&-5}),Wl.ga("DiagramEvent",Et),Et.prototype.copy=function(){var t=new Et;return t.Z=this.Z,t.Rb=this.Rb,t.zw=this.zw,t.iw=this.iw,t.Qq=this.Qq,t},Et.prototype.toString=function(){var t="*"+this.name;return null!==this.iB&&(t+=":"+this.iB.toString()),null!==this.NA&&(t+="("+this.NA.toString()+")"),t},Wl.defineProperty(Et,{g:"diagram"},function(){return this.Z},function(t){this.Z=t}),Wl.defineProperty(Et,{name:"name"},function(){return this.Rb},function(t){this.Rb=t}),Wl.defineProperty(Et,{iB:"subject"},function(){return this.zw},function(t){this.zw=t}),Wl.defineProperty(Et,{NA:"parameter"},function(){return this.iw},function(t){this.iw=t}),Wl.defineProperty(Et,{cancel:"cancel"},function(){return this.Qq},function(t){this.Qq!==t&&Wl.Gt("DiagramEvent.cancel","2.0"),this.Qq=t}),Wl.ga("ChangedEvent",jt);var pc;jt.Transaction=pc=Wl.p(jt,"Transaction",-1);var vc;jt.Property=vc=Wl.p(jt,"Property",0);var yc;jt.Insert=yc=Wl.p(jt,"Insert",1);var gc;jt.Remove=gc=Wl.p(jt,"Remove",2),jt.prototype.clear=jt.prototype.clear=function(){this.qs=this.rs=this.us=this.vs=this.ts=this.Z=this.le=null},jt.prototype.copy=function(){var t=new jt;t.Rq=this.Rq,t.$v=this.$v,t.Um=this.Um,t.le=this.le,t.Z=this.Z,t.ts=this.ts;var e=this.vs;return t.vs=Wl.Ua(e)&&"function"==typeof e.S?e.S():e,e=this.us,t.us=Wl.Ua(e)&&"function"==typeof e.S?e.S():e,e=this.rs,t.rs=Wl.Ua(e)&&"function"==typeof e.S?e.S():e,e=this.qs,t.qs=Wl.Ua(e)&&"function"==typeof e.S?e.S():e,t},jt.prototype.gc=function(t){t.Ee===jt?this.yc=t:Wl.Ej(this,t)},jt.prototype.toString=function(){var t="",t=this.yc===pc?t+"* ":this.yc===vc?t+(null!==this.ca?"!m":"!d"):t+(null!==this.ca?"!m":"!d")+this.yc;return this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.of&&this.of!==this.propertyName&&(t+=" "+this.of),t+=": ",this.yc===pc?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=xc(this.object)),null!==this.oldValue&&(t+="  old: "+xc(this.oldValue)),null!==this.zj&&(t+=" "+this.zj),null!==this.newValue&&(t+="  new: "+xc(this.newValue)),null!==this.yj&&(t+=" "+this.yj)),t},jt.prototype.getValue=jt.prototype.la=function(t){return t?this.oldValue:this.newValue},jt.prototype.getParam=function(t){return t?this.zj:this.yj},jt.prototype.canUndo=jt.prototype.canUndo=function(){return null!==this.ca||null!==this.g},jt.prototype.undo=jt.prototype.undo=function(){this.canUndo()&&(null!==this.ca?this.ca.mn(this,!0):null!==this.g&&this.g.mn(this,!0))},jt.prototype.canRedo=jt.prototype.canRedo=function(){return null!==this.ca||null!==this.g},jt.prototype.redo=jt.prototype.redo=function(){this.canRedo()&&(null!==this.ca?this.ca.mn(this,!1):null!==this.g&&this.g.mn(this,!1))},Wl.defineProperty(jt,{ca:"model"},function(){return this.le},function(t){this.le=t}),Wl.defineProperty(jt,{g:"diagram"},function(){return this.Z},function(t){this.Z=t}),Wl.defineProperty(jt,{yc:"change"},function(){return this.Rq},function(t){this.Rq=t}),Wl.defineProperty(jt,{of:"modelChange"},function(){return this.$v},function(t){this.$v=t}),Wl.defineProperty(jt,{propertyName:"propertyName"},function(){return this.Um},function(t){this.Um=t}),Wl.u(jt,{oF:"isTransactionFinished"},function(){return this.Rq===pc&&("CommittedTransaction"===this.Um||"FinishedUndo"===this.Um||"FinishedRedo"===this.Um)}),Wl.defineProperty(jt,{object:"object"},function(){return this.ts},function(t){this.ts=t}),Wl.defineProperty(jt,{oldValue:"oldValue"},function(){return this.vs},function(t){this.vs=t}),Wl.defineProperty(jt,{zj:"oldParam"},function(){return this.us},function(t){this.us=t}),Wl.defineProperty(jt,{newValue:"newValue"},function(){return this.rs},function(t){this.rs=t}),Wl.defineProperty(jt,{yj:"newParam"},function(){return this.qs},function(t){this.qs=t}),Wl.ga("Model",Lt),Lt.prototype.cloneProtected=function(t){t.Rb=this.Rb,t.fr=this.fr,t.Ki=this.Ki,t.ek=this.ek,t.$o=this.$o,t.uo=this.uo,t.Yq=this.Yq,t.Xq=this.Xq,t.Iq=this.Iq,t.Pm=this.Pm},Lt.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Lt.prototype.clear=Lt.prototype.clear=function(){this.De=[],this.Fc.clear(),this.Ei.clear(),this.pa.clear()},Gl=Lt.prototype,Gl.toString=function(t){if(void 0===t&&(t=0),1<t)return this.lB();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:",t=this.dg;for(var n=Wl.Za(t),i=0;i<n;i++)var r=Wl.Ea(t,i),e=e+" "+this.ub(r)+":"+xc(r)}return e},Gl.co=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.Ll&&(t+=',\n  "dataFormat": '+this.quote(this.Ll)),this.eb&&(t+=',\n  "isReadOnly": '+this.eb),"key"!==this.cm&&"string"==typeof this.cm&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.cm)),this.Wz&&(t+=',\n  "copiesArrays": true'),this.Vz&&(t+=',\n  "copiesArrayObjects": true'),"category"!==this.Sn&&"string"==typeof this.Sn&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.Sn)),t},Gl.wu=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.Ll=t.dataFormat),t.isReadOnly&&(this.eb=t.isReadOnly),t.nodeKeyProperty&&(this.cm=t.nodeKeyProperty),t.copiesArrays&&(this.Wz=t.copiesArrays),t.copiesArrayObjects&&(this.Vz=t.copiesArrayObjects),t.nodeCategoryProperty&&(this.Sn=t.nodeCategoryProperty)},Gl.yB=function(){var t,e=this.Gk,n=!1;for(t in e)if(!qt(t,e[t])){n=!0;break}return e="",n&&(e=Ft(this)),e+',\n  "nodeDataArray": '+Bt(this,this.dg,!0)},Gl.QA=function(t){Ot(this,t),t=t.nodeDataArray,Wl.isArray(t)&&(this.zu(t),this.dg=t)},Gl.zB=function(t){Rt(this,t,"nodeKeyProperty"),this instanceof ne&&Rt(this,t,"nodeParentKeyProperty");for(var e=new d,n=new d,i=(new d).Ic(this.Fc.pF),r=new b,o=t.dg,a=0;a<o.length;a++){var s=o[a],h=t.ub(s);if(void 0!==h){i.remove(h);var l=this.ue(h);null===l?(e.add(h),n.add(s)):It(this,l,s,r)||n.add(s)}else this.CA(s),h=this.ub(s),e.add(h),n.add(s)}return o="",It(this,this.Gk,t.Gk,r)||(o+=Ft(this)),0<e.count&&(o+=this.yy+Bt(this,e.ec(),!0)),0<n.count&&(o+=this.HB+Bt(this,n.ec(),!0)),0<i.count&&(o+=this.Ay+Bt(this,i.ec(),!0)),o},Lt.prototype.computeJsonDifference=Lt.prototype.computeJSONDifference=function(t,e){return Wl.G(t,Lt,Lt,"computeJsonDifference:newmodel"),void 0===e&&(e=this.constructor===Lt?"go.Model":this.constructor===Qt?"go.GraphLinksModel":this.constructor===ne?"go.TreeModel":Wl.jf(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.co()+this.zB(t)+"}"},Gl=Lt.prototype,Gl.yy=',\n  "insertedNodeKeys": ',Gl.HB=',\n  "modifiedNodeData": ',Gl.Ay=',\n  "removedNodeKeys": ',Gl.xB=function(t,e){var n=this,i=!1,r=new d,o=new d,a=new d;t.Qf.each(function(t){t.ca===n&&("nodeDataArray"===t.of?t.yc===yc?r.add(t.newValue):t.yc===gc&&a.add(t.oldValue):n.He(t.object)?o.add(t.object):n.Gk===t.object&&t.yc===vc&&(i=!0))});var s=new d;r.each(function(t){s.add(n.ub(t)),e||o.add(t)});var h=new d;a.each(function(t){h.add(n.ub(t)),e&&o.add(t)});var l="";return i&&(l+=Ft(this)),0<s.count&&(l+=(e?this.Ay:this.yy)+Bt(this,s.ec(),!0)),0<o.count&&(l+=this.HB+Bt(this,o.ec(),!0)),0<h.count&&(l+=(e?this.yy:this.Ay)+Bt(this,h.ec(),!0)),l},Gl.PA=function(t){Ot(this,t);var e=t.insertedNodeKeys;if(Wl.isArray(e))for(var n=Wl.Za(e),i=0;i<n;i++){var r=Wl.Ea(e,i),o=this.ue(r);null===o&&(o=this.copyNodeData({}),this.gy(o,r),this.Bl(o))}if(r=t.modifiedNodeData,Wl.isArray(r))for(n=Wl.Za(r),i=0;i<n;i++)if(e=Wl.Ea(r,i),o=this.ub(e),null!==(o=this.ue(o)))for(var a in e)"__gohashid"!==a&&a!==this.cm&&this.setDataProperty(o,a,e[a]);if(t=t.removedNodeKeys,Wl.isArray(t))for(n=Wl.Za(t),i=0;i<n;i++)r=Wl.Ea(t,i),null!==(o=this.ue(r))&&this.Xx(o)},Lt.prototype.toIncrementalJson=Lt.prototype.toIncrementalJSON=function(t,e){Wl.G(t,jt,Lt,"toIncrementalJson:e"),t.yc!==pc&&Wl.k("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var n=t.object;return t.oF&&n instanceof oe?(void 0===e&&(e=this.constructor===Lt?"go.Model":this.constructor===Qt?"go.GraphLinksModel":this.constructor===ne?"go.TreeModel":Wl.jf(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.co()+this.xB(n,"FinishedUndo"===t.propertyName)+"}"):'{ "incremental": 0 }'},Lt.prototype.toJson=Lt.prototype.toJSON=Lt.prototype.lB=function(t){return void 0===t&&(t=this.constructor===Lt?"go.Model":this.constructor===Qt?"go.GraphLinksModel":this.constructor===ne?"go.TreeModel":Wl.jf(this)),'{ "class": '+this.quote(t)+this.co()+this.yB()+"}"},Lt.prototype.applyIncrementalJson=Lt.prototype.applyIncrementalJSON=function(t){var n=null;if("string"==typeof t)if(e.JSON&&e.JSON.parse)try{n=e.JSON.parse(t)}catch(t){}else Wl.trace("WARNING: no JSON.parse available");else"object"==typeof t?n=t:Wl.k("Unable to modify a Model from: "+t);var i=n.incremental;"number"!=typeof i&&Wl.k("Unable to apply non-incremental changes to Model: "+t),0!==i&&(this.Ub("applyIncrementalJson"),this.PA(n),this.Fd("applyIncrementalJson"))},Lt.fromJson=Lt.fromJSON=function(t,n){void 0===n&&(n=null),null!==n&&Wl.G(n,Lt,Lt,"fromJson:model");var i=null;if("string"==typeof t)if(e.JSON&&e.JSON.parse)try{i=e.JSON.parse(t)}catch(t){}else Wl.trace("WARNING: no JSON.parse available");else"object"==typeof t?i=t:Wl.k("Unable to construct a Model from: "+t);if(null===n){var r;r=null;var o=i.class;if("string"==typeof o)try{var a=null;0===o.indexOf("go.")?(o=o.substr(3),a=_l[o]):void 0===(a=_l[o])&&(a=e[o]),"function"==typeof a&&(r=new a)}catch(t){}null===r||r instanceof Lt?n=r:Wl.k("Unable to construct a Model of declared class: "+i.class)}return null===n&&(n=new Qt),n.wu(i),n.QA(i),n},Lt.prototype.replaceJsonObjects=Lt.prototype.zu=function(t){if(Wl.isArray(t))for(var e=Wl.Za(t),n=0;n<e;n++){var i=Wl.Ea(t,n);Wl.Ua(i)&&Wl.jE(t,n,this.zu(i))}else if(Wl.Ua(t)){for(n in t)i=t[n],Wl.Ua(i)&&(i=this.zu(i),t[n]=i);if("object"==typeof t){if(i=t,"NaN"===(n=t.class))i=NaN;else if("Date"===n)i=new Date(t.value);else if("go.Point"===n)i=new w(Ut(t.x),Ut(t.y));else if("go.Size"===n)i=new T(Ut(t.width),Ut(t.height));else if("go.Rect"===n)i=new S(Ut(t.x),Ut(t.y),Ut(t.width),Ut(t.height));else if("go.Margin"===n)i=new E(Ut(t.top),Ut(t.right),Ut(t.bottom),Ut(t.left));else if("go.Spot"===n)i="string"==typeof t.enum?Zl(t.enum):new L(Ut(t.x),Ut(t.y),Ut(t.offsetX),Ut(t.offsetY));else if("go.Brush"===n){if(i=new vr,i.type=Kl(vr,t.type),"string"==typeof t.color&&(i.color=t.color),t.start instanceof L&&(i.start=t.start),t.end instanceof L&&(i.end=t.end),"number"==typeof t.startRadius&&(i.Ku=Ut(t.startRadius)),"number"==typeof t.endRadius&&(i.It=Ut(t.endRadius)),t=t.colorStops,Wl.Ua(t))for(e in t)i.addColorStop(parseFloat(e),t[e])}else"go.Geometry"===n?(e=null,e="string"==typeof t.path?sc(t.path):new mt,e.type=Kl(mt,t.type),"number"==typeof t.startX&&(e.ja=Ut(t.startX)),"number"==typeof t.startY&&(e.ha=Ut(t.startY)),"number"==typeof t.endX&&(e.D=Ut(t.endX)),"number"==typeof t.endY&&(e.F=Ut(t.endY)),t.spot1 instanceof L&&(e.A=t.spot1),t.spot2 instanceof L&&(e.B=t.spot2),i=e):"go.EnumValue"===n&&(e=t.classType,0===e.indexOf("go.")&&(e=e.substr(3)),i=Kl(_l[e],t.name));t=i}}return t},Lt.prototype.quote=function(t){for(var e="",n=t.length,i=0;i<n;i++){var r=t[i];if('"'===r||"\\"===r)e+="\\"+r;else if("\b"===r)e+="\\b";else if("\f"===r)e+="\\f";else if("\n"===r)e+="\\n";else if("\r"===r)e+="\\r";else if("\t"===r)e+="\\t";else var o=t.charCodeAt(i),e=16>o?e+"\\u000"+t.charCodeAt(i).toString(16):32>o?e+"\\u00"+t.charCodeAt(i).toString(16):8232===o?e+"\\u2028":8233===o?e+"\\u2029":e+r}return'"'+e+'"'},Lt.prototype.writeJsonValue=Lt.prototype.Pu=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?1/0===t?"9e9999":-(1/0)===t?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.Pu(t.valueOf()):Wl.isArray(t)?Bt(this,t):Wl.Ua(t)?Vt(this,t):"function"==typeof t?"null":t.toString()},Wl.defineProperty(Lt,{name:"name"},function(){return this.Rb},function(t){var e=this.Rb;e!==t&&(Wl.j(t,"string",Lt,"name"),this.Rb=t,this.h("name",e,t))}),Wl.defineProperty(Lt,{Ll:"dataFormat"},function(){return this.fr},function(t){var e=this.fr;e!==t&&(Wl.j(t,"string",Lt,"dataFormat"),this.fr=t,this.h("dataFormat",e,t))}),Wl.defineProperty(Lt,{eb:"isReadOnly"},function(){return this.Ki},function(t){var e=this.Ki;e!==t&&(Wl.j(t,"boolean",Lt,"isReadOnly"),this.Ki=t,this.h("isReadOnly",e,t))}),Wl.defineProperty(Lt,{Gk:"modelData"},function(){return this.mz},function(t){var e=this.mz;e!==t&&(Wl.j(t,"object",Lt,"modelData"),this.mz=t,this.h("modelData",e,t),this.Ib(t))}),Lt.prototype.addChangedListener=Lt.prototype.gn=function(t){Wl.j(t,"function",Lt,"addChangedListener:listener"),null===this.ak&&(this.ak=new c("function")),this.ak.add(t)},Lt.prototype.removeChangedListener=Lt.prototype.xu=function(t){Wl.j(t,"function",Lt,"removeChangedListener:listener"),null!==this.ak&&(this.ak.remove(t),0===this.ak.count&&(this.ak=null))},Lt.prototype.Rw=function(t){if(this.wb||this.pa.XE(t),null!==this.ak){var e=this.ak,n=e.length;if(1===n)(e=e.ea(0))(t);else if(0!==n)for(var i=e.ec(),r=0;r<n;r++)(e=i[r])(t)}},Lt.prototype.raiseChangedEvent=Lt.prototype.Xc=function(t,e,n,i,r,o,a){Ht(this,"",t,e,n,i,r,o,a)},Lt.prototype.raiseChanged=Lt.prototype.h=function(t,e,n,i,r){Ht(this,"",vc,t,this,e,n,i,r)},Lt.prototype.raiseDataChanged=Lt.prototype.OA=function(t,e,n,i,r,o){Ht(this,"",vc,e,t,n,i,r,o)},Wl.defineProperty(Lt,{pa:"undoManager"},function(){return this.Fz},function(t){var e=this.Fz;e!==t&&(Wl.G(t,ae,Lt,"undoManager"),null!==e&&e.jJ(this),this.Fz=t,null!==t&&t.cH(this))}),Wl.defineProperty(Lt,{wb:"skipsUndoManager"},function(){return this.dj},function(t){Wl.j(t,"boolean",Lt,"skipsUndoManager"),this.dj=t}),Lt.prototype.mn=function(t,e){if(null!==t&&t.ca===this)if(t.yc===vc){var n=t.object,i=t.propertyName,r=t.la(e);Wl.Na(n,i,r)}else t.yc===yc?(n=t.yj,"nodeDataArray"===t.of?(i=t.newValue,Wl.Ua(i)&&"number"==typeof n&&(r=this.ub(i),e?(Wl.Ea(this.De,n)===i&&Wl.Gg(this.De,n),void 0!==r&&this.Fc.remove(r)):(Wl.Ea(this.De,n)!==i&&Wl.rh(this.De,n,i),void 0!==r&&this.Fc.add(r,i)))):""===t.of?(i=t.object,!Wl.isArray(i)&&t.propertyName&&(i=Wl.sb(t.object,t.propertyName)),Wl.isArray(i)&&"number"==typeof n&&(r=t.newValue,e?Wl.Gg(i,n):Wl.rh(i,n,r))):Wl.k("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.yc===gc?(n=t.zj,"nodeDataArray"===t.of?(i=t.oldValue,Wl.Ua(i)&&"number"==typeof n&&(r=this.ub(i),e?(Wl.Ea(this.De,n)!==i&&Wl.rh(this.De,n,i),void 0!==r&&this.Fc.add(r,i)):(Wl.Ea(this.De,n)===i&&Wl.Gg(this.De,n),void 0!==r&&this.Fc.remove(r)))):""===t.of?(i=t.object,!Wl.isArray(i)&&t.propertyName&&(i=Wl.sb(t.object,t.propertyName)),Wl.isArray(i)&&"number"==typeof n&&(r=t.oldValue,e?Wl.rh(i,n,r):Wl.Gg(i,n))):Wl.k("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.yc!==pc&&Wl.k("unknown ChangedEvent: "+t.toString())},Lt.prototype.startTransaction=Lt.prototype.Ub=function(t){return this.pa.Ub(t)},Lt.prototype.commitTransaction=Lt.prototype.Fd=function(t){return this.pa.Fd(t)},Lt.prototype.rollbackTransaction=Lt.prototype.oq=function(){return this.pa.oq()},Lt.prototype.updateTargetBindings=Lt.prototype.Ib=function(t,e){void 0===e&&(e=""),Ht(this,"SourceChanged",pc,e,t,null,null)},Wl.defineProperty(Lt,{cm:"nodeKeyProperty"},function(){return this.ek},function(t){var e=this.ek;e!==t&&(Gt(t,Lt,"nodeKeyProperty"),""===t&&Wl.k("Model.nodeKeyProperty may not be the empty string"),0<this.Fc.count&&Wl.k("Cannot set Model.nodeKeyProperty when there is existing node data"),this.ek=t,this.h("nodeKeyProperty",e,t))}),Lt.prototype.getKeyForNodeData=Lt.prototype.ub=function(t){if(null!==t){var e=this.ek;if(""!==e&&void 0!==(e=Wl.sb(t,e))){if(_t(e))return e;Wl.k("Key value for node data "+t+" is not a number or a string: "+e)}}},Lt.prototype.setKeyForNodeData=Lt.prototype.gy=function(t,e){if(void 0!==e&&null!==e&&_t(e)||Wl.xd(e,"number or string",Lt,"setKeyForNodeData:key"),null!==t){var n=this.ek;if(""!==n)if(this.He(t)){var i=Wl.sb(t,n);i!==e&&null===this.ue(e)&&(Wl.Na(t,n,e),this.Fc.remove(i),this.Fc.add(e,t),Ht(this,"nodeKey",vc,n,t,i,e),"string"==typeof n&&this.Ib(t,n),this.yu(i,e))}else Wl.Na(t,n,e)}},Wl.defineProperty(Lt,{dL:"makeUniqueKeyFunction"},function(){return this.$o},function(t){var e=this.$o;e!==t&&(null!==t&&Wl.j(t,"function",Lt,"makeUniqueKeyFunction"),this.$o=t,this.h("makeUniqueKeyFunction",e,t))}),Lt.prototype.containsNodeData=Lt.prototype.He=function(t){var e=this.ub(t);return void 0!==e&&this.Fc.la(e)===t},Lt.prototype.findNodeDataForKey=Lt.prototype.ue=function(t){return null===t&&Wl.k("Model.findNodeDataForKey:key must not be null"),void 0!==t&&_t(t)?this.Fc.la(t):null},Wl.defineProperty(Lt,{dg:"nodeDataArray"},function(){return this.De},function(t){var e=this.De;if(e!==t){Wl.Pz(t,Lt,"nodeDataArray"),this.Fc.clear(),this.sB();for(var n=Wl.Za(t),i=0;i<n;i++){var r=Wl.Ea(t,i);if(!Wl.Ua(r))return void Wl.k("Model.nodeDataArray must only contain Objects, not: "+r);Wl.Zp(r)}this.De=t;for(var o=new c(Object),i=0;i<n;i++){var r=Wl.Ea(t,i),a=this.ub(r);void 0===a?o.add(r):null!==this.Fc.la(a)?o.add(r):this.Fc.add(a,r)}for(i=o.i;i.next();)r=i.value,this.CA(r),void 0!==(o=this.ub(r))&&this.Fc.add(o,r);for(Ht(this,"nodeDataArray",vc,"nodeDataArray",this,e,t),i=0;i<n;i++)r=Wl.Ea(t,i),this.nq(r),this.mq(r);this.lE(),Wl.tI(t)||(this.eb=!0)}}),Lt.prototype.makeNodeDataKeyUnique=Lt.prototype.CA=function(t){if(null!==t){var e=this.ek;if(""!==e){var n=this.ub(t);if(void 0===n||this.Fc.contains(n)){var i=this.$o;if(null!==i&&void 0!==(n=i(this,t))&&null!==n&&!this.Fc.contains(n))return void Wl.Na(t,e,n);if("string"==typeof n){for(i=2;this.Fc.contains(n+i);)i++;Wl.Na(t,e,n+i)}else if(void 0===n||"number"==typeof n){for(i=-this.Fc.count-1;this.Fc.contains(i);)i--;Wl.Na(t,e,i)}else Wl.k("Model.getKeyForNodeData returned something other than a string or a number: "+n)}}}},Lt.prototype.addNodeData=Lt.prototype.Bl=function(t){null!==t&&(Wl.Zp(t),this.He(t)||Wt(this,t,!0))},Lt.prototype.addNodeDataCollection=function(t){if(Wl.isArray(t))for(var e=Wl.Za(t),n=0;n<e;n++)this.Bl(Wl.Ea(t,n));else for(t=t.i;t.next();)this.Bl(t.value)},Lt.prototype.removeNodeData=Lt.prototype.Xx=function(t){null!==t&&Kt(this,t,!0)},Lt.prototype.removeNodeDataCollection=function(t){if(Wl.isArray(t))for(var e=Wl.Za(t),n=0;n<e;n++)this.Xx(Wl.Ea(t,n));else for(t=t.i;t.next();)this.Xx(t.value)},Gl=Lt.prototype,Gl.yu=function(t,e){var n=Jt(this,t);n instanceof d&&this.Ei.add(e,n)},Gl.sB=function(){},Gl.nq=function(){},Gl.mq=function(){},Gl.Nu=function(){},Lt.prototype.clearUnresolvedReferences=Lt.prototype.lE=function(t){void 0===t?this.Ei.clear():this.Ei.remove(t)},Wl.defineProperty(Lt,{yK:"copyNodeDataFunction"},function(){return this.uo},function(t){var e=this.uo;e!==t&&(null!==t&&Wl.j(t,"function",Lt,"copyNodeDataFunction"),this.uo=t,this.h("copyNodeDataFunction",e,t))}),Wl.defineProperty(Lt,{Wz:"copiesArrays"},function(){return this.Yq},function(t){var e=this.Yq;e!==t&&(null!==t&&Wl.j(t,"boolean",Lt,"copiesArrays"),this.Yq=t,this.h("copiesArrays",e,t))}),Wl.defineProperty(Lt,{Vz:"copiesArrayObjects"},function(){return this.Xq},function(t){var e=this.Xq;e!==t&&(null!==t&&Wl.j(t,"boolean",Lt,"copiesArrayObjects"),this.Xq=t,this.h("copiesArrayObjects",e,t))}),Lt.prototype.copyNodeData=function(t){if(null===t)return null;var e=null,e=this.uo,e=null!==e?e(t,this):Xt(this,t,!0);return Wl.Ua(e)&&Wl.mc(e),e},Wl.defineProperty(Lt,{eH:"afterCopyFunction"},function(){return this.Iq},function(t){var e=this.Iq;e!==t&&(null!==t&&Wl.j(t,"function",Lt,"afterCopyFunction"),this.Iq=t,this.h("afterCopyFunction",e,t))});var mc=!1;Lt.prototype.setDataProperty=function(t,e,n){if(this.He(t)){if(e===this.cm)this.gy(t,n);else if(e===this.Sn)return void this.by(t,n)}else!mc&&t instanceof Tr&&(mc=!0,Wl.trace('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Wl.trace("  Is that really your intent?"));var i=Wl.sb(t,e);i!==n&&(Wl.Na(t,e,n),this.OA(t,e,i,n))},Lt.prototype.addArrayItem=function(t,e){this.sA(t,-1,e)},Lt.prototype.insertArrayItem=Lt.prototype.sA=function(t,e,n){t===this.De&&Wl.k("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray"),0>e&&(e=Wl.Za(t)),Wl.rh(t,e,n),Ht(this,"",yc,"",t,null,n,null,e)},Lt.prototype.removeArrayItem=Lt.prototype.KF=function(t,e){void 0===e&&(e=-1),t===this.De&&Wl.k("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=Wl.Za(t)-1);var n=Wl.Ea(t,e);Wl.Gg(t,e),Ht(this,"",gc,"",t,n,null,e,null)},Wl.defineProperty(Lt,{Sn:"nodeCategoryProperty"},function(){return this.Pm},function(t){var e=this.Pm;e!==t&&(Gt(t,Lt,"nodeCategoryProperty"),this.Pm=t,this.h("nodeCategoryProperty",e,t))}),Lt.prototype.getCategoryForNodeData=Lt.prototype.kA=function(t){if(null===t)return"";var e=this.Pm;return""===e?"":void 0===(e=Wl.sb(t,e))?"":"string"==typeof e?e:(Wl.k("getCategoryForNodeData found a non-string category for "+t+": "+e),"")},Lt.prototype.setCategoryForNodeData=Lt.prototype.by=function(t,e){if(Wl.j(e,"string",Lt,"setCategoryForNodeData:cat"),null!==t){var n=this.Pm;if(""!==n)if(this.He(t)){var i=Wl.sb(t,n);void 0===i&&(i=""),i!==e&&(Wl.Na(t,n,e),Ht(this,"nodeCategory",vc,n,t,i,e))}else Wl.Na(t,n,e)}},Wl.Ma(Qt,Lt),Wl.ga("GraphLinksModel",Qt),Qt.prototype.cloneProtected=function(t){Lt.prototype.cloneProtected.call(this,t),t.ml=this.ml,t.ap=this.ap,t.to=this.to,t.Th=this.Th,t.Uh=this.Uh,t.Km=this.Km,t.Lm=this.Lm,t.Jm=this.Jm,t.vg=this.vg,t.ep=this.ep,t.kh=this.kh,t.Zq=this.Zq},Qt.prototype.clear=Qt.prototype.clear=function(){Lt.prototype.clear.call(this),this.ef=[],this.ad.clear(),this.Qi.clear()},Gl=Qt.prototype,Gl.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.lB();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:",t=this.dg;for(var n=Wl.Za(t),i=0,i=0;i<n;i++)var r=Wl.Ea(t,i),e=e+" "+this.ub(r)+":"+xc(r);for(e+="\n link data:",t=this.Ng,n=Wl.Za(t),i=0;i<n;i++)r=Wl.Ea(t,i),e+=" "+this.Tl(r)+"-->"+this.Ul(r)}return e},Gl.co=function(){var t=Lt.prototype.co.call(this),e="";return"category"!==this.hu&&"string"==typeof this.hu&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.hu)),""!==this.wj&&"string"==typeof this.wj&&(e+=',\n  "linkKeyProperty": '+this.quote(this.wj)),"from"!==this.Jn&&"string"==typeof this.Jn&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.Jn)),"to"!==this.Kn&&"string"==typeof this.Kn&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.Kn)),""!==this.iu&&"string"==typeof this.iu&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.iu)),""!==this.ku&&"string"==typeof this.ku&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.ku)),""!==this.ju&&"string"==typeof this.ju&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.ju)),"isGroup"!==this.su&&"string"==typeof this.su&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.su)),"group"!==this.ru&&"string"==typeof this.ru&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.ru)),t+e},Gl.wu=function(t){Lt.prototype.wu.call(this,t),t.linkKeyProperty&&(this.wj=t.linkKeyProperty),t.linkFromKeyProperty&&(this.Jn=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.Kn=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.iu=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.ku=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.hu=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.ju=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.su=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.ru=t.nodeGroupKeyProperty)},Gl.yB=function(){return Lt.prototype.yB.call(this)+',\n  "linkDataArray": '+Bt(this,this.Ng,!0)},Gl.QA=function(t){Lt.prototype.QA.call(this,t),t=t.linkDataArray,Wl.isArray(t)&&(this.zu(t),this.Ng=t)},Gl.zB=function(t){if(!(t instanceof Qt))return Wl.k("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),"";""===this.wj&&Wl.k("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var e=Lt.prototype.zB.call(this,t);Rt(this,t,"linkKeyProperty"),Rt(this,t,"linkFromKeyProperty"),Rt(this,t,"linkToKeyProperty"),Rt(this,t,"linkLabelKeysProperty"),Rt(this,t,"nodeIsGroupProperty"),Rt(this,t,"nodeGroupKeyProperty");for(var n=new d,i=new d,r=(new d).Ic(this.ad.pF),o=new b,a=t.Ng,s=0;s<a.length;s++){var h=a[s],l=t.Sf(h);if(void 0!==l){r.remove(l);var u=this.Vp(l);null===u?(n.add(l),i.add(h)):It(this,u,h,o)||i.add(h)}else this.BA(h),l=this.Sf(h),n.add(l),i.add(h)}return t=e,0<n.count&&(t+=this.xy+Bt(this,n.ec(),!0)),0<i.count&&(t+=this.GB+Bt(this,i.ec(),!0)),0<r.count&&(t+=this.zy+Bt(this,r.ec(),!0)),t},Gl.xy=',\n  "insertedLinkKeys": ',Gl.GB=',\n  "modifiedLinkData": ',Gl.zy=',\n  "removedLinkKeys": ',Gl.xB=function(t,e){""===this.wj&&Wl.k("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var n=Lt.prototype.xB.call(this,t,e),i=this,r=new d,o=new d,a=new d;t.Qf.each(function(t){t.ca===i&&("linkDataArray"===t.of?t.yc===yc?r.add(t.newValue):t.yc===gc&&a.add(t.oldValue):i.uh(t.object)&&o.add(t.object))});var s=new d;r.each(function(t){s.add(i.Sf(t)),e||o.add(t)});var h=new d;return a.each(function(t){h.add(i.Sf(t)),e&&o.add(t)}),0<s.count&&(n+=(e?this.zy:this.xy)+Bt(this,s.ec(),!0)),0<o.count&&(n+=this.GB+Bt(this,o.ec(),!0)),0<h.count&&(n+=(e?this.xy:this.zy)+Bt(this,h.ec(),!0)),n},Gl.PA=function(t){Lt.prototype.PA.call(this,t);var e=t.insertedLinkKeys;if(Wl.isArray(e))for(var n=Wl.Za(e),i=0;i<n;i++){var r=Wl.Ea(e,i),o=this.Vp(r);null===o&&(o=this.Uw({}),this.cG(o,r),this.vt(o))}if(r=t.modifiedLinkData,Wl.isArray(r))for(n=Wl.Za(r),i=0;i<n;i++)if(e=Wl.Ea(r,i),o=this.Sf(e),null!==(o=this.Vp(o)))for(var a in e)"__gohashid"!==a&&a!==this.wj&&this.setDataProperty(o,a,e[a]);if(t=t.removedLinkKeys,Wl.isArray(t))for(n=Wl.Za(t),i=0;i<n;i++)r=Wl.Ea(t,i),null!==(o=this.Vp(r))&&this.Wx(o)},Gl.mn=function(t,e){if(t.yc===yc){var n=t.yj;if("linkDataArray"===t.of){var i=t.newValue;if(Wl.Ua(i)&&"number"==typeof n){var r=this.Sf(i);e?(this.Qi.remove(i),Wl.Ea(this.ef,n)===i&&Wl.Gg(this.ef,n),void 0!==r&&this.ad.remove(r)):(this.Qi.add(i),Wl.Ea(this.ef,n)!==i&&Wl.rh(this.ef,n,i),void 0!==r&&this.ad.add(r,i))}return}if("linkLabelKeys"===t.of)return i=this.Bk(t.object),void(Wl.isArray(i)&&"number"==typeof n&&(e?0<=(n=Wl.Fl(i,t.newValue))&&Wl.Gg(i,n):0>Wl.Fl(i,t.newValue)&&Wl.rh(i,n,t.newValue)))}else if(t.yc===gc){if(n=t.zj,"linkDataArray"===t.of)return i=t.oldValue,void(Wl.Ua(i)&&"number"==typeof n&&(r=this.Sf(i),e?(this.Qi.add(i),Wl.Ea(this.ef,n)!==i&&Wl.rh(this.ef,n,i),void 0!==r&&this.ad.add(r,i)):(this.Qi.remove(i),Wl.Ea(this.ef,n)===i&&Wl.Gg(this.ef,n),void 0!==r&&this.ad.remove(r))));if("linkLabelKeys"===t.of)return i=this.Bk(t.object),void(Wl.isArray(i)&&"number"==typeof n&&(e?0>Wl.Fl(i,t.newValue)&&Wl.rh(i,n,t.newValue):0<=(n=Wl.Fl(i,t.newValue))&&Wl.Gg(i,n)))}Lt.prototype.mn.call(this,t,e)},Wl.defineProperty(Qt,{Nz:"archetypeNodeData"},function(){return this.qm},function(t){var e=this.qm;e!==t&&(null!==t&&Wl.G(t,Object,Qt,"archetypeNodeData"),this.qm=t,this.h("archetypeNodeData",e,t))}),Qt.prototype.Ln=function(t){if(void 0!==t){var e=this.qm;if(null!==e){var n=this.ue(t);null===n&&(n=this.copyNodeData(e),Wl.Na(n,this.ek,t),this.Bl(n))}return t}},Wl.defineProperty(Qt,{Jn:"linkFromKeyProperty"},function(){return this.Th},function(t){var e=this.Th;e!==t&&(Gt(t,Qt,"linkFromKeyProperty"),this.Th=t,this.h("linkFromKeyProperty",e,t))}),Qt.prototype.getFromKeyForLinkData=Qt.prototype.Tl=function(t){if(null!==t){var e=this.Th;if(""!==e&&void 0!==(e=Wl.sb(t,e))){if(_t(e))return e;Wl.k("FromKey value for link data "+t+" is not a number or a string: "+e)}}},Qt.prototype.setFromKeyForLinkData=Qt.prototype.ZA=function(t,e){if(null===e&&(e=void 0),void 0===e||_t(e)||Wl.xd(e,"number or string",Qt,"setFromKeyForLinkData:key"),null!==t){var n=this.Th;if(""!==n)if(e=this.Ln(e),this.uh(t)){var i=Wl.sb(t,n);i!==e&&($t(this,i,t),Wl.Na(t,n,e),null===this.ue(e)&&Yt(this,e,t),Ht(this,"linkFromKey",vc,n,t,i,e),"string"==typeof n&&this.Ib(t,n))}else Wl.Na(t,n,e)}},Wl.defineProperty(Qt,{Kn:"linkToKeyProperty"},function(){return this.Uh},function(t){var e=this.Uh;e!==t&&(Gt(t,Qt,"linkToKeyProperty"),this.Uh=t,this.h("linkToKeyProperty",e,t))}),Qt.prototype.getToKeyForLinkData=Qt.prototype.Ul=function(t){if(null!==t){var e=this.Uh;if(""!==e&&void 0!==(e=Wl.sb(t,e))){if(_t(e))return e;Wl.k("ToKey value for link data "+t+" is not a number or a string: "+e)}}},Qt.prototype.setToKeyForLinkData=Qt.prototype.eB=function(t,e){if(null===e&&(e=void 0),void 0===e||_t(e)||Wl.xd(e,"number or string",Qt,"setToKeyForLinkData:key"),null!==t){var n=this.Uh;if(""!==n)if(e=this.Ln(e),this.uh(t)){var i=Wl.sb(t,n);i!==e&&($t(this,i,t),Wl.Na(t,n,e),null===this.ue(e)&&Yt(this,e,t),Ht(this,"linkToKey",vc,n,t,i,e),"string"==typeof n&&this.Ib(t,n))}else Wl.Na(t,n,e)}},Wl.defineProperty(Qt,{iu:"linkFromPortIdProperty"},function(){return this.Km},function(t){var e=this.Km;e!==t&&(Gt(t,Qt,"linkFromPortIdProperty"),t!==this.Jn&&t!==this.Kn||Wl.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+t),this.Km=t,this.h("linkFromPortIdProperty",e,t))}),Qt.prototype.getFromPortIdForLinkData=Qt.prototype.XH=function(t){if(null===t)return"";var e=this.Km;return""===e?"":(t=Wl.sb(t,e),void 0===t?"":t)},Qt.prototype.setFromPortIdForLinkData=Qt.prototype.$A=function(t,e){if(Wl.j(e,"string",Qt,"setFromPortIdForLinkData:portname"),null!==t){var n=this.Km;if(""!==n)if(this.uh(t)){var i=Wl.sb(t,n);void 0===i&&(i=""),i!==e&&(Wl.Na(t,n,e),Ht(this,"linkFromPortId",vc,n,t,i,e),"string"==typeof n&&this.Ib(t,n))}else Wl.Na(t,n,e)}},Wl.defineProperty(Qt,{ku:"linkToPortIdProperty"},function(){return this.Lm},function(t){var e=this.Lm;e!==t&&(Gt(t,Qt,"linkToPortIdProperty"),t!==this.Jn&&t!==this.Kn||Wl.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+t),this.Lm=t,this.h("linkToPortIdProperty",e,t))}),Qt.prototype.getToPortIdForLinkData=Qt.prototype.aI=function(t){if(null===t)return"";var e=this.Lm;return""===e?"":(t=Wl.sb(t,e),void 0===t?"":t)},Qt.prototype.setToPortIdForLinkData=Qt.prototype.fB=function(t,e){if(Wl.j(e,"string",Qt,"setToPortIdForLinkData:portname"),null!==t){var n=this.Lm;if(""!==n)if(this.uh(t)){var i=Wl.sb(t,n);void 0===i&&(i=""),i!==e&&(Wl.Na(t,n,e),Ht(this,"linkToPortId",vc,n,t,i,e),"string"==typeof n&&this.Ib(t,n))}else Wl.Na(t,n,e)}},Wl.defineProperty(Qt,{ju:"linkLabelKeysProperty"},function(){return this.vg},function(t){var e=this.vg;e!==t&&(Gt(t,Qt,"linkLabelKeysProperty"),this.vg=t,this.h("linkLabelKeysProperty",e,t))}),Qt.prototype.getLabelKeysForLinkData=Qt.prototype.Bk=function(t){if(null===t)return Wl.ho;var e=this.vg;return""===e?Wl.ho:(t=Wl.sb(t,e),void 0===t?Wl.ho:t)},Qt.prototype.setLabelKeysForLinkData=Qt.prototype.dG=function(t,e){if(Wl.Pz(e,Qt,"setLabelKeysForLinkData:arr"),null!==t){var n=this.vg;if(""!==n)if(this.uh(t)){var i=Wl.sb(t,n);if(void 0===i&&(i=Wl.ho),i!==e){for(var r=Wl.Za(i),o=0;o<r;o++){var a=Wl.Ea(i,o);$t(this,a,t)}for(Wl.Na(t,n,e),r=Wl.Za(e),o=0;o<r;o++)a=Wl.Ea(e,o),null===this.ue(a)&&Yt(this,a,t);Ht(this,"linkLabelKeys",vc,n,t,i,e),"string"==typeof n&&this.Ib(t,n)}}else Wl.Na(t,n,e)}},Qt.prototype.addLabelKeyForLinkData=Qt.prototype.cE=function(t,e){if(null!==e&&void 0!==e&&(_t(e)||Wl.xd(e,"number or string",Qt,"addLabelKeyForLinkData:key"),null!==t)){var n=this.vg;if(""!==n){var i=Wl.sb(t,n);if(void 0===i)n=[],n.push(e),this.dG(t,n);else if(Wl.isArray(i)){var r=Wl.Fl(i,e);0<=r||(r=Wl.Za(i),Wl.rh(i,1/0,e),this.uh(t)&&(null===this.ue(e)&&Yt(this,e,t),Ht(this,"linkLabelKeys",yc,n,t,null,e,null,r)))}else Wl.k(n+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},Qt.prototype.removeLabelKeyForLinkData=Qt.prototype.iJ=function(t,e){if(null!==e&&void 0!==e&&(_t(e)||Wl.xd(e,"number or string",Qt,"removeLabelKeyForLinkData:key"),null!==t)){var n=this.vg;if(""!==n){var i=Wl.sb(t,n);if(Wl.isArray(i)){var r=Wl.Fl(i,e);0>r||(Wl.Gg(i,r),this.uh(t)&&($t(this,e,t),Ht(this,"linkLabelKeys",gc,n,t,e,null,r,null)))}else void 0!==i&&Wl.k(n+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},Wl.defineProperty(Qt,{Ng:"linkDataArray"},function(){return this.ef},function(t){var e=this.ef;if(e!==t){Wl.Pz(t,Qt,"linkDataArray"),this.ad.clear();for(var n=Wl.Za(t),i=0;i<n;i++){var r=Wl.Ea(t,i);if(!Wl.Ua(r))return void Wl.k("GraphLinksModel.linkDataArray must only contain Objects, not: "+r);Wl.Zp(r)}if(this.ef=t,""!==this.wj){for(var o=new c(Object),i=0;i<n;i++){var r=Wl.Ea(t,i),a=this.Sf(r);void 0===a?o.add(r):null!==this.ad.la(a)?o.add(r):this.ad.add(a,r)}for(i=o.i;i.next();)r=i.value,this.BA(r),void 0!==(o=this.Sf(r))&&this.ad.add(o,r)}for(o=new d(Object),i=0;i<n;i++)r=Wl.Ea(t,i),o.add(r);for(this.Qi=o,Ht(this,"linkDataArray",vc,"linkDataArray",this,e,t),i=0;i<n;i++)r=Wl.Ea(t,i),ee(this,r)}}),Wl.defineProperty(Qt,{wj:"linkKeyProperty"},function(){return this.ml},function(t){var e=this.ml;if(e!==t){Gt(t,Qt,"linkKeyProperty"),this.ml=t,this.ad.clear();for(var n=Wl.Za(this.Ng),i=0;i<n;i++){var r=Wl.Ea(this.Ng,i),o=this.Sf(r);void 0!==o&&this.ad.add(o,r)}this.h("linkKeyProperty",e,t)}}),Qt.prototype.getKeyForLinkData=Qt.prototype.Sf=function(t){if(null!==t){var e=this.ml;if(""!==e&&void 0!==(e=Wl.sb(t,e))){if(_t(e))return e;Wl.k("Key value for link data "+t+" is not a number or a string: "+e)}}},Qt.prototype.setKeyForLinkData=Qt.prototype.cG=function(t,e){if(void 0!==e&&null!==e&&_t(e)||Wl.xd(e,"number or string",Qt,"setKeyForLinkData:key"),null!==t){var n=this.ml;if(""!==n)if(this.uh(t)){var i=Wl.sb(t,n);i!==e&&null===this.Vp(e)&&(Wl.Na(t,n,e),this.ad.remove(i),this.ad.add(e,t),Ht(this,"linkKey",vc,n,t,i,e),"string"==typeof n&&this.Ib(t,n))}else Wl.Na(t,n,e)}},Wl.defineProperty(Qt,{eL:"makeUniqueLinkKeyFunction"},function(){return this.ap},function(t){var e=this.ap;e!==t&&(null!==t&&Wl.j(t,"function",Qt,"makeUniqueLinkKeyFunction"),this.ap=t,this.h("makeUniqueLinkKeyFunction",e,t))}),Qt.prototype.findLinkDataForKey=Qt.prototype.Vp=function(t){return null===t&&Wl.k("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&_t(t)?this.ad.la(t):null},Qt.prototype.makeLinkDataKeyUnique=Qt.prototype.BA=function(t){if(null!==t){var e=this.ml;if(""!==e){var n=this.Sf(t);if(void 0===n||this.ad.contains(n)){var i=this.ap;if(null!==i&&void 0!==(n=i(this,t))&&null!==n&&!this.ad.contains(n))return void Wl.Na(t,e,n);if("string"==typeof n){for(i=2;this.ad.contains(n+i);)i++;Wl.Na(t,e,n+i)}else if(void 0===n||"number"==typeof n){for(i=-this.ad.count-1;this.ad.contains(i);)i--;Wl.Na(t,e,i)}else Wl.k("GraphLinksModel.getKeyForLinkData returned something other than a string or a number: "+n)}}}},Qt.prototype.containsLinkData=Qt.prototype.uh=function(t){return null!==t&&this.Qi.contains(t)},Qt.prototype.addLinkData=Qt.prototype.vt=function(t){null!==t&&(Wl.Zp(t),this.uh(t)||Zt(this,t,!0))},Qt.prototype.addLinkDataCollection=function(t){if(Wl.isArray(t))for(var e=Wl.Za(t),n=0;n<e;n++)this.vt(Wl.Ea(t,n));else for(t=t.i;t.next();)this.vt(t.value)},Qt.prototype.removeLinkData=Qt.prototype.Wx=function(t){null!==t&&te(this,t,!0)},Qt.prototype.removeLinkDataCollection=function(t){if(Wl.isArray(t))for(var e=Wl.Za(t),n=0;n<e;n++)this.Wx(Wl.Ea(t,n));else for(t=t.i;t.next();)this.Wx(t.value)},Wl.defineProperty(Qt,{xK:"copyLinkDataFunction"},function(){return this.to},function(t){var e=this.to;e!==t&&(null!==t&&Wl.j(t,"function",Qt,"copyLinkDataFunction"),this.to=t,this.h("copyLinkDataFunction",e,t))}),Qt.prototype.copyLinkData=Qt.prototype.Uw=function(t){if(null===t)return null;var e=null,e=this.to,e=null!==e?e(t,this):Xt(this,t,!0);return Wl.Ua(e)&&(Wl.mc(e),""!==this.Th&&Wl.Na(e,this.Th,void 0),""!==this.Uh&&Wl.Na(e,this.Uh,void 0),""!==this.vg&&Wl.Na(e,this.vg,[])),e},Wl.defineProperty(Qt,{su:"nodeIsGroupProperty"},function(){return this.ep},function(t){var e=this.ep;e!==t&&(Gt(t,Qt,"nodeIsGroupProperty"),this.ep=t,this.h("nodeIsGroupProperty",e,t))}),Qt.prototype.isGroupForNodeData=Qt.prototype.vA=function(t){if(null===t)return!1;var e=this.ep;return""!==e&&!!Wl.sb(t,e)},Wl.defineProperty(Qt,{ru:"nodeGroupKeyProperty"},function(){return this.kh},function(t){var e=this.kh;e!==t&&(Gt(t,Qt,"nodeGroupKeyProperty"),this.kh=t,this.h("nodeGroupKeyProperty",e,t))}),Wl.defineProperty(Qt,{qn:"copiesGroupKeyOfNodeData"},function(){return this.Zq},function(t){this.Zq!==t&&(Wl.j(t,"boolean",Qt,"copiesGroupKeyOfNodeData"),this.Zq=t)}),Qt.prototype.getGroupKeyForNodeData=Qt.prototype.zn=function(t){if(null!==t){var e=this.kh;if(""!==e&&void 0!==(e=Wl.sb(t,e))){if(_t(e))return e;Wl.k("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},Qt.prototype.setGroupKeyForNodeData=Qt.prototype.aB=function(t,e){if(null===e&&(e=void 0),void 0===e||_t(e)||Wl.xd(e,"number or string",Qt,"setGroupKeyForNodeData:key"),null!==t){var n=this.kh;if(""!==n)if(this.He(t)){var i=Wl.sb(t,n);i!==e&&($t(this,i,t),Wl.Na(t,n,e),null===this.ue(e)&&Yt(this,e,t),Ht(this,"nodeGroupKey",vc,n,t,i,e),"string"==typeof n&&this.Ib(t,n))}else Wl.Na(t,n,e)}},Qt.prototype.copyNodeData=function(t){return null===t?null:(t=Lt.prototype.copyNodeData.call(this,t),this.qn||""===this.kh||void 0===Wl.sb(t,this.kh)||Wl.Na(t,this.kh,void 0),t)},Qt.prototype.setDataProperty=function(t,e,n){if(this.He(t))if(e===this.cm)this.gy(t,n);else{if(e===this.Sn)return void this.by(t,n);if(e===this.ru)return void this.aB(t,n);e===this.su&&Wl.k("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+e)}else if(this.uh(t)){if(e===this.Jn)return void this.ZA(t,n);if(e===this.Kn)return void this.eB(t,n);if(e===this.iu)return void this.$A(t,n);if(e===this.ku)return void this.fB(t,n);if(e===this.wj)return void this.cG(t,n);if(e===this.hu)return void this.bG(t,n);if(e===this.ju)return void this.dG(t,n)}else!mc&&t instanceof Tr&&(mc=!0,Wl.trace('GraphLinksModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Wl.trace("  Is that really your intent?"));var i=Wl.sb(t,e);i!==n&&(Wl.Na(t,e,n),this.OA(t,e,i,n))},Gl=Qt.prototype,Gl.yu=function(t,e){Lt.prototype.yu.call(this,t,e);for(var n=this.Fc.i;n.next();)this.TA(n.value,t,e);for(n=this.Qi.i;n.next();){var i=n.value,r=t,o=e;if(this.Tl(i)===r){var a=this.Th;Wl.Na(i,a,o),Ht(this,"linkFromKey",vc,a,i,r,o),"string"==typeof a&&this.Ib(i,a)}this.Ul(i)===r&&(a=this.Uh,Wl.Na(i,a,o),Ht(this,"linkToKey",vc,a,i,r,o),"string"==typeof a&&this.Ib(i,a));var s=this.Bk(i);if(Wl.isArray(s))for(var h=Wl.Za(s),a=this.vg,l=0;l<h;l++)Wl.Ea(s,l)===r&&(Wl.jE(s,l,o),Ht(this,"linkLabelKeys",yc,a,i,r,o,l,l))}},Gl.TA=function(t,e,n){if(this.zn(t)===e){var i=this.kh;Wl.Na(t,i,n),Ht(this,"nodeGroupKey",vc,i,t,e,n),"string"==typeof i&&this.Ib(t,i)}},Gl.sB=function(){Lt.prototype.sB.call(this);for(var t=this.Ng,e=Wl.Za(t),n=0;n<e;n++){ee(this,Wl.Ea(t,n))}},Gl.nq=function(t){Lt.prototype.nq.call(this,t),t=this.ub(t);var e=Jt(this,t);if(null!==e){for(var n=new c(Object),e=e.i;e.next();){var i=e.value;if(this.He(i)){if(this.zn(i)===t){var r=this.kh;Ht(this,"nodeGroupKey",vc,r,i,t,t),"string"==typeof r&&this.Ib(i,r),n.add(i)}}else{this.Tl(i)===t&&(r=this.Th,Ht(this,"linkFromKey",vc,r,i,t,t),"string"==typeof r&&this.Ib(i,r),n.add(i)),this.Ul(i)===t&&(r=this.Uh,Ht(this,"linkToKey",vc,r,i,t,t),"string"==typeof r&&this.Ib(i,r),n.add(i));var o=this.Bk(i);if(Wl.isArray(o))for(var a=Wl.Za(o),r=this.vg,s=0;s<a;s++)Wl.Ea(o,s)===t&&(Ht(this,"linkLabelKeys",yc,r,i,t,t,s,s),n.add(i))}}for(n=n.i;n.next();)$t(this,t,n.value)}},Gl.mq=function(t){Lt.prototype.mq.call(this,t);var e=this.zn(t);null===this.ue(e)&&Yt(this,e,t)},Gl.Nu=function(t){Lt.prototype.Nu.call(this,t),$t(this,this.zn(t),t)},Wl.defineProperty(Qt,{hu:"linkCategoryProperty"},function(){return this.Jm},function(t){var e=this.Jm;e!==t&&(Gt(t,Qt,"linkCategoryProperty"),this.Jm=t,this.h("linkCategoryProperty",e,t))}),Qt.prototype.getCategoryForLinkData=Qt.prototype.mx=function(t){if(null===t)return"";var e=this.Jm;return""===e?"":void 0===(e=Wl.sb(t,e))?"":"string"==typeof e?e:(Wl.k("getCategoryForLinkData found a non-string category for "+t+": "+e),"")},Qt.prototype.setCategoryForLinkData=Qt.prototype.bG=function(t,e){if(Wl.j(e,"string",Qt,"setCategoryForLinkData:cat"),null!==t){var n=this.Jm;if(""!==n)if(this.uh(t)){var i=Wl.sb(t,n);void 0===i&&(i=""),i!==e&&(Wl.Na(t,n,e),Ht(this,"linkCategory",vc,n,t,i,e),"string"==typeof n&&this.Ib(t,n))}else Wl.Na(t,n,e)}},Wl.Ma(ne,Lt),Wl.ga("TreeModel",ne),ne.prototype.cloneProtected=function(t){Lt.prototype.cloneProtected.call(this,t),t.lh=this.lh,t.$q=this.$q,t.Sm=this.Sm},ne.prototype.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.lB();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:",t=this.dg;for(var n=Wl.Za(t),i=0;i<n;i++)var r=Wl.Ea(t,i),e=e+" "+this.ub(r)+":"+xc(r)}return e},ne.prototype.co=function(){var t=Lt.prototype.co.call(this),e="";return"parent"!==this.tu&&"string"==typeof this.tu&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.tu)),t+e},ne.prototype.wu=function(t){Lt.prototype.wu.call(this,t),t.nodeParentKeyProperty&&(this.tu=t.nodeParentKeyProperty)},ne.prototype.Ln=function(t){return t},Wl.defineProperty(ne,{tu:"nodeParentKeyProperty"},function(){return this.lh},function(t){var e=this.lh;e!==t&&(Gt(t,ne,"nodeParentKeyProperty"),this.lh=t,this.h("nodeParentKeyProperty",e,t))}),Wl.defineProperty(ne,{rn:"copiesParentKeyOfNodeData"},function(){return this.$q},function(t){this.$q!==t&&(Wl.j(t,"boolean",ne,"copiesParentKeyOfNodeData"),this.$q=t)}),ne.prototype.getParentKeyForNodeData=ne.prototype.Bn=function(t){if(null!==t){var e=this.lh;if(""!==e&&void 0!==(e=Wl.sb(t,e))){if(_t(e))return e;Wl.k("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},ne.prototype.setParentKeyForNodeData=ne.prototype.pi=function(t,e){if(null===e&&(e=void 0),void 0===e||_t(e)||Wl.xd(e,"number or string",ne,"setParentKeyForNodeData:key"),null!==t){var n=this.lh;if(""!==n)if(e=this.Ln(e),this.He(t)){var i=Wl.sb(t,n);i!==e&&($t(this,i,t),Wl.Na(t,n,e),null===this.ue(e)&&Yt(this,e,t),Ht(this,"nodeParentKey",vc,n,t,i,e),"string"==typeof n&&this.Ib(t,n))}else Wl.Na(t,n,e)}},Wl.defineProperty(ne,{wL:"parentLinkCategoryProperty"},function(){return this.Sm},function(t){var e=this.Sm;e!==t&&(Gt(t,ne,"parentLinkCategoryProperty"),this.Sm=t,this.h("parentLinkCategoryProperty",e,t))}),ne.prototype.getParentLinkCategoryForNodeData=ne.prototype.ZH=function(t){if(null===t)return"";var e=this.Sm;return""===e?"":void 0===(e=Wl.sb(t,e))?"":"string"==typeof e?e:(Wl.k("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},ne.prototype.setParentLinkCategoryForNodeData=ne.prototype.yJ=function(t,e){if(Wl.j(e,"string",ne,"setParentLinkCategoryForNodeData:cat"),null!==t){var n=this.Sm;if(""!==n)if(this.He(t)){var i=Wl.sb(t,n);void 0===i&&(i=""),i!==e&&(Wl.Na(t,n,e),Ht(this,"parentLinkCategory",vc,n,t,i,e),"string"==typeof n&&this.Ib(t,n))}else Wl.Na(t,n,e)}},ne.prototype.copyNodeData=function(t){return null===t?null:(t=Lt.prototype.copyNodeData.call(this,t),this.rn||""===this.lh||void 0===Wl.sb(t,this.lh)||Wl.Na(t,this.lh,void 0),t)},ne.prototype.setDataProperty=function(t,e,n){if(this.He(t))if(e===this.cm)this.gy(t,n);else{if(e===this.Sn)return void this.by(t,n);if(e===this.tu)return void this.pi(t,n)}else!mc&&t instanceof Tr&&(mc=!0,Wl.trace('TreeModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Wl.trace("  Is that really your intent?"));var i=Wl.sb(t,e);i!==n&&(Wl.Na(t,e,n),this.OA(t,e,i,n))},Gl=ne.prototype,Gl.yu=function(t,e){Lt.prototype.yu.call(this,t,e);for(var n=this.Fc.i;n.next();)this.TA(n.value,t,e)},Gl.TA=function(t,e,n){if(this.Bn(t)===e){var i=this.lh;Wl.Na(t,i,n),Ht(this,"nodeParentKey",vc,i,t,e,n),"string"==typeof i&&this.Ib(t,i)}},Gl.nq=function(t){Lt.prototype.nq.call(this,t),t=this.ub(t);var e=Jt(this,t);if(null!==e){for(var n=new c(Object),e=e.i;e.next();){var i=e.value;if(this.He(i)&&this.Bn(i)===t){var r=this.lh;Ht(this,"nodeParentKey",vc,r,i,t,t),"string"==typeof r&&this.Ib(i,r),n.add(i)}}for(n=n.i;n.next();)$t(this,t,n.value)}},Gl.mq=function(t){Lt.prototype.mq.call(this,t);var e=this.Bn(t),e=this.Ln(e);null===this.ue(e)&&Yt(this,e,t)},Gl.Nu=function(t){Lt.prototype.Nu.call(this,t),$t(this,this.Bn(t),t)},Wl.ga("Binding",ie),ie.prototype.copy=function(){var t=new ie;return t.zp=this.zp,t.it=this.it,t.yp=this.yp,t.ww=this.ww,t.Pr=this.Pr,t.pp=this.pp,t.Wq=this.Wq,t.hs=this.hs,t.Pq=this.Pq,t};var bc;ie.OneWay=bc=Wl.p(ie,"OneWay",1);var wc;ie.TwoWay=wc=Wl.p(ie,"TwoWay",2),ie.parseEnum=function(t,e){return Wl.j(t,"function",ie,"parseEnum:ctor"),Wl.nb(e,t,ie,"parseEnum:defval"),function(n){return n=Kl(t,n),null===n?e:n}},ie.prototype.gc=function(t){t.Ee===ie?this.mode=t:Wl.Ej(this,t)};var xc;ie.toString=xc=function(t){var e=t;return Wl.Ua(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()},ie.prototype.toString=function(){return"Binding("+this.ky+":"+this.hG+(-1!==this.im?" "+this.im:"")+" "+this.mode.name+")"},ie.prototype.freeze=function(){return this.Q=!0,this},ie.prototype.Ra=function(){return this.Q=!1,this},Wl.defineProperty(ie,{im:null},function(){return this.DD},function(t){this.Q&&Wl.ma(this),Wl.j(t,"number",ie,"targetId"),this.DD=t}),Wl.defineProperty(ie,{ky:"targetProperty"},function(){return this.zp},function(t){this.Q&&Wl.ma(this),Wl.j(t,"string",ie,"targetProperty"),this.zp=t}),Wl.defineProperty(ie,{zq:"sourceName"},function(){return this.ww},function(t){this.Q&&Wl.ma(this),null!==t&&Wl.j(t,"string",ie,"sourceName"),this.ww=t,null!==t&&(this.Pr=!1)}),Wl.defineProperty(ie,{zx:"isToModel"},function(){return this.Pr},function(t){this.Q&&Wl.ma(this),Wl.j(t,"boolean",ie,"isToModel"),this.Pr=t}),Wl.defineProperty(ie,{hG:"sourceProperty"},function(){return this.pp},function(t){this.Q&&Wl.ma(this),Wl.j(t,"string",ie,"sourceProperty"),this.pp=t}),Wl.defineProperty(ie,{xH:"converter"},function(){return this.Wq},function(t){this.Q&&Wl.ma(this),null!==t&&Wl.j(t,"function",ie,"converter"),this.Wq=t}),Wl.defineProperty(ie,{kH:"backConverter"},function(){return this.Pq},function(t){this.Q&&Wl.ma(this),null!==t&&Wl.j(t,"function",ie,"backConverter"),this.Pq=t}),Wl.defineProperty(ie,{mode:"mode"},function(){return this.hs},function(t){this.Q&&Wl.ma(this),Wl.nb(t,ie,ie,"mode"),this.hs=t}),ie.prototype.makeTwoWay=ie.prototype.JI=function(t){return void 0===t&&(t=null),null!==t&&Wl.j(t,"function",ie,"makeTwoWay"),this.mode=wc,this.kH=t,this},ie.prototype.ofObject=ie.prototype.Kx=function(t){return void 0===t&&(t=""),this.zq=t,this.zx=!1,this},ie.prototype.ofModel=function(){return this.zq=null,this.zx=!0,this},ie.prototype.updateTarget=ie.prototype.wG=function(t,e,n){var i=this.pp;if(void 0===n||""===i||i===n){n=this.zp;var r=this.Wq;if(null===r&&""===n)Wl.trace("Binding error: target property is the empty string: "+this.toString());else{var o=e;if(""!==i&&(o=Wl.sb(e,i)),void 0!==o)if(null===r)""!==n&&Wl.Na(t,n,o);else try{if(""!==n){var a=r(o,t);Wl.Na(t,n,a)}else r(o,t)}catch(t){}}}},ie.prototype.updateSource=ie.prototype.ly=function(t,e,n,i){if(this.hs===wc){var r=this.zp;if(void 0===n||r===n){n=this.pp;var o=this.Pq,a=t;if(""!==r&&(a=Wl.sb(t,r)),void 0!==a&&!this.Yy.contains(t))try{this.Yy.add(t);var s=null!==i?i.g:null,h=null!==s?s.ca:null;if(null===o){if(""!==n)null!==h?h.setDataProperty(e,n,a):Wl.Na(e,n,a);else if(null!==h&&null!==i&&0<=i.fu&&null!==i.N&&Array.isArray(i.N.fq)){var l=i.fu,u=i.N.fq;h.KF(u,l),h.sA(u,l,a)}}else try{if(""!==n){var c=o(a,e,h);null!==h?h.setDataProperty(e,n,c):Wl.Na(e,n,c)}else void 0!==(c=o(a,e,h))&&null!==h&&null!==i&&0<=i.fu&&null!==i.N&&Array.isArray(i.N.fq)&&(l=i.fu,u=i.N.fq,h.KF(u,l),h.sA(u,l,c))}catch(t){}}finally{this.Yy.remove(t)}}}},Wl.ga("Transaction",oe),oe.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.Qf.count.toString()+(this.$t?"":", incomplete");if(void 0!==t&&0<t){t=this.Qf.count;for(var n=0;n<t;n++){var i=this.Qf.ea(n);null!==i&&(e+="\n  "+i.toString())}}return e},oe.prototype.clear=oe.prototype.clear=function(){var t=this.Qf;t.Ra();for(var e=t.count-1;0<=e;e--){var n=t.ea(e);null!==n&&n.clear()}t.clear(),t.freeze()},oe.prototype.canUndo=oe.prototype.canUndo=function(){return this.$t},oe.prototype.undo=oe.prototype.undo=function(){if(this.canUndo())for(var t=this.Qf.count-1;0<=t;t--){var e=this.Qf.ea(t);null!==e&&e.undo()}},oe.prototype.canRedo=oe.prototype.canRedo=function(){return this.$t},oe.prototype.redo=oe.prototype.redo=function(){if(this.canRedo())for(var t=this.Qf.count,e=0;e<t;e++){var n=this.Qf.ea(e);null!==n&&n.redo()}},Wl.u(oe,{Qf:"changes"},function(){return this.CG}),Wl.defineProperty(oe,{name:"name"},function(){return this.Rb},function(t){this.Rb=t}),Wl.defineProperty(oe,{$t:"isComplete"},function(){return this.IC},function(t){this.IC=t}),Wl.ga("UndoManager",ae),ae.prototype.toString=function(t){for(var e="UndoManager "+this.pj+"<"+this.history.count+"<="+this.uF,e=e+"[",n=this.zF.count,i=0;i<n;i++)0<i&&(e+=" "),e+=this.zF.ea(i);if(e+="]",void 0!==t&&0<t)for(n=this.history.count,i=0;i<n;i++)e+="\n "+this.history.ea(i).toString(t-1);return e},ae.prototype.clear=ae.prototype.clear=function(){var t=this.history;t.Ra();for(var e=t.count-1;0<=e;e--){var n=t.ea(e);null!==n&&n.clear()}t.clear(),this.eh=-1,t.freeze(),this.Li=!1,this.pv=null,this.yl=0,this.jh.Ra(),this.jh.clear(),this.jh.freeze(),this.dp.clear()},ae.prototype.addModel=ae.prototype.cH=function(t){this.nz.add(t)},ae.prototype.removeModel=ae.prototype.jJ=function(t){this.nz.remove(t)},ae.prototype.startTransaction=ae.prototype.Ub=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.gb)return!1;!0===this.Zy&&(this.Zy=!1,this.yl++,this.cd("StartingFirstTransaction",t,this.kj),0<this.yl&&this.yl--),this.isEnabled&&(this.jh.Ra(),this.jh.add(t),this.jh.freeze(),null===this.kj?this.dp.add(0):this.dp.add(this.kj.Qf.count)),this.yl++;var e=1===this.Gh;return e&&this.cd("StartedTransaction",t,this.kj),e},ae.prototype.commitTransaction=ae.prototype.Fd=function(t){return void 0===t&&(t=""),se(this,!0,t)},ae.prototype.rollbackTransaction=ae.prototype.oq=function(){return se(this,!1,"")},ae.prototype.canUndo=ae.prototype.canUndo=function(){if(!this.isEnabled||0<this.Gh||this.gb)return!1;var t=this.rG;return!(null===t||!t.canUndo())},ae.prototype.undo=ae.prototype.undo=function(){if(this.canUndo()){var t=this.rG;try{this.cd("StartingUndo","Undo",t),this.Li=!0,this.eh--,t.undo()}catch(t){Wl.trace("undo error: "+t.toString())}finally{this.Li=!1,this.cd("FinishedUndo","Undo",t)}}},ae.prototype.canRedo=ae.prototype.canRedo=function(){if(!this.isEnabled||0<this.Gh||this.gb)return!1;var t=this.qG;return!(null===t||!t.canRedo())},ae.prototype.redo=ae.prototype.redo=function(){if(this.canRedo()){var t=this.qG;try{this.cd("StartingRedo","Redo",t),this.Li=!0,this.eh++,t.redo()}catch(t){Wl.trace("redo error: "+t.toString())}finally{this.Li=!1,this.cd("FinishedRedo","Redo",t)}}},ae.prototype.cd=function(t,e,n){void 0===n&&(n=null);var i=new jt;for(i.yc=pc,i.propertyName=t,i.object=n,i.oldValue=e,t=this.UI;t.next();)e=t.value,i.ca=e,e.Rw(i)},ae.prototype.handleChanged=ae.prototype.XE=function(t){if(this.isEnabled&&!this.gb&&!this.skipsEvent(t)){var e=this.kj;null===e&&(this.pv=e=new oe);var n=t.copy(),e=e.Qf;e.Ra(),e.add(n),e.freeze(),this.Qz&&0>=this.Gh&&!this.Zy&&(null!==(t=t.g)&&!1===t.Gn||Wl.trace("Change not within a transaction: "+n.toString()))}},ae.prototype.skipsEvent=function(t){if(null===t||0>t.yc.value)return!0;if((t=t.object)instanceof Tr){if(null!==(t=t.layer)&&t.Kc)return!0}else if(t instanceof jn&&t.Kc)return!0;return!1},Wl.u(ae,{UI:"models"},function(){return this.nz.i}),Wl.defineProperty(ae,{isEnabled:"isEnabled"},function(){return this.df},function(t){this.df=t}),Wl.u(ae,{rG:"transactionToUndo"},function(){return 0<=this.pj&&this.pj<=this.history.count-1?this.history.ea(this.pj):null}),Wl.u(ae,{qG:"transactionToRedo"},function(){return this.pj<this.history.count-1?this.history.ea(this.pj+1):null}),Wl.u(ae,{gb:"isUndoingRedoing"},function(){return this.Li}),Wl.u(ae,{history:"history"},function(){return this.GG}),Wl.defineProperty(ae,{uF:"maxHistoryLength"},function(){return this.XC},function(t){this.XC=t}),Wl.u(ae,{pj:"historyIndex"},function(){return this.eh}),Wl.u(ae,{kj:"currentTransaction"},function(){return this.pv}),Wl.u(ae,{Gh:"transactionLevel"},function(){return this.yl}),Wl.u(ae,{jF:"isInTransaction"},function(){return 0<this.yl}),Wl.defineProperty(ae,{Qz:"checksTransactionLevel"},function(){return this.SB},function(t){this.SB=t}),Wl.u(ae,{zF:"nestedTransactionNames"},function(){return this.jh}),Wl.ga("CommandHandler",he);var kc=null,Tc="";he.prototype.toString=function(){return"CommandHandler"},Wl.u(he,{g:"diagram"},function(){return this.Z}),he.prototype.Qc=function(t){this.Z=t},he.prototype.doKeyDown=function(){var t=this.g;if(null!==t){var e=t.R,n=Wl.Fk?e.mu:e.control,i=e.shift,r=e.alt,o=e.key;!n||"C"!==o&&"Insert"!==o?n&&"X"===o||i&&"Del"===o?this.canCutSelection()&&this.cutSelection():n&&"V"===o||i&&"Insert"===o?this.canPasteSelection()&&this.pasteSelection():n&&"Y"===o||r&&i&&"Backspace"===o?this.canRedo()&&this.redo():n&&"Z"===o||r&&"Backspace"===o?this.canUndo()&&this.undo():"Del"===o||"Backspace"===o?this.canDeleteSelection()&&this.deleteSelection():n&&"A"===o?this.canSelectAll()&&this.selectAll():"Esc"===o?this.canStopCommand()&&this.stopCommand():"Up"===o?t.oe&&(n?t.scroll("pixel","up"):t.scroll("line","up")):"Down"===o?t.oe&&(n?t.scroll("pixel","down"):t.scroll("line","down")):"Left"===o?t.ne&&(n?t.scroll("pixel","left"):t.scroll("line","left")):"Right"===o?t.ne&&(n?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===o?i&&t.ne?t.scroll("page","left"):t.oe&&t.scroll("page","up"):"PageDown"===o?i&&t.ne?t.scroll("page","right"):t.oe&&t.scroll("page","down"):"Home"===o?n&&t.oe?t.scroll("document","up"):!n&&t.ne&&t.scroll("document","left"):"End"===o?n&&t.oe?t.scroll("document","down"):!n&&t.ne&&t.scroll("document","right"):" "===o?this.canScrollToPart()&&this.scrollToPart():"Subtract"===o?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===o?this.canIncreaseZoom()&&this.increaseZoom():n&&"0"===o?this.canResetZoom()&&this.resetZoom():i&&"Z"===o?this.canZoomToFit()&&this.zoomToFit():n&&!i&&"G"===o?this.canGroupSelection()&&this.groupSelection():n&&i&&"G"===o?this.canUngroupSelection()&&this.ungroupSelection():e.event&&113===e.event.which?this.canEditTextBlock()&&this.editTextBlock():e.event&&93===e.event.which?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()}},he.prototype.doKeyUp=function(){var t=this.g;null!==t&&(t.R.bubbles=!0)},he.prototype.stopCommand=function(){var t=this.g;if(null!==t){var e=t.$a;e instanceof pn&&t.uf&&t.Sw(),null!==e&&e.doCancel()}},he.prototype.canStopCommand=function(){return!0},he.prototype.selectAll=function(){var t=this.g;if(null!==t){t.oa();try{t.cc="wait",t.Ca("ChangingSelection");for(var e=t.Ik;e.next();)e.value.fb=!0;for(var n=t.eg;n.next();)n.value.fb=!0;for(var i=t.links;i.next();)i.value.fb=!0}finally{t.Ca("ChangedSelection"),t.cc=""}}},he.prototype.canSelectAll=function(){var t=this.g;return null!==t&&t.uf},he.prototype.deleteSelection=function(){var t=this.g;if(null!==t&&!t.Ca("SelectionDeleting",t.selection))try{t.cc="wait",t.Ub("Delete"),t.Ca("ChangingSelection");for(var e=new d(sa),n=t.selection.i;n.next();)le(e,n.value,!0,this.IH?1/0:0,this.zE,function(t){return t.canDelete()});t.SA(e,!0),t.Ca("SelectionDeleted",e)}finally{t.Ca("ChangedSelection"),t.Fd("Delete"),t.cc=""}},he.prototype.canDeleteSelection=function(){var t=this.g;return!(null===t||t.eb||t.yf||!t.hn||0===t.selection.count)},he.prototype.Op=function(t,e,n){var i=new b(sa,sa);for(t=t.i;t.next();)ue(this,t.value,e,i,n);if(null!==e){n=e.ca,t=!1,null!==e.bb.se&&(t=e.bb.se.mj);for(var r=new d(_a),o=new b(_a,_a),a=i.i;a.next();){var s=a.value;if(s instanceof _a){var h=s;t||null!==h.W&&null!==h.aa||r.add(h)}else if(n instanceof ne&&s instanceof Ea&&null!==s.data){var h=n,l=s,s=a.key,u=s.Rl();null!==u&&(u=i.la(u),null!==u?(h.pi(l.data,h.ub(u.data)),h=e.Rf(l.data),null!==(s=s.wn())&&null!==h&&o.add(s,h)):h.pi(l.data,void 0))}}if(0<r.count&&e.SA(r,!1),0<o.count)for(n=o.i;n.next();)i.add(n.key,n.value)}if(null!==e&&null!==this.g&&(e=e.ca,null!==(n=e.eH))){var c=new b;i.each(function(t){null!==t.key.data&&c.add(t.key.data,t.value.data)}),n(c,e,this.g.ca)}for(e=i.i;e.next();)e.value.Ib();return i},he.prototype.copySelection=function(){var t=this.g;if(null!==t){for(var e=new d(sa),t=t.selection.i;t.next();)le(e,t.value,!0,this.BH?1/0:0,this.zH,function(t){return t.canCopy()});this.copyToClipboard(e)}},he.prototype.canCopySelection=function(){var t=this.g;return!(null===t||!t.sk||!t.Lz||0===t.selection.count)},he.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},he.prototype.canCutSelection=function(){var t=this.g;return!(null===t||t.eb||t.yf||!t.sk||!t.hn||!t.Lz||0===t.selection.count)},he.prototype.copyToClipboard=function(t){var e=this.g;if(null!==e){var n=null;if(null===t)kc=null,Tc="";else{var n=e.ca,i=!1,r=null;try{if(n instanceof ne){var o=n;o.rn;o.rn=this.sE}n instanceof Qt&&(o=n,i=o.qn,o.qn=this.rE),r=e.Op(t,null,!0)}finally{n instanceof ne&&(n.rn=!1),n instanceof Qt&&(n.qn=i),n=new c(sa),n.Ic(r),kc=n,Tc=e.ca.Ll}}e.Ca("ClipboardChanged",n)}},he.prototype.pasteFromClipboard=function(){var t=new d(sa),e=kc;if(null===e)return t;var n=this.g;if(null===n||Tc!==n.ca.Ll)return t;var i=n.ca,r=!1,o=!1,a=null;try{if(i instanceof ne){var s=i,r=s.rn;s.rn=this.sE}i instanceof Qt&&(s=i,o=s.qn,s.qn=this.rE),a=n.Op(e,n,!1)}finally{for(i instanceof ne&&(i.rn=r),i instanceof Qt&&(i.qn=o),e=a.i;e.next();)n=e.value,i=e.key,n.location.H()||(i.location.H()?n.location=i.location:!n.position.H()&&i.position.H()&&(n.position=i.position)),t.add(n)}return t},he.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.cc="wait",e.Ub("Paste"),e.Ca("ChangingSelection");var n=this.pasteFromClipboard();0<n.count&&xi(e);for(var i=n.i;i.next();)i.value.fb=!0;if(e.Ca("ChangedSelection"),null!==t){var r=e.computePartsBounds(e.selection);if(r.H()){var o=e.bb.se;null===o&&(o=new pe,o.Qc(e));var a=o.computeEffectiveCollection(e.selection);o.moveParts(a,new w(t.x-r.ka,t.y-r.sa),!1)}}e.Ca("ClipboardPasted",n)}finally{e.Fd("Paste"),e.cc=""}},he.prototype.canPasteSelection=function(){var t=this.g;return!(null===t||t.eb||t.yf||!t.Fp||!t.Lz||null===kc||Tc!==t.ca.Ll)},he.prototype.undo=function(){var t=this.g;null!==t&&t.pa.undo()},he.prototype.canUndo=function(){var t=this.g;return null!==t&&!t.eb&&!t.yf&&(t.fE&&t.pa.canUndo())},he.prototype.redo=function(){var t=this.g;null!==t&&t.pa.redo()},he.prototype.canRedo=function(){var t=this.g;return null!==t&&!t.eb&&!t.yf&&(t.fE&&t.pa.canRedo())},he.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.oy),Wl.Zd(t,he,"decreaseZoom:factor");var e=this.g;null!==e&&e.Gl===Qc&&((t*=e.scale)<e.zh||t>e.yh||(e.scale=t))},he.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.oy),Wl.Zd(t,he,"canDecreaseZoom:factor");var e=this.g;return null!==e&&e.Gl===Qc&&(!((t*=e.scale)<e.zh||t>e.yh)&&e.Qw)},he.prototype.increaseZoom=function(t){void 0===t&&(t=this.oy),Wl.Zd(t,he,"increaseZoom:factor");var e=this.g;null!==e&&e.Gl===Qc&&((t*=e.scale)<e.zh||t>e.yh||(e.scale=t))},he.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.oy),Wl.Zd(t,he,"canIncreaseZoom:factor");var e=this.g;return null!==e&&e.Gl===Qc&&(!((t*=e.scale)<e.zh||t>e.yh)&&e.Qw)},he.prototype.resetZoom=function(t){void 0===t&&(t=this.Yw),Wl.Zd(t,he,"resetZoom:newscale");var e=this.g;null===e||t<e.zh||t>e.yh||(e.scale=t)},he.prototype.canResetZoom=function(t){void 0===t&&(t=this.Yw),Wl.Zd(t,he,"canResetZoom:newscale");var e=this.g;return!(null===e||t<e.zh||t>e.yh)&&e.Qw},he.prototype.zoomToFit=function(){var t=this.g;if(null!==t){var e=t.scale,n=t.position;e===this.Jz&&!isNaN(this.jz)&&t.re.L(this.Iz)?(t.scale=this.jz,t.position=this.TC,this.Jz=NaN,this.Iz=Iu):(this.jz=e,this.TC=n.copy(),t.zoomToFit(),this.Jz=t.scale,this.Iz=t.re.copy())}},he.prototype.canZoomToFit=function(){var t=this.g;return null!==t&&t.Qw},he.prototype.scrollToPart=function(t){void 0===t&&(t=null),null!==t&&Wl.G(t,sa,he,"part");var e=this.g;if(null!==e){if(null===t){try{null!==this.cj&&(this.cj.next()?t=this.cj.value:this.cj=null)}catch(t){this.cj=null}null===t&&(0<e.Vl.count?this.cj=e.Vl.i:0<e.selection.count&&(this.cj=e.selection.i),null!==this.cj&&this.cj.next()&&(t=this.cj.value))}if(null!==t){var n=e.Qa;n.Tn("Scroll To Part");var i=e.position.copy();e.lH(t.Y),i.Jc(e.position)&&n.qi()}}},he.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof sa)&&(null!==(t=this.g)&&(0!==t.selection.count||0!==t.Vl.count)&&(t.ne&&t.oe))},he.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Ub("Collapse Tree"),e.Qa.Tn("Collapse Tree");var n=new c(Ea);if(null!==t&&t.hd)t.collapseTree(),n.add(t);else for(var i=e.selection.i;i.next();){var r=i.value;r instanceof Ea&&(t=r,t.hd&&(t.collapseTree(),n.add(t)))}e.Ca("TreeCollapsed",n)}finally{e.Fd("Collapse Tree")}},he.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.eb)return!1;if(null!==t){if(!(t instanceof Ea&&t.hd))return!1;if(0<t.kx().count)return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof Ea&&e.hd&&0<e.kx().count)return!0;return!1},he.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Ub("Expand Tree"),e.Qa.Tn("Expand Tree");var n=new c(Ea);if(null===t||t.hd)for(var i=e.selection.i;i.next();){var r=i.value;r instanceof Ea&&(t=r,t.hd||(t.expandTree(),n.add(t)))}else t.expandTree(),n.add(t);e.Ca("TreeExpanded",n)}finally{e.Fd("Expand Tree")}},he.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.eb)return!1;if(null!==t){if(!(t instanceof Ea)||t.hd)return!1;if(0<t.kx().count)return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof Ea&&!e.hd&&0<e.kx().count)return!0;return!1},he.prototype.groupSelection=function(){var t=this.g;if(null!==t){var e=t.ca;if(e instanceof Qt){var n=this.gE;if(null!==n){var i=null;try{t.cc="wait",t.Ub("Group"),t.Ca("ChangingSelection");for(var r=new c(sa),o=t.selection.i;o.next();){var a=o.value;a.ee()&&a.canGroup()&&r.add(a)}for(var s=new c(sa),h=r.i;h.next();){for(var l=h.value,o=!1,u=r.i;u.next();)if(l.ni(u.value)){o=!0;break}o||s.add(l)}if(0<s.count){var f=s.first().La;if(null!==f)for(;null!==f;){for(var r=!1,d=s.i;d.next();)if(!d.value.ni(f)){r=!0;break}if(!r)break;f=f.La}if(n instanceof Ds)mo(n),null!==(i=n.copy())&&t.add(i);else if(e.vA(n)){var p=e.copyNodeData(n);Wl.Ua(p)&&(e.Bl(p),i=t.jx(p))}if(null!==i){null!==f&&this.isValidMember(f,i)&&(i.La=f);for(var v=s.i;v.next();){var y=v.value;this.isValidMember(i,y)&&(y.La=i)}t.select(i)}}t.Ca("ChangedSelection"),t.Ca("SelectionGrouped",i)}finally{t.Fd("Group"),t.cc=""}}}}},he.prototype.canGroupSelection=function(){var t=this.g;if(null===t||t.eb||t.yf||!t.Fp||!t.Lw||!(t.ca instanceof Qt)||null===this.gE)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canGroup())return!0}return!1},he.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof _a)return!1;if(null!==t){if(t===e||t.ni(e))return!1;var n=t.EA;if(null!==n&&!n(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(n=this.EA)||n(t,e)},he.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e){var n=e.ca;if(n instanceof Qt)try{e.cc="wait",e.Ub("Ungroup"),e.Ca("ChangingSelection");var i=new c(Ds);if(null!==t)i.add(t);else for(var r=e.selection.i;r.next();){var o=r.value;o instanceof Ds&&(t=o,t.canUngroup()&&i.add(t))}if(0<i.count){e.Sw();for(var a=i.i;a.next();){var s=a.value;s.expandSubGraph();var h=s.La,l=null!==h&&null!==h.data?n.ub(h.data):void 0,u=new c(sa);u.Ic(s.Nc);for(var f=u.i;f.next();){var d=f.value;if(d.fb=!0,!(d instanceof _a)){var p=d.data;null!==p?n.aB(p,l):d.La=h}}e.remove(s)}}e.Ca("ChangedSelection"),e.Ca("SelectionUngrouped",i,u)}finally{e.Fd("Ungroup"),e.cc=""}}},he.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.eb||e.yf||!e.hn||!e.Pw||!(e.ca instanceof Qt))return!1;if(null!==t){if(!(t instanceof Ds))return!1;if(t.canUngroup())return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof Ds&&e.canUngroup())return!0;return!1},he.prototype.addTopLevelParts=function(t,e){for(var n=!0,i=ce(t).i;i.next();){var r=i.value;null!==r.La&&(!e||this.isValidMember(null,r)?r.La=null:n=!1)}return n},he.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Ub("Collapse SubGraph"),e.Qa.Tn("Collapse SubGraph");var n=new c(Ds);if(null!==t&&t.xe)t.collapseSubGraph(),n.add(t);else for(var i=e.selection.i;i.next();){var r=i.value;r instanceof Ds&&(t=r,t.xe&&(t.collapseSubGraph(),n.add(t)))}e.Ca("SubGraphCollapsed",n)}finally{e.Fd("Collapse SubGraph")}},he.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.eb)return!1;if(null!==t)return!!(t instanceof Ds&&t.xe);for(t=e.selection.i;t.next();)if((e=t.value)instanceof Ds&&e.xe)return!0;return!1},he.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Ub("Expand SubGraph"),e.Qa.Tn("Expand SubGraph");var n=new c(Ds);if(null===t||t.xe)for(var i=e.selection.i;i.next();){var r=i.value;r instanceof Ds&&(t=r,t.xe||(t.expandSubGraph(),n.add(t)))}else t.expandSubGraph(),n.add(t);e.Ca("SubGraphExpanded",n)}finally{e.Fd("Expand SubGraph")}},he.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.eb)return!1;if(null!==t)return t instanceof Ds&&!t.xe;for(t=e.selection.i;t.next();)if((e=t.value)instanceof Ds&&!e.xe)return!0;return!1},he.prototype.editTextBlock=function(t){void 0===t&&(t=null),null!==t&&Wl.G(t,Oo,he,"editTextBlock");var e=this.g;if(null!==e){var n=e.bb.jB;if(null!==n){if(null===t){t=null;for(var i=e.selection.i;i.next();){var r=i.value;if(r.canEdit()){t=r;break}}if(null===t)return;t=t.Kt(function(t){return t instanceof Oo&&t.bA})}null!==t&&(e.$a=null,n.Yg=t,e.$a=n)}}},he.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.eb||e.yf||!e.Ow||null===e.bb.jB)return!1;if(null!==t){if(!(t instanceof Oo))return!1;if(null!==(t=t.V)&&t.canEdit())return!0}else for(e=e.selection.i;e.next();)if(t=e.value,t.canEdit()&&null!==(t=t.Kt(function(t){return t instanceof Oo&&t.bA})))return!0;return!1},he.prototype.showContextMenu=function(t){var e=this.g;if(null!==e){var n=e.bb.Uz;if(null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=n.findObjectWithContextMenu(t)))){var i=new At,r=null;t instanceof Tr?r=t.Xa(au):e.uI||(r=e.tb,r=new w(r.x+r.width/2,r.y+r.height/2)),null!==r&&(i.g=e,i.cf=e.sG(r),i.da=r,i.left=!1,i.right=!0,i.up=!0,e.R=i),e.$a=n,on(n,!1,t)}}},he.prototype.canShowContextMenu=function(t){var e=this.g;if(null===e)return!1;var n=e.bb.Uz;return null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==n.findObjectWithContextMenu(t))},Wl.defineProperty(he,{yH:"copiesClipboardData"},function(){return this.VB},function(t){Wl.j(t,"boolean",he,"copiesClipboardData"),this.VB=t}),Wl.defineProperty(he,{zH:"copiesConnectedLinks"},function(){return this.WB},function(t){Wl.j(t,"boolean",he,"copiesConnectedLinks"),this.WB=t}),Wl.defineProperty(he,{zE:"deletesConnectedLinks"},function(){return this.pC},function(t){Wl.j(t,"boolean",he,"deletesConnectedLinks"),this.pC=t}),Wl.defineProperty(he,{BH:"copiesTree"},function(){return this.$B},function(t){Wl.j(t,"boolean",he,"copiesTree"),this.$B=t}),Wl.defineProperty(he,{IH:"deletesTree"},function(){return this.qC},function(t){Wl.j(t,"boolean",he,"deletesTree"),this.qC=t}),Wl.defineProperty(he,{sE:"copiesParentKey"},function(){return this.ZB},function(t){Wl.j(t,"boolean",he,"copiesParentKey"),this.ZB=t}),Wl.defineProperty(he,{rE:"copiesGroupKey"},function(){return this.YB},function(t){Wl.j(t,"boolean",he,"copiesGroupKey"),this.YB=t}),Wl.defineProperty(he,{gE:"archetypeGroupData"},function(){return this.KB},function(t){null!==t&&Wl.G(t,Object,he,"archetypeGroupData");var e=this.g;null!==e&&(e=e.ca)instanceof Qt&&(t instanceof Ds||e.vA(t)||Wl.k("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+t)),this.KB=t}),Wl.defineProperty(he,{EA:"memberValidation"},function(){return this.pl},function(t){null!==t&&Wl.j(t,"function",he,"memberValidation"),this.pl=t}),Wl.defineProperty(he,{Yw:"defaultScale"},function(){return this.mC},function(t){Wl.Zd(t,he,"defaultScale"),0<t||Wl.k("defaultScale must be larger than zero, not: "+t),this.mC=t}),Wl.defineProperty(he,{oy:"zoomFactor"},function(){return this.XD},function(t){Wl.Zd(t,he,"zoomFactor"),1<t||Wl.k("zoomFactor must be larger than 1.0, not: "+t),this.XD=t}),he.prototype.ft=function(t){if(null!==t)for(t=t.i;t.next();){var e=t.key;e instanceof _a&&(e.Dj=!0)}},he.prototype.kp=function(t){if(null!==t)for(t=t.i;t.next();){var e=t.key;e instanceof _a&&(e.Dj=!1,ts(e)&&e.Yb())}},Wl.ga("Tool",fe),fe.prototype.Qc=function(t){this.Z=t},fe.prototype.toString=function(){return""!==this.name?this.name+" Tool":Wl.jf(Object.getPrototypeOf(this))},fe.prototype.updateAdornments=function(){},fe.prototype.canStart=function(){return this.isEnabled},fe.prototype.doStart=function(){},fe.prototype.doActivate=function(){this.ta=!0},fe.prototype.doDeactivate=function(){this.ta=!1},fe.prototype.doStop=function(){},fe.prototype.doCancel=function(){this.stopTool()},fe.prototype.stopTool=function(){var t=this.g;null!==t&&t.$a===this&&(t.$a=null,t.cc="")},fe.prototype.doMouseDown=function(){!this.ta&&this.canStart()&&this.doActivate()},fe.prototype.doMouseMove=function(){},fe.prototype.doMouseUp=function(){this.stopTool()},fe.prototype.doMouseWheel=function(){},fe.prototype.canStartMultiTouch=function(){return!0},fe.prototype.standardPinchZoomStart=function(){var t=this.g;if(null!==t){var e=t.R,n=e.nx(0,Wl.xb(NaN,NaN)),i=e.nx(1,Wl.xb(NaN,NaN));if(n.H()&&i.H()&&(this.doCancel(),t.Ut("hasGestureZoom"))){t.fD=t.scale;var r=i.x-n.x,o=i.y-n.y;t.yD=Math.sqrt(r*r+o*o),e.bubbles=!1}Wl.v(n),Wl.v(i)}},fe.prototype.standardPinchZoomMove=function(){var t=this.g;if(null!==t){var e=t.R,n=e.nx(0,Wl.xb(NaN,NaN)),i=e.nx(1,Wl.xb(NaN,NaN));if(n.H()&&i.H()&&(this.doCancel(),t.Ut("hasGestureZoom"))){var r=i.x-n.x,o=i.y-n.y,o=Math.sqrt(r*r+o*o)/t.yD,r=new w((Math.min(i.x,n.x)+Math.max(i.x,n.x))/2,(Math.min(i.y,n.y)+Math.max(i.y,n.y))/2),o=t.fD*o,a=t.pb;if(o!==t.scale&&a.canResetZoom(o)){var s=t.mm;t.mm=r,a.resetZoom(o),t.mm=s}e.bubbles=!1}Wl.v(n),Wl.v(i)}},fe.prototype.doKeyDown=function(){var t=this.g;null!==t&&"Esc"===t.R.key&&this.doCancel()},fe.prototype.doKeyUp=function(){},fe.prototype.startTransaction=fe.prototype.Ub=function(t){void 0===t&&(t=this.name),this.Gf=null;var e=this.g;return null!==e&&e.Ub(t)},fe.prototype.stopTransaction=fe.prototype.Kk=function(){var t=this.g;return null!==t&&(null===this.Gf?t.oq():t.Fd(this.Gf))},fe.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.uf){var e=t.R,n=t.Nt(e.da,!1);if(null!==n){if(Wl.Fk?e.mu:e.control){for(t.Ca("ChangingSelection"),e=n;null!==e&&!e.canSelect();)e=e.La;null!==e&&(e.fb=!e.fb),t.Ca("ChangedSelection")}else if(e.shift){if(!n.fb){for(t.Ca("ChangingSelection"),e=n;null!==e&&!e.canSelect();)e=e.La;null!==e&&(e.fb=!0),t.Ca("ChangedSelection")}}else if(!n.fb){for(e=n;null!==e&&!e.canSelect();)e=e.La;null!==e&&t.select(e)}}else!e.left||(Wl.Fk?e.mu:e.control)||e.shift||t.Sw()}},fe.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(t){return!t.layer.Kc});var n=this.g;if(null===n)return!1;var i=n.R,r=n.Ke(i.da,t,e);return i.Qe=r,de(r,i,n),i.Bc},fe.prototype.standardMouseOver=function(){var t=this.g;if(null!==t){var e=t.R;if(null!==e.g&&!0!==t.Qa.pc){var n=t.wb;t.wb=!0;var i=t.Ke(e.da,null,null);e.Qe=i;var r=!1;if(i!==t.vo){var o=t.vo,a=o;for(t.vo=i,this.doCurrentObjectChanged(o,i),e.Bc=!1;null!==o;){var s=o.ou;if(null!==s){if(i===o)break;if(null!==i&&i.Yl(o))break;if(s(e,o,i),r=!0,e.Bc)break}o=o.N}for(o=a,e.Bc=!1;null!==i;){if(null!==(s=i.nu)){if(o===i)break;if(null!==o&&o.Yl(i))break;if(s(e,i,o),r=!0,e.Bc)break}i=i.N}i=t.vo}if(null!==i){for(o=i,s="";null!==o&&""===(s=o.cursor);)o=o.N;for(t.cc=s,e.Bc=!1,o=i;null!==o&&(null===(s=o.IA)||(s(e,o),r=!0,!e.Bc));)o=o.N}else t.cc="",null!==(s=t.IA)&&(s(e),r=!0);r&&t.Me(),t.wb=n}}},fe.prototype.doCurrentObjectChanged=function(){},fe.prototype.standardMouseWheel=function(){var t=this.g;if(null!==t){var e=t.R,n=e.Nl;if(0!==n&&t.re.H()){var i=t.pb,r=t.bb.pu;if((r===Kc&&!e.shift||r===Wc&&e.control)&&(0<n?i.canIncreaseZoom():i.canDecreaseZoom()))r=t.mm,t.mm=e.cf,0<n?i.increaseZoom():i.decreaseZoom(),t.mm=r,e.bubbles=!1;else if(r===Kc&&e.shift||r===Wc&&!e.control){var i=t.position.copy(),r=0<n?n:-n,o=e.event.deltaX,a=e.event.deltaY;void 0===o||void 0===a||0===o&&0===a||e.shift?!e.shift&&t.oe?(o=t.Du,r=r/40*o,0<n?t.scroll("pixel","up",r):t.scroll("pixel","down",r)):e.shift&&t.ne&&(o=t.Cu,r=r/40*o,0<n?t.scroll("pixel","left",r):t.scroll("pixel","right",r)):(0!==o&&t.ne&&(0<o?t.scroll("pixel","left",-o):t.scroll("pixel","right",o)),0!==a&&t.oe&&(0<a?t.scroll("pixel","up",-a):t.scroll("pixel","down",a))),t.position.L(i)||(e.bubbles=!1)}}}},fe.prototype.standardWaitAfter=function(t,e){Wl.j(t,"number",fe,"standardWaitAfter:delay"),this.cancelWaitAfter();var n=this,i=e.copy();this.Hw=Wl.setTimeout(function(){n.doWaitAfter(i)},t)},fe.prototype.cancelWaitAfter=function(){-1!==this.Hw&&Wl.clearTimeout(this.Hw),this.Hw=-1},fe.prototype.doWaitAfter=function(){},fe.prototype.findToolHandleAt=function(t,e){var n=this.g;return null===n?null:(n=n.Ke(t,function(t){for(;null!==t&&!(t.N instanceof Aa);)t=t.N;return t}),null===n?null:n.N.sd===e?n:null)},fe.prototype.isBeyondDragSize=function(t,e){var n=this.g;if(null===n)return!1;void 0===t&&(t=n.Ac.cf),void 0===e&&(e=n.R.cf);var i=n.bb.MH,r=i.width,i=i.height;return n.Ac.tj&&(r+=6,i+=6),Math.abs(e.x-t.x)>r||Math.abs(e.y-t.y)>i},Wl.u(fe,{g:"diagram"},function(){return this.Z}),Wl.defineProperty(fe,{name:"name"},function(){return this.Rb},function(t){Wl.j(t,"string",fe,"name"),this.Rb=t}),Wl.defineProperty(fe,{isEnabled:"isEnabled"},function(){return this.df},function(t){Wl.j(t,"boolean",fe,"isEnabled"),this.df=t}),Wl.defineProperty(fe,{ta:"isActive"},function(){return this.GC},function(t){Wl.j(t,"boolean",fe,"isActive"),this.GC=t}),Wl.defineProperty(fe,{Gf:"transactionResult"},function(){return this.SD},function(t){null!==t&&Wl.j(t,"string",fe,"transactionResult"),this.SD=t}),Wl.Ma(pe,fe),Wl.ga("DraggingTool",pe),Wl.defineProperty(pe,{eF:"isCopyEnabled"},function(){return this.KC},function(t){Wl.j(t,"boolean",pe,"isCopyEnabled"),this.KC=t}),Wl.defineProperty(pe,{AH:"copiesEffectiveCollection"},function(){return this.XB},function(t){Wl.j(t,"boolean",pe,"copiesEffectiveCollection"),this.XB=t}),Wl.defineProperty(pe,{NH:"dragsTree"},function(){return this.wC},function(t){Wl.j(t,"boolean",pe,"dragsTree"),this.wC=t}),Wl.defineProperty(pe,{vx:"isGridSnapEnabled"},function(){return this.Jr},function(t){Wl.j(t,"boolean",pe,"isGridSnapEnabled"),this.Jr=t}),Wl.defineProperty(pe,{qI:"isComplexRoutingRealtime"},function(){return this.JC},function(t){Wl.j(t,"boolean",pe,"isComplexRoutingRealtime"),this.JC=t}),Wl.defineProperty(pe,{sI:"isGridSnapRealtime"},function(){return this.OC},function(t){Wl.j(t,"boolean",pe,"isGridSnapRealtime"),this.OC=t}),Wl.defineProperty(pe,{WE:"gridSnapCellSize"},function(){return this.$y},function(t){Wl.G(t,T,pe,"gridSnapCellSize"),this.$y.L(t)||(this.$y=t=t.S())}),Wl.defineProperty(pe,{bI:"gridSnapCellSpot"},function(){return this.az},function(t){Wl.G(t,L,pe,"gridSnapCellSpot"),this.az.L(t)||(this.az=t=t.S())}),Wl.defineProperty(pe,{cI:"gridSnapOrigin"},function(){return this.bz},function(t){Wl.G(t,w,pe,"gridSnapOrigin"),this.bz.L(t)||(this.bz=t=t.S())}),Wl.defineProperty(pe,{mj:"dragsLink"},function(){return this.vC},function(t){Wl.j(t,"boolean",pe,"dragsLink"),this.vC=t}),Wl.defineProperty(pe,{tn:"currentPart"},function(){return this.eC},function(t){null!==t&&Wl.G(t,sa,pe,"currentPart"),this.eC=t}),Wl.defineProperty(pe,{bc:"copiedParts"},function(){return this.UB},function(t){this.UB=t}),Wl.defineProperty(pe,{Xb:"draggedParts"},function(){return this.uC},function(t){this.uC=t}),Wl.u(pe,{NK:"draggingParts"},function(){return null!==this.bc?this.bc.Fj():null!==this.Xb?this.Xb.Fj():this.FG}),Wl.defineProperty(pe,{ed:"draggedLink"},function(){return this.tC},function(t){null!==t&&Wl.G(t,_a,pe,"draggedLink"),this.tC=t}),Wl.defineProperty(pe,{ux:"isDragOutStarted"},function(){return this.MC},function(t){this.MC=t}),Wl.defineProperty(pe,{Jk:"startPoint"},function(){return this.xw},function(t){Wl.G(t,w,pe,"startPoint"),this.xw.L(t)||(this.xw=t=t.S())}),Wl.defineProperty(pe,{vE:"delay"},function(){return this.Bo},function(t){Wl.j(t,"number",pe,"delay"),this.Bo=t}),pe.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.eb&&!t.zt||!t.El&&!t.sk&&!t.zt||!t.uf)return!1;var e=t.R;return!(!e.left||t.$a!==this&&(!this.isBeyondDragSize()||e.tj&&e.timestamp-t.Ac.timestamp<this.Bo))&&null!==this.findDraggablePart()},pe.prototype.findDraggablePart=function(){var t=this.g;if(null===t)return null;if(null===(t=t.Nt(t.Ac.da,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.La;return null!==t&&(t.canMove()||t.canCopy())?t:null},pe.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.uf){var e=t.Nt(t.Ac.da,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.La;this.tn=e,this.tn.fb||(t.Ca("ChangingSelection"),e=t.R,(Wl.Fk?e.mu:e.control)||e.shift||xi(t),this.tn.fb=!0,t.Ca("ChangedSelection"))}}},pe.prototype.doActivate=function(){var t=this.g;if(null!==t){null===this.tn&&this.standardMouseSelect();var e=this.tn;null!==e&&(e.canMove()||e.canCopy())&&(this.ta=!0,this.sp.set(t.position),ve(this,t.selection),this.Mj.length=0,this.Xb=this.computeEffectiveCollection(t.selection),t.Ju=!0,this.ft(this.Xb),this.Ub("Drag"),this.Jk=t.Ac.da,t.af=!0,t.zt&&(this.ux=!0,this.pr=!1,Mc=this,Pc=this.g,this.doSimulatedDragOut()))}},pe.prototype.computeEffectiveCollection=function(t){var e=null!==this.g&&this.g.$a===this,n=new b(sa);if(null===t)return n;for(var i=t.i;i.next();)ge(this,n,i.value,e);if(null!==this.ed&&this.mj)return n;for(i=t.i;i.next();)(t=i.value)instanceof _a&&(e=t.W,null===e||n.contains(e)?null===(e=t.aa)||n.contains(e)||n.remove(t):n.remove(t));return n},pe.prototype.doDeactivate=function(){this.ta=!1;var t=this.g;if(null!==t&&ir(t),me(this),this.kp(this.Xb),this.Xb=this.tn=null,this.pr=this.ux=!1,0<Sc.count){for(var e=Sc.length,n=0;n<e;n++){var i=Sc.ea(n);Te(i),ke(i),me(i),null!==i.g&&ir(i.g)}Sc.clear()}Te(this),this.sp.l(NaN,NaN),Mc=Pc=null,ke(this),t.af=!1,t.cc="",t.Ju=!1,this.Kk()},pe.prototype.doCancel=function(){ke(this),Pe(this);var t=this.g;null!==t&&this.sp.H()&&(t.position=this.sp),this.stopTool()},pe.prototype.ft=function(t){if(null!==t)for(this.Aw=!0,t=t.i;t.next();){var e=t.key;e instanceof _a&&(e.Dj=!0)}},pe.prototype.kp=function(t){if(null!==t){for(t=t.i;t.next();){var e=t.key;e instanceof _a&&(e.Dj=!1,ts(e)&&e.Yb())}this.Aw=!1}},pe.prototype.doKeyDown=function(){var t=this.g;null!==t&&null!==(t=t.R)&&this.ta&&("Esc"===t.key?this.doCancel():this.doMouseMove())},pe.prototype.doKeyUp=function(){var t=this.g;null!==t&&null!==t.R&&this.ta&&this.doMouseMove()},pe.prototype.moveParts=function(t,e,n){if(null!==t&&(Wl.G(t,b,pe,"moveParts:parts"),0!==t.count)){var i=Wl.K(),r=Wl.K();r.assign(e),isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),(e=this.Aw)||this.ft(t);for(var o=new c(Ie),a=new c(g),s=t.i;s.next();){var h=s.key;if(h.ee()){var l=Me(this,h,t);if(null!==l)o.add(new Ie(h,s.value,l));else if(!n||h.canMove()){l=s.value.point,i.assign(l);var u=Wl.K(),f=this.computeMove(h,i.add(r),t,u);h.location=f,s.value.eG=u.Zn(l),Wl.v(u)}}else s.key instanceof _a&&a.add(s.Wa)}for(n=o.i;n.next();)o=n.value,l=o.info.point,i.assign(l),o.Oc.location=i.add(o.dI.eG);for(n=Wl.K(),l=Wl.K(),a=a.i;a.next();)s=a.value,(o=s.key)instanceof _a&&(o.Dj?(h=o.W,u=o.aa,null!==this.ed&&this.mj?(s=s.value.point,t.add(o,ye(r)),h=r.x-s.x,s=r.y-s.y,o.bm(h,s)):(null!==h&&(n.assign(h.location),null!==(f=t.la(h))&&n.Zn(f.point)),null!==u&&(l.assign(u.location),null!==(f=t.la(u))&&l.Zn(f.point)),null!==h&&null!==u?n.Jc(l)?(s=s.value.point,h=i,h.assign(n),h.Zn(s),t.add(o,ye(n)),o.bm(h.x,h.y)):(o.Dj=!1,o.Yb()):(s=s.value.point,u=null!==h?n:null!==u?l:r,t.add(o,ye(u)),h=u.x-s.x,s=u.y-s.y,o.bm(h,s)))):null!==o.W&&null!==o.aa||(s=s.value.point,t.add(o,ye(r)),h=r.x-s.x,s=r.y-s.y,o.bm(h,s)));Wl.v(i),Wl.v(r),Wl.v(n),Wl.v(l),e||(ai(this.g),this.kp(t))}},pe.prototype.computeMove=function(t,e,n,i){if(void 0===i&&(i=new w),i.assign(e),null===t)return i;void 0===n&&(n=null);var r=e;if(this.vx&&(this.sI||null===n||null!==this.g&&this.g.R.up)&&(r=Wl.K(),n=r,n.assign(e),null!==t)){var o=this.g;if(null!==o){var a=o.Cn,s=this.WE,o=s.width,s=s.height,h=this.cI,l=h.x,h=h.y,u=this.bI;if(null!==a){var c=a.px;isNaN(o)&&(o=c.width),isNaN(s)&&(s=c.height),a=a.VE,isNaN(l)&&(l=a.x),isNaN(h)&&(h=a.y)}a=Wl.xb(0,0),a.Hu(0,0,o,s,u),vt(e.x,e.y,l+a.x,h+a.y,o,s,n),Wl.v(a)}}return n=null!==t.AE?t.AE(t,e,r):r,s=t.TI,o=s.x,isNaN(o)&&(o=t.location.x),s=s.y,isNaN(s)&&(s=t.location.y),a=t.MI,l=a.x,isNaN(l)&&(l=t.location.x),a=a.y,isNaN(a)&&(a=t.location.y),i.l(Math.max(o,Math.min(n.x,l)),Math.max(s,Math.min(n.y,a))),r!==e&&Wl.v(r),i},pe.prototype.doDragOver=function(){},pe.prototype.doDropOnto=function(){},pe.prototype.doMouseMove=function(){if(this.ta){var t=this.g;if(null!==t&&null!==this.tn&&null!==this.Xb){var e=!1,n=!1;this.mayCopy()?(e=!0,t.cc="copy",xe(this,!1),this.ft(this.bc),Se(this,this.bc,!1),this.kp(this.bc)):this.mayMove()?(n=!0,t.cc="default",ke(this),Se(this,this.Xb,!0)):this.mayDragOut()?(t.cc="no-drop",xe(this,!1),Se(this,this.bc,!1)):ke(this),Ne(this,t.R.da,n,e)}}},pe.prototype.doMouseUp=function(){if(this.ta){var t=this.g;if(null!==t){var e=!1,n=this.mayCopy();if(n&&null!==this.bc?(ke(this),xe(this,!0),this.ft(this.bc),Se(this,this.bc,!1),this.kp(this.bc),null!==this.bc&&t.$F(this.bc.Fj())):(e=!0,ke(this),this.mayMove()&&(Se(this,this.Xb,!0),Ne(this,t.R.da,!0,!1))),this.pr=!0,Le(this,t.R.da),this.ta){if(this.bc=null,e&&null!==this.Xb)for(e=this.Xb.i;e.next();){var i=e.key;i instanceof Ea&&(null===(i=i.La)||null===i.placeholder||this.Xb.contains(i)||i.placeholder.I())}t.rc(),this.kp(this.Xb),this.Gf=n?"Copy":"Move",t.Ca(n?"SelectionCopied":"SelectionMoved",t.selection)}this.stopTool()}}},pe.prototype.mayCopy=function(){if(!this.eF)return!1;var t=this.g;if(null===t||t.eb||t.yf||!t.Fp||!t.sk||(Wl.Fk?!t.R.alt:!t.R.control))return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canCopy())return!0}return!(null===this.ed||!this.mj||!this.ed.canCopy())},pe.prototype.mayDragOut=function(){if(!this.eF)return!1;var t=this.g;if(null===t||!t.zt||!t.sk||t.El)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canCopy())return!0}return!(null===this.ed||!this.mj||!this.ed.canCopy())},pe.prototype.mayMove=function(){var t=this.g;if(null===t||t.eb||!t.El)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.ee()&&e.canMove())return!0}return!(null===this.ed||!this.mj||!this.ed.canMove())};var Sc=new c(pe),Mc=null,Pc=null;pe.prototype.getDraggingSource=function(){return Mc},pe.prototype.mayDragIn=function(){var t=this.g;if(null===t||!t.eE||t.eb||t.yf||!t.Fp)return!1;var e=Mc;return null!==e&&null!==e.g&&e.g.ca.Ll===t.ca.Ll},pe.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.g;t.Qa.qi(),ri(t),t=Mc,null!==t&&null!==t.g&&(t.g.cc="copy")}},pe.prototype.doSimulatedDragLeave=function(){var t=Mc;null!==t&&t.doSimulatedDragOut(),this.doCancel()},pe.prototype.doSimulatedDragOver=function(){var t=this.g;if(null!==t){var e=Mc;null!==e&&null!==e.Xb&&this.mayDragIn()&&(t.cc="copy",Fe(this,e.Xb.Fj(),!1),Se(this,this.bc,!1),Ne(this,t.R.da,!1,!0))}},pe.prototype.doSimulatedDrop=function(){var t=this.g;if(null!==t){var e=Mc;if(null!==e){var n=e.g;e.pr=!0,ke(this),this.mayDragIn()&&(this.Ub("Drop"),Fe(this,e.Xb.Fj(),!0),Se(this,this.bc,!1),null!==this.bc&&t.$F(this.bc.Fj()),Le(this,t.R.da),t.rc(),e=t.selection,null!==this.bc?this.Gf="ExternalCopy":e=new d(sa),this.bc=null,t.doFocus(),t.Ca("ExternalObjectsDropped",e,n),this.Kk())}}},pe.prototype.doSimulatedDragOut=function(){var t=this.g;null!==t&&(this.mayCopy()||this.mayMove()?t.cc="":t.cc="no-drop")},Wl.ga("DraggingInfo",Oe),Wl.Ma(Re,fe),Wl.ga("LinkingBaseTool",Re),Re.prototype.doStop=function(){var t=this.g;null!==t&&ir(t),this.Sg=this.Rg=this.Qg=this.Pg=this.kc=null,this.my.clear(),this.Df=null},Wl.defineProperty(Re,{HF:"portGravity"},function(){return this.pD},function(t){Wl.j(t,"number",Re,"portGravity"),0<=t&&(this.pD=t)}),Wl.defineProperty(Re,{eq:"isUnconnectedLinkValid"},function(){return this.RC},function(t){Wl.j(t,"boolean",Re,"isUnconnectedLinkValid"),this.RC=t}),Wl.defineProperty(Re,{Xg:"temporaryLink"},function(){return this.KD},function(t){Wl.G(t,_a,Re,"temporaryLink"),this.KD=t}),Wl.defineProperty(Re,{Qd:"temporaryFromNode"},function(){return this.HD},function(t){Wl.G(t,Ea,Re,"temporaryFromNode"),this.HD=t}),Wl.defineProperty(Re,{$n:"temporaryFromPort"},function(){return this.JD},function(t){Wl.G(t,Tr,Re,"temporaryFromPort"),this.JD=t}),Wl.defineProperty(Re,{Rd:"temporaryToNode"},function(){return this.LD},function(t){Wl.G(t,Ea,Re,"temporaryToNode"),this.LD=t}),Wl.defineProperty(Re,{ao:"temporaryToPort"},function(){return this.MD},function(t){Wl.G(t,Tr,Re,"temporaryToPort"),this.MD=t}),Wl.defineProperty(Re,{kc:"originalLink"},function(){return this.jD},function(t){null!==t&&Wl.G(t,_a,Re,"originalLink"),this.jD=t}),Wl.defineProperty(Re,{Pg:"originalFromNode"},function(){return this.hD},function(t){null!==t&&Wl.G(t,Ea,Re,"originalFromNode"),this.hD=t}),Wl.defineProperty(Re,{Qg:"originalFromPort"},function(){return this.iD},function(t){null!==t&&Wl.G(t,Tr,Re,"originalFromPort"),this.iD=t}),Wl.defineProperty(Re,{Rg:"originalToNode"},function(){return this.mD},function(t){null!==t&&Wl.G(t,Ea,Re,"originalToNode"),this.mD=t}),Wl.defineProperty(Re,{Sg:"originalToPort"},function(){return this.nD},function(t){null!==t&&Wl.G(t,Tr,Re,"originalToPort"),this.nD=t}),Wl.defineProperty(Re,{Md:"isForwards"},function(){return this.NC},function(t){Wl.j(t,"boolean",Re,"isForwards"),this.NC=t}),Wl.u(Re,{my:"validPortsCache"},function(){return this.UG}),Wl.defineProperty(Re,{Df:"targetPort"},function(){return this.ED},function(t){null!==t&&Wl.G(t,Tr,Re,"targetPort"),this.ED=t}),Re.prototype.copyPortProperties=function(t,e,n,i,r){if(null!==t&&null!==e&&null!==n&&null!==i){i.Ba=e.Y.size,r?(i.Bb=e.Bb,i.km=e.km):(i.Ab=e.Ab,i.Sl=e.Sl),n.Af=au;var o=Wl.K();n.location=e.Xa(au,o),Wl.v(o),i.angle=e.yn(),null!==this.Qx&&this.Qx(t,e,n,i,r)}},Re.prototype.setNoTargetPortProperties=function(t,e,n){null!==e&&(e.Ba=Hu,e.Ab=tu,e.Bb=tu),null!==t&&null!==this.g&&(t.location=this.g.R.da),null!==this.Qx&&this.Qx(null,null,t,e,n)},Re.prototype.doMouseDown=function(){this.ta&&this.doMouseMove()},Re.prototype.doMouseMove=function(){if(this.ta){var t=this.g;if(null!==t){if(this.Df=this.findTargetPort(this.Md),null!==this.Df&&this.Df.V instanceof Ea){var e=this.Df.V;this.Md?this.copyPortProperties(e,this.Df,this.Rd,this.ao,!0):this.copyPortProperties(e,this.Df,this.Qd,this.$n,!1)}else this.Md?this.setNoTargetPortProperties(this.Rd,this.ao,!0):this.setNoTargetPortProperties(this.Qd,this.$n,!1);(t.ne||t.oe)&&t.aA(t.R.cf)}}},Re.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var n=t.V;if(!(n instanceof Ea))return null;for(;null!==t;){var i=e?t.nG:t.ME;if(!0===i&&(null!==t.Pd||t instanceof Ea)&&(e?this.isValidTo(n,t):this.isValidFrom(n,t)))return t;if(!1===i)break;t=t.N}return null},Re.prototype.findTargetPort=function(t){var e=this.g,n=e.R.da,i=this.HF;0>=i&&(i=.1);for(var r=this,o=e.vn(n,i,function(e){return r.findValidLinkablePort(e,t)},null,!0),i=1/0,e=null,o=o.i;o.next();){var a=o.value,s=a.V;if(s instanceof Ea){var h=a.Xa(au,Wl.K()),l=n.x-h.x,u=n.y-h.y;Wl.v(h),h=l*l+u*u,h<i&&(l=this.my.la(a),null!==l?l&&(e=a,i=h):t&&this.isValidLink(this.Pg,this.Qg,s,a)||!t&&this.isValidLink(s,a,this.Rg,this.Sg)?(this.my.add(a,!0),e=a,i=h):this.my.add(a,!1))}}return null!==e&&(n=e.V)instanceof Ea&&(null===n.layer||n.layer.At)?e:null},Re.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.eq;if(null!==this.g&&this.g.$a===this&&(null!==t.layer&&!t.layer.At||!0!==e.ME))return!1;var n=e.iA;if(1/0>n){if(null!==this.kc&&t===this.Pg&&e===this.Qg)return!0;var i=e.Pd;if(null===i&&(i=""),t.ix(i).count>=n)return!1}return!0},Re.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.eq;if(null!==this.g&&this.g.$a===this&&(null!==t.layer&&!t.layer.At||!0!==e.nG))return!1;var n=e.MJ;if(1/0>n){if(null!==this.kc&&t===this.Rg&&e===this.Sg)return!0;var i=e.Pd;if(null===i&&(i=""),t.Jg(i).count>=n)return!1}return!0},Re.prototype.isInSameNode=function(t,e){if(null===t||null===e)return!1;if(t===e)return!0;var n=t.V,i=e.V;return null!==n&&n===i},Re.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var n=t.V;if(!(n instanceof Ea))return!1;var i=t.Pd;null===i&&(i="");var r=e.V;if(!(r instanceof Ea))return!1;var o=e.Pd;for(null===o&&(o=""),r=r.Jg(o);r.next();)if(o=r.value,o.W===n&&o.Kg===i)return!0;return!1},Re.prototype.isValidLink=function(t,e,n,i){if(!this.isValidFrom(t,e)||!this.isValidTo(n,i)||!(null===e||null===i||(e.UH&&i.LJ||!this.isInSameNode(e,i))&&(e.TH&&i.KJ||!this.isLinked(e,i)))||null!==this.kc&&(null!==t&&this.isLabelDependentOnLink(t,this.kc)||null!==n&&this.isLabelDependentOnLink(n,this.kc))||null!==t&&null!==n&&(null===t.data&&null!==n.data||null!==t.data&&null===n.data)||!this.isValidCycle(t,n,this.kc))return!1;if(null!==t){var r=t.Gx;if(null!==r&&!r(t,e,n,i,this.kc))return!1}return!(null!==n&&null!==(r=n.Gx)&&!r(t,e,n,i,this.kc))&&(null===(r=this.Gx)||r(t,e,n,i,this.kc))},Re.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var n=t.Mc;if(null===n)return!1;if(n===e)return!0;var i=new d(Ea);return i.add(t),Be(this,n,e,i)},Re.prototype.isValidCycle=function(t,e,n){if(void 0===n&&(n=null),null===t||null===e)return this.eq;var i=null!==this.g?this.g.SJ:ef;if(i!==ef){if(i===af){if(null!==n&&!n.Lc)return!0;for(i=e.ge;i.next();){var r=i.value;if(r!==n&&r.Lc&&r.aa===e)return!1}return!qe(this,t,e,n,!0)}if(i===sf){if(null!==n&&!n.Lc)return!0;for(i=t.ge;i.next();)if((r=i.value)!==n&&r.Lc&&r.W===t)return!1;return!qe(this,t,e,n,!0)}if(i===nf)return t===e?t=!0:(i=new d(Ea),i.add(e),t=ze(this,i,t,e,n)),!t;if(i===rf)return!qe(this,t,e,n,!1);if(i===of)return t===e?t=!0:(i=new d(Ea),i.add(e),t=Ve(this,i,t,e,n)),!t}return!0},Wl.defineProperty(Re,{Gx:"linkValidation"},function(){return this.nl},function(t){null!==t&&Wl.j(t,"function",Re,"linkValidation"),this.nl=t}),Wl.defineProperty(Re,{Qx:"portTargeted"},function(){return this.qD},function(t){null!==t&&Wl.j(t,"function",Re,"portTargeted"),this.qD=t}),Wl.Ma(Ue,Re),Wl.ga("LinkingTool",Ue);var Cc;Ue.Either=Cc=Wl.p(Ue,"Either",0);var Nc;Ue.ForwardsOnly=Nc=Wl.p(Ue,"ForwardsOnly",0);var Dc;Ue.BackwardsOnly=Dc=Wl.p(Ue,"BackwardsOnly",0),Wl.defineProperty(Ue,{gH:"archetypeLinkData"},function(){return this.MB},function(t){null!==t&&Wl.G(t,Object,Ue,"archetypeLinkData"),t instanceof Tr&&Wl.G(t,_a,Ue,"archetypeLinkData"),this.MB=t}),Wl.defineProperty(Ue,{hE:"archetypeLabelNodeData"},function(){return this.LB},function(t){null!==t&&Wl.G(t,Object,Ue,"archetypeLabelNodeData"),t instanceof Tr&&Wl.G(t,Ea,Ue,"archetypeLabelNodeData"),this.LB=t}),Wl.defineProperty(Ue,{direction:"direction"},function(){return this.ba},function(t){Wl.nb(t,Ue,Ue,"direction"),this.ba=t}),Wl.defineProperty(Ue,{iG:"startObject"},function(){return this.zD},function(t){null!==t&&Wl.G(t,Tr,Ue,"startObject"),this.zD=t}),Ue.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.eb||t.yf||!t.At)return!1;var e=t.ca;return!(!(e instanceof Qt||e instanceof ne)||!t.R.left||t.$a!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},Ue.prototype.findLinkablePort=function(){var t=this.g;if(null===t)return null;var e=this.iG;if(null===e&&(e=t.Ke(t.Ac.da,null,null)),null===e||!(e.V instanceof Ea))return null;if((t=this.direction)===Cc||t===Nc){var n=this.findValidLinkablePort(e,!1);if(null!==n)return this.Md=!0,n}return t!==Cc&&t!==Dc||null===(n=this.findValidLinkablePort(e,!0))?null:(this.Md=!1,n)},Ue.prototype.doActivate=function(){var t=this.g;if(null!==t){var e=this.findLinkablePort();null!==e&&(this.Ub(this.name),t.af=!0,t.cc="pointer",this.Md?(null===this.Rd||this.Rd.location.H()||(this.Rd.location=t.R.da),this.Qg=e,e=this.Qg.V,e instanceof Ea&&(this.Pg=e),this.copyPortProperties(this.Pg,this.Qg,this.Qd,this.$n,!1)):(null===this.Qd||this.Qd.location.H()||(this.Qd.location=t.R.da),this.Sg=e,e=this.Sg.V,e instanceof Ea&&(this.Rg=e),this.copyPortProperties(this.Rg,this.Sg,this.Rd,this.ao,!0)),t.add(this.Qd),t.add(this.Rd),null!==this.Xg&&(null!==this.Qd&&(this.Xg.W=this.Qd),null!==this.Rd&&(this.Xg.aa=this.Rd),this.Xg.Yb(),t.add(this.Xg)),this.ta=!0)}},Ue.prototype.doDeactivate=function(){this.ta=!1;var t=this.g;null!==t&&(t.remove(this.Xg),t.remove(this.Qd),t.remove(this.Rd),t.af=!1,t.cc="",this.Kk())},Ue.prototype.doStop=function(){Re.prototype.doStop.call(this),this.iG=null},Ue.prototype.doMouseUp=function(){if(this.ta){var t=this.g;if(null===t)return;var e=this.Gf=null,n=null,i=null,r=null,o=this.Df=this.findTargetPort(this.Md);if(null!==o){var a=o.V;a instanceof Ea&&(this.Md?(null!==this.Pg&&(e=this.Pg,n=this.Qg),i=a,r=o):(e=a,n=o,null!==this.Rg&&(i=this.Rg,r=this.Sg)))}else this.Md?null!==this.Pg&&this.eq&&(e=this.Pg,n=this.Qg):null!==this.Rg&&this.eq&&(i=this.Rg,r=this.Sg);null!==e||null!==i?(a=this.insertLink(e,n,i,r),null!==a?(null===o&&(this.Md?a.Qp=t.R.da:a.Pp=t.R.da),t.uf&&t.select(a),this.Gf=this.name,t.Ca("LinkDrawn",a)):(t.ca.lE(),this.doNoLink(e,n,i,r))):this.Md?this.doNoLink(this.Pg,this.Qg,null,null):this.doNoLink(null,null,this.Rg,this.Sg)}this.stopTool()},Ue.prototype.insertLink=function(t,e,n,i){var r=this.g;if(null===r)return null;var o=r.ca;if(o instanceof ne){var a=t;if(e=n,r.Od||(a=n,e=t),null!==a&&null!==e)return o.pi(e.data,o.ub(a.data)),e.wn()}else if(o instanceof Qt)if(a="",null!==t&&(null===e&&(e=t),null===(a=e.Pd)&&(a="")),e="",null!==n&&(null===i&&(i=n),null===(e=i.Pd)&&(e="")),(i=this.gH)instanceof _a){if(mo(i),null!==(o=i.copy()))return o.W=t,o.Kg=a,o.aa=n,o.Fh=e,r.add(o),t=this.hE,t instanceof Ea&&(mo(t),null!==(t=t.copy())&&(t.Mc=o,r.add(t))),o}else if(null!==i&&(i=o.Uw(i),Wl.Ua(i)))return null!==t&&o.ZA(i,o.ub(t.data)),o.$A(i,a),null!==n&&o.eB(i,o.ub(n.data)),o.fB(i,e),o.vt(i),t=this.hE,null===t||t instanceof Ea||(t=o.copyNodeData(t),Wl.Ua(t)&&(o.Bl(t),void 0!==(t=o.ub(t))&&o.cE(i,t))),o=r.Rf(i);return null},Ue.prototype.doNoLink=function(){},Wl.Ma(He,Re),Wl.ga("RelinkingTool",He),He.prototype.updateAdornments=function(t){if(null!==t&&t instanceof _a){var e="RelinkFrom",n=null;if(t.fb&&null!==this.g&&!this.g.eb){var i=t.Eu;null!==i&&t.canRelinkFrom()&&t.Y.H()&&t.isVisible()&&i.Y.H()&&i.vj()&&null===(n=t.Up(e))&&(n=this.makeAdornment(i,!1),t.Al(e,n))}null===n&&t.Aj(e),e="RelinkTo",n=null,t.fb&&null!==this.g&&!this.g.eb&&null!==(i=t.Eu)&&t.canRelinkTo()&&t.Y.H()&&t.isVisible()&&i.Y.H()&&i.vj()&&null===(n=t.Up(e))&&(n=this.makeAdornment(i,!0),t.Al(e,n)),null===n&&t.Aj(e)}},He.prototype.makeAdornment=function(t,e){var n=new Aa;n.type=ed;var i=e?this.JJ:this.SH;return null!==i&&n.add(i.copy()),n.rb=t,n},Wl.defineProperty(He,{SH:"fromHandleArchetype"},function(){return this.AC},function(t){null!==t&&Wl.G(t,Tr,He,"fromHandleArchetype"),this.AC=t}),Wl.defineProperty(He,{JJ:"toHandleArchetype"},function(){return this.ND},function(t){null!==t&&Wl.G(t,Tr,He,"toHandleArchetype"),this.ND=t}),Wl.u(He,{handle:"handle"},function(){return this.fc}),He.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.eb||t.yf||!t.jn)return!1;var e=t.ca;return!(!(e instanceof Qt||e instanceof ne)||!t.R.left)&&(e=this.findToolHandleAt(t.Ac.da,"RelinkFrom"),null===e&&(e=this.findToolHandleAt(t.Ac.da,"RelinkTo")),null!==e)},He.prototype.doActivate=function(){var t=this.g;if(null!==t){if(null===this.kc){var e=this.findToolHandleAt(t.Ac.da,"RelinkFrom");if(null===e&&(e=this.findToolHandleAt(t.Ac.da,"RelinkTo")),null===e)return;var n=e.V;if(!(n instanceof Aa&&n.Of instanceof _a))return;this.fc=e,this.Md=null===n||"RelinkTo"===n.sd,this.kc=n.Of}this.Ub(this.name),t.af=!0,t.cc="pointer",this.Qg=this.kc.fd,this.Pg=this.kc.W,this.Sg=this.kc.Sd,this.Rg=this.kc.aa,this.kD.set(this.kc.Y),null!==this.kc&&0<this.kc.ra&&(null===this.kc.W&&(null!==this.$n&&(this.$n.Ba=Uu),null!==this.Qd&&(this.Qd.location=this.kc.m(0))),null===this.kc.aa&&(null!==this.ao&&(this.ao.Ba=Uu),null!==this.Rd&&(this.Rd.location=this.kc.m(this.kc.ra-1)))),this.copyPortProperties(this.Pg,this.Qg,this.Qd,this.$n,!1),this.copyPortProperties(this.Rg,this.Sg,this.Rd,this.ao,!0),t.add(this.Qd),t.add(this.Rd),null!==this.Xg&&(null!==this.Qd&&(this.Xg.W=this.Qd),null!==this.Rd&&(this.Xg.aa=this.Rd),this.copyLinkProperties(this.kc,this.Xg),this.Xg.Yb(),t.add(this.Xg)),this.ta=!0}},He.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.xt=t.xt,e.Xz=t.Xz;var n=t.Ze;n!==Gd&&n!==Hd||(n=Vd),e.Ze=n,e.Xw=t.Xw,e.Zx=t.Zx,e.xq=t.xq,e.Ab=t.Ab,e.Sl=t.Sl,e.St=t.St,e.Tt=t.Tt,e.Bb=t.Bb,e.km=t.km,e.Lu=t.Lu,e.Mu=t.Mu}},He.prototype.doDeactivate=function(){this.ta=!1;var t=this.g;null!==t&&(t.remove(this.Xg),t.remove(this.Qd),t.remove(this.Rd),t.af=!1,t.cc="",this.Kk())},He.prototype.doStop=function(){Re.prototype.doStop.call(this),this.fc=null},He.prototype.doMouseUp=function(){if(this.ta){var t=this.g;if(null===t)return;this.Gf=null;var e=this.Pg,n=this.Qg,i=this.Rg,r=this.Sg,o=this.kc;if(this.Df=this.findTargetPort(this.Md),null!==this.Df){var a=this.Df.V;a instanceof Ea&&(this.Md?(i=a,r=this.Df):(e=a,n=this.Df))}else this.eq?this.Md?r=i=null:n=e=null:o=null;null!==o?(this.reconnectLink(o,this.Md?i:e,this.Md?r:n,this.Md),null===this.Df&&(this.Md?o.Qp=t.R.da:o.Pp=t.R.da,o.Yb()),t.uf&&(o.fb=!0),this.Gf=this.name,t.Ca("LinkRelinked",o,this.Md?this.Sg:this.Qg)):this.doNoRelink(this.kc,this.Md),us(this.kc,this.kD)}this.stopTool()},He.prototype.reconnectLink=function(t,e,n,i){return null!==this.g&&(n=null!==n&&null!==n.Pd?n.Pd:"",i?(t.aa=e,t.Fh=n):(t.W=e,t.Kg=n),!0)},He.prototype.doNoRelink=function(){},Wl.Ma(_e,fe),Wl.ga("LinkReshapingTool",_e);var Ac;_e.None=Ac=Wl.p(_e,"None",0);var Ec;_e.Horizontal=Ec=Wl.p(_e,"Horizontal",1);var jc;_e.Vertical=jc=Wl.p(_e,"Vertical",2);var Lc;_e.All=Lc=Wl.p(_e,"All",3),_e.prototype.getReshapingBehavior=_e.prototype.QE=function(t){return t&&t.sD?t.sD:Ac},_e.prototype.setReshapingBehavior=_e.prototype.Gu=function(t,e){Wl.G(t,Tr,_e,"setReshapingBehavior:obj"),Wl.nb(e,_e,_e,"setReshapingBehavior:behavior"),t.sD=e},_e.prototype.updateAdornments=function(t){if(null!==t&&t instanceof _a){if(t.fb&&null!==this.g&&!this.g.eb){var e=t.path;if(null!==e&&t.canReshape()&&t.Y.H()&&t.isVisible()&&e.Y.H()&&e.vj()){var n=t.Up(this.name);if(null!==n&&n.LG===t.ra&&n.WG===t.Au||null!==(n=this.makeAdornment(e))&&(n.LG=t.ra,n.WG=t.Au,t.Al(this.name,n)),null!==n)return void(n.location=t.position)}}t.Aj(this.name)}},_e.prototype.makeAdornment=function(t){var e=t.V,n=e.ra,i=e.jc,r=null;if(null!==e.points&&1<n){r=new Aa,r.type=ed;var n=e.Ot,o=e.Cx,a=i?1:0;if(e.Au&&e.Ze!==Ud)for(var s=n+a;s<o-a;s++){var h=this.makeResegmentHandle(t,s);null!==h&&(h.Ne=s,h.WA=.5,h.iA=999,r.add(h))}for(s=n+1;s<o;s++)if(null!==(h=this.makeHandle(t,s))){if(h.Ne=s,s!==n)if(s===n+1&&i){var a=e.m(n),l=e.m(n+1);Y(a.x,l.x)&&Y(a.y,l.y)&&(l=e.m(n-1)),Y(a.x,l.x)?(this.Gu(h,jc),h.cursor="n-resize"):Y(a.y,l.y)&&(this.Gu(h,Ec),h.cursor="w-resize")}else s===o-1&&i?(a=e.m(o-1),l=e.m(o),Y(a.x,l.x)&&Y(a.y,l.y)&&(a=e.m(o+1)),Y(a.x,l.x)?(this.Gu(h,jc),h.cursor="n-resize"):Y(a.y,l.y)&&(this.Gu(h,Ec),h.cursor="w-resize")):s!==o&&(this.Gu(h,Lc),h.cursor="move");r.add(h)}r.rb=t}return r},_e.prototype.makeHandle=function(){var t=this.Vt;return null===t?null:t.copy()},Wl.defineProperty(_e,{Vt:"handleArchetype"},function(){return this.cl},function(t){null!==t&&Wl.G(t,Tr,_e,"handleArchetype"),this.cl=t}),_e.prototype.makeResegmentHandle=function(){var t=this.SI;return null===t?null:t.copy()},Wl.defineProperty(_e,{SI:"midHandleArchetype"},function(){return this.YC},function(t){null!==t&&Wl.G(t,Tr,_e,"midHandleArchetype"),this.YC=t}),Wl.u(_e,{handle:"handle"},function(){return this.fc}),Wl.u(_e,{yt:"adornedLink"},function(){return this.By}),_e.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.eb||!t.Mw||!t.R.left)&&null!==this.findToolHandleAt(t.Ac.da,this.name)},_e.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.fc=this.findToolHandleAt(t.Ac.da,this.name),null!==this.fc)){var e=this.fc.V.Of;if(e instanceof _a){if(this.By=e,t.af=!0,this.Ub(this.name),e.Au&&999===this.fc.iA){var n=e.points.copy(),i=this.fc.Xa(au);if(n.Ld(this.fc.Ne+1,i),e.jc&&n.Ld(this.fc.Ne+1,i),e.points=n,e.de(),this.fc=this.findToolHandleAt(t.Ac.da,this.name),null===this.fc)return void this.doDeactivate()}this.gp=e.m(this.fc.Ne),this.fw=e.points.copy(),this.ta=!0}}},_e.prototype.doDeactivate=function(){this.Kk(),this.By=this.fc=null;var t=this.g;null!==t&&(t.af=!1),this.ta=!1},_e.prototype.doCancel=function(){var t=this.yt;null!==t&&(t.points=this.fw),this.stopTool()},_e.prototype.doMouseMove=function(){var t=this.g;this.ta&&null!==t&&(t=this.computeReshape(t.R.da),this.reshape(t))},_e.prototype.doMouseUp=function(){var t=this.g;if(this.ta&&null!==t){var e=this.computeReshape(t.R.da);if(this.reshape(e),null!==(e=this.yt)&&e.Au){var n=this.handle.Ne,i=e.m(n-1),r=e.m(n),o=e.m(n+1);if(e.jc){if(n>e.Ot+1&&n<e.Cx-1){var a=e.m(n-2);if(Math.abs(i.x-r.x)<this.Dh&&Math.abs(i.y-r.y)<this.Dh&&(We(this,a,i,r,o,!0)||We(this,a,i,r,o,!1))){var s=e.points.copy();We(this,a,i,r,o,!0)?(s.gg(n-2,new w(a.x,(o.y+a.y)/2)),s.gg(n+1,new w(o.x,(o.y+a.y)/2))):(s.gg(n-2,new w((o.x+a.x)/2,a.y)),s.gg(n+1,new w((o.x+a.x)/2,o.y))),s.Yc(n),s.Yc(n-1),e.points=s,e.de()}else a=e.m(n+2),Math.abs(r.x-o.x)<this.Dh&&Math.abs(r.y-o.y)<this.Dh&&(We(this,i,r,o,a,!0)||We(this,i,r,o,a,!1))&&(s=e.points.copy(),We(this,i,r,o,a,!0)?(s.gg(n-1,new w(i.x,(i.y+a.y)/2)),s.gg(n+2,new w(a.x,(i.y+a.y)/2))):(s.gg(n-1,new w((i.x+a.x)/2,i.y)),s.gg(n+2,new w((i.x+a.x)/2,a.y))),s.Yc(n+1),s.Yc(n),e.points=s,e.de())}}else a=Wl.K(),at(i.x,i.y,o.x,o.y,r.x,r.y,a)&&a.vf(r)<this.Dh*this.Dh&&(s=e.points.copy(),s.Yc(n),e.points=s,e.de()),Wl.v(a)}t.rc(),this.Gf=this.name,t.Ca("LinkReshaped",this.yt,this.fw)}this.stopTool()},Wl.defineProperty(_e,{Dh:"resegmentingDistance"},function(){return this.rD},function(t){Wl.j(t,"number",_e,"resegmentingDistance"),this.rD=t}),_e.prototype.reshape=function(t){var e=this.yt;e.gm();var n=this.handle.Ne,i=this.QE(this.handle);if(e.jc)if(n===e.Ot+1)n=e.Ot+1,i===jc?(e.fa(n,e.m(n-1).x,t.y),e.fa(n+1,e.m(n+2).x,t.y)):i===Ec&&(e.fa(n,t.x,e.m(n-1).y),e.fa(n+1,t.x,e.m(n+2).y));else if(n===e.Cx-1)n=e.Cx-1,i===jc?(e.fa(n-1,e.m(n-2).x,t.y),e.fa(n,e.m(n+1).x,t.y)):i===Ec&&(e.fa(n-1,t.x,e.m(n-2).y),e.fa(n,t.x,e.m(n+1).y));else{var i=n,r=e.m(i),o=e.m(i-1),a=e.m(i+1);Y(o.x,r.x)&&Y(r.y,a.y)?(Y(o.x,e.m(i-2).x)&&!Y(o.y,e.m(i-2).y)?(e.w(i,t.x,o.y),n++,i++):e.fa(i-1,t.x,o.y),Y(a.y,e.m(i+2).y)&&!Y(a.x,e.m(i+2).x)?e.w(i+1,a.x,t.y):e.fa(i+1,a.x,t.y)):Y(o.y,r.y)&&Y(r.x,a.x)?(Y(o.y,e.m(i-2).y)&&!Y(o.x,e.m(i-2).x)?(e.w(i,o.x,t.y),n++,i++):e.fa(i-1,o.x,t.y),Y(a.x,e.m(i+2).x)&&!Y(a.y,e.m(i+2).y)?e.w(i+1,t.x,a.y):e.fa(i+1,t.x,a.y)):Y(o.x,r.x)&&Y(r.x,a.x)?(Y(o.x,e.m(i-2).x)&&!Y(o.y,e.m(i-2).y)?(e.w(i,t.x,o.y),n++,i++):e.fa(i-1,t.x,o.y),Y(a.x,e.m(i+2).x)&&!Y(a.y,e.m(i+2).y)?e.w(i+1,t.x,a.y):e.fa(i+1,t.x,a.y)):Y(o.y,r.y)&&Y(r.y,a.y)&&(Y(o.y,e.m(i-2).y)&&!Y(o.x,e.m(i-2).x)?(e.w(i,o.x,t.y),n++,i++):e.fa(i-1,o.x,t.y),Y(a.y,e.m(i+2).y)&&!Y(a.x,e.m(i+2).x)?e.w(i+1,a.x,t.y):e.fa(i+1,a.x,t.y)),e.fa(n,t.x,t.y)}else e.fa(n,t.x,t.y),1===n&&e.computeSpot(!0).Nd()&&(r=e.W,o=e.fd,null===r||r.isVisible()||(r=r.findVisibleNode())!==e.W&&(o=r.Pl("")),i=o.Xa(au,Wl.K()),r=e.getLinkPointFromPoint(r,o,i,t,!0,Wl.K()),e.fa(0,r.x,r.y),Wl.v(i),Wl.v(r)),n===e.ra-2&&e.computeSpot(!1).Nd()&&(n=e.aa,r=e.Sd,null===n||n.isVisible()||(n=n.findVisibleNode())!==e.aa&&(r=n.Pl("")),i=r.Xa(au,Wl.K()),r=e.getLinkPointFromPoint(n,r,i,t,!1,Wl.K()),e.fa(e.ra-1,r.x,r.y),Wl.v(i),Wl.v(r));e.jj()},_e.prototype.computeReshape=function(t){var e=this.yt,n=this.handle.Ne;switch(this.QE(this.handle)){case Lc:return t;case jc:return e=e.m(n),new w(e.x,t.y);case Ec:return e=e.m(n),new w(t.x,e.y);default:case Ac:return e.m(n)}},Wl.u(_e,{sL:"originalPoint"},function(){return this.gp}),Wl.u(_e,{tL:"originalPoints"},function(){return this.fw}),Wl.Ma(Ke,fe),Wl.ga("ResizingTool",Ke),Ke.prototype.updateAdornments=function(t){if(!(null===t||t instanceof _a)){if(t.fb&&null!==this.g&&!this.g.eb){var e=t.SF;if(null!==e&&t.canResize()&&t.Y.H()&&t.isVisible()&&e.Y.H()&&e.vj()){var n=t.Up(this.name);if(null!==n&&n.rb===e||(n=this.makeAdornment(e)),null!==n){var i=e.yn();n.angle=i;var r=e.Xa(n.Af,Wl.K()),o=e.nj();if(n.location=r,Wl.v(r),null!==(r=n.placeholder)){var e=e.Ja,a=Wl.jm();a.l(e.width*o,e.height*o),r.Ba=a,Wl.Ak(a)}return this.updateResizeHandles(n,i),void t.Al(this.name,n)}}}t.Aj(this.name)}},Ke.prototype.makeAdornment=function(t){var e=null,e=t.V.RF;if(null===e){e=new Aa,e.type=Jf,e.Af=au;var n=new Fs;n.Vf=!0,e.add(n),e.add(this.makeHandle(t,nu)),e.add(this.makeHandle(t,ru)),e.add(this.makeHandle(t,uu)),e.add(this.makeHandle(t,hu)),e.add(this.makeHandle(t,cu)),e.add(this.makeHandle(t,du)),e.add(this.makeHandle(t,pu)),e.add(this.makeHandle(t,fu))}else if(mo(e),null===(e=e.copy()))return null;return e.rb=t,e},Ke.prototype.makeHandle=function(t,e){var n=this.Vt;return null===n?null:(n=n.copy(),n.alignment=e,n)},Ke.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Vc()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var n=t.alignment;n.Nd()&&(n=au);var i=e;if(0>=n.x)i=0>=n.y?i+225:1<=n.y?i+135:i+180;else if(1<=n.x)0>=n.y?i+=315:1<=n.y&&(i+=45);else if(0>=n.y)i+=270;else{if(!(1<=n.y))break t;i+=90}0>i?i+=360:360<=i&&(i-=360),t.cursor=22.5>i?"e-resize":67.5>i?"se-resize":112.5>i?"s-resize":157.5>i?"sw-resize":202.5>i?"w-resize":247.5>i?"nw-resize":292.5>i?"n-resize":337.5>i?"ne-resize":"e-resize"}else if(t instanceof Qr)for(n=t.elements;n.next();)this.updateResizeHandles(n.value,e)},Wl.defineProperty(Ke,{Vt:"handleArchetype"},function(){return this.cl},function(t){null!==t&&Wl.G(t,Tr,Ke,"handleArchetype"),this.cl=t}),Wl.u(Ke,{handle:"handle"},function(){return this.fc}),Wl.defineProperty(Ke,{rb:"adornedObject"},function(){return this.Ec},function(t){null!==t&&Wl.G(t,Tr,Ke,"adornedObject"),this.Ec=t}),Ke.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.eb||!t.Bt||!t.R.left)&&null!==this.findToolHandleAt(t.Ac.da,this.name)},Ke.prototype.doActivate=function(){var t=this.g;null!==t&&(this.fc=this.findToolHandleAt(t.Ac.da,this.name),null!==this.fc&&(this.Ec=this.fc.V.rb,this.gp.set(this.rb.Xa(this.handle.alignment.CF())),this.lD.set(this.Ec.V.location),this.gD.set(this.Ec.Ba),this.Vy=this.computeCellSize(),this.Xy=this.computeMinSize(),this.Wy=this.computeMaxSize(),t.af=!0,this.eD=t.Qa.isEnabled,t.Qa.isEnabled=!1,this.Ub(this.name),this.ta=!0))},Ke.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.Kk(),this.Ec=this.fc=null,this.ta=t.af=!1,t.Qa.isEnabled=this.eD)},Ke.prototype.doCancel=function(){null!==this.rb&&(this.rb.Ba=this.DF,this.rb.V.location=this.bJ),this.stopTool()},Ke.prototype.doMouseMove=function(){var t=this.g;if(this.ta&&null!==t){var e=this.Xy,n=this.Wy,i=this.Vy,r=this.rb.OE(t.R.da,Wl.K()),o=this.computeReshape(),e=this.computeResize(r,this.handle.alignment,e,n,i,o);this.resize(e),t.Zf(),Wl.v(r)}},Ke.prototype.doMouseUp=function(){var t=this.g;if(this.ta&&null!==t){var e=this.Xy,n=this.Wy,i=this.Vy,r=this.rb.OE(t.R.da,Wl.K()),o=this.computeReshape(),e=this.computeResize(r,this.handle.alignment,e,n,i,o);this.resize(e),Wl.v(r),t.rc(),this.Gf=this.name,t.Ca("PartResized",this.rb,this.DF)}this.stopTool()},Ke.prototype.resize=function(t){if(null!==this.g){var e=this.rb,n=e.V;e.Ba=t.size,n.$e(),t=this.rb.Xa(this.handle.alignment.CF()),n instanceof Ds?(t=n.position.copy().Zn(t).add(this.gp),n.move(t)):n.location=n.location.copy().Zn(t).add(this.gp)}},Ke.prototype.computeResize=function(t,e,n,i,r,o){e.Nd()&&(e=au);var a=this.rb.Ja,s=a.x,h=a.y,l=a.x+a.width,u=a.y+a.height,c=1;if(!o){var c=a.width,f=a.height;0>=c&&(c=1),0>=f&&(f=1),c=f/c}return f=Wl.K(),vt(t.x,t.y,s,h,r.width,r.height,f),t=a.copy(),0>=e.x?0>=e.y?(t.x=Math.max(f.x,l-i.width),t.x=Math.min(t.x,l-n.width),t.width=Math.max(l-t.x,n.width),t.y=Math.max(f.y,u-i.height),t.y=Math.min(t.y,u-n.height),t.height=Math.max(u-t.y,n.height),o||(e=t.height/t.width,c<e?(t.height=c*t.width,t.y=u-t.height):(t.width=t.height/c,t.x=l-t.width))):1<=e.y?(t.x=Math.max(f.x,l-i.width),t.x=Math.min(t.x,l-n.width),t.width=Math.max(l-t.x,n.width),t.height=Math.max(Math.min(f.y-h,i.height),n.height),o||(e=t.height/t.width,c<e?t.height=c*t.width:(t.width=t.height/c,t.x=l-t.width))):(t.x=Math.max(f.x,l-i.width),t.x=Math.min(t.x,l-n.width),t.width=l-t.x,o||(t.height=c*t.width,t.y=h+.5*(u-h-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(f.x-s,i.width),n.width),t.y=Math.max(f.y,u-i.height),t.y=Math.min(t.y,u-n.height),t.height=Math.max(u-t.y,n.height),o||(e=t.height/t.width,c<e?(t.height=c*t.width,t.y=u-t.height):t.width=t.height/c)):1<=e.y?(t.width=Math.max(Math.min(f.x-s,i.width),n.width),t.height=Math.max(Math.min(f.y-h,i.height),n.height),o||(e=t.height/t.width,c<e?t.height=c*t.width:t.width=t.height/c)):(t.width=Math.max(Math.min(f.x-s,i.width),n.width),o||(t.height=c*t.width,t.y=h+.5*(u-h-t.height))):0>=e.y?(t.y=Math.max(f.y,u-i.height),t.y=Math.min(t.y,u-n.height),t.height=u-t.y,o||(t.width=t.height/c,t.x=s+.5*(l-s-t.width))):1<=e.y&&(t.height=Math.max(Math.min(f.y-h,i.height),n.height),o||(t.width=t.height/c,t.x=s+.5*(l-s-t.width))),Wl.v(f),t},Ke.prototype.computeReshape=function(){var t=Ff;return this.rb instanceof Po&&(t=Ao(this.rb)),!(t===qf||t===zf||null!==this.g&&this.g.R.shift)},Ke.prototype.computeMinSize=function(){var t=this.rb.Ah.copy(),e=this.Ah;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},Ke.prototype.computeMaxSize=function(){var t=this.rb.Bf.copy(),e=this.Bf;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},Ke.prototype.computeCellSize=function(){var t=new T(NaN,NaN),e=this.rb.V;if(null!==e){var n=e.mJ;!isNaN(n.width)&&0<n.width&&(t.width=n.width),!isNaN(n.height)&&0<n.height&&(t.height=n.height)}return n=this.Ip,isNaN(t.width)&&!isNaN(n.width)&&0<n.width&&(t.width=n.width),isNaN(t.height)&&!isNaN(n.height)&&0<n.height&&(t.height=n.height),e=this.g,(isNaN(t.width)||isNaN(t.height))&&e&&(n=e.bb.se,null!==n&&n.vx&&(n=n.WE,isNaN(t.width)&&!isNaN(n.width)&&0<n.width&&(t.width=n.width),isNaN(t.height)&&!isNaN(n.height)&&0<n.height&&(t.height=n.height)),null!==(e=e.Cn)&&e.visible&&this.vx&&(n=e.px,isNaN(t.width)&&!isNaN(n.width)&&0<n.width&&(t.width=n.width),isNaN(t.height)&&!isNaN(n.height)&&0<n.height&&(t.height=n.height))),(isNaN(t.width)||0===t.width||1/0===t.width)&&(t.width=1),(isNaN(t.height)||0===t.height||1/0===t.height)&&(t.height=1),t},Wl.defineProperty(Ke,{Ah:"minSize"},function(){return this.Wh},function(t){if(Wl.G(t,T,Ke,"minSize"),!this.Wh.L(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.Wh.l(e,t)}}),Wl.defineProperty(Ke,{Bf:"maxSize"},function(){return this.Vh},function(t){if(Wl.G(t,T,Ke,"maxSize"),!this.Vh.L(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.Vh.l(e,t)}}),Wl.defineProperty(Ke,{Ip:"cellSize"},function(){return this.Jj},function(t){Wl.G(t,T,Ke,"cellSize"),this.Jj.L(t)||this.Jj.assign(t)}),Wl.defineProperty(Ke,{vx:"isGridSnapEnabled"},function(){return this.Jr},function(t){Wl.j(t,"boolean",Ke,"isGridSnapEnabled"),this.Jr=t}),Wl.u(Ke,{DF:"originalDesiredSize"},function(){return this.gD}),Wl.u(Ke,{bJ:"originalLocation"},function(){return this.lD}),Wl.Ma(Ye,fe),Wl.ga("RotatingTool",Ye),Ye.prototype.updateAdornments=function(t){if(!(null===t||t instanceof _a)){if(t.fb&&null!==this.g&&!this.g.eb){var e=t.VF;if(null!==e&&t.canRotate()&&t.Y.H()&&t.isVisible()&&e.Y.H()&&e.vj()){var n=t.Up(this.name);if(null!==n&&n.rb===e||(n=this.makeAdornment(e)),null!==n){n.angle=e.yn();var i=null,r=null;e===t||e===t.Yf?(i=t.Yf,r=t.Af):(i=e,r=au);for(var o=i.Ja,r=Wl.xb(o.width*r.x+r.offsetX,o.height*r.y+r.offsetY);null!==i&&i!==e;)i.transform.ob(r),i=i.N;var i=r.y,o=Math.max(r.x-e.Ja.width,0),a=Wl.K();return n.location=e.Xa(new L(1,0,50+o,i),a),Wl.v(a),Wl.v(r),void t.Al(this.name,n)}}}t.Aj(this.name)}},Ye.prototype.makeAdornment=function(t){var e=null,e=t.V.pJ;if(null===e){e=new Aa,e.type=Yf,e.Af=au;var n=this.Vt;null!==n&&e.add(n.copy())}else if(mo(e),null===(e=e.copy()))return null;return e.rb=t,e},Wl.defineProperty(Ye,{Vt:"handleArchetype"},function(){return this.cl},function(t){null!==t&&Wl.G(t,Tr,Ye,"handleArchetype"),this.cl=t}),Wl.u(Ye,{handle:"handle"},function(){return this.fc}),Wl.defineProperty(Ye,{rb:"adornedObject"},function(){return this.Ec},function(t){null!==t&&Wl.G(t,Tr,Ye,"adornedObject"),this.Ec=t}),Ye.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.eb||!t.Nw||!t.R.left)&&null!==this.findToolHandleAt(t.Ac.da,this.name)},Ye.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.fc=this.findToolHandleAt(t.Ac.da,this.name),null!==this.fc)){this.Ec=this.fc.V.rb;var e=this.Ec.V,n=e.Yf;this.tD=this.Ec===e||this.Ec===n?n.Xa(e.Af):this.Ec.Xa(au),this.ew=this.Ec.angle,t.af=!0,t.Zz=!0,this.Ub(this.name),this.ta=!0}},Ye.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.Kk(),this.Ec=this.fc=null,this.ta=t.af=!1)},Ye.prototype.doCancel=function(){var t=this.g;null!==t&&(t.Zz=!1),this.rotate(this.ew),this.stopTool()},Ye.prototype.doMouseMove=function(){var t=this.g;this.ta&&null!==t&&(t=this.computeRotate(t.R.da),this.rotate(t))},Ye.prototype.doMouseUp=function(){var t=this.g;if(this.ta&&null!==t){t.Zz=!1;var e=this.computeRotate(t.R.da);this.rotate(e),t.rc(),this.Gf=this.name,t.Ca("PartRotated",this.Ec,this.ew)}this.stopTool()},Ye.prototype.rotate=function(t){null!==this.Ec&&(this.Ec.angle=t)},Ye.prototype.computeRotate=function(t){t=this.tD.zc(t);var e=this.Ec.N;null!==e&&(t-=e.yn(),360<=t?t-=360:0>t&&(t+=360));var e=Math.min(Math.abs(this.CJ),180),n=Math.min(Math.abs(this.BJ),e/2);return(null===this.g||!this.g.R.shift)&&0<e&&0<n&&(t%e<n?t=Math.floor(t/e)*e:t%e>e-n&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},Wl.defineProperty(Ye,{CJ:"snapAngleMultiple"},function(){return this.xD},function(t){Wl.j(t,"number",Ye,"snapAngleMultiple"),this.xD=t}),Wl.defineProperty(Ye,{BJ:"snapAngleEpsilon"},function(){return this.wD},function(t){Wl.j(t,"number",Ye,"snapAngleEpsilon"),this.wD=t}),Wl.u(Ye,{rL:"originalAngle"},function(){return this.ew}),Wl.Ma($e,fe),Wl.ga("ClickSelectingTool",$e),$e.prototype.canStart=function(){return!(!this.isEnabled||null===this.g||this.isBeyondDragSize())},$e.prototype.doMouseUp=function(){this.ta&&(this.standardMouseSelect(),!this.standardMouseClick()&&null!==this.g&&this.g.R.tj&&this.g.bb.doToolTip()),this.stopTool()},Wl.Ma(Je,fe),Wl.ga("ActionTool",Je),Je.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t)return!1;var e=t.R,n=t.Ke(e.da,function(t){for(;null!==t.N&&!t.sx;)t=t.N;return t});return null!==n&&(!!n.sx&&(this.io=n,t.vo=t.Ke(e.da,null,null),!0))},Je.prototype.doMouseDown=function(){if(this.ta){var t=this.g.R,e=this.io;null!==e&&(t.Qe=e,null!==e.ZD&&e.ZD(t,e))}else this.canStart()&&this.doActivate()},Je.prototype.doMouseMove=function(){if(this.ta){var t=this.g.R,e=this.io;null!==e&&(t.Qe=e,null!==e.$D&&e.$D(t,e))}},Je.prototype.doMouseUp=function(){if(this.ta){var t=this.g,e=t.R,n=this.io;if(null===n)return;e.Qe=n,null!==n.aE&&n.aE(e,n),this.isBeyondDragSize()||de(n,e,t)}this.stopTool()},Je.prototype.doCancel=function(){var t=this.g;if(null!==t){var t=t.R,e=this.io;if(null===e)return;t.Qe=e,null!==e.YD&&e.YD(t,e)}this.stopTool()},Je.prototype.doStop=function(){this.io=null},Wl.Ma(Xe,fe),Wl.ga("ClickCreatingTool",Xe),Xe.prototype.canStart=function(){if(!this.isEnabled||null===this.Nz)return!1;var t=this.g;if(null===t||t.eb||t.yf||!t.Fp||!t.R.left||this.isBeyondDragSize())return!1;if(this.rI){if(1===t.R.Ge&&(this.zC=t.R.cf.copy()),2!==t.R.Ge||this.isBeyondDragSize(this.zC))return!1}else if(1!==t.R.Ge)return!1;return t.$a===this||null===t.Nt(t.R.da,!0)},Xe.prototype.doMouseUp=function(){var t=this.g;this.ta&&null!==t&&this.insertPart(t.R.da),this.stopTool()},Xe.prototype.insertPart=function(t){var e=this.g;if(null===e)return null;var n=this.Nz;if(null===n)return null;this.Ub(this.name);var i=null;return n instanceof sa?n.ee()&&(mo(n),null!==(i=n.copy())&&e.add(i)):null!==n&&(n=e.ca.copyNodeData(n),Wl.Ua(n)&&(e.ca.Bl(n),i=e.wh(n))),null!==i&&(i.location=t,e.uf&&e.select(i)),e.rc(),this.Gf=this.name,e.Ca("PartCreated",i),this.Kk(),i},Wl.defineProperty(Xe,{Nz:"archetypeNodeData"},function(){return this.qm},function(t){null!==t&&Wl.G(t,Object,Xe,"archetypeNodeData"),this.qm=t}),Wl.defineProperty(Xe,{rI:"isDoubleClick"},function(){return this.LC},function(t){Wl.j(t,"boolean",Xe,"isDoubleClick"),this.LC=t}),Wl.ga("HTMLInfo",Qe),Wl.defineProperty(Qe,{AA:"mainElement"},function(){return this.WC},function(t){null!==t&&Wl.G(t,Element,Qe,"mainElement"),this.WC=t}),Wl.defineProperty(Qe,{show:"show"},function(){return this.yz},function(t){this.yz!==t&&(null!==t&&Wl.j(t,"function",Qe,"show"),this.yz=t)}),Wl.defineProperty(Qe,{Dn:"hide"},function(){return this.dz},function(t){this.dz!==t&&(null!==t&&Wl.j(t,"function",Qe,"hide"),this.dz=t)}),Wl.defineProperty(Qe,{uB:"valueFunction"},function(){return this.UD},function(t){this.UD=t}),Wl.Ma(tn,fe),Wl.ga("ContextMenuTool",tn),Wl.uE=!1,Wl.Dt=null,Wl.Et=null,tn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||this.isBeyondDragSize()||!t.R.right)&&!!(null!==this.wm&&t.R.tj||null!==this.findObjectWithContextMenu())},tn.prototype.doStart=function(){var t=this.g;null!==t&&this.bD.set(t.Ac.da)},tn.prototype.doStop=function(){this.hideContextMenu(),this.Ww=null},tn.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.g;if(null===e)return null;var n=e.R,i=null;if(t instanceof In||(i=t instanceof Tr?t:e.Ke(n.da,null,function(t){return!t.layer.Kc})),null!==i){for(t=i;null!==t;){if(null!==t.contextMenu)return t;t=t.N}if(null!==this.wm&&e.R.tj)return i.V}else if(null!==e.contextMenu)return e;return null},tn.prototype.doActivate=function(){},tn.prototype.doMouseDown=function(){fe.prototype.doMouseDown.call(this),null!==this.g&&this.g.bb.bf.contains(this)&&rn(this)},tn.prototype.doMouseUp=function(){rn(this)},tn.prototype.doMouseMove=function(){this.ta&&null!==this.g&&this.g.bb.doMouseMove()},tn.prototype.showContextMenu=function(t,e){null!==e&&Wl.G(e,Tr,tn,"showContextMenu:obj");var n=this.g;if(null!==n){if(t!==this.Jl&&this.hideContextMenu(),t instanceof Aa){if(t.Xf="Tool",t.em=!1,t.scale=1/n.scale,t.sd=this.name,null!==t.placeholder&&(t.placeholder.scale=n.scale),n.add(t),null!==e){var n=null,i=e.Ql();null!==i&&(n=i.data),t.rb=e,t.data=n}else t.data=n.ca;t.$e(),this.positionContextMenu(t,e)}else t instanceof Qe&&t.show(e,n,this);this.Jl=t}},tn.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var n=e.R.da.copy(),i=t.Aa,r=e.tb;e.R.tj&&(n.x-=i.width),n.x+i.width>r.right&&(n.x-=i.width+5),n.x<r.x&&(n.x=r.x),n.y+i.height>r.bottom&&(n.y-=i.height+5),n.y<r.y&&(n.y=r.y),t.position=n}}},tn.prototype.hideContextMenu=function(){var t=this.g;if(null!==t){var e=this.Jl;null!==e&&(e instanceof Aa?(t.remove(e),null!==this.Iy&&this.Iy.Aj(e.sd),e.data=null,e.rb=null):e instanceof Qe&&(null!==e.Dn?e.Dn(t,this):null!==e.AA&&(e.AA.style.display="none")),this.Jl=null,this.standardMouseOver())}},tn.prototype.showDefaultContextMenu=function(){var t=this.g;if(null!==t){null===this.Ky&&(this.Ky=an(this)),Wl.Et.innerHTML="",Wl.Dt.addEventListener("click",this.OD,!1);var e=this,n=Wl.createElement("ul");n.className="goCXul",Wl.Et.appendChild(n),n.innerHTML="";for(var i=this.Ky.i;i.next();){var r=i.value,o=r.visible;if("function"==typeof r.nE&&("function"!=typeof o||o(t))){o=Wl.createElement("li"),o.className="goCXli";var a=Wl.createElement("a");a.className="goCXa",a.href="#",a.DG=r.nE,a.addEventListener("click",function(n){return this.DG(t),e.stopTool(),n.preventDefault(),!1},!1),a.textContent=r.text,o.appendChild(a),n.appendChild(o)}}Wl.Et.style.display="block",Wl.Dt.style.display="block"}},tn.prototype.hideDefaultContextMenu=function(){null!==this.Jl&&this.Jl===this.wm&&(Wl.Et.style.display="none",Wl.Dt.style.display="none",Wl.Dt.removeEventListener("click",this.OD,!1),this.Jl=null)},Wl.defineProperty(tn,{Jl:"currentContextMenu"},function(){return this.aC},function(t){this.aC=t,this.Iy=t instanceof Aa?t.Of:null}),Wl.defineProperty(tn,{MK:"defaultTouchContextMenu"},function(){return this.wm},function(t){this.wm=t}),Wl.defineProperty(tn,{Ww:"currentObject"},function(){return this.dC},function(t){null!==t&&Wl.G(t,Tr,tn,"currentObject"),this.dC=t}),Wl.u(tn,{mL:"mouseDownPoint"},function(){return this.bD}),Wl.Ma(sn,fe),Wl.ga("DragSelectingTool",sn),sn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.uf)return!1;var e=t.R;return!(!e.left||t.$a!==this&&(!this.isBeyondDragSize()||e.timestamp-t.Ac.timestamp<this.vE||null!==t.Nt(e.da,!0)))},sn.prototype.doActivate=function(){var t=this.g;null!==t&&(this.ta=!0,t.af=!0,t.wb=!0,t.add(this.sh),this.doMouseMove())},sn.prototype.doDeactivate=function(){var t=this.g;null!==t&&(ir(t),t.remove(this.sh),t.wb=!1,this.ta=t.af=!1)},sn.prototype.doMouseMove=function(){var t=this.g;if(null!==t&&this.ta&&null!==this.sh){var e=this.computeBoxBounds(),n=this.sh.td("SHAPE");null===n&&(n=this.sh.Hd()),n.Ba=e.size,this.sh.position=e.position,(t.ne||t.oe)&&t.aA(t.R.cf)}},sn.prototype.doMouseUp=function(){if(this.ta){var t=this.g;t.remove(this.sh);try{t.cc="wait",this.selectInRect(this.computeBoxBounds())}finally{t.cc=""}}this.stopTool()},sn.prototype.computeBoxBounds=function(){var t=this.g;return null===t?new S(0,0,0,0):new S(t.Ac.da,t.R.da)},sn.prototype.selectInRect=function(t){var e=this.g;if(null!==e){var n=e.R;if(e.Ca("ChangingSelection"),t=e.zk(t,null,function(t){return t instanceof sa&&t.canSelect()},this.wI),Wl.Fk?n.mu:n.control)if(n.shift)for(t=t.i;t.next();)n=t.value,n.fb&&(n.fb=!1);else for(t=t.i;t.next();)n=t.value,n.fb=!n.fb;else{if(!n.shift){for(var n=new c(sa),i=e.selection.i;i.next();){var r=i.value;t.contains(r)||n.add(r)}for(n=n.i;n.next();)n.value.fb=!1}for(t=t.i;t.next();)n=t.value,n.fb||(n.fb=!0)}e.Ca("ChangedSelection")}},Wl.defineProperty(sn,{vE:"delay"},function(){return this.Bo},function(t){Wl.j(t,"number",sn,"delay"),this.Bo=t}),Wl.defineProperty(sn,{wI:"isPartialInclusion"},function(){return this.QC},function(t){Wl.j(t,"boolean",sn,"isPartialInclusion"),this.QC=t}),Wl.defineProperty(sn,{sh:"box"},function(){return this.sm},function(t){null!==t&&Wl.G(t,sa,sn,"box"),this.sm=t}),Wl.Ma(hn,fe),Wl.ga("PanningTool",hn),hn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||!t.ne&&!t.oe||!t.R.left||t.$a!==this&&!this.isBeyondDragSize())},hn.prototype.doActivate=function(){var t=this.g;null!==t&&(this.Ij?(t.R.bubbles=!0,e.document.addEventListener("scroll",this.BD,!1)):(t.cc="move",t.af=!0,this.qz=t.position.copy()),this.ta=!0)},hn.prototype.doDeactivate=function(){var t=this.g;null!==t&&(t.cc="",this.ta=t.af=!1)},hn.prototype.doCancel=function(){var t=this.g;null!==t&&(t.position=this.qz,t.af=!1),this.stopTool()},hn.prototype.doMouseMove=function(){this.move()},hn.prototype.doMouseUp=function(){this.move(),this.stopTool()},hn.prototype.move=function(){var t=this.g;if(this.ta&&t)if(this.Ij)t.R.bubbles=!0;else{var e=t.position,n=t.Ac.da,i=t.R.da,r=e.x+n.x-i.x,n=e.y+n.y-i.y;t.ne||(r=e.x),t.oe||(n=e.y),t.position=new w(r,n)}},Wl.defineProperty(hn,{bubbles:"bubbles"},function(){return this.Ij},function(t){Wl.j(t,"boolean",hn,"bubbles"),this.Ij=t}),Wl.u(hn,{uL:"originalPosition"},function(){return this.qz}),Wl.ga("TextEditingTool",ln),Wl.Ma(ln,fe);var Fc;ln.LostFocus=Fc=Wl.p(ln,"LostFocus",0);var Oc;ln.MouseDown=Oc=Wl.p(ln,"MouseDown",1);var Ic;ln.Tab=Ic=Wl.p(ln,"Tab",2);var Rc;ln.Enter=Rc=Wl.p(ln,"Enter",3),ln.SingleClick=Wl.p(ln,"SingleClick",0);var Bc;ln.SingleClickSelected=Bc=Wl.p(ln,"SingleClickSelected",1);var qc;ln.DoubleClick=qc=Wl.p(ln,"DoubleClick",2);var zc;ln.StateNone=zc=Wl.p(ln,"StateNone",0);var Vc;ln.StateActive=Vc=Wl.p(ln,"StateActive",1);var Uc;ln.StateEditing=Uc=Wl.p(ln,"StateEditing",2);var Hc;ln.StateValidating=Hc=Wl.p(ln,"StateValidating",3);var Gc;ln.StateInvalid=Gc=Wl.p(ln,"StateInvalid",4);var _c;ln.StateValidated=_c=Wl.p(ln,"StateValidated",5),Wl.defineProperty(ln,{Yg:"textBlock"},function(){return this.Dz},function(t){null!==t&&Wl.G(t,Oo,ln,"textBlock"),this.Dz=t}),Wl.defineProperty(ln,{xk:"currentTextEditor"},function(){return this.fC},function(t){this.fC=t}),Wl.defineProperty(ln,{GH:"defaultTextEditor"},function(){return this.nC},function(t){this.nC=t}),Wl.defineProperty(ln,{jG:"starting"},function(){return this.AD},function(t){Wl.nb(t,ln,ln,"starting"),this.AD=t}),ln.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.eb||!t.R.left||this.isBeyondDragSize())return!1;var e=t.Ke(t.R.da,null,function(t){return t instanceof Oo});return!(null===e||!e.bA||!e.V.canEdit())&&!(null===(e=e.V)||this.jG===Bc&&!e.fb||this.jG===qc&&2>t.R.Ge)},ln.prototype.doStart=function(){this.ta||null===this.Yg||this.doActivate()},ln.prototype.doActivate=function(){if(!this.ta){var t=this.g;if(null!==t){var e=this.Yg;if(null===e&&(e=t.Ke(t.R.da,function(t){return t instanceof Oo?t:null})),null!==e&&(this.Yg=e,null!==e.V)){this.ta=!0,this.Ta=Vc;var n=this.GH;null!==e.mG&&(n=e.mG),this.kk=this.Yg.copy();var i=new S(this.Yg.Xa(nu),this.Yg.Xa(uu));t.uJ(i),n instanceof Qe?n.show(e,t,this):(n.style.position="absolute",n.style.zIndex="100",n.textEditingTool=this,"function"==typeof n.onActivate&&n.onActivate(),"function"==typeof n.focus&&n.focus(),"function"==typeof n.select&&this.ay&&(n.select(),n.setSelectionRange(0,9999)),t.lj.appendChild(n)),this.xk=n}}}},ln.prototype.doCancel=function(){null!==this.rl&&(this.xk.style.border=this.rl,this.rl=null),this.stopTool()},ln.prototype.doMouseUp=function(){!this.ta&&this.canStart()&&this.doActivate()},ln.prototype.doMouseDown=function(){this.ta&&this.acceptText(Oc)},ln.prototype.acceptText=function(t){switch(t){case Oc:this.Ta===_c?"function"==typeof this.xk.focus&&this.xk.focus():this.Ta!==Vc&&this.Ta!==Gc&&this.Ta!==Uc||(this.Ta=Hc,cn(this));break;case Fc:case Rc:case Ic:if(Rc===t&&!0===this.Dz.yx)break;this.Ta!==Vc&&this.Ta!==Gc&&this.Ta!==Uc||(this.Ta=Hc,cn(this))}},ln.prototype.doDeactivate=function(){var t=this.g;if(null!==t){if(this.Ta=zc,this.Yg=null,null!==this.xk){var e=this.xk;e instanceof Qe?e.Dn(t,this):("function"==typeof e.onDeactivate&&e.onDeactivate(),null!==e&&t.lj.removeChild(e))}this.ta=!1}},ln.prototype.doFocus=function(){fn(this)},ln.prototype.doBlur=function(){dn(this)},ln.prototype.isValidText=function(t,e,n){Wl.G(t,Oo,ln,"isValidText:textblock");var i=this.kB;return!(null!==i&&!i(t,e,n))&&!(null!==(i=t.kB)&&!i(t,e,n))},Wl.defineProperty(ln,{kB:"textValidation"},function(){return this.wl},function(t){null!==t&&Wl.j(t,"function",ln,"textValidation"),this.wl=t}),Wl.defineProperty(ln,{xF:"minimumEditorScale"},function(){return this.ZC},function(t){null!==t&&Wl.j(t,"number",ln,"minimumEditorScale"),this.ZC=t}),Wl.defineProperty(ln,{ay:"selectsTextOnActivate"},function(){return this.uD},function(t){null!==t&&Wl.j(t,"boolean",ln,"selectsTextOnActivate"),this.uD=t}),Wl.defineProperty(ln,{state:"state"},function(){return this.Ta},function(t){this.Ta!==t&&(Wl.nb(t,ln,ln,"starting"),this.Ta=t)}),ln.prototype.measureTemporaryTextBlock=ln.prototype.OI=function(t){var e=this.kk;return e.text=t,Dr(e,this.Yg.Xo,1/0),e},Wl.Ma(pn,fe),Wl.ga("ToolManager",pn);var Wc;pn.WheelScroll=Wc=Wl.p(pn,"WheelScroll",0);var Kc;pn.WheelZoom=Kc=Wl.p(pn,"WheelZoom",1),pn.WheelNone=Wl.p(pn,"WheelNone",2);var Yc;pn.GestureZoom=Yc=Wl.p(pn,"GestureZoom",3);var $c;pn.GestureCancel=$c=Wl.p(pn,"GestureCancel",4);var Jc;pn.GestureNone=Jc=Wl.p(pn,"GestureNone",5),Wl.defineProperty(pn,{pu:"mouseWheelBehavior"},function(){return this.cD},function(t){Wl.nb(t,pn,pn,"mouseWheelBehavior"),this.cD=t}),Wl.defineProperty(pn,{Yp:"gestureBehavior"},function(){return this.BC},function(t){Wl.nb(t,pn,pn,"gestureBehavior"),this.BC=t}),pn.prototype.initializeStandardTools=function(){this.XG=new Je,this.JF=new He,this.GI=new _e,this.UF=new Ke,this.rJ=new Ye,this.tF=new Ue,this.se=new pe,this.LH=new sn,this.cJ=new hn,this.Uz=new tn,this.jB=new ln,this.nH=new Xe,this.oH=new $e},pn.prototype.updateAdornments=function(t){var e=this.Kl;if(e instanceof Aa&&this.ov===t){var n=e.rb;(null!==t?n.V===t:null===n)?this.showToolTip(e,n):this.hideToolTip()}},pn.prototype.doMouseDown=function(){var t=this.g;if(null!==t){var e=t.R;if(e.tj&&this.Yp===$c&&(e.bubbles=!1),e.du){if(this.cancelWaitAfter(),this.Yp===Jc)return void(e.bubbles=!0);if(this.Yp===$c)return;if(t.$a.canStartMultiTouch())return void t.$a.standardPinchZoomStart()}var n=t.pa;n.Qz&&0!==n.Gh&&Wl.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var n=this.bf.length,i=0;i<n;i++){var r=this.bf.ea(i);if(null===r.g&&r.Qc(this.g),r.canStart())return t.doFocus(),t.$a=r,void(t.$a===r&&(r.ta||r.doActivate(),r.doMouseDown()))}1===t.R.button&&(this.pu===Wc?this.pu=Kc:this.pu===Kc&&(this.pu=Wc)),this.doActivate(),this.standardWaitAfter(this.ZE,e)}},pn.prototype.doMouseMove=function(){var t=this.g;if(null!==t){var e=t.R;if(e.du){if(this.Yp===Jc)return void(e.bubbles=!0);if(this.Yp===$c)return;if(t.$a.canStartMultiTouch())return void t.$a.standardPinchZoomMove()}if(this.ta)for(var n=this.$f.length,i=0;i<n;i++){var r=this.$f.ea(i);if(null===r.g&&r.Qc(this.g),r.canStart())return t.doFocus(),t.$a=r,void(t.$a===r&&(r.ta||r.doActivate(),r.doMouseMove()))}vn(this,t),null===e.event||"mousemove"!==e.event.type&&e.event.cancelable||(e.bubbles=!0)}},pn.prototype.doCurrentObjectChanged=function(t,e){var n=this.Kl;null===n||null!==e&&n instanceof Aa&&(e===n||e.Yl(n))||this.hideToolTip()},pn.prototype.doWaitAfter=function(t){var e=this.g;null!==e&&e.Eb&&(this.doMouseHover(),this.ta||this.doToolTip(),t.tj&&!e.R.Bc&&(t=t.copy(),t.button=2,t.buttons=2,e.R=t,e.ht=!0,e.doMouseUp()))},pn.prototype.doMouseHover=function(){var t=this.g;if(null!==t){var e=t.R;null===e.Qe&&(e.Qe=t.Ke(e.da,null,null));var n=e.Qe;if(null!==n)for(e.Bc=!1;null!==n&&(null===(t=this.ta?n.GA:n.HA)||(t(e,n),!e.Bc));)n=n.N;else null!==(t=this.ta?t.GA:t.HA)&&t(e)}},pn.prototype.doToolTip=function(){var t=this.g;if(null!==t){var e=t.R;if(null===e.Qe&&(e.Qe=t.Ke(e.da,null,null)),null!==(e=e.Qe)){if(!((t=this.Kl)instanceof Aa)||e!==t&&!e.Yl(t)){for(;null!==e;){if(null!==(t=e.mB))return void this.showToolTip(t,e);e=e.N}this.hideToolTip()}}else t=t.mB,null!==t?this.showToolTip(t,null):this.hideToolTip()}},pn.prototype.showToolTip=function(t,e){null!==e&&Wl.G(e,Tr,pn,"showToolTip:obj");var n=this.g;if(null!==n){if(t!==this.Kl&&this.hideToolTip(),t instanceof Aa){if(t.Xf="Tool",t.em=!1,t.scale=1/n.scale,t.sd="ToolTip",null!==t.placeholder&&(t.placeholder.scale=n.scale),n.add(t),null!==e){var n=null,i=e.Ql();null!==i&&(n=i.data),t.rb=e,t.data=n}else t.data=n.ca;t.$e(),this.positionToolTip(t,e)}else t instanceof Qe&&t!==this.Kl&&t.show(e,n,this);if(this.Kl=t,-1!==this.fn&&(Wl.clearTimeout(this.fn),this.fn=-1),0<(n=this.NJ)&&1/0!==n){var r=this;this.fn=Wl.setTimeout(function(){r.hideToolTip()},n)}}},pn.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var n=e.R.da.copy(),i=t.Aa,r=e.tb;e.R.tj&&(n.x-=i.width),n.x+i.width>r.right&&(n.x-=i.width+5),n.x<r.x&&(n.x=r.x),n.y=n.y+20+i.height>r.bottom?n.y-(i.height+5):n.y+20,n.y<r.y&&(n.y=r.y),t.position=n}}},pn.prototype.hideToolTip=function(){-1!==this.fn&&(Wl.clearTimeout(this.fn),this.fn=-1);var t=this.g;if(null!==t){var e=this.Kl;null!==e&&(e instanceof Aa?(t.remove(e),null!==this.ov&&this.ov.Aj(e.sd),e.data=null,e.rb=null):e instanceof Qe&&null!==e.Dn&&e.Dn(t,this),this.Kl=null)}},Wl.defineProperty(pn,{Kl:"currentToolTip"},function(){return this.gC},function(t){this.gC=t,this.ov=null!==t?t.Of:null}),pn.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.g;if(null!==t){if(this.ta)for(var e=this.ag.length,n=0;n<e;n++){var i=this.ag.ea(n);if(null===i.g&&i.Qc(this.g),i.canStart())return t.doFocus(),t.$a=i,void(t.$a===i&&(i.ta||i.doActivate(),i.doMouseUp()))}t.doFocus(),this.doDeactivate()}},pn.prototype.doMouseWheel=function(){this.standardMouseWheel()},pn.prototype.doKeyDown=function(){var t=this.g;null!==t&&t.pb.doKeyDown()},pn.prototype.doKeyUp=function(){var t=this.g;null!==t&&t.pb.doKeyUp()},pn.prototype.doCancel=function(){null!==Mc&&Mc.doCancel(),fe.prototype.doCancel.call(this)},pn.prototype.findTool=function(t){Wl.j(t,"string",pn,"findTool:name");for(var e=this.bf.length,n=0;n<e;n++){var i=this.bf.ea(n);if(i.name===t)return i}for(e=this.$f.length,n=0;n<e;n++)if(i=this.$f.ea(n),i.name===t)return i;for(e=this.ag.length,n=0;n<e;n++)if(i=this.ag.ea(n),i.name===t)return i;return null},pn.prototype.replaceTool=function(t,e){Wl.j(t,"string",pn,"replaceTool:name"),null!==e&&(Wl.G(e,fe,pn,"replaceTool:newtool"),e.g&&e.g!==this.g&&Wl.k("Cannot share tools between Diagrams: "+e.toString()),e.Qc(this.g));for(var n=this.bf.length,i=0;i<n;i++){var r=this.bf.ea(i);if(r.name===t)return null!==e?this.bf.gg(i,e):this.bf.Yc(i),r}for(n=this.$f.length,i=0;i<n;i++)if(r=this.$f.ea(i),r.name===t)return null!==e?this.$f.gg(i,e):this.$f.Yc(i),r;for(n=this.ag.length,i=0;i<n;i++)if(r=this.ag.ea(i),r.name===t)return null!==e?this.ag.gg(i,e):this.ag.Yc(i),r;return null},Wl.u(pn,{bf:"mouseDownTools"},function(){return this.IG}),Wl.u(pn,{$f:"mouseMoveTools"},function(){return this.JG}),Wl.u(pn,{ag:"mouseUpTools"},function(){return this.KG}),Wl.defineProperty(pn,{jI:"hoverDelay"},function(){return this.EC},function(t){Wl.j(t,"number",pn,"hoverDelay"),this.EC=t}),Wl.defineProperty(pn,{ZE:"holdDelay"},function(){return this.DC},function(t){Wl.j(t,"number",pn,"holdDelay"),this.DC=t}),Wl.defineProperty(pn,{MH:"dragSize"},function(){return this.sC},function(t){Wl.G(t,T,pn,"dragSize"),this.sC=t.S()}),Wl.defineProperty(pn,{NJ:"toolTipDuration"},function(){return this.PD},function(t){Wl.j(t,"number",pn,"toolTipDuration"),this.PD=t}),Wl.defineProperty(pn,{XG:"actionTool"},function(){return this.findTool("Action")},function(t){yn(this,"Action",t,this.bf)}),Wl.defineProperty(pn,{JF:"relinkingTool"},function(){return this.findTool("Relinking")},function(t){yn(this,"Relinking",t,this.bf)}),Wl.defineProperty(pn,{GI:"linkReshapingTool"},function(){return this.findTool("LinkReshaping")},function(t){yn(this,"LinkReshaping",t,this.bf)}),Wl.defineProperty(pn,{UF:"resizingTool"},function(){return this.findTool("Resizing")},function(t){yn(this,"Resizing",t,this.bf)}),Wl.defineProperty(pn,{rJ:"rotatingTool"},function(){return this.findTool("Rotating")},function(t){yn(this,"Rotating",t,this.bf)}),Wl.defineProperty(pn,{tF:"linkingTool"},function(){return this.findTool("Linking")},function(t){yn(this,"Linking",t,this.$f)}),Wl.defineProperty(pn,{se:"draggingTool"},function(){return this.findTool("Dragging")},function(t){yn(this,"Dragging",t,this.$f)}),Wl.defineProperty(pn,{LH:"dragSelectingTool"},function(){return this.findTool("DragSelecting")},function(t){yn(this,"DragSelecting",t,this.$f)}),Wl.defineProperty(pn,{cJ:"panningTool"},function(){return this.findTool("Panning")},function(t){yn(this,"Panning",t,this.$f)}),Wl.defineProperty(pn,{Uz:"contextMenuTool"},function(){return this.findTool("ContextMenu")},function(t){yn(this,"ContextMenu",t,this.ag)}),Wl.defineProperty(pn,{jB:"textEditingTool"},function(){return this.findTool("TextEditing")},function(t){yn(this,"TextEditing",t,this.ag)}),Wl.defineProperty(pn,{nH:"clickCreatingTool"},function(){return this.findTool("ClickCreating")},function(t){yn(this,"ClickCreating",t,this.ag)}),Wl.defineProperty(pn,{oH:"clickSelectingTool"},function(){return this.findTool("ClickSelecting")},function(t){yn(this,"ClickSelecting",t,this.ag)}),Wl.ga("AnimationManager",gn),gn.prototype.Qc=function(t){this.Z=t},Wl.u(gn,{rK:"animationReasons"},function(){return this.av}),gn.prototype.canStart=function(){return!0},gn.prototype.prepareAutomaticAnimation=gn.prototype.Tn=function(t){this.df&&(this.Wj||this.Z.Gn)&&(this.av.add(t),this.canStart(t)&&(this.Vj&&this.qi(),this.pc=!0))},gn.prototype.stopAnimation=gn.prototype.qi=function(){!0===this.pc&&(this.pc=!1,this.mo&&this.Z.Me()),this.Vj&&this.df&&Pn(this)},Wl.defineProperty(gn,{isEnabled:"isEnabled"},function(){return this.df},function(t){Wl.j(t,"boolean",gn,"isEnabled"),this.df=t}),Wl.defineProperty(gn,{duration:"duration"},function(){return this.Sy},function(t){Wl.j(t,"number",gn,"duration"),1>t&&Wl.Fa(t,">= 1",gn,"duration"),this.Sy=t}),Wl.u(gn,{lf:"isAnimating"},function(){return this.Vj}),Wl.u(gn,{xI:"isTicking"},function(){return this.So}),Wl.defineProperty(gn,{kF:"isInitial"},function(){return this.Wj},function(t){Wl.j(t,"boolean",gn,"isInitial"),this.Wj=t});var Xc={opacity:function(t,e,n,i,r,o){t.opacity=i(r,e,n-e,o)},position:function(t,e,n,i,r,o){r!==o?t.hy(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o)):t.position=new w(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o))},"position:node":function(t,e,n,i,r,o){var a=t.Y,s=n.Y;n=s.x+s.width/2-a.width/2,a=s.y+s.height/2-a.height/2,r!==o?t.hy(i(r,e.x,n-e.x,o),i(r,e.y,a-e.y,o)):t.position=new w(i(r,e.x,n-e.x,o),i(r,e.y,a-e.y,o))},"position:placeholder":function(t,e,n,i,r,o){r!==o?t.hy(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o)):t.position=new w(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o))},scale:function(t,e,n,i,r,o){t.scale=i(r,e,n-e,o)},visible:function(t,e,n,i,r,o){t.visible=r!==o?e:n}};Wl.ga("Layer",jn),jn.prototype.Qc=function(t){this.Z=t},jn.prototype.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var n=0,i=0,r=0,o=0,a=0,s=this.zb.i;s.next();){var h=s.value;h instanceof Ds?r++:h instanceof Ea?i++:h instanceof _a?o++:h instanceof Aa?a++:n++}if(s="",0<n&&(s+=n+" Parts "),0<i&&(s+=i+" Nodes "),0<r&&(s+=r+" Groups "),0<o&&(s+=o+" Links "),0<a&&(s+=a+" Adornments "),1<t)for(t=this.zb.i;t.next();)n=t.value,s+="\n    "+n.toString(),i=n.data,null!==i&&Wl.Jd(i)&&(s+=" #"+Wl.Jd(i)),n instanceof Ea?s+=" "+xc(i):n instanceof _a&&(s+=" "+xc(n.W)+" "+xc(n.aa));return e+" "+this.zb.count+": "+s},jn.prototype.findObjectAt=jn.prototype.Ke=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!1===this.sl)return null;var i=!1;null!==this.g&&this.g.tb.Ia(t)&&(i=!0);for(var r=Wl.K(),o=this.zb.n,a=o.length;a--;){var s=o[a];if((!0!==i||!1!==Sa(s))&&s.isVisible()&&(r.assign(t),k(r,s.qh),null!==(s=s.Ke(r,e,n))&&(null!==e&&(s=e(s)),null!==s&&(null===n||n(s)))))return Wl.v(r),s}return Wl.v(r),null},jn.prototype.findObjectsAt=jn.prototype.Mt=function(t,e,n,i){if(void 0===e&&(e=null),void 0===n&&(n=null),i instanceof c||i instanceof d||(i=new d(Tr)),!1===this.sl)return i;var r=!1;null!==this.g&&this.g.tb.Ia(t)&&(r=!0);for(var o=Wl.K(),a=this.zb.n,s=a.length;s--;){var h=a[s];!0===r&&!1===Sa(h)||!h.isVisible()||(o.assign(t),k(o,h.qh),h.Mt(o,e,n,i)&&(null!==e&&(h=e(h)),null===h||null!==n&&!n(h)||i.add(h)))}return Wl.v(o),i},jn.prototype.findObjectsIn=jn.prototype.zk=function(t,e,n,i,r){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),r instanceof c||r instanceof d||(r=new d(Tr)),!1===this.sl)return r;var o=!1;null!==this.g&&this.g.tb.vk(t)&&(o=!0);for(var a=this.zb.n,s=a.length;s--;){var h=a[s];(!0!==o||!1!==Sa(h))&&h.isVisible()&&h.zk(t,e,n,i,r)&&(null!==e&&(h=e(h)),null===h||null!==n&&!n(h)||r.add(h))}return r},jn.prototype.eA=function(t,e,n,i,r,o,a){if(!1===this.sl)return r;for(var s=this.zb.n,h=s.length;h--;){var l=s[h];(!0!==a||!1!==Sa(l))&&o(l)&&l.isVisible()&&l.zk(t,e,n,i,r)&&(null!==e&&(l=e(l)),null===l||null!==n&&!n(l)||r.add(l))}return r},jn.prototype.findObjectsNear=jn.prototype.vn=function(t,e,n,i,r,o){if(void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof c||r instanceof d)&&(o=r),r=!0),o instanceof c||o instanceof d||(o=new d(Tr)),!1===this.sl)return o;var a=!1;null!==this.g&&this.g.tb.Ia(t)&&(a=!0);for(var s=Wl.K(),h=Wl.K(),l=this.zb.n,u=l.length;u--;){var f=l[u];!0===a&&!1===Sa(f)||!f.isVisible()||(s.assign(t),k(s,f.qh),h.l(t.x+e,t.y),k(h,f.qh),f.vn(s,h,n,i,r,o)&&(null!==n&&(f=n(f)),null===f||null!==i&&!i(f)||o.add(f)))}return Wl.v(s),Wl.v(h),o},Gl=jn.prototype,Gl.Cf=function(t,e){if(this.visible){var n;n=void 0===e?t.tb:e;for(var i=this.zb.n,r=i.length,o=0;o<r;o++){var a=i[o];if(a.VC=o,!(a instanceof _a&&!1===a.$g)){if(a instanceof Aa){var s=a;if(null!==s.Of)continue}if(D(a.Y,n))for(a.Cf(!0),la(a),a=a.Kw;a.next();)s=a.value,Dr(s,1/0,1/0),s.hc(),s.Cf(!0);else a.Cf(!1),null!==a.Kw&&0<a.Kw.count&&la(a)}}}},Gl.te=function(t,e,n){if(this.visible&&0!==this.wc&&(void 0===n&&(n=!0),n||!this.Kc)){n=this.zb.n;var i=n.length;if(0!==i){1!==this.wc&&(t.globalAlpha=this.wc);var r=this.gw;r.length=0;for(var o=e.scale,a=0;a<i;a++){var s=n[a];if(Sa(s)){if(s instanceof _a){var h=s;if(h.jc&&r.push(h),!1===h.$g)continue}h=s.Y,1<h.width*o||1<h.height*o?s.te(t,e):ba(s,t)}}t.globalAlpha=1}}},Gl.h=function(t,e,n,i,r){var o=this.g;null!==o&&o.Xc(vc,t,this,e,n,i,r)},Gl.aq=function(t,e,n){var i=this.zb;if(e.Rv=this,t>=i.count)t=i.count;else if(i.ea(t)===e)return-1;return i.Ld(t,e),e.Wt(n),i=this.g,null!==i&&(n?i.oa():i.aq(e)),Fn(this,t,e),t},Gl.kf=function(t,e,n){if(!n&&e.layer!==this&&null!==e.layer)return e.layer.kf(t,e,n);var i=this.zb;if(0>t||t>=i.length){if(0>(t=i.indexOf(e)))return-1}else if(i.ea(t)!==e&&0>(t=i.indexOf(e)))return-1;return e.Xt(n),i.Yc(t),i=this.g,null!==i&&(n?i.oa():i.kf(e)),e.Rv=null,t},Gl.clear=function(){for(var t=this.zb.ec(),e=t.length,n=0;n<e;n++)t[n].Cf(!1),this.kf(-1,t[n],!1)},Wl.u(jn,{Ik:"parts"},function(){return this.zb.i}),Wl.u(jn,{xL:"partsBackwards"},function(){return this.zb.Hn}),Wl.u(jn,{g:"diagram"},function(){return this.Z}),Wl.defineProperty(jn,{name:"name"},function(){return this.Rb},function(t){Wl.j(t,"string",jn,"name");var e=this.Rb;if(e!==t){var n=this.g;if(null!==n)for(""===e&&Wl.k("Cannot rename default Layer to: "+t),n=n.Ex;n.next();)n.value.name===t&&Wl.k("Layer.name is already present in this diagram: "+t);for(this.Rb=t,this.h("name",e,t),t=this.zb.i;t.next();)t.value.Xf=this.Rb}}),Wl.defineProperty(jn,{opacity:"opacity"},function(){return this.wc},function(t){var e=this.wc;e!==t&&(Wl.j(t,"number",jn,"opacity"),(0>t||1<t)&&Wl.Fa(t,"0 <= value <= 1",jn,"opacity"),this.wc=t,this.h("opacity",e,t),null!==(t=this.g)&&t.oa())}),Wl.defineProperty(jn,{Kc:"isTemporary"},function(){return this.hz},function(t){var e=this.hz;e!==t&&(Wl.j(t,"boolean",jn,"isTemporary"),this.hz=t,this.h("isTemporary",e,t))}),Wl.defineProperty(jn,{visible:"visible"},function(){return this.Hz},function(t){var e=this.Hz;if(e!==t){for(Wl.j(t,"boolean",jn,"visible"),this.Hz=t,this.h("visible",e,t),e=this.zb.i;e.next();)e.value.ud(t);t=this.g,null!==t&&t.oa()}}),Wl.defineProperty(jn,{Tg:"pickable"},function(){return this.sl},function(t){var e=this.sl;e!==t&&(Wl.j(t,"boolean",jn,"pickable"),this.sl=t,this.h("pickable",e,t))}),Wl.defineProperty(jn,{dF:"isBoundsIncluded"},function(){return this.ez},function(t){this.ez!==t&&(this.ez=t,null!==this.g&&this.g.rc())}),Wl.defineProperty(jn,{sk:"allowCopy"},function(){return this.Lk},function(t){var e=this.Lk;e!==t&&(Wl.j(t,"boolean",jn,"allowCopy"),this.Lk=t,this.h("allowCopy",e,t))}),Wl.defineProperty(jn,{hn:"allowDelete"},function(){return this.Mk},function(t){var e=this.Mk;e!==t&&(Wl.j(t,"boolean",jn,"allowDelete"),this.Mk=t,this.h("allowDelete",e,t))}),Wl.defineProperty(jn,{Ow:"allowTextEdit"},function(){return this.Vk},function(t){var e=this.Vk;e!==t&&(Wl.j(t,"boolean",jn,"allowTextEdit"),this.Vk=t,this.h("allowTextEdit",e,t))}),Wl.defineProperty(jn,{Lw:"allowGroup"},function(){return this.Nk},function(t){var e=this.Nk;e!==t&&(Wl.j(t,"boolean",jn,"allowGroup"),this.Nk=t,this.h("allowGroup",e,t))}),Wl.defineProperty(jn,{Pw:"allowUngroup"},function(){return this.Wk},function(t){var e=this.Wk;e!==t&&(Wl.j(t,"boolean",jn,"allowUngroup"),this.Wk=t,this.h("allowUngroup",e,t))}),Wl.defineProperty(jn,{At:"allowLink"},function(){return this.Ok},function(t){var e=this.Ok;e!==t&&(Wl.j(t,"boolean",jn,"allowLink"),this.Ok=t,this.h("allowLink",e,t))}),Wl.defineProperty(jn,{jn:"allowRelink"},function(){return this.Qk},function(t){var e=this.Qk;e!==t&&(Wl.j(t,"boolean",jn,"allowRelink"),this.Qk=t,this.h("allowRelink",e,t))}),Wl.defineProperty(jn,{El:"allowMove"},function(){return this.Pk},function(t){var e=this.Pk;e!==t&&(Wl.j(t,"boolean",jn,"allowMove"),this.Pk=t,this.h("allowMove",e,t))}),Wl.defineProperty(jn,{Mw:"allowReshape"},function(){return this.Rk},function(t){var e=this.Rk;e!==t&&(Wl.j(t,"boolean",jn,"allowReshape"),this.Rk=t,this.h("allowReshape",e,t))}),Wl.defineProperty(jn,{Bt:"allowResize"},function(){return this.Sk},function(t){var e=this.Sk;e!==t&&(Wl.j(t,"boolean",jn,"allowResize"),this.Sk=t,this.h("allowResize",e,t))}),Wl.defineProperty(jn,{Nw:"allowRotate"},function(){return this.Tk},function(t){var e=this.Tk;e!==t&&(Wl.j(t,"boolean",jn,"allowRotate"),this.Tk=t,this.h("allowRotate",e,t))}),Wl.defineProperty(jn,{uf:"allowSelect"},function(){return this.Uk},function(t){var e=this.Uk;e!==t&&(Wl.j(t,"boolean",jn,"allowSelect"),this.Uk=t,this.h("allowSelect",e,t))}),Wl.ga("Diagram",In),In.prototype.clear=In.prototype.clear=function(){var t=null;null!==this.od&&(t=this.od.V),this.ca.clear();for(var e=this.ac.length,n=0;n<e;n++)this.ac.n[n].clear();this.rg.clear(),this.$k.clear(),this.fp.clear(),this.xl.clear(),this.Zo.clear(),this.zb.clear(),this.Bi.clear(),this.Kj.clear(),this.Fm.clear(),this.vw.Ra(),this.vw.clear(),this.vw.freeze(),this.Fv.Ra(),this.Fv.clear(),this.Fv.freeze(),kc=this.vo=null,Tc="",this.sv=new S(NaN,NaN,NaN,NaN).freeze(),null!==t&&(this.add(t),this.zb.remove(t)),this.oa()},In.prototype.reset=In.prototype.reset=function(){this.Sc=!0,this.clear(),this.ac=new c(jn),this.QF(),this.PF(),this.ib=new w(NaN,NaN).freeze(),this.Gb=1,this.Hv=new w(NaN,NaN).freeze(),this.Iv=NaN,this.Zv=1e-4,this.Xv=100,this.Iw=new w(NaN,NaN).freeze(),this.zv=new S(NaN,NaN,NaN,NaN).freeze(),this.qw=new E(0,0,0,0).freeze(),this.rw=hf,this.nw=this.lw=null,this.rm=Qc,this.so=eu,this.fl=Qc,this.Mo=eu,this.Jv=this.Gv=nu,this.OB=250,this.dv=new E(16,16,16,16).freeze(),this.Pv=!0,this.Dw=uf,this.Fw=ef,this.jr="auto",this.Ai=this.ej=this.Ti=this.bw=this.Ui=this.Vi=this.Wi=this.zi=this.Fi=this.xi=null,this.Ki=!1,this.Mk=this.Lk=this.Tu=this.df=!0,this.Vu=this.Uu=!1,this.Zu=this.Wu=this.Ev=this.Dv=this.$u=this.Yu=this.Uk=this.Tk=this.Sk=this.Rk=this.Pk=this.Qk=this.Ok=this.Xu=this.Wk=this.Nk=this.Vk=!0,this.tw=this.pw=16,this.gf=new E(5).freeze(),this.Yv=999999999,this.je=null,Rn(this),this.od=null,this.bb=new pn,this.bb.initializeStandardTools(),this.$a=this.Ft=this.bb,this.pb=new he,this.dj=!0,Vn(this),this.Sb=new Os,this.dj=!1,this.ca=new Qt,this.fh=!1,this.Ho=!0,this.Sc=this.Nf=!1,this.oa(),this.hh=this.wi=null,$i(this),this.kv=""},In.prototype.gc=function(t){t.Ee===In?this.Gl=t:Wl.Ej(this,t)},In.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.lj&&this.lj.id&&(e=this.lj.id),e='Diagram "'+e+'"',0>=t)return e;for(var n=this.ac.i;n.next();)e+="\n  "+n.value.toString(t-1);return e},In.fromDiv=function(t){var n=t;return"string"==typeof t&&(n=e.document.getElementById(t)),n instanceof HTMLDivElement&&n.Z instanceof In?n.Z:null},Wl.defineProperty(In,{lj:"div"},function(){return this.Nb},function(t){if(null!==t&&Wl.G(t,HTMLDivElement,In,"div"),this.Nb!==t){Md=[];var n=this.Nb;null!==n?(n.Z=void 0,n.innerHTML="",null!==this.Eb&&(this.Eb.removeEventListener("touchstart",this.pB,!1),this.Eb.removeEventListener("touchmove",this.oB,!1),this.Eb.removeEventListener("touchend",this.nB,!1),this.Eb.Gd.Z=null),n=this.bb,null!==n&&(n.bf.each(function(t){t.cancelWaitAfter()}),n.$f.each(function(t){t.cancelWaitAfter()}),n.ag.each(function(t){t.cancelWaitAfter()})),n.cancelWaitAfter(),this.$a.doCancel(),this.rf=this.Eb=null,e.removeEventListener("resize",this.wB,!1),e.removeEventListener("mousemove",this.On,!0),e.removeEventListener("mousedown",this.Nn,!0),e.removeEventListener("mouseup",this.Qn,!0),e.removeEventListener("mousewheel",this.Og,!0),e.removeEventListener("DOMMouseScroll",this.Og,!0),e.removeEventListener("mouseout",this.Pn,!0)):this.fh=!1,this.Nb=null,null!==t&&((n=t.Z)&&(n.lj=null),hr(this,t),this.Sx())}}),In.prototype.computePixelRatio=function(){return null!==this.jk?this.jk:this.dD},In.prototype.doMouseMove=function(){this.$a.doMouseMove()},In.prototype.doMouseDown=function(){this.$a.doMouseDown()},In.prototype.doMouseUp=function(){this.$a.doMouseUp()},In.prototype.doMouseWheel=function(){this.$a.doMouseWheel()},In.prototype.doKeyDown=function(){this.$a.doKeyDown()},In.prototype.doKeyUp=function(){this.$a.doKeyUp()},In.prototype.doFocus=function(){this.focus()},In.prototype.focus=In.prototype.focus=function(){this.Eb&&this.Eb.focus()},In.prototype.diagramScroll=In.prototype.KH=function(t){if(this.vz&&null!==this.Eb){this.ow=!0;var e,n=this.re,i=this.tb,r=n.width,o=i.width,a=n.height,s=i.height,h=n.right,l=i.right,u=n.bottom,c=i.bottom,f=n.x,d=i.x,n=n.y,i=i.y,p=this.scale;if(e=t.scrollLeft,this.Lr)switch(this.sz){case"negative":e=e+t.scrollWidth-t.clientWidth;break;case"reverse":e=t.scrollWidth-e-t.clientWidth}var v=e;o<r||s<a?(e=Wl.xb(this.position.x,this.position.y),this.ne&&this.wz!==v&&(e.x=v/p+f,this.wz=v),this.oe&&this.xz!==t.scrollTop&&(e.y=t.scrollTop/p+n,this.xz=t.scrollTop),this.position=e,Wl.v(e),this.Bm=this.ow=!1):(e=Wl.K(),t.PG&&this.ne&&(f<d&&(this.position=e.l(v+f,this.position.y)),h>l&&(this.position=e.l(-(this.sw.scrollWidth-this.Jb)+v-this.Jb/p+h,this.position.y))),t.QG&&this.oe&&(n<i&&(this.position=e.l(this.position.x,t.scrollTop+n)),u>c&&(this.position=e.l(this.position.x,-(this.sw.scrollHeight-this.Mb)+t.scrollTop-this.Mb/p+u))),Wl.v(e),di(this),this.Bm=this.ow=!1,n=this.re,i=this.tb,h=n.right,l=i.right,u=n.bottom,c=i.bottom,f=n.x,d=i.x,n=n.y,i=i.y,o>=r&&f>=d&&h<=l&&(this.Qs.style.width="1px"),s>=a&&n>=i&&u<=c&&(this.Qs.style.height="1px"))}},In.prototype.computeBounds=In.prototype.th=function(){return 0<this.rg.count&&ai(this),_n(this)},In.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);for(var n=null,i=t.i;i.next();){var r=i.value;!e&&r instanceof _a||(r.$e(),null===n?n=r.Y.copy():n.Hh(r.Y))}return null===n?new S(NaN,NaN,0,0):n},In.prototype.zoomToFit=In.prototype.zoomToFit=function(){this.scale=Kn(this,Zc)},In.prototype.zoomToRect=function(t,e){void 0===e&&(e=Zc);var n=t.width,i=t.height;if(!(0===n||0===i||isNaN(n)&&isNaN(i))){var r=1;if(e===Zc||e===tf)if(isNaN(n))r=this.tb.height*this.scale/i;else if(isNaN(i))r=this.tb.width*this.scale/n;else var r=this.Jb,o=this.Mb,r=e===tf?o/i>r/n?(o-(this.Tj?this.Dd:0))/i:(r-(this.dl?this.Dd:0))/n:Math.min(o/i,r/n);this.scale=r,this.position=new w(t.x,t.y)}},Wl.defineProperty(In,{uA:null},function(){return this.Sc},function(t){this.Sc=t}),In.prototype.alignDocument=function(t,e){this.Uj&&Gi(this,this.th());var n=this.re,i=this.tb;this.position=new w(n.x+(t.x*n.width+t.offsetX)-(e.x*i.width-e.offsetX),n.y+(t.y*n.height+t.offsetY)-(e.y*i.height-e.offsetY))},In.prototype.findPartAt=In.prototype.Nt=function(t,e){var n=e?$n(this,t,function(t){return t.V},function(t){return t.canSelect()}):$n(this,t,function(t){return t.V});return n instanceof sa?n:null},In.prototype.findObjectAt=In.prototype.Ke=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),ai(this);for(var i=this.ac.Hn;i.next();){var r=i.value;if(r.visible&&null!==(r=r.Ke(t,e,n)))return r}return null},In.prototype.findObjectsAt=In.prototype.Mt=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),i instanceof c||i instanceof d||(i=new d(Tr)),ai(this);for(var r=this.ac.Hn;r.next();){var o=r.value;o.visible&&o.Mt(t,e,n,i)}return i},In.prototype.findObjectsIn=In.prototype.zk=function(t,e,n,i,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),r instanceof c||r instanceof d||(r=new d(Tr)),ai(this);for(var o=this.ac.Hn;o.next();){var a=o.value;a.visible&&a.zk(t,e,n,i,r)}return r},In.prototype.eA=function(t,e,n,i,r,o){var a=new d(Tr);ai(this);for(var s=this.ac.Hn;s.next();){var h=s.value;h.visible&&h.eA(t,e,n,i,a,r,o)}return a},In.prototype.findObjectsNear=In.prototype.vn=function(t,e,n,i,r,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof c||r instanceof d)&&(o=r),r=!0),o instanceof c||o instanceof d||(o=new d(Tr)),ai(this);for(var a=this.ac.Hn;a.next();){var s=a.value;s.visible&&s.vn(t,e,n,i,r,o)}return o},In.prototype.acceptEvent=function(t){var e=this.Uc;return this.Uc=this.Qb,this.Qb=e,Jn(this,this,t,e,t instanceof MouseEvent),e},In.prototype.zI=function(t){if(!this.Z.isEnabled)return!1;var e=this.Z.Qb;switch(Jn(this.Z,this.Z,t,e,!1),e.key=String.fromCharCode(t.which),e.Ol=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del";break;case 48:e.key="0";break;case 187:case 61:case 107:e.key="Add";break;case 189:case 173:case 109:e.key="Subtract";break;case 27:e.key="Esc"}return this.Z.doKeyDown(),187!==t.which&&189!==t.which&&48!==t.which&&107!==t.which&&109!==t.which&&61!==t.which&&173!==t.which||!0!==t.ctrlKey?Zn(e,t):(t.cancelBubble=!0,t.preventDefault(),t.stopPropagation(),!1)},In.prototype.AI=function(t){if(!this.Z.isEnabled)return!1;var e=this.Z.Qb;switch(Jn(this.Z,this.Z,t,e,!1),e.key=String.fromCharCode(t.which),e.up=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del";break;case 93:t.preventDefault()}return this.Z.doKeyUp(),Zn(e,t)},In.prototype.zr=function(t){var e=this.Eb;if(null===e)return new w(0,0);var n=this.Jb,i=this.Mb,e=e.getBoundingClientRect(),n=t.clientX-n/e.width*e.left;return t=t.clientY-i/e.height*e.top,null!==this.dd?(t=new w(n,t),k(t,this.dd),t):new w(n,t)},In.prototype.invalidateDocumentBounds=In.prototype.rc=function(){this.Uj||(this.Uj=!0,this.Me(!0))},In.prototype.redraw=In.prototype.Sx=function(){this.Sc||this.Xd||(this.oa(),fi(this),di(this),this.rc(),this.Zf())},In.prototype.isUpdateRequested=function(){return this.Nf},In.prototype.delayInitialization=function(t){void 0===t&&(t=null);var e=this.Qa,n=e.isEnabled;e.qi(),e.isEnabled=!1,ri(this),this.fh=!1,e.isEnabled=n,null!==t&&Wl.setTimeout(t,1)},In.prototype.requestUpdate=In.prototype.Me=function(t){if(void 0===t&&(t=!1),!0!==this.Nf&&!(this.Sc||!1===t&&this.Xd)){this.Nf=!0;var e=this;requestAnimationFrame(function(){e.Nf&&e.Zf()})}},In.prototype.maybeUpdate=In.prototype.Zf=function(){this.Ho&&!this.Nf||(this.Ho&&(this.Ho=!1),ri(this))},Wl.u(In,{Gn:null},function(){return this.fh}),In.prototype.tB=function(t,e){for(t.reset();t.next();){var n=t.value;!n.ee()||n instanceof Ds||(n.Zl()?(Dr(n,1/0,1/0),n.hc()):e.add(n))}for(t.reset();t.next();)(n=t.value)instanceof Ds&&n.isVisible()&&si(this,n);for(t.reset();t.next();)(n=t.value)instanceof _a&&n.isVisible()&&(n.Zl()?(Dr(n,1/0,1/0),n.hc()):e.add(n));for(t.reset();t.next();)(n=t.value)instanceof Aa&&n.isVisible()&&(n.Zl()?(Dr(n,1/0,1/0),n.hc()):e.add(n))},In.prototype.Cf=function(t,e,n,i){var r=this.Qa;if(this.gl||r.lf)for(r=0;r<e;r++)t[r].Cf(n,i)},In.prototype.te=function(t,e){void 0===e&&(e=null),null===this.Nb&&Wl.k("No div specified");var n=this.Eb;null===n&&Wl.k("No canvas specified");var i=this.Qa;if(!i.pc&&(pi(this),"0"!==this.Nb.style.opacity)){var r=t!==this.rf,o=this.ac.n,a=o.length,s=this;if(this.Cf(o,a,s),r)t.Fe(!0),di(this);else if(!this.Ce&&null===e&&!i.Vj)return;var a=this.ib,h=this.Gb,l=Math.round(a.x*h)/h,u=Math.round(a.y*h)/h,i=this.dd;for(i.reset(),1!==h&&i.scale(h),0===a.x&&0===a.y||i.translate(-l,-u),h=this.Ad,Wl.En?(n.width=n.width,t.Fe(!0),t.scale(h,h)):(t.setTransform(1,0,0,1,0,0),t.scale(h,h),t.clearRect(0,0,this.Jb,this.Mb)),t.setTransform(1,0,0,1,0,0),t.scale(h,h),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),n=null!==e?function(n){var i=e;if(n.visible&&0!==n.wc){var r=n.zb.n,o=r.length;if(0!==o){1!==n.wc&&(t.globalAlpha=n.wc),n=n.gw,n.length=0;for(var a=s.scale,h=0;h<o;h++){var l=r[h];if(Sa(l)&&!i.contains(l)){if(l instanceof _a){var u=l;if(u.jc&&n.push(u),!1===u.$g)continue}u=l.Y,1<u.width*a||1<u.height*a?l.te(t,s):ba(l,t)}}t.globalAlpha=1}}}:function(e){e.te(t,s)},ui(this,t),a=o.length,l=0;l<a;l++)t.setTransform(1,0,0,1,0,0),t.scale(h,h),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),n(o[l]);this.el?this.el.lm(this)&&this.uv():this.zr=function(){return new w(0,0)},r?(this.rf.Fe(!0),di(this)):this.Ce=this.gl=!1}},In.prototype.getRenderingHint=In.prototype.oj=function(t){return this.gk[t]},In.prototype.setRenderingHint=In.prototype.zJ=function(t,e){this.gk[t]=e,this.Sx()},In.prototype.resetRenderingHints=In.prototype.QF=function(){this.gk=new r,this.gk.drawShadows=!0,this.gk.textGreeking=!0,this.gk.viewportOptimizations=!Wl.iF,this.gk.temporaryPixelRatio=!0,this.gk.pictureRatioOptimization=!0},In.prototype.getInputOption=In.prototype.Ut=function(t){return this.Po[t]},In.prototype.setInputOption=function(t,e){this.Po[t]=e},In.prototype.resetInputOptions=In.prototype.PF=function(){this.Po=new r,this.Po.extraTouchArea=10,this.Po.extraTouchThreshold=10,this.Po.hasGestureZoom=!0},In.prototype.setProperties=function(t){Wl.Fu(this,t)},In.prototype.oa=function(t){if(void 0===t&&(t=null),null===t)this.Ce=!0,this.Me();else{var e=this.tb;null!==t&&t.H()&&e.Lg(t)&&(this.Ce=!0,this.Me())}for(e=this.hw.i;e.next();)e.value.oa(t)},In.prototype.bF=function(t,e){if(!0!==this.Ce){this.Ce=!0;var n=!0===this.oj("temporaryPixelRatio");if(!0===this.oj("viewportOptimizations")&&this.VA!==lf&&this.XF.ex(0,0,0,0)&&e.width===t.width&&e.height===t.height){var i=this.scale,r=Wl.Ef(),o=Math.max(t.x,e.x),a=Math.max(t.y,e.y),s=Math.min(t.x+t.width,e.x+e.width),h=Math.min(t.y+t.height,e.y+e.height);if(r.x=o,r.y=a,r.width=Math.max(0,s-o)*i,r.height=Math.max(0,h-a)*i,0<r.width&&0<r.height){if(!this.Xd&&(this.Nf=!1,null!==this.Nb)){this.Xd=!0,ci(this),this.re.H()||Gi(this,this.th());var l=this.Eb;if(null!==l){var u=this.Ad,a=this.Jb*u,s=this.Mb*u,o=this.scale*u,i=Math.round(Math.round(e.x*o)-Math.round(t.x*o)),o=Math.round(Math.round(e.y*o)-Math.round(t.y*o)),h=this.Ry,c=this.xC;h.width!==a&&(h.width=a),h.height!==s&&(h.height=s),c.clearRect(0,0,a,s);var h=190*this.Ad,f=70*this.Ad,d=Math.max(i,0),p=Math.max(o,0),v=Math.floor(a-d),y=Math.floor(s-p);c.ey(!1),c.drawImage(l.Gd,d,p,v,y,0,0,v,y),this.el.lm(this)&&c.clearRect(0,0,h,f);var l=Wl.mb(),c=Wl.mb(),y=Math.abs(i),v=Math.abs(o),g=0===d?0:a-y,d=Wl.xb(g,0),y=Wl.xb(y+g,s);c.push(new S(Math.min(d.x,y.x),Math.min(d.y,y.y),Math.abs(d.x-y.x),Math.abs(d.y-y.y)));var m=this.dd;m.reset(),m.scale(u,u),1!==this.Gb&&m.scale(this.Gb),u=this.ib,(0!==u.x||0!==u.y)&&isFinite(u.x)&&isFinite(u.y)&&m.translate(-u.x,-u.y),k(d,m),k(y,m),l.push(new S(Math.min(d.x,y.x),Math.min(d.y,y.y),Math.abs(d.x-y.x),Math.abs(d.y-y.y))),g=0===p?0:s-v,d.l(0,g),y.l(a,v+g),c.push(new S(Math.min(d.x,y.x),Math.min(d.y,y.y),Math.abs(d.x-y.x),Math.abs(d.y-y.y))),k(d,m),k(y,m),l.push(new S(Math.min(d.x,y.x),Math.min(d.y,y.y),Math.abs(d.x-y.x),Math.abs(d.y-y.y))),this.el.lm(this)&&(a=0<i?0:-i,s=0<o?0:-o,d.l(a,s),y.l(h+a,f+s),c.push(new S(Math.min(d.x,y.x),Math.min(d.y,y.y),Math.abs(d.x-y.x),Math.abs(d.y-y.y))),k(d,m),k(y,m),l.push(new S(Math.min(d.x,y.x),Math.min(d.y,y.y),Math.abs(d.x-y.x),Math.abs(d.y-y.y)))),Wl.v(d),Wl.v(y),ii(this,!1),hi(this,l,c,i,o),Wl.wa(l),Wl.wa(c),this.Xd=!1}}}else this.Zf();Wl.Hb(r),n&&(this.jk=1,this.Zf(),this.jk=null,this.Tx())}else n?(this.jk=1,this.Zf(),this.jk=null,this.Tx()):this.Zf()}},In.prototype.add=In.prototype.add=function(t){Wl.G(t,sa,In,"add:part");var e=t.g;if(e!==this){null!==e&&Wl.k("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),this.Gq&&(t.ll="Tool");var n=t.Xf,e=this.Lt(n);null===e&&(e=this.Lt("")),null===e&&Wl.k('Cannot add a Part when unable find a Layer named "'+n+'" and there is no default Layer'),t.layer!==e&&(n=e.aq(99999999,t,t.g===this),0<=n&&this.Xc(yc,"parts",e,null,t,null,n),e.Kc||this.rc(),t.J(Dd),null!==(n=t.Dx)&&n(t,null,e))}},In.prototype.aq=function(t){if(t instanceof Ea){if(this.fp.add(t),t instanceof Ds){var e=t.La;null===e?this.xl.add(t):e.cp.add(t),e=t.Sb,null!==e&&(e.g=this)}}else t instanceof _a?this.Zo.add(t):t instanceof Aa||this.zb.add(t);var n=this;so(t,function(t){Ni(n,t)}),(t instanceof Aa||t instanceof Ds&&null!==t.Lb)&&t.I(),e=t.data,null!==e&&(t instanceof Aa||(t instanceof _a?this.Kj.add(e,t):this.Bi.add(e,t)),so(t,function(t){Pi(n,t)})),!0!==Wr(t)&&!0!==xa(t)||this.rg.add(t),ma(t,!0,this),Da(t)?(t.Y.H()&&this.oa(da(t,t.Y)),this.rc()):t.isVisible()&&t.Y.H()&&this.oa(da(t,t.Y)),this.Me()},In.prototype.kf=function(t){if(t.Ct(),t instanceof Ea){if(this.fp.remove(t),t instanceof Ds){var e=t.La;null===e?this.xl.remove(t):e.cp.remove(t),e=t.Sb,null!==e&&(e.g=null)}}else t instanceof _a?this.Zo.remove(t):t instanceof Aa||this.zb.remove(t);var n=this;so(t,function(t){Ai(n,t)}),e=t.data,null!==e&&(t instanceof Aa||(t instanceof _a?this.Kj.remove(e):this.Bi.remove(e)),so(t,function(t){Ci(n,t)})),this.rg.remove(t),Da(t)?(t.Y.H()&&this.oa(da(t,t.Y)),this.rc()):t.isVisible()&&t.Y.H()&&this.oa(da(t,t.Y)),this.Me()},In.prototype.remove=In.prototype.remove=function(t){Wl.G(t,sa,In,"remove:part"),gi(this,t,!0)},In.prototype.removeParts=In.prototype.SA=function(t,e){if(Wl.isArray(t))for(var n=Wl.Za(t),i=0;i<n;i++){var r=Wl.Ea(t,i);e&&!r.canDelete()||this.remove(r)}else for(r=new d(sa),r.Ic(t),n=r.i;n.next();)r=n.value,e&&!r.canDelete()||this.remove(r)},In.prototype.copyParts=In.prototype.Op=function(t,e,n){return this.pb.Op(t,e,n)},In.prototype.moveParts=In.prototype.moveParts=function(t,e,n){Wl.G(e,w,In,"moveParts:offset");var i=this.bb;if(null!==i){i=i.se,null===i&&(i=new pe,i.Qc(this));var r=new b(sa);if(null!==t)t=t.i;else{for(t=this.Ik;t.next();)ge(i,r,t.value,n);for(t=this.eg;t.next();)ge(i,r,t.value,n);t=this.links}for(;t.next();)ge(i,r,t.value,n);i.moveParts(r,e,n)}},In.prototype.addLayer=In.prototype.ut=function(t){mi(this,t,null),t.Qc(this);var e=this.ac,n=e.count-1;if(!t.Kc)for(;0<=n&&e.ea(n).Kc;)n--;e.Ld(n+1,t),null!==this.le&&this.Xc(yc,"layers",this,null,t,null,n+1),this.oa(),this.rc()},In.prototype.addLayerBefore=In.prototype.bH=function(t,e){mi(this,t,e),t.Qc(this);var n=this.ac,i=n.indexOf(t);0<=i&&(n.remove(t),null!==this.le&&this.Xc(gc,"layers",this,t,null,i,null));for(var r=n.count,o=0;o<r;o++)if(n.ea(o)===e){n.Ld(o,t);break}null!==this.le&&this.Xc(yc,"layers",this,null,t,null,o),this.oa(),0>i&&this.rc()},In.prototype.addLayerAfter=function(t,e){mi(this,t,e),t.Qc(this);var n=this.ac,i=n.indexOf(t);0<=i&&(n.remove(t),null!==this.le&&this.Xc(gc,"layers",this,t,null,i,null));for(var r=n.count,o=0;o<r;o++)if(n.ea(o)===e){n.Ld(o+1,t);break}null!==this.le&&this.Xc(yc,"layers",this,null,t,null,o+1),this.oa(),0>i&&this.rc()},In.prototype.removeLayer=function(t){if(Wl.G(t,jn,In,"removeLayer:layer"),t.g!==this&&Wl.k("Cannot remove a Layer from another Diagram: "+t+" of "+t.g),""!==t.name){var e=this.ac,n=e.indexOf(t);if(e.remove(t)){for(e=t.zb.copy().i;e.next();){var i=e.value,r=i.Xf;i.Xf=r!==t.name?r:""}null!==this.le&&this.Xc(gc,"layers",this,t,null,n,null),this.oa(),this.rc()}}},In.prototype.findLayer=In.prototype.Lt=function(t){for(var e=this.Ex;e.next();){var n=e.value;if(n.name===t)return n}return null},In.prototype.addModelChangedListener=In.prototype.dH=function(t){Wl.j(t,"function",In,"addModelChangedListener:listener"),null===this.hh&&(this.hh=new c("function")),this.hh.add(t),this.ca.gn(t)},In.prototype.removeModelChangedListener=function(t){Wl.j(t,"function",In,"removeModelChangedListener:listener"),null!==this.hh&&(this.hh.remove(t),0===this.hh.count&&(this.hh=null)),this.ca.xu(t)},In.prototype.addChangedListener=In.prototype.gn=function(t){Wl.j(t,"function",In,"addChangedListener:listener"),null===this.wi&&(this.wi=new c("function")),this.wi.add(t)},In.prototype.removeChangedListener=In.prototype.xu=function(t){Wl.j(t,"function",In,"removeChangedListener:listener"),null!==this.wi&&(this.wi.remove(t),0===this.wi.count&&(this.wi=null))},In.prototype.Rw=function(t){if(this.wb||this.pa.XE(t),t.yc!==pc&&(this.oi=!0),null!==this.wi){var e=this.wi,n=e.length;if(1===n)(e=e.ea(0))(t);else if(0!==n)for(var i=e.ec(),r=0;r<n;r++)(e=i[r])(t)}},In.prototype.raiseChangedEvent=In.prototype.Xc=function(t,e,n,i,r,o,a){void 0===o&&(o=null),void 0===a&&(a=null);var s=new jt;s.g=this,s.yc=t,s.propertyName=e,s.object=n,s.oldValue=i,s.zj=o,s.newValue=r,s.yj=a,this.Rw(s)},In.prototype.raiseChanged=In.prototype.h=function(t,e,n,i,r){this.Xc(vc,t,this,e,n,i,r)},Wl.u(In,{Qa:"animationManager"},function(){return this.JB}),Wl.u(In,{pa:"undoManager"},function(){return this.le.pa}),Wl.defineProperty(In,{wb:"skipsUndoManager"},function(){return this.dj},function(t){Wl.j(t,"boolean",In,"skipsUndoManager"),this.dj=t,this.le.dj=t}),Wl.defineProperty(In,{Zz:"delaysLayout"},function(){return this.Ny},function(t){this.Ny=t}),In.prototype.mn=function(t,e){if(null!==t&&t.g===this){var n=this.Oe;try{this.Oe=!0;var i,r=t.yc;if(r===vc){var o=t.object,a=t.propertyName,s=t.la(e);if(Wl.Na(o,a,s),o instanceof Tr){var h,l=o.V;null!==l&&l.de()}this.oi=!0}else if(r===yc){var u=t.object,c=t.yj,o=t.newValue;if(u instanceof Qr){if("number"==typeof c&&o instanceof Tr){h=o;var f=u;e?f.kf(c):f.Ld(c,h),l=u.V,null!==l&&l.de()}else if("number"==typeof c&&o instanceof So){var d=o,f=u;e?d.we?f.OF(c):f.LF(c):(i=d.we?f.ce(d.index):f.be(d.index),i.Np(d))}}else if(u instanceof jn){var p=!0===t.zj;if("number"==typeof c&&o instanceof sa){var l=o,v=u;e?(l.fb=!1,l.Mg=!1,l.de(),v.kf(p?c:-1,l,p)):v.aq(c,l,p)}}else if(u instanceof In){if("number"==typeof c&&o instanceof jn){var y=o;e?this.ac.Yc(c):(r=y,r.Qc(this),this.ac.Ld(c,r))}}else Wl.k("unknown ChangedEvent.Insert object: "+t.toString());this.oi=!0}else r===gc?(u=t.object,c=t.zj,o=t.oldValue,u instanceof Qr?"number"==typeof c&&o instanceof Tr?(f=u,e?f.Ld(c,o):f.kf(c)):"number"==typeof c&&o instanceof So&&(d=o,f=u,e?(i=d.we?f.ce(d.index):f.be(d.index),i.Np(d)):d.we?f.OF(c):f.LF(c)):u instanceof jn?(p=!0===t.yj,"number"==typeof c&&o instanceof sa&&(l=o,v=u,e?v.aq(c,l,p):(l.fb=!1,l.Mg=!1,l.de(),v.kf(p?c:-1,l,p)))):u instanceof In?"number"==typeof c&&o instanceof jn&&(y=o,e?(r=y,r.Qc(this),this.ac.Ld(c,r)):this.ac.Yc(c)):Wl.k("unknown ChangedEvent.Remove object: "+t.toString()),this.oi=!0):r!==pc&&Wl.k("unknown ChangedEvent: "+t.toString())}finally{this.Oe=n}}},In.prototype.startTransaction=In.prototype.Ub=function(t){return this.pa.Ub(t)},In.prototype.commitTransaction=In.prototype.Fd=function(t){return this.pa.Fd(t)},In.prototype.rollbackTransaction=In.prototype.oq=function(){return this.pa.oq()},In.prototype.updateAllTargetBindings=In.prototype.vG=function(t){void 0===t&&(t="");for(var e=this.Ik;e.next();)e.value.Ib(t);for(e=this.eg;e.next();)e.value.Ib(t);for(e=this.links;e.next();)e.value.Ib(t)},In.prototype.updateAllRelationshipsFromData=In.prototype.RJ=function(){for(var t=this.ca,e=new d,n=t.dg,i=0;i<n.length;i++){var r=n[i];e.add(r)}var o=[];for(this.eg.each(function(t){null===t.data||e.contains(t.data)||o.push(t.data)}),this.Ik.each(function(t){null===t.data||e.contains(t.data)||o.push(t.data)}),o.forEach(function(e){Kt(t,e,!1)}),i=0;i<n.length;i++){var r=n[i],a=this.wh(r);null===a&&Wt(t,r,!1)}if(t instanceof Qt){for(var s=new d,n=t.Ng,i=0;i<n.length;i++)r=n[i],s.add(r);var h=[];for(this.links.each(function(t){null===t.data||s.contains(t.data)||h.push(t.data)}),h.forEach(function(e){te(t,e,!1)}),i=0;i<n.length;i++)r=n[i],null===(a=this.Rf(r))&&Zt(t,r,!1)}for(i=this.Ik;i.next();)a=i.value,a.updateRelationshipsFromData();for(i=this.eg;i.next();)i.value.updateRelationshipsFromData();for(i=this.links;i.next();)a=i.value,a.updateRelationshipsFromData()},In.prototype.uu=function(t,e,n,i,r){t.L(e)||(void 0===r&&(r=!1),r||fi(this),di(this),i=this.Sb,null===i||!i.Ax||this.Gl!==Qc||r||t.width===e.width&&t.height===e.height||i.J(),i=this.$a,!0===this.Dm&&i instanceof pn&&(this.R.da=this.qB(this.R.cf),vn(i,this)),this.Sc||this.bF(t,e),wi(this),this.oh.scale=n,this.oh.position.x=t.x,this.oh.position.y=t.y,this.oh.bounds.set(t),this.oh.isScroll=r,this.Ca("ViewportBoundsChanged",this.oh,t))},In.prototype.clearSelection=In.prototype.Sw=function(){var t=0<this.selection.count;t&&this.Ca("ChangingSelection"),xi(this),t&&this.Ca("ChangedSelection")},In.prototype.select=In.prototype.select=function(t){null!==t&&(Wl.G(t,sa,In,"select:part"),t.layer.g===this&&(!t.fb||1<this.selection.count)&&(this.Ca("ChangingSelection"),xi(this),t.fb=!0,this.Ca("ChangedSelection")))},In.prototype.selectCollection=In.prototype.$F=function(t){if(this.Ca("ChangingSelection"),xi(this),Wl.isArray(t))for(var e=Wl.Za(t),n=0;n<e;n++){var i=Wl.Ea(t,n);i instanceof sa||Wl.k("Diagram.selectCollection given something that is not a Part: "+i),i.fb=!0}else for(t=t.i;t.next();)i=t.value,i instanceof sa||Wl.k("Diagram.selectCollection given something that is not a Part: "+i),i.fb=!0;this.Ca("ChangedSelection")},In.prototype.clearHighlighteds=In.prototype.mH=function(){var t=this.Vl;if(0<t.count){for(var e=t.ec(),n=e.length,i=0;i<n;i++)e[i].Mg=!1;t.Ra(),t.clear(),t.freeze()}},In.prototype.highlight=function(t){null!==t&&t.layer.g===this&&(Wl.G(t,sa,In,"highlight:part"),!t.Mg||1<this.Vl.count)&&(this.mH(),t.Mg=!0)},In.prototype.highlightCollection=function(t){for(var e=new d(sa).Ic(t),n=this.Vl.copy().Vx(e).i;n.next();)t=n.value,t.Mg=!1;for(e=e.i;e.next();)t=e.value,t instanceof sa||Wl.k("Diagram.highlightCollection given something that is not a Part: "+t),t.Mg=!0},In.prototype.scroll=In.prototype.scroll=function(t,e,n){void 0===n&&(n=1);var i="up"===e||"down"===e,r=0;if("pixel"===t)r=n;else if("line"===t)r=n*(i?this.Du:this.Cu);else if("page"===t)t=i?this.tb.height:this.tb.width,0!==(t*=this.scale)&&(r=Math.max(t-(i?this.Du:this.Cu),0),r*=n);else{if("document"===t)return r=this.re,i=this.tb,n=Wl.K(),"up"===e?this.position=n.l(i.x,r.y):"left"===e?this.position=n.l(r.x,i.y):"down"===e?this.position=n.l(i.x,r.bottom-i.height):"right"===e&&(this.position=n.l(r.right-i.width,i.y)),void Wl.v(n);Wl.k("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}r/=this.scale,n=this.position.copy(),"up"===e?n.y=this.position.y-r:"down"===e?n.y=this.position.y+r:"left"===e?n.x=this.position.x-r:"right"===e?n.x=this.position.x+r:Wl.k("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=n},In.prototype.scrollToRect=In.prototype.uJ=function(t){var e=this.tb;e.vk(t)||(t=t.Hl,t.x-=e.width/2,t.y-=e.height/2,this.position=t)},In.prototype.centerRect=In.prototype.lH=function(t){var e=this.tb;t=t.Hl,t.x-=e.width/2,t.y-=e.height/2,this.position=t},In.prototype.transformDocToView=In.prototype.sG=function(t){var e=this.dd;e.reset(),1!==this.Gb&&e.scale(this.Gb);var n=this.ib;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),t.copy().transform(this.dd)},In.prototype.transformViewToDoc=In.prototype.qB=function(t){var e=this.dd;e.reset(),1!==this.Gb&&e.scale(this.Gb);var n=this.ib;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),k(t.copy(),this.dd)};var Qc;In.None=Qc=Wl.p(In,"None",0);var Zc;In.Uniform=Zc=Wl.p(In,"Uniform",1);var tf;In.UniformToFill=tf=Wl.p(In,"UniformToFill",2);var ef;In.CycleAll=ef=Wl.p(In,"CycleAll",10);var nf;In.CycleNotDirected=nf=Wl.p(In,"CycleNotDirected",11);var rf;In.CycleNotDirectedFast=rf=Wl.p(In,"CycleNotDirectedFast",12);var of;In.CycleNotUndirected=of=Wl.p(In,"CycleNotUndirected",13);var af;In.CycleDestinationTree=af=Wl.p(In,"CycleDestinationTree",14);var sf;In.CycleSourceTree=sf=Wl.p(In,"CycleSourceTree",15);var hf;In.DocumentScroll=hf=Wl.p(In,"DocumentScroll",1);var lf;In.InfiniteScroll=lf=Wl.p(In,"InfiniteScroll",2);var uf;In.TreeParentCollapsed=uf=Wl.p(In,"TreeParentCollapsed",21);var cf;In.AllParentsCollapsed=cf=Wl.p(In,"AllParentsCollapsed",22);var ff;In.AnyParentsCollapsed=ff=Wl.p(In,"AnyParentsCollapsed",23),Wl.defineProperty(In,{SJ:"validCycle"},function(){return this.Fw},function(t){var e=this.Fw;e!==t&&(Wl.nb(t,In,In,"validCycle"),this.Fw=t,this.h("validCycle",e,t))}),Wl.u(In,{Ex:"layers"},function(){return this.ac.i}),Wl.defineProperty(In,{yf:"isModelReadOnly"},function(){var t=this.le;return null!==t&&t.eb},function(t){var e=this.le;null!==e&&(e.eb=t)}),Wl.defineProperty(In,{eb:"isReadOnly"},function(){return this.Ki},function(t){var e=this.Ki;e!==t&&(Wl.j(t,"boolean",In,"isReadOnly"),this.Ki=t,this.h("isReadOnly",e,t))}),Wl.defineProperty(In,{isEnabled:"isEnabled"},function(){return this.df},function(t){var e=this.df;e!==t&&(Wl.j(t,"boolean",In,"isEnabled"),this.df=t,this.h("isEnabled",e,t))}),Wl.defineProperty(In,{Lz:"allowClipboard"},function(){return this.Tu},function(t){var e=this.Tu;e!==t&&(Wl.j(t,"boolean",In,"allowClipboard"),this.Tu=t,this.h("allowClipboard",e,t))}),Wl.defineProperty(In,{sk:"allowCopy"},function(){return this.Lk},function(t){var e=this.Lk;e!==t&&(Wl.j(t,"boolean",In,"allowCopy"),this.Lk=t,this.h("allowCopy",e,t))}),Wl.defineProperty(In,{hn:"allowDelete"},function(){return this.Mk},function(t){var e=this.Mk;e!==t&&(Wl.j(t,"boolean",In,"allowDelete"),this.Mk=t,this.h("allowDelete",e,t))}),Wl.defineProperty(In,{zt:"allowDragOut"},function(){return this.Uu},function(t){var e=this.Uu;e!==t&&(Wl.j(t,"boolean",In,"allowDragOut"),this.Uu=t,this.h("allowDragOut",e,t))}),Wl.defineProperty(In,{eE:"allowDrop"},function(){return this.Vu},function(t){var e=this.Vu;e!==t&&(Wl.j(t,"boolean",In,"allowDrop"),this.Vu=t,this.h("allowDrop",e,t))}),Wl.defineProperty(In,{Ow:"allowTextEdit"},function(){return this.Vk},function(t){var e=this.Vk;e!==t&&(Wl.j(t,"boolean",In,"allowTextEdit"),this.Vk=t,this.h("allowTextEdit",e,t))}),Wl.defineProperty(In,{Lw:"allowGroup"},function(){return this.Nk},function(t){var e=this.Nk;e!==t&&(Wl.j(t,"boolean",In,"allowGroup"),this.Nk=t,this.h("allowGroup",e,t))}),Wl.defineProperty(In,{Pw:"allowUngroup"},function(){return this.Wk},function(t){var e=this.Wk;e!==t&&(Wl.j(t,"boolean",In,"allowUngroup"),this.Wk=t,this.h("allowUngroup",e,t))}),Wl.defineProperty(In,{Fp:"allowInsert"},function(){return this.Xu},function(t){var e=this.Xu;e!==t&&(Wl.j(t,"boolean",In,"allowInsert"),this.Xu=t,this.h("allowInsert",e,t))}),Wl.defineProperty(In,{At:"allowLink"},function(){return this.Ok},function(t){var e=this.Ok;e!==t&&(Wl.j(t,"boolean",In,"allowLink"),this.Ok=t,this.h("allowLink",e,t))}),Wl.defineProperty(In,{jn:"allowRelink"},function(){return this.Qk},function(t){var e=this.Qk;e!==t&&(Wl.j(t,"boolean",In,"allowRelink"),this.Qk=t,this.h("allowRelink",e,t))}),Wl.defineProperty(In,{El:"allowMove"},function(){return this.Pk},function(t){var e=this.Pk;e!==t&&(Wl.j(t,"boolean",In,"allowMove"),this.Pk=t,this.h("allowMove",e,t))}),Wl.defineProperty(In,{Mw:"allowReshape"},function(){return this.Rk},function(t){var e=this.Rk;e!==t&&(Wl.j(t,"boolean",In,"allowReshape"),this.Rk=t,this.h("allowReshape",e,t))}),Wl.defineProperty(In,{Bt:"allowResize"},function(){return this.Sk},function(t){var e=this.Sk;e!==t&&(Wl.j(t,"boolean",In,"allowResize"),this.Sk=t,this.h("allowResize",e,t))}),Wl.defineProperty(In,{Nw:"allowRotate"},function(){return this.Tk},function(t){var e=this.Tk;e!==t&&(Wl.j(t,"boolean",In,"allowRotate"),this.Tk=t,this.h("allowRotate",e,t))}),Wl.defineProperty(In,{uf:"allowSelect"},function(){return this.Uk},function(t){var e=this.Uk;e!==t&&(Wl.j(t,"boolean",In,"allowSelect"),this.Uk=t,this.h("allowSelect",e,t))}),Wl.defineProperty(In,{fE:"allowUndo"},function(){return this.Yu},function(t){var e=this.Yu;e!==t&&(Wl.j(t,"boolean",In,"allowUndo"),this.Yu=t,this.h("allowUndo",e,t))}),Wl.defineProperty(In,{Qw:"allowZoom"},function(){return this.$u},function(t){var e=this.$u;e!==t&&(Wl.j(t,"boolean",In,"allowZoom"),this.$u=t,this.h("allowZoom",e,t))}),Wl.defineProperty(In,{qA:"hasVerticalScrollbar"},function(){return this.Ev},function(t){var e=this.Ev;e!==t&&(Wl.j(t,"boolean",In,"hasVerticalScrollbar"),this.Ev=t,fi(this),this.oa(),this.h("hasVerticalScrollbar",e,t),Wn(this,!1))}),Wl.defineProperty(In,{pA:"hasHorizontalScrollbar"},function(){return this.Dv},function(t){var e=this.Dv;e!==t&&(Wl.j(t,"boolean",In,"hasHorizontalScrollbar"),this.Dv=t,fi(this),this.oa(),this.h("hasHorizontalScrollbar",e,t),Wn(this,!1))}),Wl.defineProperty(In,{ne:"allowHorizontalScroll"},function(){return this.Wu},function(t){var e=this.Wu;e!==t&&(Wl.j(t,"boolean",In,"allowHorizontalScroll"),this.Wu=t,this.h("allowHorizontalScroll",e,t),Wn(this,!1))}),Wl.defineProperty(In,{oe:"allowVerticalScroll"},function(){return this.Zu},function(t){var e=this.Zu;e!==t&&(Wl.j(t,"boolean",In,"allowVerticalScroll"),this.Zu=t,this.h("allowVerticalScroll",e,t),Wn(this,!1))}),Wl.defineProperty(In,{Cu:"scrollHorizontalLineChange"},function(){return this.pw},function(t){var e=this.pw;e!==t&&(Wl.j(t,"number",In,"scrollHorizontalLineChange"),0>t&&Wl.Fa(t,">= 0",In,"scrollHorizontalLineChange"),this.pw=t,this.h("scrollHorizontalLineChange",e,t))}),Wl.defineProperty(In,{Du:"scrollVerticalLineChange"},function(){return this.tw},function(t){var e=this.tw;e!==t&&(Wl.j(t,"number",In,"scrollVerticalLineChange"),0>t&&Wl.Fa(t,">= 0",In,"scrollVerticalLineChange"),this.tw=t,this.h("scrollVerticalLineChange",e,t))}),Wl.defineProperty(In,{R:"lastInput"},function(){return this.Qb},function(t){this.Qb=t}),Wl.defineProperty(In,{Ac:"firstInput"},function(){return this.Ii},function(t){this.Ii=t}),Wl.defineProperty(In,{cc:"currentCursor"},function(){return this.kv},function(t){""===t&&(t=this.jr);var e=this.kv;if(e!==t){Wl.j(t,"string",In,"currentCursor");var n=this.Eb,i=this.Nb;null!==n&&(this.kv=t,n.style.cursor=t,i.style.cursor=t,n.style.cursor===e&&(n.style.cursor="-webkit-"+t,i.style.cursor="-webkit-"+t,n.style.cursor===e&&(n.style.cursor="-moz-"+t,i.style.cursor="-moz-"+t,n.style.cursor===e&&(n.style.cursor=t,i.style.cursor=t))))}}),Wl.defineProperty(In,{DK:"defaultCursor"},function(){return this.jr},function(t){""===t&&(t="auto");var e=this.jr;e!==t&&(Wl.j(t,"string",In,"defaultCursor"),this.jr=t,this.h("defaultCursor",e,t))}),Wl.defineProperty(In,{click:"click"},function(){return this.xi},function(t){var e=this.xi;e!==t&&(null!==t&&Wl.j(t,"function",In,"click"),this.xi=t,this.h("click",e,t))}),Wl.defineProperty(In,{Ht:"doubleClick"},function(){return this.Fi},function(t){var e=this.Fi;e!==t&&(null!==t&&Wl.j(t,"function",In,"doubleClick"),this.Fi=t,this.h("doubleClick",e,t))}),Wl.defineProperty(In,{Tz:"contextClick"},function(){return this.zi},function(t){var e=this.zi;e!==t&&(null!==t&&Wl.j(t,"function",In,"contextClick"),this.zi=t,this.h("contextClick",e,t))}),Wl.defineProperty(In,{IA:"mouseOver"},function(){return this.Wi},function(t){var e=this.Wi;e!==t&&(null!==t&&Wl.j(t,"function",In,"mouseOver"),this.Wi=t,this.h("mouseOver",e,t))}),Wl.defineProperty(In,{HA:"mouseHover"},function(){return this.Vi},function(t){var e=this.Vi;e!==t&&(null!==t&&Wl.j(t,"function",In,"mouseHover"),this.Vi=t,this.h("mouseHover",e,t))}),Wl.defineProperty(In,{GA:"mouseHold"},function(){return this.Ui},function(t){var e=this.Ui;e!==t&&(null!==t&&Wl.j(t,"function",In,"mouseHold"),this.Ui=t,this.h("mouseHold",e,t))}),Wl.defineProperty(In,{XI:"mouseDragOver"},function(){return this.bw},function(t){var e=this.bw;e!==t&&(null!==t&&Wl.j(t,"function",In,"mouseDragOver"),this.bw=t,this.h("mouseDragOver",e,t))}),Wl.defineProperty(In,{FA:"mouseDrop"},function(){return this.Ti},function(t){var e=this.Ti;e!==t&&(null!==t&&Wl.j(t,"function",In,"mouseDrop"),this.Ti=t,this.h("mouseDrop",e,t))}),Wl.defineProperty(In,{mB:"toolTip"},function(){return this.ej},function(t){var e=this.ej;e!==t&&(this.ej=t,this.h("toolTip",e,t))}),Wl.defineProperty(In,{contextMenu:"contextMenu"},function(){return this.Ai},function(t){var e=this.Ai;e!==t&&(this.Ai=t,this.h("contextMenu",e,t))}),Wl.defineProperty(In,{pb:"commandHandler"},function(){return this.Gy},function(t){var e=this.Gy;e!==t&&(Wl.G(t,he,In,"commandHandler"),null!==t.g&&Wl.k("Cannot share CommandHandlers between Diagrams: "+t.toString()),null!==e&&e.Qc(null),this.Gy=t,t.Qc(this))}),Wl.defineProperty(In,{bb:"toolManager"},function(){return this.Ez},function(t){var e=this.Ez;e!==t&&(Wl.G(t,pn,In,"toolManager"),null!==t.g&&Wl.k("Cannot share ToolManagers between Diagrams: "+t.toString()),null!==e&&e.Qc(null),this.Ez=t,t.Qc(this))}),Wl.defineProperty(In,{Ft:"defaultTool"},function(){return this.My},function(t){var e=this.My;e!==t&&(Wl.G(t,fe,In,"defaultTool"),this.My=t,this.$a===e&&(this.$a=t))}),Wl.defineProperty(In,{$a:"currentTool"},function(){return this.Jy},function(t){var e=this.Jy;null!==e&&(e.ta&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.Ft),null!==t&&(Wl.G(t,fe,In,"currentTool"),this.Jy=t,t.Qc(this),t.doStart())}),Wl.u(In,{selection:"selection"},function(){return this.vw}),Wl.defineProperty(In,{NI:"maxSelectionCount"},function(){return this.Yv},function(t){var e=this.Yv;if(e!==t)if(Wl.j(t,"number",In,"maxSelectionCount"),0<=t&&!isNaN(t)){if(this.Yv=t,this.h("maxSelectionCount",e,t),!this.pa.gb&&0<(t=this.selection.count-t)){this.Ca("ChangingSelection");for(var e=this.selection.ec(),n=0;n<t;n++)e[n].fb=!1;this.Ca("ChangedSelection")}}else Wl.Fa(t,">= 0",In,"maxSelectionCount")}),Wl.defineProperty(In,{$I:"nodeSelectionAdornmentTemplate"},function(){return this.cw},function(t){var e=this.cw;e!==t&&(Wl.G(t,Aa,In,"nodeSelectionAdornmentTemplate"),this.cw=t,this.h("nodeSelectionAdornmentTemplate",e,t))}),Wl.defineProperty(In,{eI:"groupSelectionAdornmentTemplate"},function(){return this.Bv},function(t){var e=this.Bv;e!==t&&(Wl.G(t,Aa,In,"groupSelectionAdornmentTemplate"),this.Bv=t,this.h("groupSelectionAdornmentTemplate",e,t))}),Wl.defineProperty(In,{HI:"linkSelectionAdornmentTemplate"},function(){return this.Tv},function(t){var e=this.Tv;e!==t&&(Wl.G(t,Aa,In,"linkSelectionAdornmentTemplate"),this.Tv=t,this.h("linkSelectionAdornmentTemplate",e,t))}),Wl.u(In,{Vl:"highlighteds"},function(){return this.Fv}),Wl.defineProperty(In,{oi:"isModified"},function(){var t=this.pa;return t.isEnabled?null!==t.kj||this.Mv&&this.eh!==t.pj:this.Mv},function(t){if(this.Mv!==t){Wl.j(t,"boolean",In,"isModified"),this.Mv=t;var e=this.pa;!t&&e.isEnabled&&(this.eh=e.pj),t||ki(this)}}),Wl.defineProperty(In,{ca:"model"},function(){return this.le},function(t){var e=this.le;if(e!==t){Wl.G(t,Lt,In,"model"),this.$a.doCancel(),null!==e&&e.pa!==t.pa&&e.pa.jF&&Wl.k("Do not replace a Diagram.model while a transaction is in progress."),this.Qa.qi(),this.Sw(),this.fh=!1,this.Ho=!0,this.eh=-2,this.Nf=!1;var n=this.Xd;this.Xd=!0,this.Qa.Tn("Model"),null!==e&&(null!==this.hh&&this.hh.each(function(t){e.xu(t)}),e.xu(this.aD),e instanceof Qt&&zi(this,e.Ng),zi(this,e.dg)),this.le=t,t.gn(this.$C),ji(this,t.dg),t instanceof Qt&&Ri(this,t.Ng),t.xu(this.$C),t.gn(this.aD),null!==this.hh&&this.hh.each(function(e){t.gn(e)}),this.Xd=n,this.Sc||this.oa(),null!==e&&(t.pa.isEnabled=e.pa.isEnabled)}}),Wl.defineProperty(In,{Va:null},function(){return this.SC},function(t){this.SC=t}),Wl.u(In,{Hx:null},function(){return this.HG}),Wl.defineProperty(In,{Oe:"skipsModelSourceBindings"},function(){return this.vD},function(t){this.vD=t}),Wl.defineProperty(In,{Ju:null},function(){return this.zz},function(t){this.zz=t}),In.prototype.rebuildParts=In.prototype.dm=function(){for(var t=this.LA.i;t.next();){var e=t.value,n=t.key;(!e.ee()||e instanceof Ds)&&Wl.k('Invalid node template in Diagram.nodeTemplateMap: template for "'+n+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.oA.i;t.next();)e=t.value,n=t.key,e instanceof Ds||Wl.k('Invalid group template in Diagram.groupTemplateMap: template for "'+n+'" must be a Group, not a normal Node or Link: '+e);for(t=this.yA.i;t.next();)e=t.value,n=t.key,e instanceof _a||Wl.k('Invalid link template in Diagram.linkTemplateMap: template for "'+n+'" must be a Link, not a normal Node or simple Part: '+e);for(t=Wl.mb(),e=this.selection.i;e.next();)(n=e.value.data)&&t.push(n);for(var e=Wl.mb(),i=this.Vl.i;i.next();)(n=i.value.data)&&e.push(n);for(n=Wl.mb(),i=this.eg.i;i.next();){var r=i.value;null!==r.data&&(n.push(r.data),n.push(r.location))}for(i=this.links.i;i.next();)r=i.value,null!==r.data&&(n.push(r.data),n.push(r.location));for(i=this.Ik.i;i.next();)r=i.value,null!==r.data&&(n.push(r.data),n.push(r.location));for(i=this.ca,i instanceof Qt&&zi(this,i.Ng),zi(this,i.dg),ji(this,i.dg),i instanceof Qt&&Ri(this,i.Ng),i=0;i<t.length;i++)null!==(r=this.wh(t[i]))&&(r.fb=!0);for(i=0;i<e.length;i++)null!==(r=this.wh(e[i]))&&(r.Mg=!0);for(i=0;i<n.length;i+=2)null!==(r=this.wh(n[i]))&&(r.location=n[i+1]);Wl.wa(t),Wl.wa(e),Wl.wa(n)},In.prototype.kA=function(t){return this.ca.kA(t)};var df=!1,pf=!1;In.prototype.mx=function(t){var e=this.ca,n="";return e instanceof Qt?n=e.mx(t):e instanceof ne&&(n=e.ZH(t)),n};var vf=!1;In.prototype.findPartForKey=In.prototype.RH=function(t){if(null===t||void 0===t)return null;var e=this.ca.ue(t);return null!==e?this.Bi.la(e):this.ca instanceof Qt&&null!==(e=this.ca.Vp(t))?this.Kj.la(e):null},In.prototype.findNodeForKey=In.prototype.Je=function(t){return null===t||void 0===t?null:null===(t=this.ca.ue(t))?null:(t=this.Bi.la(t),t instanceof Ea?t:null)},In.prototype.findPartForData=In.prototype.wh=function(t){if(null===t)return null;var e=this.Bi.la(t);return null!==e?e:e=this.Kj.la(t)},In.prototype.findNodeForData=In.prototype.jx=function(t){return null===t?null:(t=this.Bi.la(t),t instanceof Ea?t:null)},In.prototype.findLinkForData=In.prototype.Rf=function(t){return null===t?null:this.Kj.la(t)},In.prototype.findNodesByExample=function(t){for(var e=new d(Ea),n=this.fp.i;n.next();){var i=n.value,r=i.data;if(null!==r)for(var o=0;o<arguments.length;o++){var a=arguments[o];if(Wl.Ua(a)&&Ui(this,r,a)){e.add(i);break}}}return e.i},In.prototype.findLinksByExample=function(t){for(var e=new d(_a),n=this.Zo.i;n.next();){var i=n.value,r=i.data;if(null!==r)for(var o=0;o<arguments.length;o++){var a=arguments[o];if(Wl.Ua(a)&&Ui(this,r,a)){e.add(i);break}}}return e.i},Wl.defineProperty(In,{oL:"nodeTemplate"},function(){return this.Xi.la("")},function(t){var e=this.Xi.la("");e!==t&&(Wl.G(t,sa,In,"nodeTemplate"),this.Xi.add("",t),this.h("nodeTemplate",e,t),this.pa.gb||this.dm())}),Wl.defineProperty(In,{LA:"nodeTemplateMap"},function(){return this.Xi},function(t){var e=this.Xi;e!==t&&(Wl.G(t,b,In,"nodeTemplateMap"),this.Xi=t,this.h("nodeTemplateMap",e,t),this.pa.gb||this.dm())}),Wl.defineProperty(In,{QK:"groupTemplate"},function(){return this.bl.la("")},function(t){var e=this.bl.la("");e!==t&&(Wl.G(t,Ds,In,"groupTemplate"),this.bl.add("",t),this.h("groupTemplate",e,t),this.pa.gb||this.dm())}),Wl.defineProperty(In,{oA:"groupTemplateMap"},function(){return this.bl},function(t){var e=this.bl;e!==t&&(Wl.G(t,b,In,"groupTemplateMap"),this.bl=t,this.h("groupTemplateMap",e,t),this.pa.gb||this.dm())}),Wl.defineProperty(In,{cL:"linkTemplate"},function(){return this.$j.la("")},function(t){var e=this.$j.la("");e!==t&&(Wl.G(t,_a,In,"linkTemplate"),this.$j.add("",t),this.h("linkTemplate",e,t),this.pa.gb||this.dm())}),Wl.defineProperty(In,{yA:"linkTemplateMap"},function(){return this.$j},function(t){var e=this.$j;e!==t&&(Wl.G(t,b,In,"linkTemplateMap"),this.$j=t,this.h("linkTemplateMap",e,t),this.pa.gb||this.dm())}),Wl.defineProperty(In,{uI:null},function(){return this.Dm},function(t){this.Dm=t}),Wl.defineProperty(In,{af:"isMouseCaptured"},function(){return this.PC},function(t){var n=this.Eb;null!==n&&(t?(this.R.bubbles=!1,n.removeEventListener("mousemove",this.On,!1),n.removeEventListener("mousedown",this.Nn,!1),n.removeEventListener("mouseup",this.Qn,!1),n.removeEventListener("mousewheel",this.Og,!1),n.removeEventListener("DOMMouseScroll",this.Og,!1),n.removeEventListener("mouseout",this.Pn,!1),e.addEventListener("mousemove",this.On,!0),e.addEventListener("mousedown",this.Nn,!0),e.addEventListener("mouseup",this.Qn,!0),e.addEventListener("mousewheel",this.Og,!0),e.addEventListener("DOMMouseScroll",this.Og,!0),e.addEventListener("mouseout",this.Pn,!0),e.addEventListener("selectstart",this.preventDefault,!1)):(e.removeEventListener("mousemove",this.On,!0),e.removeEventListener("mousedown",this.Nn,!0),e.removeEventListener("mouseup",this.Qn,!0),e.removeEventListener("mousewheel",this.Og,!0),e.removeEventListener("DOMMouseScroll",this.Og,!0),e.removeEventListener("mouseout",this.Pn,!0),e.removeEventListener("selectstart",this.preventDefault,!1),n.addEventListener("mousemove",this.On,!1),n.addEventListener("mousedown",this.Nn,!1),n.addEventListener("mouseup",this.Qn,!1),n.addEventListener("mousewheel",this.Og,!1),n.addEventListener("DOMMouseScroll",this.Og,!1),n.addEventListener("mouseout",this.Pn,!1)),this.PC=t)}),Wl.defineProperty(In,{position:"position"},function(){return this.ib},function(t){var e=this.ib;if(!e.L(t)){Wl.G(t,w,In,"position");var n=this.tb.copy();if(t=t.copy(),!this.Sc&&null!==this.Eb){this.Sc=!0;var i=this.scale;Yn(this,t,this.re,this.Jb/i,this.Mb/i,this.so,!1),this.Sc=!1}this.ib=t.S(),t=this.Qa,t.pc&&Dn(t,e,this.ib),this.Sc||this.uu(n,this.tb,this.Gb,this.Gb,!1)}}),Wl.defineProperty(In,{mI:"initialPosition"},function(){return this.Hv},function(t){this.Hv.L(t)||(Wl.G(t,w,In,"initialPosition"),this.Hv=t.S())}),Wl.defineProperty(In,{nI:"initialScale"},function(){return this.Iv},function(t){this.Iv!==t&&(Wl.j(t,"number",In,"initialScale"),this.Iv=t)}),Wl.defineProperty(In,{Cn:"grid"},function(){return null===this.od&&Un(this),this.od},function(t){var e=this.od;if(e!==t){null===e&&(Un(this),e=this.od),Wl.G(t,Qr,In,"grid"),t.type!==nd&&Wl.k("Diagram.grid must be a Panel of type Panel.Grid");var n=e.N;null!==n&&n.remove(e),this.od=t,t.name="GRID",null!==n&&n.add(t),wi(this),this.oa(),this.h("grid",e,t)}}),Wl.u(In,{tb:"viewportBounds"},function(){var t=this.VD;if(null===this.Eb)return t;var e=this.ib,n=this.Gb;return t.l(e.x,e.y,Math.max(this.Jb,0)/n,Math.max(this.Mb,0)/n),t}),Wl.defineProperty(In,{LE:"fixedBounds"},function(){return this.zv},function(t){var e=this.zv;e.L(t)||(Wl.G(t,S,In,"fixedBounds"),-(1/0)!==t.width&&1/0!==t.height&&-(1/0)!==t.height||Wl.k("fixedBounds width/height must not be Infinity"),this.zv=t=t.S(),this.rc(),this.h("fixedBounds",e,t))}),Wl.defineProperty(In,{XF:"scrollMargin"},function(){return this.qw},function(t){"number"==typeof t?t=new E(t):Wl.G(t,E,In,"scrollMargin");var e=this.qw;e.L(t)||(this.qw=t=t.S(),this.rc(),this.h("scrollMargin",e,t))}),Wl.defineProperty(In,{VA:"scrollMode"},function(){return this.rw},function(t){var e=this.rw;e!==t&&(Wl.nb(t,In,In,"scrollMode"),this.rw=t,t===hf&&Wn(this,!1),this.h("scrollMode",e,t))}),Wl.defineProperty(In,{IF:"positionComputation"},function(){return this.lw},function(t){var e=this.lw;e!==t&&(null!==t&&Wl.j(t,"function",In,"positionComputation"),this.lw=t,Wn(this,!1),this.h("positionComputation",e,t))}),Wl.defineProperty(In,{WF:"scaleComputation"},function(){return this.nw},function(t){var e=this.nw;e!==t&&(null!==t&&Wl.j(t,"function",In,"scaleComputation"),this.nw=t,bi(this,this.scale,this.scale),this.h("scaleComputation",e,t))}),Wl.u(In,{re:"documentBounds"},function(){return this.sv}),Wl.defineProperty(In,{scale:"scale"},function(){return this.Gb},function(t){var e=this.Gb;Wl.Zd(t,In,"scale"),e!==t&&bi(this,e,t)}),Wl.defineProperty(In,{Gl:"autoScale"},function(){return this.rm},function(t){var e=this.rm;e!==t&&(Wl.nb(t,In,In,"autoScale"),this.rm=t,this.h("autoScale",e,t),t!==Qc&&Wn(this,!1))}),Wl.defineProperty(In,{TK:"initialAutoScale"},function(){return this.fl},function(t){var e=this.fl;e!==t&&(Wl.nb(t,In,In,"initialAutoScale"),this.fl=t,this.h("initialAutoScale",e,t))}),Wl.defineProperty(In,{oI:"initialViewportSpot"},function(){return this.Jv},function(t){var e=this.Jv;e!==t&&(Wl.G(t,L,In,"initialViewportSpot"),t.gd()||Wl.k("initialViewportSpot must be a specific Spot: "+t),this.Jv=t,this.h("initialViewportSpot",e,t))}),Wl.defineProperty(In,{lI:"initialDocumentSpot"},function(){return this.Gv},function(t){var e=this.Gv;e!==t&&(Wl.G(t,L,In,"initialDocumentSpot"),t.gd()||Wl.k("initialViewportSpot must be a specific Spot: "+t),this.Gv=t,this.h("initialDocumentSpot",e,t))}),Wl.defineProperty(In,{zh:"minScale"},function(){return this.Zv},function(t){Wl.Zd(t,In,"minScale");var e=this.Zv;e!==t&&(0<t?(this.Zv=t,this.h("minScale",e,t),t>this.scale&&(this.scale=t)):Wl.Fa(t,"> 0",In,"minScale"))}),Wl.defineProperty(In,{yh:"maxScale"},function(){return this.Xv},function(t){Wl.Zd(t,In,"maxScale");var e=this.Xv;e!==t&&(0<t?(this.Xv=t,this.h("maxScale",e,t),t<this.scale&&(this.scale=t)):Wl.Fa(t,"> 0",In,"maxScale"))}),Wl.defineProperty(In,{mm:"zoomPoint"},function(){return this.Iw},function(t){this.Iw.L(t)||(Wl.G(t,w,In,"zoomPoint"),this.Iw=t=t.S())}),Wl.defineProperty(In,{qE:"contentAlignment"},function(){return this.so},function(t){var e=this.so;e.L(t)||(Wl.G(t,L,In,"contentAlignment"),this.so=t=t.S(),this.h("contentAlignment",e,t),Wn(this,!1))}),Wl.defineProperty(In,{UK:"initialContentAlignment"},function(){return this.Mo},function(t){var e=this.Mo;e.L(t)||(Wl.G(t,L,In,"initialContentAlignment"),this.Mo=t=t.S(),this.h("initialContentAlignment",e,t))}),Wl.defineProperty(In,{padding:"padding"},function(){return this.gf},function(t){"number"==typeof t?t=new E(t):Wl.G(t,E,In,"padding");var e=this.gf;e.L(t)||(this.gf=t=t.S(),this.rc(),this.h("padding",e,t))}),Wl.u(In,{eg:"nodes"},function(){return this.fp.i}),Wl.u(In,{links:"links"},function(){return this.Zo.i}),Wl.u(In,{Ik:"parts"},function(){return this.zb.i}),In.prototype.findTopLevelNodesAndLinks=function(){for(var t=new d(sa),e=this.fp.i;e.next();){var n=e.value;n.dq&&t.add(n)}for(e=this.Zo.i;e.next();)n=e.value,n.dq&&t.add(n);return t.i},In.prototype.findTopLevelGroups=function(){return this.xl.i},Wl.defineProperty(In,{Sb:"layout"},function(){return this.je},function(t){var e=this.je;e!==t&&(Wl.G(t,Os,In,"layout"),null!==e&&(e.g=null,e.group=null),this.je=t,t.g=this,t.group=null,this.bv=!0,this.h("layout",e,t),this.Me())}),In.prototype.layoutDiagram=function(t){ai(this),t&&_i(this,!0),Ki(this,!1)},Wl.defineProperty(In,{Od:"isTreePathToChildren"},function(){return this.Pv},function(t){var e=this.Pv;if(e!==t&&(Wl.j(t,"boolean",In,"isTreePathToChildren"),this.Pv=t,this.h("isTreePathToChildren",e,t),!this.pa.gb))for(t=this.eg;t.next();)Ba(t.value)}),In.prototype.findTreeRoots=function(){for(var t=new c(Ea),e=this.eg;e.next();){var n=e.value;n.dq&&null===n.wn()&&t.add(n)}return t.i},Wl.defineProperty(In,{rB:"treeCollapsePolicy"},function(){return this.Dw},function(t){var e=this.Dw;e!==t&&(t!==uf&&t!==cf&&t!==ff&&Wl.k("Unknown Diagram.treeCollapsePolicy: "+t),this.Dw=t,this.h("treeCollapsePolicy",e,t))}),Wl.defineProperty(In,{xh:null},function(){return this.HC},function(t){this.HC=t}),In.prototype.addDiagramListener=In.prototype.Kz=function(t,e){Wl.j(t,"string",In,"addDiagramListener:name"),Wl.j(e,"function",In,"addDiagramListener:listener");var n=Xi(this,t);null!==n&&n.add(e)},In.prototype.removeDiagramListener=In.prototype.MF=function(t,e){Wl.j(t,"string",In,"removeDiagramListener:name"),Wl.j(e,"function",In,"addDiagramListener:listener");var n=Xi(this,t);null!==n&&n.remove(e)},In.prototype.raiseDiagramEvent=In.prototype.Ca=function(t,e,n){var i=Xi(this,t),r=new Et;if(r.g=this,t=Ji(this,t),null!==t&&(r.name=t),void 0!==e&&(r.iB=e),void 0!==n&&(r.NA=n),1===(e=i.length))(i=i.ea(0))(r);else if(0!==e)for(n=i.ec(),t=0;t<e;t++)(i=n[t])(r);return r.cancel},In.prototype.isUnoccupied=In.prototype.am=function(t,e){return void 0===e&&(e=null),Zi(this,!1,null,e).am(t.x,t.y,t.width,t.height)},In.prototype.simulatedMouseMove=In.prototype.iy=function(t,e,n){if(null!==Mc){var i=Mc.g;n instanceof In||(n=null);var r=Pc;return n!==r&&(null!==r&&r!==i&&null!==r.bb.se&&(ir(r),Mc.ux=!1,r.bb.se.doSimulatedDragLeave()),Pc=n,null!==n&&n!==i&&null!==n.bb.se&&(be(),r=n.bb.se,Sc.contains(r)||Sc.add(r),n.bb.se.doSimulatedDragEnter())),null!==n&&n!==i&&n.eE&&!n.eb&&n.Fp?(i=n.bb.se,null!==i&&(null!==t?e=n.zr(t):null===e&&(e=new w),n.Qb.da=e,n.Qb.Ol=!1,n.Qb.up=!1,i.doSimulatedDragOver()),!0):!1}return!1},In.prototype.simulatedMouseUp=In.prototype.fG=function(t,e,n,i){if(null!==Mc){null===i&&(i=e),e=Pc;var r=Mc.g;if(i!==e){if(null!==e&&e!==r&&null!==e.bb.se)return ir(e),Mc.ux=!1,e.bb.se.doSimulatedDragLeave(),!1;Pc=i,null!==i&&null!==i.bb.se&&(be(),e=i.bb.se,Sc.contains(e)||Sc.add(e),i.bb.se.doSimulatedDragEnter())}if(null===i)return Mc.doCancel(),!0;if(i!==this)return null!==t&&(n=i.zr(t)),i.Qb.da=n,i.Qb.Ol=!1,i.Qb.up=!0,t=i.bb.se,null!==t&&t.doSimulatedDrop(),t=Mc,null!==t&&(i=t.mayCopy(),t.Gf=i?"Copy":"Move",t.stopTool()),!0}return!1},Wl.defineProperty(In,{kE:"autoScrollRegion"},function(){return this.dv},function(t){"number"==typeof t?t=new E(t):Wl.G(t,E,In,"autoScrollRegion");var e=this.dv;e.L(t)||(this.dv=t=t.S(),this.rc(),this.h("autoScrollRegion",e,t))}),In.prototype.doAutoScroll=In.prototype.aA=function(t){this.cv.assign(t),rr(this,this.cv).Jc(this.position)?ir(this):nr(this)},In.prototype.makeSvg=In.prototype.makeSVG=function(t){return void 0===t&&(t=new r),t.context="svg",t=or(this,t),null!==t?t.hm:null},In.prototype.makeImage=function(t){void 0===t&&(t=new r);var e=(t.document||document).createElement("img");return e.src=this.II(t),e},In.prototype.makeImageData=In.prototype.II=function(t){void 0===t&&(t=new r);var e=or(this,t);if(null!==e){var n=t.returnType,n=void 0===n?"string":n.toLowerCase();switch(n){case"imagedata":return e.wk.getImageData(0,0,e.width,e.height);case"blob":if(e=e.Gd,"function"!=typeof(n=t.callback)){Wl.k('Error: Diagram.makeImageData called with "returnType: toBlob", but no "callback" function property defined.');break}if("function"==typeof e.toBlob)return e.toBlob(n,t.type,t.details),"toBlob";if("function"==typeof e.msToBlob)return n(e.msToBlob()),"msToBlob";n(null);break;default:return e.toDataURL(t.type,t.details)}}return""};var yf=!1;In.inherit=function(t,e){Wl.j(t,"function",In,"inherit"),Wl.j(e,"function",In,"inherit"),e.RG&&Wl.k("Cannot inherit from "+Wl.jf(e)),Wl.Ma(t,e)},ar.prototype.lm=function(t){return t.rf.setTransform(t.Ad,0,0,t.Ad,0,0),null===this.Gi&&sr(this),0<this.Gi&&this!==this.CD},ar.prototype.t=function(){this.CD=null},Wl.Ma(lr,In),Wl.ga("Palette",lr),Wl.Ma(ur,In),Wl.ga("Overview",ur),ur.prototype.computePixelRatio=function(){return 1},ur.prototype.te=function(){if(null===this.Nb&&Wl.k("No div specified"),null===this.Eb&&Wl.k("No canvas specified"),this.Ce){var t=this.fk;if(null!==t&&!t.Qa.lf){pi(this);var e=t.Cn;(null!==e&&e.visible&&isNaN(e.width)||isNaN(e.height))&&wi(t);var n=this.Eb,e=this.rf,i=this.Bz,r=this.SG;i.width=n.width,i.height=n.height,e.Fe(!0),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n.width,n.height),i=this.dd,i.reset(),1!==this.scale&&i.scale(this.scale),0===this.position.x&&0===this.position.y||i.translate(-this.position.x,-this.position.y),e.scale(this.Ad,this.Ad),e.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy);for(var i=this.vv,o=this.tb,a=t.ac.n,s=a.length,t=0;t<s;t++){var h=a[t],l=e,u=o,c=i;if(h.visible&&0!==h.wc&&(void 0===c&&(c=!0),c||!h.Kc)){1!==h.wc&&(l.globalAlpha=h.wc);for(var c=this.scale,h=h.zb.n,f=h.length,d=0;d<f;d++){var p=h[d],v=p.Y;v.Lg(u)&&(1<v.width*c||1<v.height*c?p.te(l,this):ba(p,l))}l.globalAlpha=1}}for(r.drawImage(n.Gd,0,0),n=this.ac.n,r=n.length,t=0;t<r;t++)n[t].te(e,this);this.Ce=this.gl=!1}}},Wl.defineProperty(ur,{MA:"observed"},function(){return this.fk},function(t){var e=this.fk;null!==t&&Wl.G(t,In,ur,"observed"),t instanceof ur&&Wl.k("Overview.observed Diagram may not be an Overview itself: "+t),e!==t&&(null!==e&&(this.remove(this.sh),e.MF("ViewportBoundsChanged",this.BF),e.MF("DocumentBoundsChanged",this.AF),e.hw.remove(this)),this.fk=t,null!==t&&(t.Kz("ViewportBoundsChanged",this.BF),t.Kz("DocumentBoundsChanged",this.AF),t.hw.add(this),this.add(this.sh),fr(this)),this.rc(),this.h("observed",e,t))}),Wl.defineProperty(ur,{sh:"box"},function(){return this.sm},function(t){var e=this.sm;e!==t&&(this.sm=t,this.remove(e),this.add(this.sm),fr(this),this.h("box",e,t))}),Wl.defineProperty(ur,{OK:"drawsTemporaryLayers"},function(){return this.vv},function(t){this.vv!==t&&(this.vv=t,this.Sx())}),ur.prototype.th=function(){var t=this.fk;return null===t?Iu:t.re},ur.prototype.bF=function(){!0!==this.Ce&&(this.Ce=!0,cr(this))},ur.prototype.uu=function(t,e,n,i,r){this.Sc||(di(this),this.oa(),fi(this),this.rc(),fr(this),this.oh.scale=n,this.oh.position.x=t.x,this.oh.position.y=t.y,this.oh.bounds.set(t),this.oh.isScroll=r,this.Ca("ViewportBoundsChanged",this.oh,t))},Wl.Ma(dr,pe),dr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.El||!t.uf)return!1;var e=t.MA;if(null===e)return!1;if(null===this.findDraggablePart()){var n=e.tb;this.ql=new w(n.width/2,n.height/2),t=t.Ac.da,e.position=new w(t.x-this.ql.x,t.y-this.ql.y)}return!0},dr.prototype.doActivate=function(){this.ql=null,pe.prototype.doActivate.call(this)},dr.prototype.moveParts=function(){var t=this.g,e=t.MA;if(null!==e){var n=t.sh;if(null!==n){if(null===this.ql){var i=t.Ac.da,n=n.location;this.ql=new w(i.x-n.x,i.y-n.y)}t=t.R.da,e.position=new w(t.x-this.ql.x,t.y-this.ql.y)}}},Wl.Ma(pr,Ke),pr.prototype.resize=function(t){var e=this.g.MA;if(null!==e){var n=e.tb.copy();e.position=t.position,(n.width!==t.width||n.height!==t.height)&&0<t.width&&0<t.height&&(e.scale=Math.min(n.width/t.width,n.height/t.height))}},Wl.ga("Brush",vr);var gf;vr.Solid=gf=Wl.p(vr,"Solid",0);var mf;vr.Linear=mf=Wl.p(vr,"Linear",1);var bf;vr.Radial=bf=Wl.p(vr,"Radial",2);var wf;vr.Pattern=wf=Wl.p(vr,"Pattern",4);var xf;vr.Lab=xf=Wl.p(vr,"Lab",5);var kf;vr.HSL=kf=Wl.p(vr,"HSL",6),vr.prototype.copy=function(){var t=new vr;return t.na=this.na,t.qo=this.qo,t.rp=this.rp.S(),t.Fo=this.Fo.S(),t.yw=this.yw,t.wv=this.wv,null!==this.bh&&(t.bh=this.bh.copy()),t.jw=this.jw,t},Gl=vr.prototype,Gl.Ha=function(){return this.freeze(),Object.freeze(this),this},Gl.freeze=function(){return this.Q=!0,null!==this.bh&&this.bh.freeze(),this},Gl.Ra=function(){return Object.isFrozen(this)&&Wl.k("cannot thaw constant: "+this),this.Q=!1,null!==this.bh&&this.bh.Ra(),this},Gl.gc=function(t){t.Ee===vr?this.type=t:Wl.Ej(this,t)},Gl.toString=function(){var t="Brush(";if(this.type===gf)t+=this.color;else if(t=this.type===mf?t+"Linear ":this.type===bf?t+"Radial ":this.type===wf?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.tk)for(var e=this.tk.i;e.next();)t+=" "+e.key+":"+e.value;return t+")"},vr.prototype.addColorStop=vr.prototype.addColorStop=function(t,e){this.Q&&Wl.ma(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&Wl.Fa(t,"0 <= loc <= 1",vr,"addColorStop:loc"),Wl.j(e,"string",vr,"addColorStop:color"),null===this.bh&&(this.bh=new b("number","string")),this.bh.add(t,e),this.na===gf&&(this.type=mf),this.dh=null},Wl.defineProperty(vr,{type:"type"},function(){return this.na},function(t){this.Q&&Wl.ma(this,t),Wl.nb(t,vr,vr,"type"),this.na=t,this.start.Nd()&&(t===mf?this.start=iu:t===bf&&(this.start=au)),this.end.Nd()&&(t===mf?this.end=lu:t===bf&&(this.end=au)),this.dh=null}),Wl.defineProperty(vr,{color:"color"},function(){return this.qo},function(t){this.Q&&Wl.ma(this,t),this.qo=t,this.dh=null}),Wl.defineProperty(vr,{start:"start"},function(){return this.rp},function(t){this.Q&&Wl.ma(this,t),Wl.G(t,L,vr,"start"),this.rp=t.S(),this.dh=null}),Wl.defineProperty(vr,{end:"end"},function(){return this.Fo},function(t){this.Q&&Wl.ma(this,t),Wl.G(t,L,vr,"end"),this.Fo=t.S(),this.dh=null}),Wl.defineProperty(vr,{Ku:"startRadius"},function(){return this.yw},function(t){this.Q&&Wl.ma(this,t),Wl.Zd(t,vr,"startRadius"),0>t&&Wl.Fa(t,">= zero",vr,"startRadius"),this.yw=t,this.dh=null}),Wl.defineProperty(vr,{It:"endRadius"},function(){return this.wv},function(t){this.Q&&Wl.ma(this,t),Wl.Zd(t,vr,"endRadius"),0>t&&Wl.Fa(t,">= zero",vr,"endRadius"),this.wv=t,this.dh=null}),Wl.defineProperty(vr,{tk:"colorStops"},function(){return this.bh},function(t){this.Q&&Wl.ma(this,t),this.bh=t,this.dh=null}),Wl.defineProperty(vr,{pattern:"pattern"},function(){return this.jw},function(t){this.Q&&Wl.ma(this,t),this.jw=t,this.dh=null}),vr.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var n=Math.abs(e-t),i=Math.floor(t+Math.random()*n).toString(16),r=Math.floor(t+Math.random()*n).toString(16),n=Math.floor(t+Math.random()*n).toString(16);return 2>i.length&&(i="0"+i),2>r.length&&(r="0"+r),2>n.length&&(n="0"+n),"#"+i+r+n};var Tf,Sf=new _(null).wk;vr.isValidColor=Tf=function(t){if("black"===t)return!0;if(""===t)return!1;Sf.fillStyle="#000000";var e=Sf.fillStyle;return Sf.fillStyle=t,Sf.fillStyle!==e||(Sf.fillStyle="#FFFFFF",e=Sf.fillStyle,Sf.fillStyle=t,Sf.fillStyle!==e)};var Mf=new kr,Pf=new kr,Cf=new kr,Nf=new kr;vr.lighten=function(t){return Df(t)},vr.prototype.lightenBy=function(t,e){this.Q&&Wl.ma(this);var n=void 0===t||"number"!=typeof t?.2:t,i=void 0===e?xf:e;if(this.type===gf)gr(this.color),this.color=yr(n,i);else if((this.type===mf||this.type===bf)&&null!==this.tk)for(var r=this.tk.i;r.next();)gr(r.value),this.addColorStop(r.key,yr(n,i));return this};var Df;vr.lightenBy=Df=function(t,e,n){return e=void 0===e||"number"!=typeof e?.2:e,n=void 0===n?xf:n,gr(t),yr(e,n)},vr.darken=function(t){return Af(t)},vr.prototype.darkenBy=function(t,e){this.Q&&Wl.ma(this);var n=void 0===t||"number"!=typeof t?.2:t,i=void 0===e?xf:e;if(this.type===gf)gr(this.color),this.color=yr(-n,i);else if((this.type===mf||this.type===bf)&&null!==this.tk)for(var r=this.tk.i;r.next();)gr(r.value),this.addColorStop(r.key,yr(-n,i));return this};var Af;vr.darkenBy=Af=function(t,e,n){return e=void 0===e||"number"!=typeof e?.2:e,n=void 0===n?xf:n,gr(t),yr(-e,n)};var Ef=216/24389,jf=24389/27,Lf=[95.047,100,108.883];Wl.ki(Tr),Wl.ga("GraphObject",Tr),Tr.prototype.cloneProtected=function(t){t.P=6144|this.P,t.wc=this.wc,t.Rb=this.Rb,t.Db=this.Db,t.$b=this.$b,t.ib.assign(this.ib),t.Se=this.Se.S(),t.Wh=this.Wh.S(),t.Vh=this.Vh.S(),t.Ri=this.Ri.copy(),t.Gb=this.Gb,t.hg=this.hg,t.Bg=this.Bg,t.Mm=this.Mm.S(),t.pd.assign(this.pd),t.nc.assign(this.nc),t.Tc.assign(this.Tc),t.As=this.As,null!==this.U&&(t.U=this.U.copy()),t.he=this.he.S(),t.om=this.om.S(),t.Ns=this.Ns,t.bj=this.bj,t.Uq=this.Uq,t.yi=this.yi,t.ct=this.ct,t.Rs=this.Rs,t.Xm=this.Xm,t.Ym=this.Ym.S(),t.Zm=this.Zm,t.cr=this.cr,null!==this.ia&&(t.ia=this.ia.copy()),t.tc=this.tc,t.oo=this.oo,null!==this.Zk&&(t.Zk=Wl.Il(this.Zk)),null!==this.kg&&(t.kg=this.kg.copy()),t.cn=this.cn},Tr.prototype.addCopyProperty=Tr.prototype.aH=function(t){var e=this.Zk;if(Wl.isArray(e)){for(var n=0;n<e.length;n++)if(e[n]===t)return}else this.Zk=e=[];e.push(t)},Tr.prototype.li=function(t){t.Bs=null,t.Tm=null,t.I()},Tr.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.Zk)for(var e=0;e<this.Zk.length;e++){var n=this.Zk[e];t[n]=this[n]}return t},Tr.prototype.copy=function(){return this.clone()},Tr.prototype.gc=function(t){t.Ee===_a?0===t.name.indexOf("Orient")?this.sq=t:Wl.k("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.Ee===Tr?this.stretch=t:Wl.Ej(this,t)},Tr.prototype.toString=function(){return Wl.jf(Object.getPrototypeOf(this))+"#"+Wl.Jd(this)};var Ff;Tr.None=Ff=Wl.p(Tr,"None",0);var Of;Tr.Default=Of=Wl.p(Tr,"Default",0);var If;Tr.Vertical=If=Wl.p(Tr,"Vertical",4);var Rf;Tr.Horizontal=Rf=Wl.p(Tr,"Horizontal",5);var Bf;Tr.Fill=Bf=Wl.p(Tr,"Fill",3);var qf;Tr.Uniform=qf=Wl.p(Tr,"Uniform",1);var zf;Tr.UniformToFill=zf=Wl.p(Tr,"UniformToFill",2);var Vf;Tr.FlipVertical=Vf=Wl.p(Tr,"FlipVertical",1);var Uf;Tr.FlipHorizontal=Uf=Wl.p(Tr,"FlipHorizontal",2);var Hf;Tr.FlipBoth=Hf=Wl.p(Tr,"FlipBoth",3),Tr.prototype.Kd=function(){if(null===this.U){var t=new Ns;t.Rj=tu,t.ok=tu,t.Pj=10,t.mk=10,t.Oj=Id,t.lk=Id,t.Qj=0,t.nk=0,this.U=t}},Tr.prototype.raiseChangedEvent=Tr.prototype.Xc=function(t,e,n,i,r,o,a){var s=this.V;if(null!==s&&(s.Un(t,e,n,i,r,o,a),zr(this)&&n===this&&t===vc&&Pr(this,s,e),n===s&&0!=(16777216&s.P)&&null!==s.data))for(t=this.xa.n,n=t.length,i=0;i<n;i++)(r=t[i])instanceof Qr&&so(r,function(t){null!==t.data&&0!=(16777216&t.P)&&t.Ib(e)})},Tr.prototype.hx=function(t){return this.oo===t?this:null},Tr.prototype.raiseChanged=Tr.prototype.h=function(t,e,n){this.Xc(vc,t,this,e,n)},Tr.prototype.JE=function(t,e,n){if(!1===this.Tg)return!1;var i=this.Ja;e=t.vf(e);var r=!1;return n&&(r=$l(t.x,t.y,0,0,0,i.height)<e||$l(t.x,t.y,0,i.height,i.width,i.height)<e||$l(t.x,t.y,i.width,i.height,i.width,0)<e||$l(t.x,t.y,i.width,0,0,0)<e),n||(r=$l(t.x,t.y,0,0,0,i.height)<e&&$l(t.x,t.y,0,i.height,i.width,i.height)<e&&$l(t.x,t.y,i.width,i.height,i.width,0)<e&&$l(t.x,t.y,i.width,0,0,0)<e),r},Tr.prototype.Zg=function(){return!0},Tr.prototype.containsPoint=Tr.prototype.Ia=function(t){var e=Wl.K();e.assign(t),this.transform.ob(e);var n=this.Y;if(!n.H())return Wl.v(e),!1;var i=this.g;if(null!==i&&i.hl){var r=i.Ut("extraTouchThreshold"),o=i.Ut("extraTouchArea"),a=o/2,s=this.Ja,i=this.nj()*i.scale,h=1/i;if(s.width*i<r&&s.height*i<r)return t=Ql(n.x-a*h,n.y-a*h,n.width+o*h,n.height+o*h,e.x,e.y),Wl.v(e),t}return(this instanceof Aa||this instanceof Po?Ql(n.x-5,n.y-5,n.width+10,n.height+10,e.x,e.y):n.Ia(e))?(r=!1,r=!(this.kg&&!this.kg.Ia(e))&&(!(null===this.$b||!n.Ia(e))||(!(null===this.Db||!this.Tc.Ia(t))||this.uk(t))),Wl.v(e),r):(Wl.v(e),!1)},Tr.prototype.uk=function(t){var e=this.Ja;return Ql(0,0,e.width,e.height,t.x,t.y)},Tr.prototype.containsRect=Tr.prototype.vk=function(t){if(0===this.angle)return this.Y.vk(t);var e=this.Ja,e=Wl.Wg(0,0,e.width,e.height),n=this.transform,i=!1,r=Wl.xb(t.x,t.y);return e.Ia(n.mi(r))&&(r.l(t.x,t.bottom),e.Ia(n.mi(r))&&(r.l(t.right,t.bottom),e.Ia(n.mi(r))&&(r.l(t.right,t.y),e.Ia(n.mi(r))&&(i=!0)))),Wl.v(r),Wl.Hb(e),i},Tr.prototype.containedInRect=Tr.prototype.pn=function(t,e){if(void 0===e)return t.vk(this.Y);var n=this.Ja,i=!1,r=Wl.xb(0,0);return t.Ia(e.ob(r))&&(r.l(0,n.height),t.Ia(e.ob(r))&&(r.l(n.width,n.height),t.Ia(e.ob(r))&&(r.l(n.width,0),t.Ia(e.ob(r))&&(i=!0)))),Wl.v(r),i},Tr.prototype.intersectsRect=Tr.prototype.Lg=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Lg(this.Y);var n=this.Ja,i=e,r=Wl.xb(0,0),o=Wl.xb(0,n.height),a=Wl.xb(n.width,n.height),s=Wl.xb(n.width,0),h=!1;if(t.Ia(i.ob(r))||t.Ia(i.ob(o))||t.Ia(i.ob(a))||t.Ia(i.ob(s)))h=!0;else{var n=Wl.Wg(0,0,n.width,n.height),l=Wl.xb(t.x,t.y);n.Ia(i.mi(l))?h=!0:(l.l(t.x,t.bottom),n.Ia(i.mi(l))?h=!0:(l.l(t.right,t.bottom),n.Ia(i.mi(l))?h=!0:(l.l(t.right,t.y),n.Ia(i.mi(l))&&(h=!0)))),Wl.v(l),Wl.Hb(n),!h&&(ut(t,r,o)||ut(t,o,a)||ut(t,a,s)||ut(t,s,r))&&(h=!0)}return Wl.v(r),Wl.v(o),Wl.v(a),Wl.v(s),h},Tr.prototype.getDocumentPoint=Tr.prototype.Xa=function(t,e){if(void 0===e&&(e=new w),t instanceof L){t.Nd()&&Wl.k("getDocumentPoint:s Spot must be specific: "+t.toString());var n=this.Ja;e.l(t.x*n.width+t.offsetX,t.y*n.height+t.offsetY)}else e.set(t);return this.qh.ob(e),e},Tr.prototype.getDocumentAngle=Tr.prototype.yn=function(){var t;return t=this.qh,1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},Tr.prototype.getDocumentScale=Tr.prototype.nj=function(){if(0!=(4096&this.P)==!1)return this.Co;var t=this.Gb;return null!==this.N?t*this.N.nj():t},Tr.prototype.getLocalPoint=Tr.prototype.OE=function(t,e){return void 0===e&&(e=new w),e.assign(t),this.qh.mi(e),e},Tr.prototype.getNearestIntersectionPoint=Tr.prototype.PE=function(t,e,n){return this.An(t.x,t.y,e.x,e.y,n)},Gl=Tr.prototype,Gl.An=function(t,e,n,i,r){var o=this.transform,a=1/(o.m11*o.m22-o.m12*o.m21),s=o.m22*a,h=-o.m12*a,l=-o.m21*a,u=o.m11*a,c=a*(o.m21*o.dy-o.m22*o.dx),f=a*(o.m12*o.dx-o.m11*o.dy);return null!==this.kn?(o=this.Y,ht(o.left,o.top,o.right,o.bottom,t,e,n,i,r)):(a=t*s+e*l+c,t=t*h+e*u+f,e=n*s+i*l+c,n=n*h+i*u+f,r.l(0,0),i=this.Ja,n=ht(0,0,i.width,i.height,a,t,e,n,r),r.transform(o),n)},Gl.Mn=function(){},Gl.rj=function(){return!1},Gl.hc=function(t,e,n,i,r){this.Ji();var o=Wl.Ef();if(o.assign(this.nc),this.nc.Ra(),!1===Wr(this)){var a=this.nc;a.x=t,a.y=e,a.width=n,a.height=i}else this.ij(t,e,n,i);this.nc.freeze(),this.kg=void 0===r?null:r,n=!1,void 0!==r?n=!0:null!==this.N&&(r=this.N.Tc,i=this.Aa,null!==this.kn&&(i=this.nc),n=e+i.height,i=t+i.width,n=!(0<=t+.05&&i<=r.width+.05&&0<=e+.05&&n<=r.height+.05),this instanceof Oo&&(t=this.Tc,this.Wv>t.height||this.Pi.ff>t.width))&&(n=!0),this.P=n?256|this.P:this.P&-257,this.nc.H()||Wl.k("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.nc.toString()),this.Lx(o,this.nc),Kr(this,!1),Wl.Hb(o)},Gl.ij=function(){},Gl.Lx=function(t,e){var n=this.V;null!==n&&null!==n.g&&(n.Eu!==this&&n.SF!==this&&n.VF!==this||Ta(n,!0),this.oa(),P(t,e)||(n.Wl(),this.dw(n)))},Gl.dw=function(t){null!==this.Pd&&(Ta(t,!0),t instanceof Ea&&Fa(t,this))},Wl.defineProperty(Tr,{wq:"shadowVisible"},function(){return this.cn},function(t){var e=this.cn;e!==t&&(this.cn=t,this.oa(),this.h("shadowVisible",e,t))}),Tr.prototype.te=function(t,e){if(this.visible){var n=this.nc;if(0!==n.width&&0!==n.height&&!isNaN(n.x)&&!isNaN(n.y)){var i=this.opacity,r=1;if(1!==i){if(0===i)return;r=t.globalAlpha,t.globalAlpha=r*i}if(t instanceof R){t:if(this.visible){var o=null,a=t.Bx;if(this instanceof Qr&&(this.type===Zf||this.type===td))Er(this,t,e);else{var s=this.nc;if(0!==s.width&&0!==s.height&&!isNaN(s.x)&&!isNaN(s.y)){var h=this.transform,l=this.N;0!=(4096&this.P)==!0&&Lr(this);var n=0!=(256&this.P),u=!1;if(this instanceof Oo&&(t.font=this.font),n){if(u=l.Zg()?l.Ja:l.Y,null!==this.kg)var c=this.kg,f=c.x,d=c.y,p=c.width,c=c.height;else f=Math.max(s.x,u.x),d=Math.max(s.y,u.y),p=Math.min(s.right,u.right)-f,c=Math.min(s.bottom,u.bottom)-d;if(f>s.width+s.x||s.x>u.width+u.x||d>s.height+s.y||s.y>u.height+u.y)break t;u=!0,G(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(f,d,p,c),t.clip()}if(this.rj()){var v=this;if(!v.isVisible())break t}t.vh.Tb=[1,0,0,1,0,0],f=!1,this.rj()&&this.$l&&e.oj("drawShadows")&&(d=this.bn,t.gB(d.x*e.scale*e.Ad,d.y*e.scale*e.Ad,v.Ag),t.Yn(),t.shadowColor=v.an),v=!1,this.V&&e.oj("drawShadows")&&(v=this.V.$l),!0===this.wq?(t.Yn(),!1===f&&v&&(G(t,1,0,0,1,0,0),t.ab(),f=!0)):!1===this.wq&&t.Xn(),null!==this.$b&&(jr(this,t,this.$b,!0,!0),!1===f&&v&&(G(t,1,0,0,1,0,0),t.ab(),f=!0),this.$b instanceof vr&&this.$b.type===bf?(t.beginPath(),t.rect(s.x,s.y,s.width,s.height),t.Ig(this.$b)):t.fillRect(s.x,s.y,s.width,s.height)),this instanceof Qr?G(t,h.m11,h.m12,h.m21,h.m22,h.dx,h.dy):t.vh.Tb=[h.m11,h.m12,h.m21,h.m22,h.dx,h.dy],null!==this.Db&&(!1===f&&v&&(G(t,1,0,0,1,0,0),t.ab(),f=!0),p=this.Ja,h=s=0,d=p.width,p=p.height,c=0,this instanceof Po&&(p=this.hb.kb,s=p.x,h=p.y,d=p.width,p=p.height,c=this.gi),jr(this,t,this.Db,!0,!1),this.Db instanceof vr&&this.Db.type===bf?(t.beginPath(),t.rect(s-c/2,h-c/2,d+c,p+c),t.Ig(this.Db)):t.fillRect(s-c/2,h-c/2,d+c,p+c)),v&&(null!==this.Db||null!==this.$b||null!==l&&0!=(512&l.P)||null!==l&&(l.type===Xf||l.type===Jf)&&l.Hd()!==this)?(qr(this,!0),null===this.wq&&t.Xn()):qr(this,!1),this.yk(t,e),v&&0!=(512&this.P)==!0&&t.Yn(),this.rj()&&v&&t.Xn(),n&&(t.restore(),u&&t.xf.pop()),this instanceof Qr&&(o=t.xf.pop()),!0===f&&t.xf.pop(),null!==t.BE&&(null===o&&(a===t.Bx?(G(t,1,0,0,1,0,0),o=t.xf.pop()):o=t.Bx),t.BE(this,o))}}}}else{if(this instanceof Qr&&(this.type===Zf||this.type===td))return Er(this,t,e),void(1!==i&&(t.globalAlpha=r));if(this instanceof _a&&this.lu(!1),o=this.transform,a=this.N,0!=(4096&this.P)==!0&&Lr(this),l=0!=(256&this.P),t.Lp&&(l=!1),this instanceof Oo&&(t.font=this.font),l){if(u=a.Zg()?a.Ja:a.Y,null!==this.kg?(f=this.kg,s=f.x,h=f.y,v=f.width,f=f.height):(s=Math.max(n.x,u.x),h=Math.max(n.y,u.y),v=Math.min(n.right,u.right)-s,f=Math.min(n.bottom,u.bottom)-h),s>n.width+n.x||n.x>u.width+u.x||h>n.height+n.y||n.y>u.height+u.y)return void(1!==i&&(t.globalAlpha=r));t.save(),t.beginPath(),t.rect(s,h,v,f),t.clip()}if(this.rj()){if(!this.isVisible())return void(1!==i&&(t.globalAlpha=r));this.$l&&e.oj("drawShadows")&&(u=this.bn,t.gB(u.x*e.scale*e.Ad,u.y*e.scale*e.Ad,this.Ag),t.Yn(),t.shadowColor=this.an)}u=!1,this.V&&e.oj("drawShadows")&&(u=this.V.$l),!0===this.wq?t.Yn():!1===this.wq&&t.Xn(),null!==this.$b&&(jr(this,t,this.$b,!0,!0),this.$b instanceof vr&&this.$b.type===bf?(t.beginPath(),t.rect(n.x,n.y,n.width,n.height),t.Ig(this.$b)):t.fillRect(n.x,n.y,n.width,n.height)),o.cu()||t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),null!==this.Db&&(v=this.Ja,s=n=0,h=v.width,v=v.height,f=0,this instanceof Po&&(v=this.hb.kb,n=v.x,s=v.y,h=v.width,v=v.height,f=this.gi),jr(this,t,this.Db,!0,!1),this.Db instanceof vr&&this.Db.type===bf?(t.beginPath(),t.rect(n-f/2,s-f/2,h+f,v+f),t.Ig(this.Db)):t.fillRect(n-f/2,s-f/2,h+f,v+f)),u&&(null!==this.Db||null!==this.$b||null!==a&&0!=(512&a.P)||null!==a&&(a.type===Xf||a.type===Jf)&&a.Hd()!==this)?(qr(this,!0),null===this.wq&&t.Xn()):qr(this,!1),this.yk(t,e),u&&0!=(512&this.P)==!0&&t.Yn(),this.rj()&&u&&t.Xn(),l?(t.restore(),this instanceof Qr?t.Fe(!0):t.Fe(!1)):o.cu()||(a=1/(o.m11*o.m22-o.m12*o.m21),t.transform(o.m22*a,-o.m12*a,-o.m21*a,o.m11*a,a*(o.m21*o.dy-o.m22*o.dx),a*(o.m12*o.dx-o.m11*o.dy)))}1!==i&&(t.globalAlpha=r)}}},Tr.prototype.yk=function(){},Tr.prototype.isContainedBy=Tr.prototype.Yl=function(t){if(t instanceof Qr)t:{if(this!==t&&null!==t)for(var e=this.N;null!==e;){if(e===t){t=!0;break t}e=e.N}t=!1}else t=!1;return t},Tr.prototype.isVisibleObject=Tr.prototype.vj=function(){if(!this.visible)return!1;var t=this.N;return null===t||t.vj()},Tr.prototype.isEnabledObject=Tr.prototype.au=function(){for(var t=this instanceof Qr?this:this.N;null!==t&&t.isEnabled;)t=t.N;return null===t},Wl.defineProperty(Tr,{CE:"enabledChanged"},function(){return null!==this.ia?this.ia.sr:null},function(t){Sr(this);var e=this.ia.sr;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"enabledChanged"),this.ia.sr=t,this.h("enabledChanged",e,t))}),Gl=Tr.prototype,Gl.I=function(t){if(void 0===t&&(t=!1),!0!==Gr(this)){_r(this,!0),Kr(this,!0);var e=this.N;null===e||t||e.I()}},Gl.cq=function(){!0!==Gr(this)&&(_r(this,!0),Kr(this,!0))},Gl.Ji=function(){0!=(2048&this.P)==!1&&(Ur(this,!0),Hr(this,!0))},Gl.tA=function(){Hr(this,!0)},Gl.oa=function(){var t=this.V;null!==t&&t.oa()},Wl.defineProperty(Tr,{sq:"segmentOrientation"},function(){return this.Zm},function(t){var e=this.Zm;e!==t&&(this.Zm=t,this.I(),this.h("segmentOrientation",e,t),t===Vd&&(this.angle=0))}),Wl.defineProperty(Tr,{Ne:"segmentIndex"},function(){return this.Rs},function(t){t=Math.round(t);var e=this.Rs;e!==t&&(this.Rs=t,this.I(),this.h("segmentIndex",e,t))}),Wl.defineProperty(Tr,{WA:"segmentFraction"},function(){return this.Xm},function(t){isNaN(t)?t=0:0>t?t=0:1<t&&(t=1);var e=this.Xm;e!==t&&(this.Xm=t,this.I(),this.h("segmentFraction",e,t))}),Wl.defineProperty(Tr,{XA:"segmentOffset"},function(){return this.Ym},function(t){var e=this.Ym;e.L(t)||(this.Ym=t=t.S(),this.I(),this.h("segmentOffset",e,t))}),Wl.defineProperty(Tr,{stretch:"stretch"},function(){return this.Bg},function(t){var e=this.Bg;e!==t&&(this.Bg=t,this.I(),this.h("stretch",e,t))}),Wl.defineProperty(Tr,{name:"name"},function(){return this.Rb},function(t){var e=this.Rb;e!==t&&(this.Rb=t,null!==this.V&&(this.V.Om=null),this.h("name",e,t))}),Wl.defineProperty(Tr,{opacity:"opacity"},function(){return this.wc},function(t){var e=this.wc;e!==t&&(Wl.j(t,"number",Tr,"opacity"),(0>t||1<t)&&Wl.Fa(t,"0 <= value <= 1",Tr,"opacity"),this.wc=t,this.h("opacity",e,t),t=this.g,e=this.V,null!==t&&null!==e&&t.oa(da(e,e.Y)))}),Wl.defineProperty(Tr,{visible:"visible"},function(){return 0!=(1&this.P)},function(t){var e=0!=(1&this.P);e!==t&&(this.P^=1,this.h("visible",e,t),e=this.N,null!==e?e.I():this.rj()&&this.ud(t),this.oa(),$r(this))}),Wl.defineProperty(Tr,{Tg:"pickable"},function(){return 0!=(2&this.P)},function(t){var e=0!=(2&this.P);e!==t&&(this.P^=2,this.h("pickable",e,t))}),Wl.defineProperty(Tr,{TH:"fromLinkableDuplicates"},function(){return 0!=(4&this.P)},function(t){var e=0!=(4&this.P);e!==t&&(this.P^=4,this.h("fromLinkableDuplicates",e,t))}),Wl.defineProperty(Tr,{UH:"fromLinkableSelfNode"},function(){return 0!=(8&this.P)},function(t){var e=0!=(8&this.P);e!==t&&(this.P^=8,this.h("fromLinkableSelfNode",e,t))}),Wl.defineProperty(Tr,{KJ:"toLinkableDuplicates"},function(){return 0!=(16&this.P)},function(t){var e=0!=(16&this.P);e!==t&&(this.P^=16,this.h("toLinkableDuplicates",e,t))}),Wl.defineProperty(Tr,{LJ:"toLinkableSelfNode"},function(){return 0!=(32&this.P)},function(t){var e=0!=(32&this.P);e!==t&&(this.P^=32,this.h("toLinkableSelfNode",e,t))}),Wl.defineProperty(Tr,{Vf:"isPanelMain"},function(){return 0!=(64&this.P)},function(t){var e=0!=(64&this.P);e!==t&&(this.P^=64,this.I(),this.h("isPanelMain",e,t))}),Wl.defineProperty(Tr,{sx:"isActionable"},function(){return 0!=(128&this.P)},function(t){var e=0!=(128&this.P);e!==t&&(this.P^=128,this.h("isActionable",e,t))}),Wl.defineProperty(Tr,{kn:"areaBackground"},function(){return this.$b},function(t){var e=this.$b;e!==t&&(t instanceof vr&&t.freeze(),this.$b=t,this.oa(),this.h("areaBackground",e,t))}),Wl.defineProperty(Tr,{background:"background"},function(){return this.Db},function(t){var e=this.Db;e!==t&&(t instanceof vr&&t.freeze(),this.Db=t,this.oa(),this.h("background",e,t))}),Wl.u(Tr,{V:"part"},function(){if(this.rj())return this;if(null!==this.Tm)return this.Tm;var t;for(t=this.N;t;){if(t instanceof sa)return this.Tm=t;t=t.N}return null}),Wl.u(Tr,{N:"panel"},function(){return this.mh}),Tr.prototype.fm=function(t){this.mh=t},Wl.u(Tr,{layer:"layer"},function(){var t=this.V;return null!==t?t.layer:null},{configurable:!0}),Wl.u(Tr,{g:"diagram"},function(){var t=this.V;return null!==t?t.g:null},{configurable:!0}),Wl.defineProperty(Tr,{position:"position"},function(){return this.ib},function(t){var e=t.x,n=t.y,i=this.ib,r=i.x,o=i.y;(r===e||isNaN(r)&&isNaN(e))&&(o===n||isNaN(o)&&isNaN(n))?this.dB():(t=t.S(),this.cB(t,i)&&this.h("position",i,t))}),Tr.prototype.dB=function(){},Tr.prototype.cB=function(t){return this.ib=t,Or(this),this.Ji(),!0},Tr.prototype.hy=function(t,e){this.ib.l(t,e),this.Ji()},Wl.u(Tr,{Y:"actualBounds"},function(){return this.nc}),Wl.defineProperty(Tr,{scale:"scale"},function(){return this.Gb},function(t){var e=this.Gb;e!==t&&(0>=t&&Wl.k("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Gb=t,this.Ji(),this.I(),this.h("scale",e,t))}),Wl.defineProperty(Tr,{angle:"angle"},function(){return this.hg},function(t){var e=this.hg;e!==t&&(t%=360,0>t&&(t+=360),e!==t&&(this.hg=t,this.I(),this.Ji(),this.h("angle",e,t)))}),Wl.defineProperty(Tr,{Ba:"desiredSize"},function(){return this.Se},function(t){var e=t.width,n=t.height,i=this.Se,r=i.width,o=i.height;(r===e||isNaN(r)&&isNaN(e))&&(o===n||isNaN(o)&&isNaN(n))||(this.Se=t=t.S(),this.I(),this instanceof Po&&this.Le(),this.h("desiredSize",i,t),zr(this)&&null!==(t=this.V)&&(Pr(this,t,"width"),Pr(this,t,"height")))}),Wl.defineProperty(Tr,{width:"width"},function(){return this.Se.width},function(t){var e=this.Se.width;e===t||isNaN(e)&&isNaN(t)||(e=this.Se,this.Se=t=new T(t,this.Se.height).freeze(),this.I(),this instanceof Po&&this.Le(),this.h("desiredSize",e,t),zr(this)&&null!==(t=this.V)&&Pr(this,t,"width"))}),Wl.defineProperty(Tr,{height:"height"},function(){return this.Se.height},function(t){var e=this.Se.height;e===t||isNaN(e)&&isNaN(t)||(e=this.Se,this.Se=t=new T(this.Se.width,t).freeze(),this.I(),this instanceof Po&&this.Le(),this.h("desiredSize",e,t),zr(this)&&null!==(t=this.V)&&Pr(this,t,"height"))}),Wl.defineProperty(Tr,{Ah:"minSize"},function(){return this.Wh},function(t){var e=this.Wh;e.L(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.Wh=t,this.I(),this.h("minSize",e,t))}),Wl.defineProperty(Tr,{Bf:"maxSize"},function(){return this.Vh},function(t){var e=this.Vh;e.L(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.Vh=t,this.I(),this.h("maxSize",e,t))}),Wl.u(Tr,{Aa:"measuredBounds"},function(){return this.pd}),Wl.u(Tr,{Ja:"naturalBounds"},function(){return this.Tc},{configurable:!0}),Wl.defineProperty(Tr,{margin:"margin"},function(){return this.Mm},function(t){"number"==typeof t&&(t=new E(t));var e=this.Mm;e.L(t)||(this.Mm=t=t.S(),this.I(),this.h("margin",e,t))}),Wl.u(Tr,{transform:null},function(){return 0!=(2048&this.P)==!0&&Lr(this),this.dd}),Wl.u(Tr,{qh:null},function(){return 0!=(4096&this.P)==!0&&Lr(this),this.pm}),Wl.defineProperty(Tr,{alignment:"alignment"},function(){return this.he},function(t){var e=this.he;e.L(t)||(t.Nd()&&!t.Vc()&&Wl.k("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.he=t=t.S(),Or(this),this.h("alignment",e,t))}),Wl.defineProperty(Tr,{column:"column"},function(){return this.Uq},function(t){t=Math.round(t);var e=this.Uq;e!==t&&(0>t&&Wl.Fa(t,">= 0",Tr,"column"),this.Uq=t,this.I(),this.h("column",e,t))}),Wl.defineProperty(Tr,{tH:"columnSpan"},function(){return this.yi},function(t){t=Math.round(t);var e=this.yi;e!==t&&(1>t&&Wl.Fa(t,">= 1",Tr,"columnSpan"),this.yi=t,this.I(),this.h("columnSpan",e,t))}),Wl.defineProperty(Tr,{Zb:"row"},function(){return this.Ns},function(t){t=Math.round(t);var e=this.Ns;e!==t&&(0>t&&Wl.Fa(t,">= 0",Tr,"row"),this.Ns=t,this.I(),this.h("row",e,t))}),Wl.defineProperty(Tr,{rowSpan:"rowSpan"},function(){return this.bj},function(t){t=Math.round(t);var e=this.bj;e!==t&&(1>t&&Wl.Fa(t,">= 1",Tr,"rowSpan"),this.bj=t,this.I(),this.h("rowSpan",e,t))}),Wl.defineProperty(Tr,{jy:"spanAllocation"},function(){return this.ct},function(t){var e=this.ct;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"spanAllocation"),this.ct=t,this.I(),this.h("spanAllocation",e,t))}),Wl.defineProperty(Tr,{ph:"alignmentFocus"},function(){return this.om},function(t){var e=this.om;e.L(t)||(!t.Nd()||t.Vc()||t.L(tu)&&this instanceof Ea||Wl.k("GraphObject.alignmentFocus must be a real Spot or Spot.Default, not: "+t),this.om=t=t.S(),this.I(),this.h("alignmentFocus",e,t))}),Wl.defineProperty(Tr,{Pd:"portId"},function(){return this.As},function(t){var e=this.As;if(e!==t){var n=this.V;if(null===n||n instanceof Ea||(Wl.k("Cannot set portID on a Link: "+t),n=null),null!==e&&null!==n&&za(n,this),this.As=t,null!==t&&n){n.Dk=!0,null===n.me&&qa(n);var i=this.Pd;null!==i&&n.me.add(i,this)}this.h("portId",e,t)}}),Wl.defineProperty(Tr,{Bb:"toSpot"},function(){return null!==this.U?this.U.ok:tu},function(t){this.Kd();var e=this.U.ok;e.L(t)||(t=t.S(),this.U.ok=t,this.h("toSpot",e,t),Yr(this))}),Wl.defineProperty(Tr,{km:"toEndSegmentLength"},function(){return null!==this.U?this.U.mk:10},function(t){this.Kd();var e=this.U.mk;e!==t&&(0>t&&Wl.Fa(t,">= 0",Tr,"toEndSegmentLength"),this.U.mk=t,this.h("toEndSegmentLength",e,t),Yr(this))}),Wl.defineProperty(Tr,{Lu:"toEndSegmentDirection"},function(){return null!==this.U?this.U.lk:Id},function(t){this.Kd();var e=this.U.lk;e!==t&&(Wl.Gt("GraphObject.toEndSegmentDirection","2.0"),this.U.lk=t,this.h("toEndSegmentDirection",e,t),Yr(this))}),Wl.defineProperty(Tr,{Mu:"toShortLength"},function(){return null!==this.U?this.U.nk:0},function(t){this.Kd();var e=this.U.nk;e!==t&&(this.U.nk=t,this.h("toShortLength",e,t),Yr(this))}),Wl.defineProperty(Tr,{nG:"toLinkable"},function(){return null!==this.U?this.U.lt:null},function(t){this.Kd();var e=this.U.lt;e!==t&&(this.U.lt=t,this.h("toLinkable",e,t))}),Wl.defineProperty(Tr,{MJ:"toMaxLinks"},function(){return null!==this.U?this.U.mt:1/0},function(t){this.Kd();var e=this.U.mt;e!==t&&(0>t&&Wl.Fa(t,">= 0",Tr,"toMaxLinks"),this.U.mt=t,this.h("toMaxLinks",e,t))}),Wl.defineProperty(Tr,{Ab:"fromSpot"},function(){return null!==this.U?this.U.Rj:tu},function(t){this.Kd();var e=this.U.Rj;e.L(t)||(t=t.S(),this.U.Rj=t,this.h("fromSpot",e,t),Yr(this))}),Wl.defineProperty(Tr,{Sl:"fromEndSegmentLength"},function(){return null!==this.U?this.U.Pj:10},function(t){this.Kd();var e=this.U.Pj;e!==t&&(0>t&&Wl.Fa(t,">= 0",Tr,"fromEndSegmentLength"),this.U.Pj=t,this.h("fromEndSegmentLength",e,t),Yr(this))}),Wl.defineProperty(Tr,{St:"fromEndSegmentDirection"},function(){return null!==this.U?this.U.Oj:Id},function(t){this.Kd();var e=this.U.Oj;e!==t&&(Wl.Gt("GraphObject.fromEndSegmentDirection","2.0"),this.U.Oj=t,this.h("fromEndSegmentDirection",e,t),Yr(this))}),Wl.defineProperty(Tr,{Tt:"fromShortLength"},function(){return null!==this.U?this.U.Qj:0},function(t){this.Kd();var e=this.U.Qj;e!==t&&(this.U.Qj=t,this.h("fromShortLength",e,t),Yr(this))}),Wl.defineProperty(Tr,{ME:"fromLinkable"},function(){return null!==this.U?this.U.vr:null},function(t){this.Kd();var e=this.U.vr;e!==t&&(this.U.vr=t,this.h("fromLinkable",e,t))}),Wl.defineProperty(Tr,{iA:"fromMaxLinks"},function(){return null!==this.U?this.U.wr:1/0},function(t){this.Kd();var e=this.U.wr;e!==t&&(0>t&&Wl.Fa(t,">= 0",Tr,"fromMaxLinks"),this.U.wr=t,this.h("fromMaxLinks",e,t))}),Wl.defineProperty(Tr,{cursor:"cursor"},function(){return this.cr},function(t){var e=this.cr;e!==t&&(Wl.j(t,"string",Tr,"cursor"),this.cr=t,this.h("cursor",e,t))}),Wl.defineProperty(Tr,{click:"click"},function(){return null!==this.ia?this.ia.xi:null},function(t){Sr(this);var e=this.ia.xi;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"click"),this.ia.xi=t,this.h("click",e,t))}),Wl.defineProperty(Tr,{Ht:"doubleClick"},function(){return null!==this.ia?this.ia.Fi:null},function(t){Sr(this);var e=this.ia.Fi;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"doubleClick"),this.ia.Fi=t,this.h("doubleClick",e,t))}),Wl.defineProperty(Tr,{Tz:"contextClick"},function(){return null!==this.ia?this.ia.zi:null},function(t){Sr(this);var e=this.ia.zi;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"contextClick"),this.ia.zi=t,this.h("contextClick",e,t))}),Wl.defineProperty(Tr,{nu:"mouseEnter"},function(){return null!==this.ia?this.ia.ls:null},function(t){Sr(this);var e=this.ia.ls;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"mouseEnter"),this.ia.ls=t,this.h("mouseEnter",e,t))}),Wl.defineProperty(Tr,{ou:"mouseLeave"},function(){return null!==this.ia?this.ia.ms:null},function(t){Sr(this);var e=this.ia.ms;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"mouseLeave"),this.ia.ms=t,this.h("mouseLeave",e,t))}),Wl.defineProperty(Tr,{IA:"mouseOver"},function(){return null!==this.ia?this.ia.Wi:null},function(t){Sr(this);var e=this.ia.Wi;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"mouseOver"),this.ia.Wi=t,this.h("mouseOver",e,t))}),Wl.defineProperty(Tr,{HA:"mouseHover"},function(){return null!==this.ia?this.ia.Vi:null},function(t){Sr(this);var e=this.ia.Vi;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"mouseHover"),this.ia.Vi=t,this.h("mouseHover",e,t))}),Wl.defineProperty(Tr,{GA:"mouseHold"},function(){return null!==this.ia?this.ia.Ui:null},function(t){Sr(this);var e=this.ia.Ui;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"mouseHold"),this.ia.Ui=t,this.h("mouseHold",e,t))}),Wl.defineProperty(Tr,{VI:"mouseDragEnter"},function(){return null!==this.ia?this.ia.js:null},function(t){Sr(this);var e=this.ia.js;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"mouseDragEnter"),this.ia.js=t,this.h("mouseDragEnter",e,t))}),Wl.defineProperty(Tr,{WI:"mouseDragLeave"},function(){return null!==this.ia?this.ia.ks:null},function(t){Sr(this);var e=this.ia.ks;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"mouseDragLeave"),this.ia.ks=t,this.h("mouseDragLeave",e,t))}),Wl.defineProperty(Tr,{FA:"mouseDrop"},function(){return null!==this.ia?this.ia.Ti:null},function(t){Sr(this);var e=this.ia.Ti;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"mouseDrop"),this.ia.Ti=t,this.h("mouseDrop",e,t))}),Wl.defineProperty(Tr,{ZD:"actionDown"},function(){return null!==this.ia?this.ia.Dq:null},function(t){Sr(this);var e=this.ia.Dq;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"actionDown"),this.ia.Dq=t,this.h("actionDown",e,t))}),Wl.defineProperty(Tr,{$D:"actionMove"},function(){return null!==this.ia?this.ia.Eq:null},function(t){Sr(this);var e=this.ia.Eq;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"actionMove"),this.ia.Eq=t,this.h("actionMove",e,t))}),Wl.defineProperty(Tr,{aE:"actionUp"},function(){return null!==this.ia?this.ia.Fq:null},function(t){Sr(this);var e=this.ia.Fq;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"actionUp"),this.ia.Fq=t,this.h("actionUp",e,t))}),Wl.defineProperty(Tr,{YD:"actionCancel"},function(){return null!==this.ia?this.ia.Cq:null},function(t){Sr(this);var e=this.ia.Cq;e!==t&&(null!==t&&Wl.j(t,"function",Tr,"actionCancel"),this.ia.Cq=t,this.h("actionCancel",e,t))}),Wl.defineProperty(Tr,{mB:"toolTip"},function(){return null!==this.ia?this.ia.ej:null},function(t){Sr(this);var e=this.ia.ej;e!==t&&(this.ia.ej=t,this.h("toolTip",e,t))}),Wl.defineProperty(Tr,{contextMenu:"contextMenu"},function(){return null!==this.ia?this.ia.Ai:null},function(t){Sr(this);var e=this.ia.Ai;e!==t&&(this.ia.Ai=t,this.h("contextMenu",e,t))}),Tr.prototype.bind=Tr.prototype.bind=function(t){t.Cg=this;var e=this.Ql();null!==e&&go(e)&&Wl.k("Cannot add a Binding to a template that has already been copied: "+t),null===this.tc&&(this.tc=new c(ie)),this.tc.add(t)},Tr.prototype.findTemplateBinder=Tr.prototype.Ql=function(){for(var t=this instanceof Qr?this:this.N;null!==t;){if(null!==t.Xk)return t;t=t.N}return null},Tr.prototype.setProperties=function(t){Wl.Fu(this,t)};var Gf;Tr.make=Gf=function(t,n){var i=arguments,r=null,o=null;if("function"==typeof t)o=t;else if("string"==typeof t){var a=_f.la(t);"function"==typeof a?(i=Wl.Il(arguments),r=a(i)):o=_l[t]}if(null===r&&(void 0===o&&(r=e.$,void 0!==r&&void 0!==r.noop&&Wl.k("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),Wl.k("GraphObject.make failed to complete, it may be conflicting with another var.")),null!==o&&o.constructor||Wl.k("GraphObject.make requires a class function or class name, not: "+t),r=new o),a=1,r instanceof In&&1<i.length){var s=r,o=i[1];("string"==typeof o||o instanceof HTMLDivElement)&&(hr(s,o),a++)}for(;a<i.length;a++)o=i[a],void 0===o?Wl.k("Undefined value at argument "+a+" for object being constructed by GraphObject.make: "+r):Jr(r,o);return r};var _f=new b("string","function");Tr.getBuilders=function(){var t,e=new b("string","function");for(t in _f)if(t!==t.toLowerCase()){var n=_f[t];"function"==typeof n&&e.add(t,n)}return e.freeze(),e};var Wf;Tr.defineBuilder=Wf=function(t,e){Wl.j(t,"string",Tr,"defineBuilder:name"),Wl.j(e,"function",Tr,"defineBuilder:func");var n=t.toLowerCase();""!==t&&"none"!==n&&t!==n||Wl.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),_f.add(t,e)};var Kf;Tr.takeBuilderArgument=Kf=function(t,e,n){void 0===n&&(n=null);var i=t[1];if("function"==typeof n?n(i):"string"==typeof i)return t.splice(1,1),i;if(void 0===e)throw Error("no "+("function"==typeof n?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e},Wf("Button",function(){var t=new vr(mf);t.addColorStop(0,"white"),t.addColorStop(1,"lightgray");var e=new vr(mf);return e.addColorStop(0,"white"),e.addColorStop(1,"dodgerblue"),t=Gf(Qr,Xf,{sx:!0,CE:function(t,e){var n=t.td("ButtonBorder");null!==n&&(n.fill=e?t._buttonFillNormal:t._buttonFillDisabled)},_buttonFillNormal:t,_buttonStrokeNormal:"gray",_buttonFillOver:e,_buttonStrokeOver:"blue",_buttonFillDisabled:"darkgray"},Gf(Po,{name:"ButtonBorder",Cb:"Rectangle",A:new L(0,0,2.761423749153968,2.761423749153968),B:new L(1,1,-2.761423749153968,-2.761423749153968),fill:t,stroke:"gray"})),t.nu=function(t,e){if(e.au()){var n=e.td("ButtonBorder");if(n instanceof Po){var i=e._buttonFillOver;e._buttonFillNormal=n.fill,n.fill=i,i=e._buttonStrokeOver,e._buttonStrokeNormal=n.stroke,n.stroke=i}}},t.ou=function(t,e){if(e.au()){var n=e.td("ButtonBorder");n instanceof Po&&(n.fill=e._buttonFillNormal,n.stroke=e._buttonStrokeNormal)}},t}),Wf("TreeExpanderButton",function(){var t=Gf("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},Gf(Po,{name:"ButtonIcon",Cb:"MinusLine",Ba:Gu},new ie("figure","isTreeExpanded",function(t,e){var n=e.N;return t?n._treeExpandedFigure:n._treeCollapsedFigure}).Kx()),{visible:!1},new ie("visible","isTreeLeaf",function(t){return!t}).Kx());return t.click=function(t,e){var n=e.V;if(n instanceof Aa&&(n=n.Of),n instanceof Ea){var i=n.g;if(null!==i){if(i=i.pb,n.hd){if(!i.canCollapseTree(n))return}else if(!i.canExpandTree(n))return;t.Bc=!0,n.hd?i.collapseTree(n):i.expandTree(n)}}},t}),Wf("SubGraphExpanderButton",function(){var t=Gf("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},Gf(Po,{name:"ButtonIcon",Cb:"MinusLine",Ba:Gu},new ie("figure","isSubGraphExpanded",function(t,e){var n=e.N;return t?n._subGraphExpandedFigure:n._subGraphCollapsedFigure}).Kx()));return t.click=function(t,e){var n=e.V;if(n instanceof Aa&&(n=n.Of),n instanceof Ds){var i=n.g;if(null!==i){if(i=i.pb,n.xe){if(!i.canCollapseSubGraph(n))return}else if(!i.canExpandSubGraph(n))return;t.Bc=!0,n.xe?i.collapseSubGraph(n):i.expandSubGraph(n)}}},t}),Wf("ContextMenuButton",function(){var t=Gf("Button");t.stretch=Rf;var e=t.td("ButtonBorder");return e instanceof Po&&(e.Cb="Rectangle",e.A=new L(0,0,2,3),e.B=new L(1,1,-2,-2)),t}),Wf("PanelExpanderButton",function(t){var e=Kf(t,"COLLAPSIBLE"),n=Gf("Button",{_buttonExpandedFigure:"TriangleUp",_buttonCollapsedFigure:"TriangleDown"},Gf(Po,"TriangleUp",{name:"ButtonIcon",Ba:new T(6,4)},new ie("figure","visible",function(t){return t?n._buttonExpandedFigure:n._buttonCollapsedFigure}).Kx(e)));return t=n.td("ButtonBorder"),t instanceof Po&&(t.stroke=null,t.fill="transparent"),n.click=function(t,n){var i=n.g;if(null!==i&&!i.eb){var r=n.Ql();null===r&&(r=n.V),null!==r&&null!==(r=r.td(e))&&(i.Ub("Collapse/Expand Panel"),r.visible=!r.visible,i.Fd("Collapse/Expand Panel"))}},n}),Wf("CheckBoxButton",function(t){var e=Kf(t);return t=Gf("Button",{"ButtonBorder.fill":"white","ButtonBorder.stroke":"gray",width:14,height:14},Gf(Po,{name:"ButtonIcon",VH:"M0 4 L3 9 9 0",lb:2,stretch:Bf,jA:qf,visible:!1},""!==e?new ie("visible",e).JI():[])),t.click=function(t,n){var i=t.g;if(!(null===i||i.eb||""!==e&&i.ca.eb)){t.Bc=!0;var r=n.td("ButtonIcon");i.Ub("checkbox"),r.visible=!r.visible,"function"==typeof n._doClick&&n._doClick(t,n),i.Fd("checkbox")}},t}),Wf("CheckBox",function(t){t=Kf(t),t=Gf("CheckBoxButton",t,{name:"Button",margin:new E(0,1,0,0)});var e=Gf(Qr,"Horizontal",t,{sx:!0,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillDisabled:t._buttonFillDisabled,nu:t.nu,ou:t.ou,click:t.click,_buttonClick:t.click});return t.nu=null,t.ou=null,t.click=null,e}),Xr.prototype.copy=function(){var t=new Xr;return t.xi=this.xi,t.Fi=this.Fi,t.zi=this.zi,t.ls=this.ls,t.ms=this.ms,t.Wi=this.Wi,t.Vi=this.Vi,t.Ui=this.Ui,t.js=this.js,t.ks=this.ks,t.Ti=this.Ti,t.Dq=this.Dq,t.Eq=this.Eq,t.Fq=this.Fq,t.Cq=this.Cq,t.ej=this.ej,t.Ai=this.Ai,t.sr=this.sr,t},Wl.Ma(Qr,Tr),Wl.ki(Qr),Wl.ga("Panel",Qr),Qr.prototype.cloneProtected=function(t){if(Tr.prototype.cloneProtected.call(this,t),t.na=this.na,t.gf=this.gf.S(),t.gr=this.gr.S(),t.Di=this.Di,t.na===Qf){t.Lj=this.Lj.S(),t.Nh=this.Nh,t.Ci=this.Ci,t.vm=this.vm,t.Mh=this.Mh,t.Lh=this.Lh,t.um=this.um;var e=[];if(0<this.Yd.length)for(var n=this.Yd,i=n.length,r=0;r<i;r++)if(void 0!==n[r]){var o=n[r].copy();o.fm(t),e[r]=o}if(t.Yd=e,e=[],0<this.Td.length)for(n=this.Td,i=n.length,r=0;r<i;r++)void 0!==n[r]&&(o=n[r].copy(),o.fm(t),e[r]=o);t.Td=e,t.Wm=this.Wm,t.tm=this.tm,t.fj=this.fj,t.Oi=this.Oi}t.Dp=this.Dp,t.Er=this.Er.S(),t.Fr=this.Fr.S(),t.Br=this.Br,t.Ar=this.Ar,t.Dr=this.Dr,t.Cr=this.Cr,t.Am=this.Am,t.Sj=this.Sj,t.Vd=this.Vd,t.Xk=this.Xk,t.Rr=this.Rr,t.Zj=this.Zj,t.tg=this.tg,t.Uo=this.Uo,t.gj.assign(this.gj),t.Hj=this.Hj,null!==this.Os&&(t.Os=this.Os)},Qr.prototype.li=function(t){Tr.prototype.li.call(this,t),t.xa=this.xa;for(var e=t.xa.n,n=e.length,i=0;i<n;i++)e[i].mh=t;t.en=null},Qr.prototype.copy=function(){var t=Tr.prototype.copy.call(this);if(null!==t){for(var e=this.xa.n,n=e.length,i=0;i<n;i++){var r=e[i].copy(),o=t;r.fm(o),r.Tm=null;var a=o.xa,s=a.count;if(a.Ld(s,r),null!==(a=o.V)){a.Om=null,null!==r.Pd&&a instanceof Ea&&(a.Dk=!0);var h=o.g;null!==h&&h.pa.gb||a.Xc(yc,"elements",o,null,r,null,s)}}return t}return null},Qr.prototype.gc=function(t){t.Ee===Qr?this.type=t:Tr.prototype.gc.call(this,t)},Qr.prototype.toString=function(){return"Panel("+this.type+")#"+Wl.Jd(this)};var Yf;Qr.Position=Yf=Wl.p(Qr,"Position",0),Qr.Horizontal=Wl.p(Qr,"Horizontal",1);var $f;Qr.Vertical=$f=Wl.p(Qr,"Vertical",2);var Jf;Qr.Spot=Jf=Wl.p(Qr,"Spot",3);var Xf;Qr.Auto=Xf=Wl.p(Qr,"Auto",4);var Qf;Qr.Table=Qf=Wl.p(Qr,"Table",5),Qr.Viewbox=Wl.p(Qr,"Viewbox",6);var Zf;Qr.TableRow=Zf=Wl.p(Qr,"TableRow",7);var td;Qr.TableColumn=td=Wl.p(Qr,"TableColumn",8);var ed;Qr.Link=ed=Wl.p(Qr,"Link",9);var nd;Qr.Grid=nd=Wl.p(Qr,"Grid",10);var id;Qr.Graduated=id=Wl.p(Qr,"Graduated",11),Wl.defineProperty(Qr,{type:"type"},function(){return this.na},function(t){var e=this.na;e!==t&&(e!==Zf&&e!==td||Wl.k("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+t),this.na=t,this.na===nd?this.Fn=!0:this.na===Qf&&Zr(this),this.I(),this.h("type",e,t))}),Wl.u(Qr,{elements:"elements"},function(){return this.xa.i}),Wl.u(Qr,{Ja:"naturalBounds"},function(){return this.Tc}),Wl.defineProperty(Qr,{padding:"padding"},function(){return this.gf},function(t){"number"==typeof t?(0>t&&Wl.Fa(t,">= 0",Qr,"padding"),t=new E(t)):(Wl.G(t,E,Qr,"padding"),0>t.left&&Wl.Fa(t.left,">= 0",Qr,"padding:value.left"),0>t.right&&Wl.Fa(t.right,">= 0",Qr,"padding:value.right"),0>t.top&&Wl.Fa(t.top,">= 0",Qr,"padding:value.top"),0>t.bottom&&Wl.Fa(t.bottom,">= 0",Qr,"padding:value.bottom"));var e=this.gf;e.L(t)||(this.gf=t=t.S(),this.I(),this.h("padding",e,t))}),Wl.defineProperty(Qr,{Ml:"defaultAlignment"},function(){return this.gr},function(t){var e=this.gr;e.L(t)||(this.gr=t=t.S(),this.I(),this.h("defaultAlignment",e,t))}),Wl.defineProperty(Qr,{$d:"defaultStretch"},function(){return this.Di},function(t){var e=this.Di;e!==t&&(Wl.nb(t,Tr,Qr,"defaultStretch"),this.Di=t,this.I(),this.h("defaultStretch",e,t))}),Wl.defineProperty(Qr,{JK:"defaultSeparatorPadding"},function(){return void 0===this.Lj?Ru:this.Lj},function(t){if(void 0!==this.Lj){"number"==typeof t&&(t=new E(t));var e=this.Lj;e.L(t)||(this.Lj=t=t.S(),this.I(),this.h("defaultSeparatorPadding",e,t))}}),Wl.defineProperty(Qr,{HK:"defaultRowSeparatorStroke"},function(){return void 0===this.Ci?null:this.Ci},function(t){var e=this.Ci;e!==t&&(null===t||"string"==typeof t||t instanceof vr)&&(t instanceof vr&&t.freeze(),this.Ci=t,this.oa(),this.h("defaultRowSeparatorStroke",e,t))}),Wl.defineProperty(Qr,{IK:"defaultRowSeparatorStrokeWidth"},function(){return void 0===this.Nh?1:this.Nh},function(t){if(void 0!==this.Nh){var e=this.Nh;e!==t&&isFinite(t)&&0<=t&&(this.Nh=t,this.I(),this.h("defaultRowSeparatorStrokeWidth",e,t))}}),Wl.defineProperty(Qr,{GK:"defaultRowSeparatorDashArray"},function(){return void 0===this.vm?null:this.vm},function(t){if(void 0!==this.vm){var e=this.vm;if(e!==t){if(null===t||Array.isArray(t)||Wl.xd(t,"Array",Qr,"defaultRowSeparatorDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Wl.k("defaultRowSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.vm=t,this.oa(),this.h("defaultRowSeparatorDashArray",e,t)}}}),Wl.defineProperty(Qr,{BK:"defaultColumnSeparatorStroke"},function(){return void 0===this.Lh?null:this.Lh},function(t){if(void 0!==this.Lh){var e=this.Lh;e!==t&&(null===t||"string"==typeof t||t instanceof vr)&&(t instanceof vr&&t.freeze(),this.Lh=t,this.oa(),this.h("defaultColumnSeparatorStroke",e,t))}}),Wl.defineProperty(Qr,{CK:"defaultColumnSeparatorStrokeWidth"},function(){return void 0===this.Mh?1:this.Mh},function(t){if(void 0!==this.Mh){var e=this.Mh;e!==t&&isFinite(t)&&0<=t&&(this.Mh=t,this.I(),this.h("defaultColumnSeparatorStrokeWidth",e,t))}}),Wl.defineProperty(Qr,{AK:"defaultColumnSeparatorDashArray"},function(){return void 0===this.um?null:this.um},function(t){if(void 0!==this.um){var e=this.um;if(e!==t){if(null===t||Array.isArray(t)||Wl.xd(t,"Array",Qr,"defaultColumnSeparatorDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Wl.k("defaultColumnSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.um=t,this.oa(),this.h("defaultColumnSeparatorDashArray",e,t)}}}),Wl.defineProperty(Qr,{TL:"viewboxStretch"},function(){return this.Dp},function(t){var e=this.Dp;e!==t&&(Wl.nb(t,Tr,Qr,"viewboxStretch"),this.Dp=t,this.I(),this.h("viewboxStretch",e,t))}),Wl.defineProperty(Qr,{px:"gridCellSize"},function(){return this.Er},function(t){var e=this.Er;if(!e.L(t)){Wl.G(t,T,Qr,"gridCellSize"),t.H()&&0!==t.width&&0!==t.height||Wl.k("Invalid Panel.gridCellSize: "+t),this.Er=t.S();var n=this.g;null!==n&&this===n.Cn&&wi(n),this.oa(),this.h("gridCellSize",e,t)}}),Wl.defineProperty(Qr,{VE:"gridOrigin"},function(){return this.Fr},function(t){var e=this.Fr;if(!e.L(t)){Wl.G(t,w,Qr,"gridOrigin"),t.H()||Wl.k("Invalid Panel.gridOrigin: "+t),this.Fr=t.S();var n=this.g;null!==n&&this===n.Cn&&wi(n),this.oa(),this.h("gridOrigin",e,t)}}),Wl.defineProperty(Qr,{Ck:"graduatedMin"},function(){return this.Br},function(t){Wl.Zd(t,Qr,"graduatedMin");var e=this.Br;e!==t&&(this.Br=t,this.I(),this.h("graduatedMin",e,t),zr(this)&&null!==(t=this.V)&&Pr(this,t,"graduatedRange"))}),Wl.defineProperty(Qr,{mA:"graduatedMax"},function(){return this.Ar},function(t){Wl.Zd(t,Qr,"graduatedMax");var e=this.Ar;e!==t&&(this.Ar=t,this.I(),this.h("graduatedMax",e,t),zr(this)&&null!==(t=this.V)&&Pr(this,t,"graduatedRange"))}),Wl.u(Qr,{ox:"graduatedRange"},function(){return this.mA-this.Ck}),Wl.defineProperty(Qr,{nA:"graduatedTickUnit"},function(){return this.Dr},function(t){Wl.Zd(t,Qr,"graduatedTickUnit");var e=this.Dr;e!==t&&0<t&&(this.Dr=t,this.I(),this.h("graduatedTickUnit",e,t))}),Wl.defineProperty(Qr,{UE:"graduatedTickBase"},function(){return this.Cr},function(t){Wl.Zd(t,Qr,"graduatedTickBase");var e=this.Cr;e!==t&&(this.Cr=t,this.I(),this.h("graduatedTickBase",e,t))}),Gl=Qr.prototype,Gl.dw=function(t){Tr.prototype.dw.call(this,t);for(var e=this.xa.n,n=e.length,i=0;i<n;i++)e[i].dw(t)},Gl.yk=function(t,e){if(this.na===nd){var n=this.nj()*e.scale;0>=n&&(n=1);var i=this.px,r=i.width,i=i.height,o=this.Ja,a=o.width,o=o.height,s=Math.ceil(a/r),h=Math.ceil(o/i),l=this.VE;t.save(),t.beginPath(),t.rect(0,0,a,o),t.clip();for(var u=[],c=this.xa.n,f=c.length,d=0;d<f;d++){var p=c[d],v=[];if(u.push(v),p.visible)for(var p=ro(p.Cb),y=d+1;y<f;y++){var g=c[y];g.visible&&ro(g.Cb)===p&&2<=(g=g.interval)&&v.push(g)}}for(c=this.xa.n,f=c.length,d=0;d<f;d++){var m=c[d];if(m.visible&&(v=m.interval,!(2>r*v*n))){var p=u[d],y=!1,b=!0,w=m.kG;if(null!==w&&(y=!0,b=t.cA(w,m.tf)),"LineV"===m.Cb){t.lineWidth=m.lb,jr(this,t,m.stroke,!1,!1),t.beginPath();for(var x=g=Math.floor(-l.x/r);x<=g+s;x++){var k=x*r+l.x;0<=k&&k<a&&io(x,v,p)&&(y&&!b?Mr(t,k,0,k,o,w,m.tf):(t.moveTo(k,0),t.lineTo(k,o)))}t.stroke()}else if("LineH"===m.Cb){for(t.lineWidth=m.lb,jr(this,t,m.stroke,!1,!1),t.beginPath(),x=g=Math.floor(-l.y/i);x<=g+h;x++)0<=(k=x*i+l.y)&&k<=o&&io(x,v,p)&&(y&&!b?Mr(t,0,k,a,k,w,m.tf):(t.moveTo(0,k),t.lineTo(a,k)));t.stroke()}else if("BarV"===m.Cb)for(jr(this,t,m.fill,!0,!1),m=m.width,isNaN(m)&&(m=r),x=g=Math.floor(-l.x/r);x<=g+s;x++)0<=(k=x*r+l.x)&&k<a&&io(x,v,p)&&t.fillRect(k,0,m,o);else if("BarH"===m.Cb)for(jr(this,t,m.fill,!0,!1),m=m.height,isNaN(m)&&(m=i),x=g=Math.floor(-l.y/i);x<=g+h;x++)0<=(k=x*i+l.y)&&k<=o&&io(x,v,p)&&t.fillRect(0,k,a,m);y&&t.$z()}}t.restore(),t.Fe(!1)}else if(this.na===id){for(r=this.Ja,n=r.width,r=r.height,t.save(),t.beginPath(),t.rect(-1,-1,n+1,r+1),t.clip(),n=this.Hd(),n.te(t,e),r=this.nj()*e.scale,0>=r&&(r=1),i=n.Y,a=this.xa.n,o=this.Am,s=a.length,h=0;h<s;h++)if(f=a[h],l=o[h],u=l.length,f.visible&&f!==n&&0!==l.length)if(f instanceof Po){if(!(2>this.nA*f.interval*r))for(d=f.Aa,v=f.lb*f.scale,p=f.ph,p.Nd()&&(p=iu),c=0;c<u;c++){var y=f,g=l[c][0],x=i,m=l[c][1],b=d,w=v,k=p,T=y.dd;T.reset(),T.translate(g.x+x.x,g.y+x.y),T.rotate(m+y.angle,0,0),T.translate(-b.width*k.x+k.offsetX+w/2,-b.height*k.y+k.offsetY+w/2),T.scale(y.scale,y.scale),Ur(y,!1),y.pm.set(y.dd),y.Co=y.scale,Hr(y,!1),f.te(t,e),f.dd.reset()}}else if(f instanceof Oo)for(null===this.kk&&(this.kk=new Oo),d=this.kk,to(f,d),c=0;c<u;c++)g=l[c],3<g.length&&(p=g[6],d.Ed=g[2],d.hg=g[3],d.ke=g[4],d.Pi=g[5],d.Tc=g[8],d.hc(p.x,p.y,p.width,p.height),f=d,v=i,y=g[7],g=g[8],x=f.dd,x.reset(),x.translate(p.x+v.x,p.y+v.y),x.translate(-y.x,-y.y),Fr(f,x,g.x,g.y,g.width,g.height),Ur(f,!1),f.pm.set(f.dd),f.Co=f.scale,Hr(f,!1),d.te(t,e));t.restore(),t.Fe(!0)}else{for(this.na===Qf&&(t.lineCap="butt",no(this,t,!0,this.Yd,!0),no(this,t,!1,this.Td,!0),eo(this,t,!0,this.Yd),eo(this,t,!1,this.Td),no(this,t,!0,this.Yd,!1),no(this,t,!1,this.Td,!1)),(n=this.Zt)&&t.save(),r=this.Hd(),i=this.xa.n,a=i.length,o=0;o<a;o++)s=i[o],n&&s===r&&(t.Lp=!0),s.te(t,e),n&&s===r&&(t.Lp=!1);n&&(t.restore(),t.Fe(!0))}},Gl.An=function(t,e,n,i,r){var o=this.Zg(),a=this.transform,s=1/(a.m11*a.m22-a.m12*a.m21),h=a.m22*s,l=-a.m12*s,u=-a.m21*s,c=a.m11*s,f=s*(a.m21*a.dy-a.m22*a.dx),d=s*(a.m12*a.dx-a.m11*a.dy);if(null!==this.kn)return a=this.Y,ht(a.left,a.top,a.right,a.bottom,t,e,n,i,r);if(null!==this.background)o=t*h+e*u+f,s=t*l+e*c+d,t=n*h+i*u+f,h=n*l+i*c+d,r.l(0,0),n=this.Ja,n=ht(0,0,n.width,n.height,o,s,t,h,r),r.transform(a);else{o||(h=1,u=l=0,c=1,d=f=0),s=t*h+e*u+f,t=t*l+e*c+d,h=n*h+i*u+f,i=n*l+i*c+d,r.l(h,i),l=(h-s)*(h-s)+(i-t)*(i-t),n=!1,c=this.xa.n,d=c.length,u=Wl.K(),f=null,e=1/0;var p=null;this.Zt&&(p=Wl.K(),f=this.Hd(),(n=f.An(s,t,h,i,p))&&(e=(s-p.x)*(s-p.x)+(t-p.y)*(t-p.y)));for(var v=0;v<d;v++){var y=c[v];y.visible&&y!==f&&y.An(s,t,h,i,u)&&(n=!0,(y=(s-u.x)*(s-u.x)+(t-u.y)*(t-u.y))<l&&(l=y,r.set(u)))}this.Zt&&(e>l&&r.set(p),Wl.v(p)),Wl.v(u),o&&r.transform(a)}return n},Gl.I=function(t){Tr.prototype.I.call(this,t),this.na!==Xf&&this.na!==ed||null!==(t=this.Hd())&&t.I(!0),t=this.xa.n;for(var e=t.length,n=0;n<e;n++){var i=t[n];if(!i.Ba.H()){var r=Ir(i,!1);(i instanceof Fs||i instanceof Qr||i instanceof Oo||r!==Ff)&&i.I(!0)}}},Gl.cq=function(){if(!1===Gr(this)){_r(this,!0),Kr(this,!0);for(var t=this.xa.n,e=t.length,n=0;n<e;n++)t[n].cq()}},Gl.Ji=function(){if(0!=(2048&this.P)==!1){Ur(this,!0),Hr(this,!0);for(var t=this.xa.n,e=t.length,n=0;n<e;n++)t[n].tA()}},Gl.tA=function(){Hr(this,!0);for(var t=this.xa.n,e=t.length,n=0;n<e;n++)t[n].tA()},Gl.Mn=function(t,e,n,i){var r=this.gj;r.width=0,r.height=0;var o=this.Ba,a=this.Ah;void 0===n&&(n=a.width,i=a.height),n=Math.max(n,a.width),i=Math.max(i,a.height);var s=this.Bf;isNaN(o.width)||(t=Math.min(o.width,s.width)),isNaN(o.height)||(e=Math.min(o.height,s.height)),t=Math.max(n,t),e=Math.max(i,e);var h=this.padding;t=Math.max(t-h.left-h.right,0),e=Math.max(e-h.top-h.bottom,0);var l=this.xa.n;if(0!==l.length){var u=this.na.Rb;switch(u){case"Position":var f=t,d=e,p=n,v=i,y=l.length;r.x=0,r.y=0,r.width=0,r.height=0;for(var g=oo(this),m=0;m<y;m++){var b=l[m];if(b.visible||b===g){var x=b.margin,k=x.right+x.left,T=x.top+x.bottom;Dr(b,f,d,p,v);var P=b.Aa,C=Math.max(P.width+k,0),N=Math.max(P.height+T,0),D=b.position.x,E=b.position.y;if(isFinite(D)||(D=0),isFinite(E)||(E=0),b instanceof Po){var j=b;if(j.fF)var L=j.lb/2,D=D-L,E=E-L}A(r,D,E,C,N)}}break;case"Vertical":for(var F=t,O=n,I=l.length,R=Wl.mb(),B=oo(this),q=0;q<I;q++){var z=l[q];if(z.visible||z===B){var V=Ir(z,!1);if(V!==Ff&&V!==If)R.push(z);else{var U=z.margin,H=U.right+U.left,G=U.top+U.bottom;Dr(z,F,1/0,O,0);var _=z.Aa,W=Math.max(_.width+H,0),K=Math.max(_.height+G,0);r.width=Math.max(r.width,W),r.height+=K}}}var Y=R.length;if(0!==Y){for(this.Ba.width?F=Math.min(this.Ba.width,this.Bf.width):0!==r.width&&(F=Math.min(r.width,this.Bf.width)),q=0;q<Y;q++)z=R[q],(z.visible||z===B)&&(U=z.margin,H=U.right+U.left,G=U.top+U.bottom,Dr(z,F,1/0,O,0),_=z.Aa,W=Math.max(_.width+H,0),K=Math.max(_.height+G,0),r.width=Math.max(r.width,W),r.height+=K);Wl.wa(R)}break;case"Horizontal":for(var J=e,X=i,Q=l.length,Z=Wl.mb(),tt=oo(this),et=0;et<Q;et++){var nt=l[et];if(nt.visible||nt===tt){var it=Ir(nt,!1);if(it!==Ff&&it!==Rf)Z.push(nt);else{var rt=nt.margin,ot=rt.right+rt.left,at=rt.top+rt.bottom;Dr(nt,1/0,J,0,X);var st=nt.Aa,ht=Math.max(st.width+ot,0),lt=Math.max(st.height+at,0);r.width+=ht,r.height=Math.max(r.height,lt)}}}var ut=Z.length;if(0!==ut){for(this.Ba.height?J=Math.min(this.Ba.height,this.Bf.height):0!==r.height&&(J=Math.min(r.height,this.Bf.height)),et=0;et<ut;et++)nt=Z[et],(nt.visible||nt===tt)&&(rt=nt.margin,ot=rt.right+rt.left,at=rt.top+rt.bottom,Dr(nt,1/0,J,0,X),st=nt.Aa,ht=Math.max(st.width+ot,0),lt=Math.max(st.height+at,0),r.width+=ht,r.height=Math.max(r.height,lt));Wl.wa(Z)}break;case"Spot":t:{var ct=t,ft=e,dt=n,pt=i,vt=l.length,yt=this.Hd(),gt=yt.margin,mt=0,bt=0,wt=gt.right+gt.left,xt=gt.top+gt.bottom;Dr(yt,ct,ft,dt,pt);for(var kt=yt.Aa,Tt=kt.width,St=kt.height,Mt=Math.max(Tt+wt,0),Pt=Math.max(St+xt,0),Ct=this.Zt,Nt=Wl.Wg(-gt.left,-gt.top,Mt,Pt),Dt=!0,At=oo(this),Et=0;Et<vt;Et++){var jt=l[Et];if(jt!==yt&&(jt.visible||jt===At)){gt=jt.margin,mt=gt.right+gt.left,bt=gt.top+gt.bottom,Dr(jt,ct,ft,0,0);var kt=jt.Aa,Mt=Math.max(kt.width+mt,0),Pt=Math.max(kt.height+bt,0),Lt=jt.alignment;Lt.Vc()&&(Lt=this.Ml),Lt.gd()||(Lt=au);var Ft=jt.ph;Ft.Vc()&&(Ft=au);var Ot=null;jt instanceof Qr&&""!==jt.Hj&&(jt.hc(0,0,kt.width,kt.height),(Ot=jt.td(jt.Hj))===jt&&(Ot=null));var It,Rt;if(null!==Ot){for(var Bt=Ot.Ja,qt=Ot.margin,zt=Wl.xb(Ft.x*Bt.width+Ft.offsetX-qt.left,Ft.y*Bt.height+Ft.offsetY-qt.top);Ot!==jt;)Ot.transform.ob(zt),Ot=Ot.N;It=Lt.x*Tt+Lt.offsetX-zt.x,Rt=Lt.y*St+Lt.offsetY-zt.y,Wl.v(zt)}else It=Lt.x*Tt+Lt.offsetX-(Ft.x*kt.width-Ft.offsetX)-gt.left,Rt=Lt.y*St+Lt.offsetY-(Ft.y*kt.height-Ft.offsetY)-gt.top;Dt?(Dt=!1,r.x=It,r.y=Rt,r.width=Mt,r.height=Pt):A(r,It,Rt,Mt,Pt)}}Dt?r.assign(Nt):Ct?r.$E(Nt.x,Nt.y,Nt.width,Nt.height):A(r,Nt.x,Nt.y,Nt.width,Nt.height),Wl.Hb(Nt);var Vt=yt.stretch;switch(Vt===Of&&(Vt=Ir(yt,!1)),Vt){case Ff:break t;case Bf:if(!isFinite(ct)&&!isFinite(ft))break t;break;case Rf:if(!isFinite(ct))break t;break;case If:if(!isFinite(ft))break t}for(kt=yt.Aa,Tt=kt.width,St=kt.height,Mt=Math.max(Tt+wt,0),Pt=Math.max(St+xt,0),gt=yt.margin,Nt=Wl.Wg(-gt.left,-gt.top,Mt,Pt),Et=0;Et<vt;Et++)(jt=l[Et])===yt||!jt.visible&&jt!==At||(gt=jt.margin,mt=gt.right+gt.left,bt=gt.top+gt.bottom,kt=jt.Aa,Mt=Math.max(kt.width+mt,0),Pt=Math.max(kt.height+bt,0),Lt=jt.alignment,Lt.Vc()&&(Lt=this.Ml),Lt.gd()||(Lt=au),Ft=jt.ph,Ft.Vc()&&(Ft=au),Dt?(Dt=!1,r.x=Lt.x*Tt+Lt.offsetX-(Ft.x*kt.width-Ft.offsetX)-gt.left,r.y=Lt.y*St+Lt.offsetY-(Ft.y*kt.height-Ft.offsetY)-gt.top,r.width=Mt,r.height=Pt):A(r,Lt.x*Tt+Lt.offsetX-(Ft.x*kt.width-Ft.offsetX)-gt.left,Lt.y*St+Lt.offsetY-(Ft.y*kt.height-Ft.offsetY)-gt.top,Mt,Pt));Dt?r.assign(Nt):Ct?r.$E(Nt.x,Nt.y,Nt.width,Nt.height):A(r,Nt.x,Nt.y,Nt.width,Nt.height),Wl.Hb(Nt)}break;case"Auto":var Ut=t,Ht=e,Gt=n,_t=i,Wt=l.length,Kt=this.Hd(),Yt=Kt.margin,$t=Ut,Jt=Ht,Xt=Yt.right+Yt.left,Qt=Yt.top+Yt.bottom;Dr(Kt,Ut,Ht,Gt,_t);var Zt=Kt.Aa,te=0,ee=null;Kt instanceof Po&&(ee=Kt,te=ee.lb*ee.scale);var ne=Math.max(Zt.width+Xt,0),ie=Math.max(Zt.height+Qt,0),re=po(Kt),oe=re.x*ne+re.offsetX,ae=re.y*ie+re.offsetY,se=vo(Kt),he=se.x*ne+se.offsetX,le=se.y*ie+se.offsetY;isFinite(Ut)&&($t=Math.max(Math.abs(oe-he)-te,0)),isFinite(Ht)&&(Jt=Math.max(Math.abs(ae-le)-te,0));var ue=Wl.jm();ue.l(0,0);for(var ce=oo(this),fe=0;fe<Wt;fe++){var de=l[fe];if(de!==Kt&&(de.visible||de===ce)){var Yt=de.margin,pe=Yt.right+Yt.left,ve=Yt.top+Yt.bottom;Dr(de,$t,Jt,0,0),Zt=de.Aa,ne=Math.max(Zt.width+pe,0),ie=Math.max(Zt.height+ve,0),ue.l(Math.max(ne,ue.width),Math.max(ie,ue.height))}}if(1===Wt)r.width=ne,r.height=ie,Wl.Ak(ue);else{var re=po(Kt),se=vo(Kt),ye=0,ge=0;se.x!==re.x&&se.y!==re.y&&(ye=ue.width/Math.abs(se.x-re.x),ge=ue.height/Math.abs(se.y-re.y)),Wl.Ak(ue),te=0,null!==ee&&(te=ee.lb*ee.scale,Ao(ee)===qf&&(ye=ge=Math.max(ye,ge)));var ye=ye+(Math.abs(re.offsetX)+Math.abs(se.offsetX)+te),ge=ge+(Math.abs(re.offsetY)+Math.abs(se.offsetY)+te),me=Kt.stretch;switch(me===Of&&(me=Ir(Kt,!1)),me){case Ff:_t=Gt=0;break;case Bf:isFinite(Ut)&&(ye=Ut),isFinite(Ht)&&(ge=Ht);break;case Rf:isFinite(Ut)&&(ye=Ut),_t=0;break;case If:Gt=0,isFinite(Ht)&&(ge=Ht)}Kt.cq(),Dr(Kt,ye,ge,Gt,_t),r.width=Kt.Aa.width+Xt,r.height=Kt.Aa.height+Qt}break;case"Table":for(var be=t,we=e,xe=n,ke=i,Te=l.length,Se=Wl.mb(),Me=Wl.mb(),Pe=0;Pe<Te;Pe++){var Ce=l[Pe],Ne=Ce instanceof Qr?Ce:null;if(null===Ne||Ne.type!==Zf&&Ne.type!==td||!Ce.visible)Se.push(Ce);else{Me.push(Ne);for(var De=Ne.xa.n,Ae=De.length,Ee=0;Ee<Ae;Ee++){var je=De[Ee];Ne.type===Zf?je.Zb=Ce.Zb:Ne.type===td&&(je.column=Ce.column),Se.push(je)}}}Te=Se.length,0===Te&&(this.ce(0),this.be(0));for(var Le=[],Pe=0;Pe<Te;Pe++)Ce=Se[Pe],_r(Ce,!0),Kr(Ce,!0),Le[Ce.Zb]||(Le[Ce.Zb]=[]),Le[Ce.Zb][Ce.column]||(Le[Ce.Zb][Ce.column]=[]),Le[Ce.Zb][Ce.column].push(Ce);Wl.wa(Se);for(var Fe=Wl.mb(),Oe=Wl.mb(),Ie=Wl.mb(),Re={count:0},Be={count:0},qe=be,ze=we,Ve=this.Yd,Te=Ve.length,Pe=0;Pe<Te;Pe++){var Ue=Ve[Pe];void 0!==Ue&&(Ue.Ka=0)}for(Ve=this.Td,Te=Ve.length,Pe=0;Pe<Te;Pe++)void 0!==(Ue=Ve[Pe])&&(Ue.Ka=0);for(var He=Le.length,Ge=0,Pe=0;Pe<He;Pe++)Le[Pe]&&(Ge=Math.max(Ge,Le[Pe].length));for(var _e=Math.min(this.fj,He-1),We=Math.min(this.Oi,Ge-1),Ke=0,He=Le.length,Ye=oo(this),Pe=0;Pe<He;Pe++)if(Le[Pe])for(var Ge=Le[Pe].length,$e=this.ce(Pe),Ee=$e.Ka=0;Ee<Ge;Ee++)if(Le[Pe][Ee]){var Je=this.be(Ee);void 0===Fe[Ee]&&(Je.Ka=0,Fe[Ee]=!0);for(var Xe=Le[Pe][Ee],Qe=Xe.length,Ze=0;Ze<Qe;Ze++)if(Ce=Xe[Ze],Ce.visible||Ce===Ye){var tn=1<Ce.bj||1<Ce.yi;tn&&(Pe<_e||Ee<We||Oe.push(Ce));var en=Ce.margin,nn=en.right+en.left,rn=en.top+en.bottom,on=Rr(Ce,$e,Je,!1),an=Ce.Ba,sn=!isNaN(an.height),hn=!isNaN(an.width)&&sn;if(tn||on===Ff||hn||Pe<_e||Ee<We||(void 0!==Re[Ee]||on!==Bf&&on!==Rf||(Re[Ee]=-1,Re.count++),void 0!==Be[Pe]||on!==Bf&&on!==If||(Be[Pe]=-1,Be.count++),Ie.push(Ce)),Dr(Ce,1/0,1/0,0,0),!(Pe<_e||Ee<We)){var ln=Ce.Aa,un=Math.max(ln.width+nn,0),cn=Math.max(ln.height+rn,0);if(1===Ce.bj&&(on===Ff||on===Rf)){var Ue=this.ce(Pe),fn=Ue.Ye(),Ke=Math.max(cn-Ue.Ka,0);Ke+fn>ze&&(Ke=Math.max(ze-fn,0));var dn=0===Ue.Ka;Ue.Ka+=Ke,ze=Math.max(ze-(Ke+(dn?fn:0)),0)}1!==Ce.yi||on!==Ff&&on!==If||(Ue=this.be(Ee),fn=Ue.Ye(),Ke=Math.max(un-Ue.Ka,0),Ke+fn>qe&&(Ke=Math.max(qe-fn,0)),dn=0===Ue.Ka,Ue.Ka+=Ke,qe=Math.max(qe-(Ke+(dn?fn:0)),0)),tn&&Ce.cq()}}}Wl.wa(Fe);for(var pn=0,vn=0,Te=this.Mp,Pe=0;Pe<Te;Pe++){var yn=this.Td[Pe];void 0!==yn&&(pn+=yn.Sa,0!==yn.Sa&&(pn+=yn.Ye()))}for(Te=this.rq,Pe=0;Pe<Te;Pe++){var gn=this.Yd[Pe];void 0!==gn&&(vn+=gn.Sa,0!==gn.Sa&&(vn+=gn.Ye()))}for(var qe=Math.max(be-pn,0),mn=ze=Math.max(we-vn,0),bn=qe,Te=Ie.length,Pe=0;Pe<Te;Pe++){var Ce=Ie[Pe],$e=this.ce(Ce.Zb),Je=this.be(Ce.column),wn=Ce.Aa,en=Ce.margin,nn=en.right+en.left,rn=en.top+en.bottom;Re[Ce.column]=0===Je.Ka&&void 0!==Re[Ce.column]?Math.max(wn.width+nn,Re[Ce.column]):null,Be[Ce.Zb]=0===$e.Ka&&void 0!==Be[Ce.Zb]?Math.max(wn.height+rn,Be[Ce.Zb]):null}var xn,kn=0,Tn=0;for(xn in Be)"count"!==xn&&(kn+=Be[xn]);for(xn in Re)"count"!==xn&&(Tn+=Re[xn]);for(var Sn=Wl.jm(),Pe=0;Pe<Te;Pe++)if(Ce=Ie[Pe],Ce.visible||Ce===Ye){var $e=this.ce(Ce.Zb),Je=this.be(Ce.column),Mn=0;isFinite(Je.width)?Mn=Je.width:(Mn=isFinite(qe)&&null!==Re[Ce.column]?0===Tn?Je.Ka+qe:Re[Ce.column]/Tn*bn:null!==Re[Ce.column]?qe:Je.Ka||qe,Mn=Math.max(0,Mn-Je.Ye()));var Pn=0;switch(isFinite($e.height)?Pn=$e.height:(Pn=isFinite(ze)&&null!==Be[Ce.Zb]?0===kn?$e.Ka+ze:Be[Ce.Zb]/kn*mn:null!==Be[Ce.Zb]?ze:$e.Ka||ze,Pn=Math.max(0,Pn-$e.Ye())),Sn.l(Math.max(Je.xj,Math.min(Mn,Je.nf)),Math.max($e.xj,Math.min(Pn,$e.nf))),on=Rr(Ce,$e,Je,!1)){case Rf:Sn.height=Math.max(Sn.height,$e.Ka+ze);break;case If:Sn.width=Math.max(Sn.width,Je.Ka+qe)}en=Ce.margin,nn=en.right+en.left,rn=en.top+en.bottom,Ce.cq(),Dr(Ce,Sn.width,Sn.height,Je.xj,$e.xj),ln=Ce.Aa,un=Math.max(ln.width+nn,0),cn=Math.max(ln.height+rn,0),isFinite(qe)&&(un=Math.min(un,Sn.width)),isFinite(ze)&&(cn=Math.min(cn,Sn.height));var Cn=0,Cn=$e.Ka;$e.Ka=Math.max($e.Ka,cn),Ke=$e.Ka-Cn,ze=Math.max(ze-Ke,0),Cn=Je.Ka,Je.Ka=Math.max(Je.Ka,un),Ke=Je.Ka-Cn,qe=Math.max(qe-Ke,0)}Wl.wa(Ie);for(var Nn=Wl.jm(),Te=Oe.length,Pe=0;Pe<Te;Pe++)if(Ce=Oe[Pe],Ce.visible||Ce===Ye){switch($e=this.ce(Ce.Zb),Je=this.be(Ce.column),Sn.l(Math.max(Je.xj,Math.min(be,Je.nf)),Math.max($e.xj,Math.min(we,$e.nf))),on=Rr(Ce,$e,Je,!1)){case Bf:0!==Je.Ka&&(Sn.width=Math.min(Sn.width,Je.Ka)),0!==$e.Ka&&(Sn.height=Math.min(Sn.height,$e.Ka));break;case Rf:0!==Je.Ka&&(Sn.width=Math.min(Sn.width,Je.Ka));break;case If:0!==$e.Ka&&(Sn.height=Math.min(Sn.height,$e.Ka))}isFinite(Je.width)&&(Sn.width=Je.width),isFinite($e.height)&&(Sn.height=$e.height),Nn.l(0,0);for(var Dn=1;Dn<Ce.bj&&!(Ce.Zb+Dn>=this.rq);Dn++)Ue=this.ce(Ce.Zb+Dn),Nn.height+=Math.max(Ue.xj,isNaN(Ue.hf)?Ue.nf:Math.min(Ue.hf,Ue.nf));for(Dn=1;Dn<Ce.yi&&!(Ce.column+Dn>=this.Mp);Dn++)Ue=this.be(Ce.column+Dn),Nn.width+=Math.max(Ue.xj,isNaN(Ue.hf)?Ue.nf:Math.min(Ue.hf,Ue.nf));Sn.width+=Nn.width,Sn.height+=Nn.height,en=Ce.margin,nn=en.right+en.left,rn=en.top+en.bottom,Dr(Ce,Sn.width,Sn.height,xe,ke);for(var ln=Ce.Aa,un=Math.max(ln.width+nn,0),cn=Math.max(ln.height+rn,0),An=0,Dn=0;Dn<Ce.bj&&!(Ce.Zb+Dn>=this.rq);Dn++)Ue=this.ce(Ce.Zb+Dn),An+=Ue.total||0;if(An<cn){var En=cn-An,jn=cn-An;if(null!==Ce.jy)for(var Ln=Ce.jy,Dn=0;Dn<Ce.bj&&!(0>=En)&&!(Ce.Zb+Dn>=this.rq);Dn++){var Ue=this.ce(Ce.Zb+Dn),Fn=Ue.Sa||0,On=Ln(Ce,Ue,jn);Ue.Ka=Math.min(Ue.nf,Fn+On),Ue.Sa!==Fn&&(En-=Ue.Sa-Fn)}for(;0<En&&(Fn=Ue.Sa||0,isNaN(Ue.height)&&Ue.nf>Fn&&(Ue.Ka=Math.min(Ue.nf,Fn+En),Ue.Sa!==Fn&&(En-=Ue.Sa-Fn)),0!==Ue.index);)Ue=this.ce(Ue.index-1)}for(var In=0,Dn=0;Dn<Ce.yi&&!(Ce.column+Dn>=this.Mp);Dn++)Ue=this.be(Ce.column+Dn),In+=Ue.total||0;if(In<un){if(En=un-In,jn=un-In,null!==Ce.jy)for(Ln=Ce.jy,Dn=0;Dn<Ce.yi&&!(0>=En)&&!(Ce.column+Dn>=this.Mp);Dn++)Ue=this.be(Ce.column+Dn),Fn=Ue.Sa||0,On=Ln(Ce,Ue,jn),Ue.Ka=Math.min(Ue.nf,Fn+On),Ue.Sa!==Fn&&(En-=Ue.Sa-Fn);for(;0<En&&(Fn=Ue.Sa||0,isNaN(Ue.width)&&Ue.nf>Fn&&(Ue.Ka=Math.min(Ue.nf,Fn+En),Ue.Sa!==Fn&&(En-=Ue.Sa-Fn)),0!==Ue.index);)Ue=this.be(Ue.index-1)}}Wl.wa(Oe),Wl.Ak(Nn),Wl.Ak(Sn);for(var Rn=0,Bn=0,on=Ir(this,!0),qn=this.Ba,zn=this.Bf,Vn=vn=pn=0,Un=0,Te=this.Mp,Pe=0;Pe<Te;Pe++)void 0!==this.Td[Pe]&&(Ue=this.be(Pe),isFinite(Ue.width)?(Vn+=Ue.width,Vn+=Ue.Ye()):Mo(Ue)===sd?(Vn+=Ue.Sa,Vn+=Ue.Ye()):0!==Ue.Sa&&(pn+=Ue.Sa,pn+=Ue.Ye()));var Rn=isFinite(qn.width)?Math.min(qn.width,zn.width):on!==Ff&&isFinite(be)?be:pn,Rn=Math.max(Rn,this.Ah.width),Rn=Math.max(Rn-Vn,0),Hn=Math.max(Rn/pn,1);for(isFinite(Hn)||(Hn=1),Pe=0;Pe<Te;Pe++)void 0!==this.Td[Pe]&&(Ue=this.be(Pe),isFinite(Ue.width)||Mo(Ue)===sd||(Ue.Ka=Ue.Sa*Hn),Ue.position=r.width,0!==Ue.Sa&&(r.width+=Ue.Sa,r.width+=Ue.Ye()));for(Te=this.rq,Pe=0;Pe<Te;Pe++)void 0!==this.Yd[Pe]&&(Ue=this.ce(Pe),isFinite(Ue.height)?(Un+=Ue.height,Un+=Ue.Ye()):Mo(Ue)===sd?(Un+=Ue.Sa,Un+=Ue.Ye()):0!==Ue.Sa&&(vn+=Ue.Sa,0!==Ue.Sa&&(vn+=Ue.Ye())));var Bn=isFinite(qn.height)?Math.min(qn.height,zn.height):on!==Ff&&isFinite(we)?we:vn,Bn=Math.max(Bn,this.Ah.height),Bn=Math.max(Bn-Un,0),Gn=Math.max(Bn/vn,1);for(isFinite(Gn)||(Gn=1),Pe=0;Pe<Te;Pe++)void 0!==this.Yd[Pe]&&(Ue=this.ce(Pe),isFinite(Ue.height)||Mo(Ue)===sd||(Ue.Ka=Ue.Sa*Gn),Ue.position=r.height,0!==Ue.Sa&&(r.height+=Ue.Sa,0!==Ue.Sa&&(r.height+=Ue.Ye())));for(Te=Me.length,Pe=0;Pe<Te;Pe++){var _n=Me[Pe];_n.type===Zf?(Mn=r.width,Ue=this.ce(_n.Zb),Pn=Ue.Ka):(Ue=this.be(_n.column),Mn=Ue.Ka,Pn=r.height),_n.pd.l(0,0,Mn,Pn),_r(_n,!1),Le[_n.Zb]||(Le[_n.Zb]=[]),Le[_n.Zb][_n.column]||(Le[_n.Zb][_n.column]=[]),Le[_n.Zb][_n.column].push(_n)}Wl.wa(Me),this.Os=Le;break;case"Viewbox":var Wn=t,Kn=e,Yn=n,$n=i;1<l.length&&Wl.k("Viewbox Panel cannot contain more than one GraphObject.");var Jn=l[0];Jn.Gb=1,Jn.cq(),Dr(Jn,1/0,1/0,Yn,$n);var Xn=Jn.Aa,Qn=Jn.margin,Zn=Qn.right+Qn.left,ti=Qn.top+Qn.bottom;if(isFinite(Wn)||isFinite(Kn)){var ei=Jn.scale,ni=Xn.width,ii=Xn.height,ri=Math.max(Wn-Zn,0),oi=Math.max(Kn-ti,0),ai=1;this.Dp===qf?0!==ni&&0!==ii&&(ai=Math.min(ri/ni,oi/ii)):0!==ni&&0!==ii&&(ai=Math.max(ri/ni,oi/ii)),0===ai&&(ai=1e-4),Jn.Gb*=ai,ei!==Jn.scale&&(_r(Jn,!0),Dr(Jn,1/0,1/0,Yn,$n))}Xn=Jn.Aa,r.width=isFinite(Wn)?Wn:Math.max(Xn.width+Zn,0),r.height=isFinite(Kn)?Kn:Math.max(Xn.height+ti,0);break;case"Link":var si=l.length;if(this instanceof Aa||this instanceof _a){var hi=null;if(this instanceof _a&&(hi=this),this instanceof Aa&&(hi=this.Of),hi instanceof _a){var li=hi;if(0===si){var ui=this.Ja;M(ui,0,0);var ci=this.Aa;ci.l(0,0,0,0)}else{var fi=this instanceof Aa?null:hi.path,di=hi.Vn,pi=this.gj;pi.assign(di),pi.x=0,pi.y=0;var vi=li.points,yi=hi.ra;this.lu(!1);var gi=di.width,mi=di.height;this.Si.l(di.x,di.y),null===this.ah&&(this.ah=new c(S)),this.ah.clear(),null!==fi&&(Do(fi,gi,mi,this),ci=fi.Aa,pi.Hh(ci),this.ah.add(ci));for(var bi=Wl.Ff(),wi=Wl.K(),xi=Wl.K(),ki=0;ki<si;ki++){var Ti=l[ki];if(Ti!==fi)if(Ti.Vf&&Ti instanceof Po)Do(Ti,gi,mi,this),ci=Ti.Aa,pi.Hh(ci),this.ah.add(ci);else if(2>yi)Dr(Ti,1/0,1/0),ci=Ti.Aa,pi.Hh(ci),this.ah.add(ci);else{var Si=Ti.Ne,Mi=Ti.WA,Pi=Ti.ph;Pi.Nd()&&(Pi=au);var Ci=Ti.sq,Ni=Ti.XA,Di=0,Ai=0,Ei=0;if(Si<-yi||Si>=yi){var ji=li.wF,Li=li.vF;Ci!==Vd&&(Ei=li.computeAngle(Ti,Ci,Li),Ti.hg=Ei),Di=ji.x-di.x,Ai=ji.y-di.y}else{var Fi,Oi;if(0<=Si)Fi=vi.ea(Si),Oi=Si<yi-1?vi.ea(Si+1):Fi;else{var Ii=yi+Si;Fi=vi.ea(Ii),Oi=0<Ii?vi.ea(Ii-1):Fi}if(Fi.Jc(Oi)){var Ri,Bi;0<=Si?(Ri=0<Si?vi.ea(Si-1):Fi,Bi=Si<yi-2?vi.ea(Si+2):Oi):(Ri=Ii<yi-1?vi.ea(Ii+1):Fi,Bi=1<Ii?vi.ea(Ii-2):Oi);var qi=Ri.vf(Fi),zi=Oi.vf(Bi),Li=qi>zi+10?0<=Si?Ri.zc(Fi):Fi.zc(Ri):zi>qi+10?0<=Si?Oi.zc(Bi):Bi.zc(Oi):0<=Si?Ri.zc(Bi):Bi.zc(Ri)}else Li=0<=Si?Fi.zc(Oi):Oi.zc(Fi);Ci!==Vd&&(Ei=li.computeAngle(Ti,Ci,Li),Ti.hg=Ei),Di=Fi.x+(Oi.x-Fi.x)*Mi-di.x,Ai=Fi.y+(Oi.y-Fi.y)*Mi-di.y}Dr(Ti,1/0,1/0);var ci=Ti.Aa,ui=Ti.Ja,Vi=0;Ti instanceof Po&&(Vi=Ti.lb);var Ui=ui.width+Vi,Hi=ui.height+Vi;bi.reset(),bi.translate(-ci.x,-ci.y),bi.scale(Ti.scale,Ti.scale),bi.rotate(Ci===Vd?Ti.angle:Li,Ui/2,Hi/2),Ci!==$d&&Ci!==Zd||bi.rotate(90,Ui/2,Hi/2),Ci!==Jd&&Ci!==tp||bi.rotate(-90,Ui/2,Hi/2),Ci===ep&&(45<Li&&135>Li||225<Li&&315>Li)&&bi.rotate(-Li,Ui/2,Hi/2);var Gi=new S(0,0,Ui,Hi);wi.Wn(Gi,Pi),bi.ob(wi);var _i=-wi.x+Vi/2,Wi=-wi.y+Vi/2;xi.assign(Ni),isNaN(xi.x)&&(xi.x=0<=Si?Ui/2+3:-(Ui/2+3)),isNaN(xi.y)&&(xi.y=-(Hi/2+3)),xi.rotate(Li),Di+=xi.x,Ai+=xi.y,Gi.set(ci),Gi.x=Di+_i,Gi.y=Ai+Wi,this.ah.add(Gi),pi.Hh(Gi)}}if(this instanceof _a)for(var Ki=this.Wf;Ki.next();)Dr(Ki.value,1/0,1/0);this.gj=pi;var Yi=this.Si;Yi.l(Yi.x+pi.x,Yi.y+pi.y),M(r,pi.width||0,pi.height||0),Wl.ve(bi),Wl.v(wi),Wl.v(xi)}}}break;case"Grid":break;case"Graduated":var $i=t,Ji=e,Xi=n,Qi=i,Zi=this.Hd();this.ym=[];var tr=Zi.margin,er=tr.right+tr.left,nr=tr.top+tr.bottom;Dr(Zi,$i,Ji,Xi,Qi);var ir=Zi.Aa,rr=ir.height,or=Math.max(ir.width+er,0),ar=Math.max(rr+nr,0),sr=new S(-tr.left,-tr.top,or,ar);this.ym.push(sr),r.assign(sr);for(var hr=Zi.wf,lr=Zi.lb,ur=hr.fA,cr=hr.lx,fr=hr.gA,dr=ur.length,pr=0,vr=0,yr=Wl.mb(),gr=0;gr<dr;gr++){for(var mr=ur[gr],br=[],vr=pr=0,wr=mr.length,xr=0;xr<wr;xr+=2){var kr=mr[xr],Tr=mr[xr+1];if(0!==xr){var Sr=180*Math.atan2(Tr-vr,kr-pr)/Math.PI;0>Sr&&(Sr+=360),br.push(Sr)}pr=kr,vr=Tr}yr.push(br)}var Mr;if(null===this.Sj){for(var Pr=[],Nr=this.xa.n,Ar=Nr.length,Er=0;Er<Ar;Er++){var jr=Nr[Er],Lr=[];if(Pr.push(Lr),jr.visible)for(var Fr=jr.interval,Or=0;Or<Ar;Or++){var Br=Nr[Or];if(Br.visible&&jr!==Br&&!(jr instanceof Po&&!(Br instanceof Po)||jr instanceof Oo&&!(Br instanceof Oo))){var qr=Br.interval;qr>Fr&&Lr.push(qr)}}}this.Sj=Pr}Mr=this.Sj;var zr=this.xa.n,Vr=zr.length,Ur=0,Hr=0,Gr=fr;this.Am=[];for(var Wr=[],Yr=0;Yr<Vr;Yr++){var $r=zr[Yr],Wr=[];if($r.visible&&$r!==Zi){var Jr=$r.interval,Xr=this.nA;if(!(2>Xr*Jr*fr/this.ox)){var Zr=this.UE,eo=Mr[Yr],no=cr[0][0],io=0,ro=0,Hr=fr*$r.TE-1e-4,Gr=fr*$r.RE+1e-4,ao=Xr*Jr;if(Zr<this.Ck)var so=(this.Ck-Zr)/ao,so=0==so%1?so:Math.floor(so+1),Zr=Zr+so*ao;else Zr>this.Ck+ao&&(so=Math.floor((Zr-this.Ck)/ao),Zr-=so*ao);for(;Zr<=this.mA;){var ho;t:{for(var lo=eo.length,uo=0;uo<lo;uo++)if($((Zr-this.UE)%(eo[uo]*this.nA),0)){ho=!1;break t}ho=!0}if(ho&&(Ur=(Zr-this.Ck)*fr/this.ox,Ur>fr&&(Ur=fr),Hr<=Ur&&Ur<=Gr)){for(var Sr=yr[io][ro],co=cr[io][ro];io<cr.length;){for(;Ur>no&&ro<cr[io].length-1;)ro++,Sr=yr[io][ro],co=cr[io][ro],no+=co;if(Ur<=no)break;io++,ro=0,Sr=yr[io][ro],co=cr[io][ro],no+=co}var fo=ur[io],yo=fo[2*ro],go=fo[2*ro+1],mo=(Ur-(no-co))/co,bo=new w(yo+(fo[2*ro+2]-yo)*mo+lr/2-hr.kb.x,go+(fo[2*ro+3]-go)*mo+lr/2-hr.kb.y);bo.scale(Zi.scale,Zi.scale);var wo=Sr,xo=yr[io];if(1e-4>mo?0<ro?wo=xo[ro-1]:$(fo[0],fo[fo.length-2])&&$(fo[1],fo[fo.length-1])&&(wo=xo[xo.length-1]):.9999<mo&&(ro+1<xo.length?wo=xo[ro+1]:$(fo[0],fo[fo.length-2])&&$(fo[1],fo[fo.length-1])&&(wo=xo[0])),Sr!==wo&&(180<Math.abs(Sr-wo)&&(Sr<wo?Sr+=360:wo+=360),Sr=(Sr+wo)/2%360),$r instanceof Oo){var ko="",ko=null!==$r.SE?$r.SE(Zr):(+Zr.toFixed(2)).toString();""!==ko&&Wr.push([bo,Sr,ko])}else Wr.push([bo,Sr])}Zr+=ao}}}this.Am.push(Wr)}Wl.wa(yr);for(var To=this.Am,So=l.length,Co=0;Co<So;Co++){var No=l[Co],Eo=To[Co];if(No.visible&&No!==Zi&&0!==Eo.length){if(No instanceof Po){var jo=No,Lo=Eo,Fo=r,Io=jo.ph;Io.Nd()&&(Io=iu);var Ro=jo.angle;jo.hg=0,Dr(jo,1/0,1/0),jo.hg=Ro;var Bo=jo.Aa,qo=Bo.width,zo=Bo.height,Vo=Wl.Wg(0,0,qo,zo),Ho=Wl.K();Ho.Wn(Vo,Io),Wl.Hb(Vo);for(var Go=-Ho.x,_o=-Ho.y,Wo=new S,Ko=Lo.length,Yo=0;Yo<Ko;Yo++)for(var $o=Lo[Yo],Jo=$o[0].x,Xo=$o[0].y,Qo=$o[1],Zo=0;4>Zo;Zo++){switch(Zo){case 0:Ho.l(Go,_o);break;case 1:Ho.l(Go+qo,_o);break;case 2:Ho.l(Go,_o+zo);break;case 3:Ho.l(Go+qo,_o+zo)}Ho.rotate(Qo+jo.angle),Ho.offset(Jo,Xo),0===Yo&&0===Zo?Wo.l(Ho.x,Ho.y,0,0):Wo.si(Ho),Ho.offset(-Jo,-Xo),Ho.rotate(-Qo-jo.angle)}Wl.v(Ho),this.ym.push(Wo),A(Fo,Wo.x,Wo.y,Wo.width,Wo.height)}else if(No instanceof Oo){var ta=No,ea=Eo,na=r;null===this.kk&&(this.kk=new Oo);var ia=this.kk;to(ta,ia);var ra=ta.ph;ra.Nd()&&(ra=iu);for(var oa=ta.sq,aa=ta.XA,sa=null,ha=0,la=0,ua=0,ca=0,fa=ea.length,da=0;da<fa;da++){var pa=ea[da],ha=pa[0].x,la=pa[0].y,ua=pa[1];oa!==Vd&&(ca=ta.computeAngle(oa,ua),ia.hg=ca),ia.text=pa[2],Dr(ia,1/0,1/0);var va=ia.Aa,ya=ia.Ja,ga=ya.width,ma=ya.height,ba=Wl.Ff();ba.reset(),ba.translate(-va.x,-va.y),ba.scale(ia.scale,ia.scale),ba.rotate(oa===Vd?ia.angle:ua,ga/2,ma/2),oa!==$d&&oa!==Zd||ba.rotate(90,ga/2,ma/2),oa!==Jd&&oa!==tp||ba.rotate(-90,ga/2,ma/2),oa===ep&&(45<ua&&135>ua||225<ua&&315>ua)&&ba.rotate(-ua,ga/2,ma/2);var wa=Wl.Wg(0,0,ga,ma),xa=Wl.K();xa.Wn(wa,ra),ba.ob(xa);var ka=-xa.x,Ta=-xa.y,Sa=Wl.K();Sa.assign(aa),isNaN(Sa.x)&&(Sa.x=ga/2+3),isNaN(Sa.y)&&(Sa.y=-(ma/2+3)),Sa.rotate(ua);var ha=ha+(Sa.x+ka),la=la+(Sa.y+Ta),Ma=new S(ha,la,va.width,va.height),Pa=new S(va.x,va.y,va.width,va.height),Ca=new S(ya.x,ya.y,ya.width,ya.height),Na=new Uo;Na.Np(ia.Pi),pa.push(ca),pa.push(ia.ke),pa.push(Na),pa.push(Ma),pa.push(Pa),pa.push(Ca),0===da?sa=Ma.copy():sa.Hh(Ma),Wl.v(Sa),Wl.v(xa),Wl.Hb(wa),Wl.ve(ba)}this.ym.push(sa),A(na,sa.x,sa.y,sa.width,sa.height)}_r(No,!1)}}break;case"TableRow":case"TableColumn":Wl.k(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:Wl.k("Unknown panel type: "+u)}}var Da=r.width,Ea=r.height,ja=this.padding,La=ja.top+ja.bottom,Da=Da+(ja.left+ja.right),Ea=Ea+La;isFinite(o.width)&&(Da=o.width),isFinite(o.height)&&(Ea=o.height),Da=Math.min(s.width,Da),Ea=Math.min(s.height,Ea),Da=Math.max(a.width,Da),Ea=Math.max(a.height,Ea),Da=Math.max(n,Da),Ea=Math.max(i,Ea),r.width=Da,r.height=Ea,M(this.Tc,Da,Ea),Cr(this,0,0,Da,Ea)},Qr.prototype.findMainElement=Qr.prototype.Hd=function(){if(null===this.en){var t=this.xa.n,e=t.length;if(0===e)return null;for(var n=0;n<e;n++){var i=t[n];if(!0===i.Vf)return this.en=i}this.en=t[0]}return this.en},Qr.prototype.ij=function(t,e,n,i){var r=this.gj,o=this.xa.n,a=Wl.Wg(0,0,0,0);if(0===o.length){var s=this.Y;s.x=t,s.y=e,s.width=n,s.height=i}else{if(!this.Ba.H()){var h=Ir(this,!0),l=this.pd,u=l.width,c=l.height,f=this.margin,d=f.left+f.right,p=f.top+f.bottom;switch(u===n&&c===i&&(h=Ff),h){case Ff:(u>n||c>i)&&(this.I(),Dr(this,u>n?n:u,c>i?i:c));break;case Bf:this.I(!0),Dr(this,n+d,i+p,0,0);break;case Rf:this.I(!0),Dr(this,n+d,c+p,0,0);break;case If:this.I(!0),Dr(this,u+d,i+p,0,0)}}s=this.Y,s.x=t,s.y=e,s.width=n,s.height=i;var v=this.na.Rb;switch(v){case"Position":for(var y=o.length,g=r.x-this.padding.left,m=r.y-this.padding.top,b=0;b<y;b++){var x=o[b],k=x.Aa,T=x.margin,M=x.position.x,P=x.position.y;if(a.x=isNaN(M)?-g:M-g,a.y=isNaN(P)?-m:P-m,x instanceof Po){var C=x;if(C.fF){var N=C.lb/2;a.x-=N,a.y-=N}}a.x+=T.left,a.y+=T.top,a.width=k.width,a.height=k.height,x.visible&&x.hc(a.x,a.y,a.width,a.height)}break;case"Vertical":for(var D=o.length,E=this.padding.left,j=this.mF,L=j?r.height:this.padding.top,F=0;F<D;F++){var O=E,I=o[F];if(I.visible){var R=I.Aa,B=I.margin,q=B.left+B.right,z=E+this.padding.right,V=R.width,U=Ir(I,!1);(isNaN(I.Ba.width)&&U===Bf||U===Rf)&&(V=Math.max(r.width-q-z,0));var H=V+q+z,G=I.alignment;G.Vc()&&(G=this.Ml),G.gd()||(G=au),j&&(L-=R.height+B.bottom+B.top),I.hc(O+G.offsetX+B.left+(r.width*G.x-H*G.x),L+G.offsetY+B.top,V,R.height),j||(L+=R.height+B.bottom+B.top)}}break;case"Horizontal":for(var _=o.length,W=this.padding.top,K=this.mF,Y=K?r.width:this.padding.left,$=0;$<_;$++){var J=W,X=o[$];if(X.visible){var Q=X.Aa,Z=X.margin,tt=Z.top+Z.bottom,et=W+this.padding.bottom,nt=Q.height,it=Ir(X,!1);(isNaN(X.Ba.height)&&it===Bf||it===If)&&(nt=Math.max(r.height-tt-et,0));var rt=nt+tt+et,ot=X.alignment;ot.Vc()&&(ot=this.Ml),ot.gd()||(ot=au),K&&(Y-=Q.width+Z.left+Z.right),X.hc(Y+ot.offsetX+Z.left,J+ot.offsetY+Z.top+(r.height*ot.y-rt*ot.y),Q.width,nt),K||(Y+=Q.width+Z.left+Z.right)}}break;case"Spot":var at=o.length,st=this.Hd(),ht=st.Aa,lt=ht.width,ut=ht.height,ct=this.padding,ft=ct.left,dt=ct.top;a.x=ft-r.x,a.y=dt-r.y,st.hc(a.x,a.y,lt,ut);for(var pt=0;pt<at;pt++){var vt=o[pt];if(vt!==st){var yt=vt.Aa,gt=yt.width,mt=yt.height,bt=vt.alignment;bt.Vc()&&(bt=this.Ml),bt.gd()||(bt=au);var wt=vt.ph;wt.Vc()&&(wt=au);var xt=null;if(vt instanceof Qr&&""!==vt.Hj&&(xt=vt.td(vt.Hj))===vt&&(xt=null),null!==xt){for(var kt=xt.Ja,Tt=Wl.xb(wt.x*kt.width+wt.offsetX,wt.y*kt.height+wt.offsetY);xt!==vt;)xt.transform.ob(Tt),xt=xt.N;a.x=bt.x*lt+bt.offsetX-Tt.x,a.y=bt.y*ut+bt.offsetY-Tt.y,Wl.v(Tt)}else a.x=bt.x*lt+bt.offsetX-(wt.x*gt-wt.offsetX),a.y=bt.y*ut+bt.offsetY-(wt.y*mt-wt.offsetY);a.x-=r.x,a.y-=r.y,vt.visible&&vt.hc(ft+a.x,dt+a.y,gt,mt)}}break;case"Auto":var St=o.length,Mt=this.Hd(),Pt=Mt.Aa,Ct=Wl.Ef();Ct.l(0,0,1,1);var Nt=Mt.margin,Dt=Nt.left,At=Nt.top,Et=this.padding,jt=Et.left,Lt=Et.top;a.x=Dt,a.y=At,a.width=Pt.width,a.height=Pt.height,Mt.hc(jt+a.x,Lt+a.y,a.width,a.height);var Ft=po(Mt),Ot=vo(Mt),It=0+Ft.y*Pt.height+Ft.offsetY,Rt=0+Ot.x*Pt.width+Ot.offsetX,Bt=0+Ot.y*Pt.height+Ot.offsetY;Ct.x=0+Ft.x*Pt.width+Ft.offsetX,Ct.y=It,A(Ct,Rt,Bt,0,0),Ct.x+=Dt+jt,Ct.y+=At+Lt;for(var qt=0;qt<St;qt++){var zt=o[qt];if(zt!==Mt){var Vt=zt.Aa,Nt=zt.margin,Ut=Math.max(Vt.width+Nt.right+Nt.left,0),Ht=Math.max(Vt.height+Nt.top+Nt.bottom,0),Gt=zt.alignment;Gt.Vc()&&(Gt=this.Ml),Gt.gd()||(Gt=au),a.x=Ct.width*Gt.x+Gt.offsetX-Ut*Gt.x+Nt.left+Ct.x,a.y=Ct.height*Gt.y+Gt.offsetY-Ht*Gt.y+Nt.top+Ct.y,a.width=Ct.width,a.height=Ct.height,zt.visible&&(Ql(Ct.x,Ct.y,Ct.width,Ct.height,a.x,a.y,Vt.width,Vt.height)?zt.hc(a.x,a.y,Vt.width,Vt.height):zt.hc(a.x,a.y,Vt.width,Vt.height,new S(Ct.x,Ct.y,Ct.width,Ct.height)))}}Wl.Hb(Ct);break;case"Table":for(var _t=o.length,Wt=this.padding,Kt=Wt.left,Yt=Wt.top,$t=this.Os,Jt=0,Xt=0,Qt=$t.length,Zt=0,te=0;te<Qt;te++)$t[te]&&(Zt=Math.max(Zt,$t[te].length));for(var ee=Math.min(this.fj,Qt-1);ee!==Qt&&(void 0===this.Yd[ee]||0===this.Yd[ee].Sa);)ee++;for(var ee=Math.min(ee,Qt-1),ne=-this.Yd[ee].ib,ie=Math.min(this.Oi,Zt-1);ie!==Zt&&(void 0===this.Td[ie]||0===this.Td[ie].Sa);)ie++;for(var ie=Math.min(ie,Zt-1),re=-this.Td[ie].ib,oe=Wl.jm(),te=0;te<Qt;te++)if($t[te]){var Zt=$t[te].length,ae=this.ce(te),Xt=ae.ib+ne+Yt;0!==ae.Sa&&(Xt+=ae.oE());for(var se=0;se<Zt;se++)if($t[te][se]){var he=this.be(se),Jt=he.ib+re+Kt;0!==he.Sa&&(Jt+=he.oE());for(var le=$t[te][se],ue=le.length,ce=0;ce<ue;ce++){var fe=le[ce],de=fe.Aa,pe=fe instanceof Qr?fe:null;if(null===pe||pe.type!==Zf&&pe.type!==td){oe.l(0,0);for(var ve=1;ve<fe.rowSpan&&!(te+ve>=this.rq);ve++){var ye=this.ce(te+ve);oe.height+=ye.total}for(ve=1;ve<fe.tH&&!(se+ve>=this.Mp);ve++){var ge=this.be(se+ve);oe.width+=ge.total}var me=he.Sa+oe.width,be=ae.Sa+oe.height;a.x=Jt,a.y=Xt,a.width=me,a.height=be;var we=Jt,xe=Xt,ke=me,Te=be;Jt+me>r.width&&(ke=Math.max(r.width-Jt,0)),Xt+be>r.height&&(Te=Math.max(r.height-Xt,0));var Se=fe.alignment,Me=0,Pe=0,Ce=0,Ne=0;if(Se.Vc()){Se=this.Ml,Se.gd()||(Se=au);var Me=Se.x,Pe=Se.y,Ce=Se.offsetX,Ne=Se.offsetY,De=he.alignment,Ae=ae.alignment;De.gd()&&(Me=De.x,Ce=De.offsetX),Ae.gd()&&(Pe=Ae.y,Ne=Ae.offsetY)}else Me=Se.x,Pe=Se.y,Ce=Se.offsetX,Ne=Se.offsetY;(isNaN(Me)||isNaN(Pe))&&(Pe=Me=.5,Ne=Ce=0);var Ee=de.width,je=de.height,Le=fe.margin,Fe=Le.left+Le.right,Oe=Le.top+Le.bottom,Ie=Rr(fe,ae,he,!1);!isNaN(fe.Ba.width)||Ie!==Bf&&Ie!==Rf||(Ee=Math.max(me-Fe,0)),!isNaN(fe.Ba.height)||Ie!==Bf&&Ie!==If||(je=Math.max(be-Oe,0));var Re=fe.Bf,Be=fe.Ah,Ee=Math.min(Re.width,Ee),je=Math.min(Re.height,je),Ee=Math.max(Be.width,Ee),je=Math.max(Be.height,je),qe=je+Oe;a.x+=a.width*Me-(Ee+Fe)*Me+Ce+Le.left,a.y+=a.height*Pe-qe*Pe+Ne+Le.top,fe.visible&&(Ql(we,xe,ke,Te,a.x,a.y,de.width,de.height)?fe.hc(a.x,a.y,Ee,je):fe.hc(a.x,a.y,Ee,je,new S(we,xe,ke,Te)))}else{fe.Ji(),fe.nc.Ra();var ze=fe.nc;ze.x=pe.type===Zf?Kt:Jt,ze.y=pe.type===td?Yt:Xt,ze.width=de.width,ze.height=de.height,fe.nc.freeze(),Kr(fe,!1)}}}}for(Wl.Ak(oe),te=0;te<_t;te++)fe=o[te],null===(pe=fe instanceof Qr?fe:null)||pe.type!==Zf&&pe.type!==td||(ze=fe.nc,fe.Tc.Ra(),fe.Tc.l(0,0,ze.width,ze.height),fe.Tc.freeze());break;case"Viewbox":var Ve=o[0],Ue=Ve.Aa,He=Ve.margin,Ge=He.top+He.bottom,_e=Math.max(Ue.width+(He.right+He.left),0),We=Math.max(Ue.height+Ge,0),Ke=Ve.alignment;Ke.Vc()&&(Ke=this.Ml),Ke.gd()||(Ke=au),a.x=r.width*Ke.x-_e*Ke.x+Ke.offsetX,a.y=r.height*Ke.y-We*Ke.y+Ke.offsetY,a.width=Ue.width,a.height=Ue.height,Ve.hc(a.x,a.y,a.width,a.height);break;case"Link":var Ye=o.length;if(this instanceof Aa||this instanceof _a){var $e=null;this instanceof _a&&($e=this),this instanceof Aa&&($e=this.Of);var Je=$e,Xe=this instanceof Aa?null:Je.path;if(null!==this.ah){var Qe=this.ah.n,Ze=0;if(null!==Xe&&Ze<this.ah.count){var tn=Qe[Ze];Ze++,Xe.hc(tn.x-this.gj.x,tn.y-this.gj.y,tn.width,tn.height)}for(var en=0;en<Ye;en++){var nn=o[en];nn!==Xe&&Ze<this.ah.count&&(tn=Qe[Ze],Ze++,nn.hc(tn.x-this.gj.x,tn.y-this.gj.y,tn.width,tn.height))}}var rn=Je.points,on=rn.count;if(2<=on&&this instanceof _a)for(var an=this.Wf;an.next();){var sn=an.value,hn=on,ln=rn,un=sn.Ne,cn=sn.WA,fn=sn.ph,dn=sn.sq,pn=sn.XA,vn=0,yn=0,gn=0;if(un<-hn||un>=hn){var mn=this.wF,bn=this.vF;dn!==Vd&&(gn=this.computeAngle(sn,dn,bn),sn.angle=gn),vn=mn.x,yn=mn.y}else{var wn=void 0,xn=void 0;if(0<=un)wn=ln.n[un],xn=un<hn-1?ln.n[un+1]:wn;else var kn=hn+un,wn=ln.n[kn],xn=0<kn?ln.n[kn-1]:wn;if(wn.Jc(xn)){var Tn=void 0,Sn=void 0;0<=un?(Tn=0<un?ln.n[un-1]:wn,Sn=un<hn-2?ln.n[un+2]:xn):(Tn=kn<hn-1?ln.n[kn+1]:wn,Sn=1<kn?ln.n[kn-2]:xn);var Mn=Tn.vf(wn),Pn=xn.vf(Sn),bn=Mn>Pn+10?0<=un?Tn.zc(wn):wn.zc(Tn):Pn>Mn+10?0<=un?xn.zc(Sn):Sn.zc(xn):0<=un?Tn.zc(Sn):Sn.zc(Tn)}else bn=0<=un?wn.zc(xn):xn.zc(wn);dn!==Vd&&(gn=this.computeAngle(sn,dn,bn),sn.angle=gn),vn=wn.x+(xn.x-wn.x)*cn,yn=wn.y+(xn.y-wn.y)*cn}if(fn.L(tu))sn.location=new w(vn,yn);else{fn.Nd()&&(fn=au);var Cn=Wl.Ff();Cn.reset(),Cn.scale(sn.scale,sn.scale),Cn.rotate(sn.angle,0,0);var Nn=sn.Ja,Dn=Wl.Wg(0,0,Nn.width,Nn.height),An=Wl.K();An.Wn(Dn,fn),Cn.ob(An);var En=-An.x,jn=-An.y,Ln=pn.copy();isNaN(Ln.x)&&(Ln.x=0<=un?An.x+3:-(An.x+3)),isNaN(Ln.y)&&(Ln.y=-(An.y+3)),Ln.rotate(bn),vn+=Ln.x,yn+=Ln.y,Cn.tG(Dn);var En=En+Dn.x,jn=jn+Dn.y,Fn=Wl.xb(vn+En,yn+jn);sn.move(Fn),Wl.v(Fn),Wl.v(An),Wl.Hb(Dn),Wl.ve(Cn)}}this.lu(!1)}break;case"Grid":break;case"Graduated":if(null!==this.ym){var On=this.Hd(),In=this.Am,Rn=this.ym,Bn=0,qn=Rn[Bn];Bn++,On.hc(qn.x-r.x,qn.y-r.y,qn.width,qn.height);for(var zn=o.length,Vn=0;Vn<zn;Vn++){var Un=o[Vn],Hn=In[Vn];Un.visible&&Un!==On&&0!==Hn.length&&(qn=Rn[Bn],Bn++,Un.hc(qn.x-r.x,qn.y-r.y,qn.width,qn.height))}this.ym=null}break;case"TableRow":case"TableColumn":Wl.k(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:Wl.k("Unknown panel type: "+v)}Wl.Hb(a)}},Qr.prototype.uk=function(t){var e=this.Ja,n=oo(this);if(Ql(0,0,e.width,e.height,t.x,t.y)){for(var e=this.xa.n,i=e.length,r=Wl.xb(0,0);i--;){var o=e[i];if((o.visible||o===n)&&(k(r.set(t),o.transform),o.Ia(r)))return Wl.v(r),!0}return Wl.v(r),null!==this.Db||null!==this.$b}return!1},Qr.prototype.hx=function(t){if(this.oo===t)return this;for(var e=this.xa.n,n=e.length,i=0;i<n;i++){var r=e[i].hx(t);if(null!==r)return r}return null},Qr.prototype.walkVisualTree=Qr.prototype.TJ=function(t){lo(this,this,t)},Qr.prototype.findInVisualTree=Qr.prototype.Kt=function(t){return uo(this,this,t)},Qr.prototype.findObject=Qr.prototype.td=function(t){if(this.name===t)return this;for(var e=this.xa.n,n=e.length,i=0;i<n;i++){var r=e[i];if(r.name===t)return r;if(r instanceof Qr)if(null===r.Zj&&null===r.tg){if(null!==(r=r.td(t)))return r}else if(bo(r)&&null!==(r=r.xa.first())&&null!==(r=r.td(t)))return r}return null},Gl=Qr.prototype,Gl.Zg=function(){return!(this.type===Zf||this.type===td)},Gl.Ke=function(t,e,n){if(!1===this.Tg)return null;if(void 0===e&&(e=null),void 0===n&&(n=null),Wr(this))return null;var i=this.Ja,r=1/this.nj(),o=this.Zg(),a=o?t:k(Wl.xb(t.x,t.y),this.transform),s=this.g,h=10,l=5;if(null!==s&&(h=s.Ut("extraTouchArea"),l=h/2),Ql(-(l*r),-(l*r),i.width+h*r,i.height+h*r,a.x,a.y)){if(!this.Fn){var r=this.xa.n,u=r.length,s=Wl.K(),l=(h=this.Zt)?this.Hd():null;if(h&&(l.Zg()?k(s.set(t),l.transform):s.set(t),!l.Ia(s)))return Wl.v(s),o||Wl.v(a),null;for(var c=oo(this);u--;){var f=r[u];if((f.visible||f===c)&&(f.Zg()?k(s.set(t),f.transform):s.set(t),!h||f!==l)){var d=null;if(f instanceof Qr?d=f.Ke(s,e,n):!0===f.Tg&&f.Ia(s)&&(d=f),null!==d&&(null!==e&&(d=e(d)),null!==d&&(null===n||n(d))))return Wl.v(s),o||Wl.v(a),d}}Wl.v(s)}return null===this.background&&null===this.kn?(o||Wl.v(a),null):(t=Ql(0,0,i.width,i.height,a.x,a.y)?this:null,o||Wl.v(a),t)}return o||Wl.v(a),null},Gl.Mt=function(t,e,n,i){if(!1===this.Tg)return!1;void 0===e&&(e=null),void 0===n&&(n=null),i instanceof c||i instanceof d||(i=new c(Tr));var r=this.Ja,o=this.Zg(),a=o?t:k(Wl.xb(t.x,t.y),this.transform);if(Ql(0,0,r.width,r.height,a.x,a.y)){if(!this.Fn){for(var r=this.xa.n,s=r.length,h=Wl.K(),l=oo(this);s--;){var u=r[s];if(u.visible||u===l){u.Zg()?k(h.set(t),u.transform):h.set(t);var f=u,u=u instanceof Qr?u:null;(null!==u?u.Mt(h,e,n,i):f.Ia(h))&&!1!==f.Tg&&(null!==e&&(f=e(f)),null===f||null!==n&&!n(f)||i.add(f))}}Wl.v(h)}return o||Wl.v(a),null!==this.background||null!==this.kn}return o||Wl.v(a),!1},Gl.zk=function(t,e,n,i,r,o){if(!1===this.Tg)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var a=o;if(void 0===o&&(a=Wl.Ff(),a.reset()),a.multiply(this.transform),this.pn(t,a))return fo(this,e,n,r),void 0===o&&Wl.ve(a),!0;if(this.Lg(t,a)){if(!this.Fn)for(var s=oo(this),h=this.xa.n,l=h.length;l--;){var u=h[l];if(u.visible||u===s){var c=u.Y,f=this.Ja;c.x>f.width||c.y>f.height||0>c.x+c.width||0>c.y+c.height||(c=u,u=u instanceof Qr?u:null,f=Wl.Ff(),f.set(a),(null!==u?u.zk(t,e,n,i,r,f):Nr(c,t,i,f))&&(null!==e&&(c=e(c)),null===c||null!==n&&!n(c)||r.add(c)),Wl.ve(f))}}return void 0===o&&Wl.ve(a),i}return void 0===o&&Wl.ve(a),!1},Gl.vn=function(t,e,n,i,r,o){if(!1===this.Tg)return!1;void 0===n&&(n=null),void 0===i&&(i=null);var a=this.Ja,s=this.Zg(),h=s?t:k(Wl.xb(t.x,t.y),this.transform),l=s?e:k(Wl.xb(e.x,e.y),this.transform),u=h.vf(l),c=0<h.x&&h.x<a.width&&0<h.y&&h.y<a.height||$l(h.x,h.y,0,0,0,a.height)<u||$l(h.x,h.y,0,a.height,a.width,a.height)<u||$l(h.x,h.y,a.width,a.height,a.width,0)<u||$l(h.x,h.y,a.width,0,0,0)<u,a=0<h.x&&h.x<a.width&&0<h.y&&h.y<a.height&&$l(h.x,h.y,0,0,0,a.height)<u&&$l(h.x,h.y,0,a.height,a.width,a.height)<u&&$l(h.x,h.y,a.width,a.height,a.width,0)<u&&$l(h.x,h.y,a.width,0,0,0)<u;if(s||(Wl.v(h),Wl.v(l)),c){if(!this.Fn){for(var s=Wl.K(),h=Wl.K(),l=oo(this),u=this.xa.n,f=u.length;f--;){var d=u[f];if(d.visible||d===l){var p=d.Y,v=this.Ja;p.x>v.width||p.y>v.height||0>p.x+p.width||0>p.y+p.height||(d.Zg()?(p=d.transform,k(s.set(t),p),k(h.set(e),p)):(s.set(t),h.set(e)),p=d,d=d instanceof Qr?d:null,null!==d?!d.vn(s,h,n,i,r,o):!p.JE(s,h,r))||(null!==n&&(p=n(p)),null===p||null!==i&&!i(p)||o.add(p))}}Wl.v(s),Wl.v(h)}return r?c:a}return!1},Qr.prototype.add=Qr.prototype.add=function(t){Wl.G(t,Tr,Qr,"add:element"),this.Ld(this.xa.count,t)},Qr.prototype.elt=Qr.prototype.ea=function(t){return this.xa.ea(t)},Qr.prototype.insertAt=Qr.prototype.Ld=function(t,e){e instanceof sa&&Wl.k("Cannot add a Part to a Panel: "+e),(this===e||this.Yl(e))&&(this===e&&Wl.k("Cannot make a Panel contain itself: "+this.toString()),Wl.k("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var n=e.N;if(null!==n&&n!==this&&Wl.k("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+n.toString()+", cannot be shared by this Panel: "+this.toString()),this.na!==nd||e instanceof Po||Wl.k("Can only add Shapes to a Grid Panel, not: "+e),this.na!==id||e instanceof Po||e instanceof Oo||Wl.k("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.fm(this),e.Tm=null,null!==this.fq){var i=e.data;null!==i&&"object"==typeof i&&(null===this.sg&&(this.sg=new b(Object,Qr)),this.sg.add(i,e))}var r=this.xa,i=-1;if(n===this){for(var o=-1,a=this.xa.n,s=a.length,h=0;h<s;h++)if(a[h]===e){o=h;break}if(-1!==o){if(o===t||o+1>=r.count&&t>=r.count)return;r.Yc(o),i=o}else Wl.k("element "+e.toString()+" has panel "+n.toString()+" but is not contained by it.")}(0>t||t>r.count)&&(t=r.count),r.Ld(t,e),this.I(),e.I(),null!==e.Pd?this.Dk=!0:e instanceof Qr&&!0===e.Dk&&(this.Dk=!0),this.Sj=null,null!==(n=this.V)&&(n.Om=null,n.bk=NaN,this.Dk&&n instanceof Ea&&(n.Dk=!0),n.Dk&&n instanceof Ea&&(n.me=null),null!==(r=this.g)&&r.pa.gb||(-1!==i&&n.Xc(gc,"elements",this,e,null,i,null),n.Xc(yc,"elements",this,null,e,null,t),this.au()||To(this,e,!1)))},Wl.defineProperty(Qr,{Dk:null},function(){return 0!=(8388608&this.P)},function(t){0!=(8388608&this.P)!==t&&(this.P^=8388608)}),Qr.prototype.remove=Qr.prototype.remove=function(t){Wl.G(t,Tr,Qr,"remove:element");for(var e=this.xa.n,n=e.length,i=-1,r=0;r<n;r++)if(e[r]===t){i=r;break}-1!==i&&this.kf(i)},Qr.prototype.removeAt=Qr.prototype.Yc=function(t){0<=t&&this.kf(t)},Qr.prototype.kf=function(t){var e=this.xa,n=e.ea(t);if(n.Tm=null,n.fm(null),null!==this.sg){var i=n.data;"object"==typeof i&&this.sg.remove(i)}e.Yc(t),_r(this,!1),this.I(),this.en===n&&(this.en=null),this.Sj=null,null!==(e=this.V)&&(e.Om=null,e.bk=NaN,e.de(),null!==(i=this.g)&&i.pa.gb||e.Xc(gc,"elements",this,n,null,t,null))},Wl.u(Qr,{rq:"rowCount"},function(){return void 0===this.Yd?0:this.Yd.length}),Qr.prototype.getRowDefinition=Qr.prototype.ce=function(t){0>t&&Wl.Fa(t,">= 0",Qr,"getRowDefinition:idx"),t=Math.round(t);var e=this.Yd;if(void 0===e[t]){var n=new So;n.fm(this),n.we=!0,n.index=t,e[t]=n}return e[t]},Qr.prototype.removeRowDefinition=Qr.prototype.OF=function(t){0>t&&Wl.Fa(t,">= 0",Qr,"removeRowDefinition:idx"),t=Math.round(t);var e=this.Yd;this.Xc(gc,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.I()},Wl.u(Qr,{Mp:"columnCount"},function(){return void 0===this.Td?0:this.Td.length}),Qr.prototype.getColumnDefinition=Qr.prototype.be=function(t){0>t&&Wl.Fa(t,">= 0",Qr,"getColumnDefinition:idx"),t=Math.round(t);var e=this.Td;if(void 0===e[t]){var n=new So;n.fm(this),n.we=!1,n.index=t,e[t]=n}return e[t]},Qr.prototype.removeColumnDefinition=Qr.prototype.LF=function(t){0>t&&Wl.Fa(t,">= 0",Qr,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.Td;this.Xc(gc,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.I()},Wl.defineProperty(Qr,{tJ:"rowSizing"},function(){return void 0===this.Wm?hd:this.Wm},function(t){if(void 0!==this.Wm){var e=this.Wm;e!==t&&(t!==hd&&t!==sd&&Wl.k("Panel.rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.Wm=t,this.I(),this.h("rowSizing",e,t))}}),Wl.defineProperty(Qr,{sH:"columnSizing"},function(){return void 0===this.tm?hd:this.tm},function(t){if(void 0!==this.tm){var e=this.tm;e!==t&&(t!==hd&&t!==sd&&Wl.k("Panel.columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.tm=t,this.I(),this.h("columnSizing",e,t))}}),Wl.defineProperty(Qr,{PL:"topIndex"},function(){return void 0===this.fj?0:this.fj},function(t){if(void 0!==this.fj){var e=this.fj;e!==t&&((!isFinite(t)||0>t)&&Wl.k("Panel.topIndex must be greater than zero and a real number, not: "+t),this.fj=t,this.I(),this.h("topIndex",e,t))}}),Wl.defineProperty(Qr,{bL:"leftIndex"},function(){return void 0===this.Oi?0:this.Oi},function(t){if(void 0!==this.Oi){var e=this.Oi;e!==t&&((!isFinite(t)||0>t)&&Wl.k("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.Oi=t,this.I(),this.h("leftIndex",e,t))}}),Qr.prototype.findRowForLocalY=function(t){if(0>t)return-1;if(this.type!==Qf)return NaN;for(var e=0,n=this.Yd,i=n.length,r=this.fj;r<i;r++){var o=n[r];if(void 0!==o&&(e+=o.total,t<e))return r}return-1},Qr.prototype.findColumnForLocalX=function(t){if(0>t)return-1;if(this.type!==Qf)return NaN;for(var e=0,n=this.Td,i=n.length,r=this.Oi;r<i;r++){var o=n[r];if(void 0!==o&&(e+=o.total,t<e))return r}return-1},Qr.prototype.graduatedPointForValue=function(t,e){if(void 0===e&&(e=new w(NaN,NaN)),this.type!==id)return e.l(NaN,NaN),e;t=Math.min(Math.max(t,this.Ck),this.mA);var n=(t-this.Ck)/this.ox,i=this.Hd();return i.wf.$H(n,e),n=Wl.Ff(),n.set(i.transform),e.transform(n),Wl.ve(n),e},Qr.prototype.graduatedValueForPoint=function(t){if(this.type!==id)return NaN;var e=this.Hd(),n=e.wf,i=Wl.Ff();return i.set(e.transform),i.qx(),t.transform(i),Wl.ve(i),n.WH(t)*this.ox+this.Ck},Wl.defineProperty(Qr,{data:"data"},function(){return this.Vd},function(t){var e=this.Vd;if(e!==t){var n=this instanceof sa&&!(this instanceof Aa);n&&Wl.j(t,"object",Qr,"data"),mo(this),this.Vd=t;var i=this.g;null!==i&&(n?this instanceof _a?(null!==e&&i.Kj.remove(e),null!==t&&i.Kj.add(t,this)):this instanceof sa&&(null!==e&&i.Bi.remove(e),null!==t&&i.Bi.add(t,this)):null!==(n=this.N)&&null!==n.sg&&(null!==e&&n.sg.remove(e),null!==t&&n.sg.add(t,this))),this.h("data",e,t),null!==i&&i.pa.gb||null!==t&&this.Ib()}}),Wl.defineProperty(Qr,{fu:"itemIndex"},function(){return this.Rr},function(t){var e=this.Rr;e!==t&&(this.Rr=t,this.h("itemIndex",e,t))}),Qr.prototype.copyTemplate=function(){var t=this.copy();return t.TJ(function(t){t instanceof Qr&&(t.Xk=null,t.Vd=null);var e=t.tc;null!==e&&(t.tc=null,e.each(function(e){t.bind(e.copy())}))}),t},Qr.prototype.updateTargetBindings=Qr.prototype.Ib=function(t){var e=this.Xk;if(null!==e)for(void 0===t&&(t=""),e=e.i;e.next();){var n=e.value,i=n.hG;if((""===t||""===i||i===t)&&(i=n.ky,null!==n.xH||""!==i)){var i=this.data,r=n.zq;if(null!==r)i=""===r?this:"/"===r?this:"."===r?this:".."===r?this:this.td(r);else{var o=this.g;null!==o&&n.zx&&(i=o.ca.Gk)}if(null!==i){var o=this,a=n.im;if(-1!==a){if(null===(o=this.hx(a)))continue}else null!==n.Cg&&(o=n.Cg);if("/"===r?i=o.V:"."===r?i=o:".."===r&&(i=o.N),0!==(r=n.it)){if(!(o instanceof Qr))continue;a=o,1===r?o=a.be(n.yp):2===r&&(o=a.ce(n.yp))}void 0!==o&&n.wG(o,i)}}}},Wl.defineProperty(Qr,{fq:"itemArray"},function(){return this.Zj},function(t){var e=this.Zj;if(e!==t){var n=this.g;null!==n&&null!==e&&Ci(n,this),this.Zj=t,null!==n&&null!==t&&Pi(n,this),this.h("itemArray",e,t),null!==n&&n.pa.gb||this.RA()}}),Qr.prototype.rebuildItemElements=Qr.prototype.RA=function(){var t=0;for(bo(this)&&(t=1);this.xa.length>t;)this.kf(this.xa.length-1);if(null!==(t=this.fq))for(var e=Wl.Za(t),n=0;n<e;n++)wo(this,Wl.Ea(t,n),n)},Qr.prototype.findItemPanelForData=Qr.prototype.QH=function(t){return void 0===t||null===t||null===this.sg?null:(Wl.j(t,"object",Qr,"findItemPanelForData"),this.sg.la(t))},Wl.defineProperty(Qr,{$K:"itemTemplate"},function(){return null===this.tg?null:this.tg.la("")},function(t){if(null===this.tg){if(null===t)return;this.tg=new b("string",Qr)}var e=this.tg.la("");e!==t&&(Wl.G(t,Qr,Qr,"itemTemplate"),(t instanceof sa||t.Vf)&&Wl.k("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.tg.add("",t),this.h("itemTemplate",e,t),null!==(t=this.g)&&t.pa.gb||this.RA())}),Wl.defineProperty(Qr,{yI:"itemTemplateMap"},function(){return this.tg},function(t){var e=this.tg;if(e!==t){Wl.G(t,b,Qr,"itemTemplateMap");for(var n=t.i;n.next();){var i=n.value;(i instanceof sa||i.Vf)&&Wl.k("Template in Panel.itemTemplateMap must not be a Part or be Panel.isPanelMain: "+i)}this.tg=t,this.h("itemTemplateMap",e,t),t=this.g,null!==t&&t.pa.gb||this.RA()}}),Wl.defineProperty(Qr,{ZK:"itemCategoryProperty"},function(){return this.Uo},function(t){var e=this.Uo;e!==t&&("string"!=typeof t&&"function"!=typeof t&&Wl.xd(t,"string or function",Qr,"itemCategoryProperty"),this.Uo=t,this.h("itemCategoryProperty",e,t))});var rd=!1,od=null;Wl.defineProperty(Qr,{Fn:"isAtomic"},function(){return 0!=(1048576&this.P)},function(t){var e=0!=(1048576&this.P);e!==t&&(Wl.j(t,"boolean",Qr,"isAtomic"),this.P^=1048576,this.h("isAtomic",e,t))}),Wl.defineProperty(Qr,{Zt:"isClipping"},function(){return 0!=(2097152&this.P)},function(t){var e=0!=(2097152&this.P);e!==t&&(Wl.j(t,"boolean",Qr,"isClipping"),this.P^=2097152,this.I(),this.h("isClipping",e,t))}),Wl.defineProperty(Qr,{mF:"isOpposite"},function(){return 0!=(33554432&this.P)},function(t){var e=0!=(33554432&this.P);e!==t&&(Wl.j(t,"boolean",Qr,"isOpposite"),this.P^=33554432,this.I(),this.h("isOpposite",e,t))}),Wl.defineProperty(Qr,{isEnabled:"isEnabled"},function(){return 0!=(4194304&this.P)},function(t){var e=0!=(4194304&this.P);if(e!==t){Wl.j(t,"boolean",Qr,"isEnabled");var n=null===this.N||this.N.au();this.P^=4194304,this.h("isEnabled",e,t),e=this.g,null!==e&&e.pa.gb||n&&To(this,this,t)}}),Wl.defineProperty(Qr,{XJ:"alignmentFocusName"},function(){return this.Hj},function(t){var e=this.Hj;e!==t&&(this.Hj=t,this.I(),this.h("alignmentFocusName",e,t))}),Wl.ga("RowColumnDefinition",So),So.prototype.copy=function(){var t=new So;return t.Ov=this.Ov,t.uc=this.uc,t.hf=this.hf,t.dk=this.dk,t.ck=this.ck,t.he=this.he,t.Sa=this.Sa,t.ib=this.ib,t.Bg=this.Bg,t.$s=this.$s,t.hk=null===this.hk?null:this.hk.S(),t.Vs=this.Vs,t.Ws=this.Ws,t.Yh=null,null!==this.Yh&&(t.Yh=Wl.Il(this.Yh)),t.Db=this.Db,t.br=this.br,t.tc=this.tc,t},So.prototype.Np=function(t){Wl.G(t,So,So,"copyFrom:pd"),t.we?this.height=t.height:this.width=t.width,this.xj=t.xj,this.nf=t.nf,this.alignment=t.alignment,this.stretch=t.stretch,this.Iu=t.Iu,this.hk=null===t.hk?null:t.hk.S(),this.tq=t.tq,this.uq=t.uq,this.Yh=null,t.Yh&&(this.Yh=Wl.Il(t.Yh)),this.background=t.background,this.Yz=t.Yz,this.tc=t.tc},So.prototype.gc=function(t){t.Ee===So?this.Iu=t:Wl.Ej(this,t)},So.prototype.toString=function(){return"RowColumnDefinition "+(this.we?"(Row ":"(Column ")+this.index+") #"+Wl.Jd(this)};var ad;So.Default=ad=Wl.p(So,"Default",0);var sd;So.None=sd=Wl.p(So,"None",1);var hd;So.ProportionalExtra=hd=Wl.p(So,"ProportionalExtra",2),So.prototype.fm=function(t){this.mh=t},So.prototype.computeEffectiveSpacingTop=So.prototype.oE=function(){var t=0;if(0!==this.index){var e=this.mh,n=this.tq;null===n&&null!==e&&(n=this.we?e.Ci:e.Lh),null!==n&&(t=this.uq,isNaN(t)&&(t=null!==e?this.we?e.Nh:e.Mh:0))}if(null===(e=this.aG)){if(null===(e=this.mh))return t;e=e.Lj}return t+(this.we?e.top:e.left)},So.prototype.computeEffectiveSpacing=So.prototype.Ye=function(){var t=0;if(0!==this.index){var e=this.mh,n=this.tq;null===n&&null!==e&&(n=this.we?e.Ci:e.Lh),null!==n&&(t=this.uq,isNaN(t)&&(t=null!==e?this.we?e.Nh:e.Mh:0))}if(null===(e=this.aG)){if(null===(e=this.mh))return t;e=e.Lj}return t+(this.we?e.top+e.bottom:e.left+e.right)},So.prototype.cd=function(t,e,n,i,r){var o=this.mh;if(null!==o&&(o.Xc(vc,t,this,e,n,i,r),null!==this.tc&&null!==(e=o.g)&&!e.Oe&&null!==(o=o.Ql())&&null!==(e=o.data)))for(n=this.tc.i;n.next();)n.value.ly(this,e,t,o)},Wl.u(So,{N:"panel"},function(){return this.mh}),Wl.defineProperty(So,{we:"isRow"},function(){return this.Ov},function(t){this.Ov=t}),Wl.defineProperty(So,{index:"index"},function(){return this.uc},function(t){this.uc=t}),Wl.defineProperty(So,{height:"height"},function(){return this.hf},function(t){var e=this.hf;e!==t&&(0>t&&Wl.Fa(t,">= 0",So,"height"),this.hf=t,this.Ka=this.Sa,null!==this.N&&this.N.I(),this.cd("height",e,t))}),Wl.defineProperty(So,{width:"width"},function(){return this.hf},function(t){var e=this.hf;e!==t&&(0>t&&Wl.Fa(t,">= 0",So,"width"),this.hf=t,this.Ka=this.Sa,null!==this.N&&this.N.I(),this.cd("width",e,t))}),Wl.defineProperty(So,{xj:"minimum"},function(){return this.dk},function(t){var e=this.dk;e!==t&&((0>t||!isFinite(t))&&Wl.Fa(t,">= 0",So,"minimum"),this.dk=t,this.Ka=this.Sa,null!==this.N&&this.N.I(),this.cd("minimum",e,t))}),Wl.defineProperty(So,{nf:"maximum"},function(){return this.ck},function(t){var e=this.ck;e!==t&&(0>t&&Wl.Fa(t,">= 0",So,"maximum"),this.ck=t,this.Ka=this.Sa,null!==this.N&&this.N.I(),this.cd("maximum",e,t))}),Wl.defineProperty(So,{alignment:"alignment"},function(){return this.he},function(t){var e=this.he;e.L(t)||(this.he=t.S(),null!==this.N&&this.N.I(),this.cd("alignment",e,t))}),Wl.defineProperty(So,{stretch:"stretch"},function(){return this.Bg},function(t){var e=this.Bg;e!==t&&(this.Bg=t,null!==this.N&&this.N.I(),this.cd("stretch",e,t))}),Wl.defineProperty(So,{aG:"separatorPadding"},function(){return this.hk},function(t){"number"==typeof t&&(t=new E(t));var e=this.hk;null!==t&&null!==e&&e.L(t)||(null!==t&&(t=t.S()),this.hk=t,null!==this.N&&this.N.I(),this.cd("separatorPadding",e,t))}),Wl.defineProperty(So,{tq:"separatorStroke"},function(){return this.Vs},function(t){var e=this.Vs;e!==t&&(null===t||"string"==typeof t||t instanceof vr)&&(t instanceof vr&&t.freeze(),this.Vs=t,null!==this.N&&this.N.I(),this.cd("separatorStroke",e,t))}),Wl.defineProperty(So,{uq:"separatorStrokeWidth"},function(){return this.Ws},function(t){var e=this.Ws;e!==t&&(this.Ws=t,null!==this.N&&this.N.I(),this.cd("separatorStrokeWidth",e,t))}),Wl.defineProperty(So,{DL:"separatorDashArray"},function(){return this.Yh},function(t){var e=this.Yh;if(e!==t){if(null===t||Array.isArray(t)||Wl.xd(t,"Array",So,"separatorDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Wl.k("separatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.Yh=t,null!==this.N&&this.N.oa(),this.cd("separatorDashArray",e,t)}}),Wl.defineProperty(So,{background:"background"},function(){return this.Db},function(t){var e=this.Db;e!==t&&(null===t||"string"==typeof t||t instanceof vr)&&(t instanceof vr&&t.freeze(),this.Db=t,null!==this.N&&this.N.oa(),this.cd("background",e,t))}),Wl.defineProperty(So,{Yz:"coversSeparators"},function(){return this.br},function(t){var e=this.br;e!==t&&(Wl.j(t,"boolean",So,"coversSeparators"),this.br=t,null!==this.N&&this.N.oa(),this.cd("coversSeparators",e,t))}),Wl.defineProperty(So,{Iu:"sizing"},function(){return this.$s},function(t){var e=this.$s;e!==t&&(this.$s=t,null!==this.N&&this.N.I(),this.cd("sizing",e,t))}),Wl.defineProperty(So,{Ka:"actual"},function(){return this.Sa},function(t){this.Sa=isNaN(this.hf)?Math.max(Math.min(this.ck,t),this.dk):Math.max(Math.min(this.ck,this.hf),this.dk)}),Wl.defineProperty(So,{total:"total"},function(){return this.Sa+this.Ye()},function(t){this.Sa=isNaN(this.hf)?Math.max(Math.min(this.ck,t),this.dk):Math.max(Math.min(this.ck,this.hf),this.dk),this.Sa=Math.max(0,this.Sa-this.Ye())}),Wl.defineProperty(So,{position:"position"},function(){return this.ib},function(t){this.ib=t}),So.prototype.bind=So.prototype.bind=function(t){t.Cg=this;var e=this.N;if(null!==e){var n=e.Ql();null!==n&&go(n)&&Wl.k("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.tc&&(this.tc=new c(ie)),this.tc.add(t)},Wl.Ma(Po,Tr),Wl.ga("Shape",Po),Po.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.hb=this.hb,t.Go=this.Go,t.yr=this.yr,t.Mf=this.Mf,t.zd=this.zd,t.qc=this.qc,t.gi=this.gi,t.tp=this.tp,t.wp=this.wp,t.dn=this.dn,null!==this.vp&&(t.vp=Wl.Il(this.vp)),t.tf=this.tf,t.ei=this.ei.S(),t.fi=this.fi.S(),t.ws=this.ws,t.xs=this.xs,t.Ir=this.Ir,t.zs=this.zs,t.Ap=this.Ap,t.Io=this.Io,t.qg=this.qg,t.pg=this.pg,t.og=this.og},Po.prototype.gc=function(t){t===Ff||t===qf||t===zf||t===Of?this.jA=t:Tr.prototype.gc.call(this,t)},Po.prototype.toString=function(){return"Shape("+("None"!==this.Cb?this.Cb:"None"!==this.Aq?this.Aq:this.hA)+")#"+Wl.Jd(this)},Po.prototype.yk=function(t,e){if(null!==this.qc||null!==this.zd){null!==this.zd&&jr(this,t,this.zd,!0,!1),null!==this.qc&&jr(this,t,this.qc,!1,!1);var n=this.gi;if(0===n){var i=this.V;i instanceof Aa&&i.type===ed&&"Selection"===i.sd&&i.rb instanceof Po&&i.Of.Hd()===i.rb&&(n=i.rb.lb)}t.lineWidth=n,t.lineJoin=this.wp,t.lineCap=this.tp,t.miterLimit=this.dn;var r=!1;this.V&&e.oj("drawShadows")&&(r=this.V.$l);var o=!0;null!==this.qc&&null===this.zd&&(o=!1);var i=!1,a=!0,s=this.kG;null!==s&&(i=!0,a=t.cA(s,this.tf));var h=this.hb;if(null!==h){if(h.na===nc)t.beginPath(),i&&!a?Mr(t,h.xc,h.Hc,h.yb,h.Fb,s,this.tf):(t.moveTo(h.xc,h.Hc),t.lineTo(h.yb,h.Fb)),null!==this.zd&&t.Ig(this.zd),0!==n&&null!==this.qc&&t.Cj();else if(h.na===ic){var l=h.xc,u=h.Hc,c=h.yb,f=h.Fb,h=Math.min(l,c),d=Math.min(u,f),l=Math.abs(c-l),u=Math.abs(f-u);if(null!==this.zd&&(t.beginPath(),t.rect(h,d,l,u),t.Ig(this.zd)),null!==this.qc){var p=c=0,v=0;o&&r&&(c=t.shadowOffsetX,p=t.shadowOffsetY,v=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),i&&!a?(a=Wl.mb(),a.push(h),a.push(d),a.push(h+l),a.push(d),a.push(h+l),a.push(d+u),a.push(h),a.push(d+u),a.push(h),a.push(d),t.beginPath(),No(t,a,s,this.tf),t.Cj(),Wl.wa(a)):0!==n&&(t.beginPath(),t.rect(h,d,l,u),t.Cj()),o&&r&&(t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=v)}}else if(h.na===rc)l=h.xc,u=h.Hc,c=h.yb,f=h.Fb,h=Math.abs(c-l)/2,d=Math.abs(f-u)/2,l=Math.min(l,c)+h,u=Math.min(u,f)+d,t.beginPath(),t.moveTo(l,u-d),t.bezierCurveTo(l+Fu*h,u-d,l+h,u-Fu*d,l+h,u),t.bezierCurveTo(l+h,u+Fu*d,l+Fu*h,u+d,l,u+d),t.bezierCurveTo(l-Fu*h,u+d,l-h,u+Fu*d,l-h,u),t.bezierCurveTo(l-h,u-Fu*d,l-Fu*h,u-d,l,u-d),t.closePath(),null!==this.zd&&t.Ig(this.zd),i&&!a&&(a=Wl.mb(),Z(l,u-d,l+Fu*h,u-d,l+h,u-Fu*d,l+h,u,.5,a),Z(l+h,u,l+h,u+Fu*d,l+Fu*h,u+d,l,u+d,.5,a),Z(l,u+d,l-Fu*h,u+d,l-h,u+Fu*d,l-h,u,.5,a),Z(l-h,u,l-h,u-Fu*d,l-Fu*h,u-d,l,u-d,.5,a),t.beginPath(),No(t,a,s,this.tf),Wl.wa(a)),0!==n&&null!==this.qc&&(o&&r?(c=t.shadowOffsetX,p=t.shadowOffsetY,v=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,t.Cj(),t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=v):t.Cj());else if(h.na===oc){for(d=h.Nj,u=d.length,f=0;f<u;f++){l=d.n[f],t.beginPath(),t.moveTo(l.ja,l.ha);for(var c=l.vb.n,p=c.length,y=null,v=0;v<p;v++){var g=c[v];switch(g.na){case hc:t.moveTo(g.D,g.F);break;case lc:t.lineTo(g.D,g.F);break;case uc:t.bezierCurveTo(g.Bd,g.We,g.nh,g.zg,g.yb,g.Fb);break;case cc:t.quadraticCurveTo(g.Bd,g.We,g.yb,g.Fb);break;case fc:if(g.radiusX===g.radiusY)y=Math.PI/180,t.arc(g.Bd,g.We,g.radiusX,g.ze*y,(g.ze+g.pf)*y,0>g.pf);else{var y=Nt(g,l),m=y.length;if(0===m){t.lineTo(g.ka,g.sa);break}for(var b=0;b<m;b++){var w=y[b];0===b&&t.lineTo(w[0],w[1]),t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7])}}break;case dc:if(b=m=0,null!==y&&y.type===fc){if(y=Nt(y,l),0===(w=y.length)){t.lineTo(g.ka,g.sa);break}y=y[w-1]||null,null!==y&&(m=y[6],b=y[7])}else m=null!==y?y.D:l.ja,b=null!==y?y.F:l.ha;if(y=Dt(g,l,m,b),0===(m=y.length)){t.lineTo(g.ka,g.sa);break}for(b=0;b<m;b++)w=y[b],t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7]);break;default:Wl.k("Segment not of valid type: "+g.na)}g.Qh&&t.closePath(),y=g}r?(v=p=c=0,l.Ro?(!0===l.Cm&&null!==this.zd?(t.Ig(this.zd),o=!0):o=!1,0!==n&&null!==this.qc&&(o&&(c=t.shadowOffsetX,p=t.shadowOffsetY,v=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),i&&!a||t.Cj(),o&&(t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=v))):(o&&(c=t.shadowOffsetX,p=t.shadowOffsetY,v=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),!0===l.Cm&&null!==this.zd&&t.Ig(this.zd),0!==n&&null!==this.qc&&(i&&!a||t.Cj()),o&&(t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=v))):(!0===l.Cm&&null!==this.zd&&t.Ig(this.zd),0===n||null===this.qc||i&&!a||t.Cj())}if(i&&!a)for(n=o,o=h.Nj,a=o.length,h=0;h<a;h++){for(d=o.n[h],t.beginPath(),u=Wl.mb(),u.push(d.ja),u.push(d.ha),f=d.ja,l=d.ha,c=f,p=l,v=d.vb.n,g=v.length,y=0;y<g;y++){switch(m=v[y],m.na){case hc:No(t,u,s,this.tf),u.length=0,u.push(m.D),u.push(m.F),f=m.D,l=m.F,c=f,p=l;break;case lc:u.push(m.D),u.push(m.F),f=m.D,l=m.F;break;case uc:Z(f,l,m.Bd,m.We,m.nh,m.zg,m.yb,m.Fb,.5,u),f=m.D,l=m.F;break;case cc:it(f,l,m.Bd,m.We,m.yb,m.Fb,.5,u),f=m.D,l=m.F;break;case fc:if(b=Nt(m,d),0===(w=b.length)){u.push(m.ka),u.push(m.sa),f=m.ka,l=m.sa;break}for(var x=0;x<w;x++){var k=b[x];Z(f,l,k[2],k[3],k[4],k[5],k[6],k[7],.5,u),f=k[6],l=k[7]}break;case dc:if(b=Dt(m,d,f,l),0===(w=b.length)){u.push(m.ka),u.push(m.sa),f=m.ka,l=m.sa;break}for(x=0;x<w;x++)k=b[x],Z(f,l,k[2],k[3],k[4],k[5],k[6],k[7],.5,u),f=k[6],l=k[7];break;default:Wl.k("Segment not of valid type: "+m.na)}m.Qh&&(u.push(c),u.push(p),No(t,u,s,this.tf))}No(t,u,s,this.tf),Wl.wa(u),null!==this.qc&&(f=u=d=0,n&&r&&(d=t.shadowOffsetX,u=t.shadowOffsetY,f=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),t.Cj(),n&&r&&(t.shadowOffsetX=d,t.shadowOffsetY=u,t.shadowBlur=f))}}if(i&&t.$z(),null!==this.Nx){if(i=this.Nx,Dr(i,1/0,1/0),s=i.Aa,i.hc(0,0,s.width,s.height),n=this.wf,t.save(),t.beginPath(),s=Wl.mb(),n.type===nc)s.push(n.ja),s.push(n.ha),s.push(n.D),s.push(n.F),Co(t,e,s,i);else if(n.type===oc)for(a=n.dc.i;a.next();){for(h=a.value,s.length=0,s.push(h.ja),s.push(h.ha),o=h.ja,d=h.ha,u=o,f=d,l=h.vb.n,c=l.length,p=0;p<c;p++){switch(v=l[p],v.na){case hc:Co(t,e,s,i),s.length=0,s.push(v.D),s.push(v.F),o=v.D,d=v.F,u=o,f=d;break;case lc:s.push(v.D),s.push(v.F),o=v.D,d=v.F;break;case uc:Z(o,d,v.Bd,v.We,v.nh,v.zg,v.yb,v.Fb,.5,s),o=v.D,d=v.F;break;case cc:it(o,d,v.Bd,v.We,v.yb,v.Fb,.5,s),o=v.D,d=v.F;break;case fc:if(n=Nt(v,h),0===(r=n.length)){s.push(v.ka),s.push(v.sa),o=v.ka,d=v.sa;break}for(g=0;g<r;g++)y=n[g],Z(o,d,y[2],y[3],y[4],y[5],y[6],y[7],.5,s),o=y[6],d=y[7];break;case dc:if(n=Dt(v,h,o,d),0===(r=n.length)){s.push(v.ka),s.push(v.sa),o=v.ka,d=v.sa;break}for(g=0;g<r;g++)y=n[g],Z(o,d,y[2],y[3],y[4],y[5],y[6],y[7],.5,s),o=y[6],d=y[7];break;default:Wl.k("Segment not of valid type: "+v.na)}v.Qh&&(s.push(u),s.push(f),Co(t,e,s,i))}Co(t,e,s,i)}else if(n.type===ic)s.push(n.ja),s.push(n.ha),s.push(n.D),s.push(n.ha),s.push(n.D),s.push(n.F),s.push(n.ja),s.push(n.F),s.push(n.ja),s.push(n.ha),Co(t,e,s,i);else if(n.type===rc){if(a=new Pt,a.ja=n.D,a.ha=(n.ha+n.F)/2,o=new Ct(fc),o.ze=0,o.pf=360,o.ka=(n.ja+n.D)/2,o.sa=(n.ha+n.F)/2,o.radiusX=Math.abs(n.ja-n.D)/2,o.radiusY=Math.abs(n.ha-n.F)/2,a.add(o),n=Nt(o,a),0===(r=n.length))s.push(o.ka),s.push(o.sa);else for(o=a.ja,d=a.ha,g=0;g<r;g++)y=n[g],Z(o,d,y[2],y[3],y[4],y[5],y[6],y[7],.5,s),o=y[6],d=y[7];Co(t,e,s,i)}Wl.wa(s),t.restore(),t.Fe(!1)}}}},Po.prototype.getDocumentPoint=Po.prototype.Xa=function(t,e){if(void 0===e&&(e=new w),t instanceof L){t.Nd()&&Wl.k("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var n=this.Ja,i=this.lb;e.l(t.x*(n.width+i)-i/2+n.x+t.offsetX,t.y*(n.height+i)-i/2+n.y+t.offsetY)}else e.set(t);return this.qh.ob(e),e},Po.prototype.uk=function(t,e){var n=this.wf;if(null===n||null===this.fill&&null===this.stroke)return!1;var i=n.kb,r=this.lb/2;n.type!==nc||e||(r+=2);var o=Wl.Ef();if(o.assign(i),o.Tf(r+2,r+2),!o.Ia(t))return Wl.Hb(o),!1;if(i=r+1e-4,n.type===nc)return null!==this.stroke&&(i=(n.D-n.ja)*(t.x-n.ja)+(n.F-n.ha)*(t.y-n.ha),!(0>(n.ja-n.D)*(t.x-n.D)+(n.ha-n.F)*(t.y-n.F)||0>i)&&(Wl.Hb(o),J(n.ja,n.ha,n.D,n.F,r,t.x,t.y)));if(n.type===ic){var a=n.ja,s=n.ha,h=n.D,l=n.F;if(o.x=Math.min(a,h),o.y=Math.min(s,l),o.width=Math.abs(h-a),o.height=Math.abs(l-s),null===this.fill){if(o.Tf(-i,-i),o.Ia(t))return Wl.Hb(o),!1;o.Tf(i,i)}return null!==this.stroke&&o.Tf(r,r),r=o.Ia(t),Wl.Hb(o),r}if(n.type===rc){var a=n.ja,s=n.ha,h=n.D,l=n.F,n=Math.min(a,h),u=Math.min(s,l),a=Math.abs(h-a)/2,s=Math.abs(l-s)/2,n=t.x-(n+a),u=t.y-(u+s);if(null===this.fill){if(a-=i,s-=i,0>=a||0>=s||1>=n*n/(a*a)+u*u/(s*s))return Wl.Hb(o),!1;a+=i,s+=i}return null!==this.stroke&&(a+=r,s+=r),Wl.Hb(o),!(0>=a||0>=s)&&1>=n*n/(a*a)+u*u/(s*s)}return n.type===oc?(Wl.Hb(o),null===this.fill?Tt(n,t.x,t.y,r):n.Ia(t,r,1<this.lb,e)):(Wl.k("Unknown Geometry type: "+n.type),!1)},Po.prototype.Mn=function(t,e,n,i){var r=this.Ba,o=this.gi;t=Math.max(t,0),e=Math.max(e,0);var a;if(null!==this.Mf)a=this.wf.kb;else{var s=this.Cb,h=Zu[s];if(void 0===h){var l=Cd[s];"string"==typeof l&&(l=Cd[l]),"function"==typeof l?(h=l(null,100,100),Zu[s]=h):Wl.k("Unsupported Figure: "+s)}a=h.kb}var s=a.width,h=a.height,l=a.width,u=a.height;switch(Ir(this,!0)){case Ff:i=n=0;break;case Bf:l=Math.max(t-o,0),u=Math.max(e-o,0);break;case Rf:l=Math.max(t-o,0),i=0;break;case If:n=0,u=Math.max(e-o,0)}switch(isFinite(r.width)&&(l=r.width),isFinite(r.height)&&(u=r.height),r=this.Bf,a=this.Ah,n=Math.max(n,a.width)-o,i=Math.max(i,a.height)-o,l=Math.min(r.width,l),u=Math.min(r.height,u),l=isFinite(l)?Math.max(n,l):Math.max(s,n),u=isFinite(u)?Math.max(i,u):Math.max(h,i),n=Ao(this)){case Ff:break;case Bf:s=l,h=u;break;case qf:n=Math.min(l/s,u/h),isFinite(n)||(n=1),s*=n,h*=n;break;default:Wl.k(n+" is not a valid geometryStretch.")}null!==this.Mf?(s=Math.max(s,.01),h=Math.max(h,.01),a=null!==this.Mf?this.Mf:this.hb,r=s,i=h,n=a.copy(),a=a.kb,r/=a.width,i/=a.height,isFinite(r)||(r=1),isFinite(i)||(i=1),1===r&&1===i||n.scale(r,i),this.hb=n):null!==this.hb&&$(this.hb.Qo,t-o)&&$(this.hb.Oo,e-o)||(this.hb=Po.makeGeometry(this,s,h)),a=this.hb.kb,1/0===t||1/0===e?Cr(this,a.x-o/2,a.y-o/2,0===t&&0===s?0:a.width+o,0===e&&0===h?0:a.height+o):Cr(this,-(o/2),-(o/2),l+o,u+o)},Po.prototype.ij=function(t,e,n,i){Ar(this,t,e,n,i)},Po.prototype.getNearestIntersectionPoint=Po.prototype.PE=function(t,e,n){return this.An(t.x,t.y,e.x,e.y,n)},Po.prototype.An=function(t,e,n,i,r){var o=this.transform,a=1/(o.m11*o.m22-o.m12*o.m21),s=o.m22*a,h=-o.m12*a,l=-o.m21*a,u=o.m11*a,c=a*(o.m21*o.dy-o.m22*o.dx),f=a*(o.m12*o.dx-o.m11*o.dy),o=t*s+e*l+c,a=t*h+e*u+f,s=n*s+i*l+c,h=n*h+i*u+f,l=this.lb/2,c=this.hb;if(null===c&&(Dr(this,1/0,1/0),c=this.hb),f=c.kb,u=!1,c.type===nc)if(1.5>=this.lb)u=st(c.xc,c.Hc,c.yb,c.Fb,o,a,s,h,r);else{var d=0,p=0;if(c.xc===c.yb?(d=l,p=0):(e=(c.Fb-c.Hc)/(c.yb-c.xc),p=l/Math.sqrt(1+e*e),d=p*e),i=Wl.mb(),e=new w,st(c.xc+d,c.Hc+p,c.yb+d,c.Fb+p,o,a,s,h,e)&&i.push(e),e=new w,st(c.xc-d,c.Hc-p,c.yb-d,c.Fb-p,o,a,s,h,e)&&i.push(e),e=new w,st(c.xc+d,c.Hc+p,c.xc-d,c.Hc-p,o,a,s,h,e)&&i.push(e),e=new w,st(c.yb+d,c.Fb+p,c.yb-d,c.Fb-p,o,a,s,h,e)&&i.push(e),0===(e=i.length))return Wl.wa(i),!1;for(u=!0,p=1/0,d=0;d<e;d++){var s=i[d],v=(s.x-o)*(s.x-o)+(s.y-a)*(s.y-a);v<p&&(p=v,r.x=s.x,r.y=s.y)}Wl.wa(i)}else if(c.type===ic)e=f.x-l,u=ht(e,f.y-l,f.x+f.width+l,f.y+f.height+l,o,a,s,h,r);else if(c.type===rc)t:if(e=f.copy().Tf(l,l),0===e.width)u=st(e.x,e.y,e.x,e.y+e.height,o,a,s,h,r);else if(0===e.height)u=st(e.x,e.y,e.x+e.width,e.y,o,a,s,h,r);else{t=e.width/2;var y=e.height/2;if(i=e.x+t,e=e.y+y,n=9999,o!==s&&(n=(a-h)/(o-s)),9999>Math.abs(n)){if(u=a-e-n*(o-i),0>t*t*n*n+y*y-u*u){r.x=NaN,r.y=NaN,u=!1;break t}l=Math.sqrt(t*t*n*n+y*y-u*u),s=(t*y*l-t*t*n*u)/(y*y+t*t*n*n)+i,t=(-(t*t*n*u)-t*y*l)/(y*y+t*t*n*n)+i,h=n*(s-i)+u+e,e=n*(t-i)+u+e,i=Math.abs((o-s)*(o-s))+Math.abs((a-h)*(a-h)),a=Math.abs((o-t)*(o-t))+Math.abs((a-e)*(a-e)),i<a?(r.x=s,r.y=h):(r.x=t,r.y=e)}else{if(s=y*y,h=o-i,0>(s-=s/(t*t)*h*h)){r.x=NaN,r.y=NaN,u=!1;break t}l=Math.sqrt(s),h=e+l,e-=l,i=Math.abs(h-a),a=Math.abs(e-a),i<a?(r.x=o,r.y=h):(r.x=o,r.y=e)}u=!0}else if(c.type===oc){var g=0,m=0,b=v=0,f=Wl.K(),d=s-o,p=h-a,p=d*d+p*p;for(r.x=s,r.y=h,d=0;d<c.dc.count;d++)for(var x=c.dc.n[d],k=x.vb,g=x.ja,m=x.ha,T=g,S=m,M=0;M<k.count;M++){var P=k.n[M],C=P.type,v=P.D,b=P.F,N=!1;switch(C){case hc:T=v,S=b;break;case lc:N=jo(g,m,v,b,o,a,s,h,f);break;case uc:var N=P.sc,C=P.Pc,D=P.Bh,A=P.Ch,N=rt(g,m,N,C,D,A,v,b,o,a,s,h,.5,f);break;case cc:N=(g+2*P.sc)/3,C=(m+2*P.Pc)/3,D=(2*P.sc+v)/3,A=(2*P.sc+v)/3,N=rt(g,m,N,C,D,A,v,b,o,a,s,h,.5,f);break;case fc:case dc:if(C=P.type===fc?Nt(P,x):Dt(P,x,g,m),0===(D=C.length)){N=jo(g,m,P.ka,P.sa,o,a,s,h,f);break}for(b=0;b<D;b++)y=C[b],0===b&&jo(g,m,y[0],y[1],o,a,s,h,f)&&(v=Eo(o,a,f,p,r))<p&&(p=v,u=!0),rt(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],o,a,s,h,.5,f)&&(v=Eo(o,a,f,p,r))<p&&(p=v,u=!0);v=y[6],b=y[7];break;default:Wl.k("Unknown Segment type: "+C)}g=v,m=b,N&&(v=Eo(o,a,f,p,r))<p&&(p=v,u=!0),P.tx&&(v=T,b=S,jo(g,m,v,b,o,a,s,h,f)&&(v=Eo(o,a,f,p,r))<p&&(p=v,u=!0))}o=n-t,a=i-e,e=Math.sqrt(o*o+a*a),0!==e&&(o/=e,a/=e),r.x-=o*l,r.y-=a*l,Wl.v(f)}else Wl.k("Unknown Geometry type: "+c.type);return!!u&&(this.transform.ob(r),!0)},Po.prototype.containedInRect=Po.prototype.pn=function(t,e){if(void 0===e)return t.vk(this.Y);var n=this.hb;null===n&&(Dr(this,1/0,1/0),n=this.hb);var n=n.kb,i=this.lb/2,r=!1,o=Wl.K();return o.l(n.x-i,n.y-i),t.Ia(e.ob(o))&&(o.l(n.x-i,n.bottom+i),t.Ia(e.ob(o))&&(o.l(n.right+i,n.bottom+i),t.Ia(e.ob(o))&&(o.l(n.right+i,n.y-i),t.Ia(e.ob(o))&&(r=!0)))),Wl.v(o),r},Po.prototype.intersectsRect=Po.prototype.Lg=function(t,e){if(this.pn(t,e)||void 0===e&&(e=this.transform,t.vk(this.Y)))return!0;var n=Wl.Ff();n.set(e),n.qx();var i=t.left,r=t.right,o=t.top,a=t.bottom,s=Wl.K();if(s.l(i,o),n.ob(s),this.uk(s,!0))return Wl.v(s),!0;if(s.l(r,o),n.ob(s),this.uk(s,!0))return Wl.v(s),!0;if(s.l(i,a),n.ob(s),this.uk(s,!0))return Wl.v(s),!0;if(s.l(r,a),n.ob(s),this.uk(s,!0))return Wl.v(s),!0;var h=Wl.K(),l=Wl.K();n.set(e),n.yF(this.transform),n.qx(),h.x=r,h.y=o,h.transform(n),s.x=i,s.y=o,s.transform(n);var u=!1;return Lo(this,s,h,l)?u=!0:(s.x=r,s.y=a,s.transform(n),Lo(this,s,h,l)?u=!0:(h.x=i,h.y=a,h.transform(n),Lo(this,s,h,l)?u=!0:(s.x=i,s.y=o,s.transform(n),Lo(this,s,h,l)&&(u=!0)))),Wl.v(s),Wl.ve(n),Wl.v(h),Wl.v(l),u},Po.prototype.JE=function(t,e,n){function i(t,e){for(var n=t.length,i=0;i<n;i+=2)if(e.Tp(t[i],t[i+1])>r)return!0;return!1}if(n&&null!==this.fill&&this.uk(t,!0))return!0;var r=t.vf(e);e=r,1.5<this.lb&&(r=this.lb/2+Math.sqrt(r),r*=r);var o=this.hb;if(null===o&&(Dr(this,1/0,1/0),null===(o=this.hb)))return!1;if(!n){var a=o.kb,s=a.x,h=a.y,l=a.x+a.width,a=a.y+a.height;if(Jl(t.x,t.y,s,h)<=r&&Jl(t.x,t.y,l,h)<=r&&Jl(t.x,t.y,s,a)<=r&&Jl(t.x,t.y,l,a)<=r)return!0}if(s=o.xc,h=o.Hc,l=o.yb,a=o.Fb,o.type===nc){if(n=$l(t.x,t.y,s,h,l,a),o=(s-l)*(t.x-l)+(h-a)*(t.y-a),n<=(0<=(l-s)*(t.x-s)+(a-h)*(t.y-h)&&0<=o?r:e))return!0}else{if(o.type===ic)return e=!1,n&&(e=$l(t.x,t.y,s,h,s,a)<=r||$l(t.x,t.y,s,h,l,h)<=r||$l(t.x,t.y,l,h,l,a)<=r||$l(t.x,t.y,s,a,l,a)<=r),e;if(o.type===rc){e=t.x-(s+l)/2;var o=t.y-(h+a)/2,u=Math.abs(l-s)/2,c=Math.abs(a-h)/2;if(0===u||0===c)return(n=$l(t.x,t.y,s,h,l,a))<=r;if(!n)return!(Jl(e,o,-u,0)>=r||Jl(e,o,0,-c)>=r||Jl(e,o,0,c)>=r||Jl(e,o,u,0)>=r);if((t=gt(u,c,e,o))*t<=r)return!0}else if(o.type===oc){if(a=o.kb,s=a.x,h=a.y,l=a.x+a.width,a=a.y+a.height,t.x>l&&t.x<s&&t.y>a&&t.y<h&&$l(t.x,t.y,s,h,s,a)>r&&$l(t.x,t.y,s,h,l,h)>r&&$l(t.x,t.y,l,a,s,a)>r&&$l(t.x,t.y,l,a,l,h)>r)return!1;if(e=Math.sqrt(r),!n){for(n=o.dc,e=0;e<n.count;e++){if(s=n.n[e],u=s.ja,c=s.ha,t.Tp(u,c)>r)return!1;for(h=s.vb.n,l=h.length,a=0;a<l;a++){var f=h[a];switch(f.type){case hc:case lc:if(u=f.D,c=f.F,t.Tp(u,c)>r)return!1;break;case uc:if(o=Wl.mb(),Z(u,c,f.sc,f.Pc,f.Bh,f.Ch,f.D,f.F,.8,o),u=i(o,t),Wl.wa(o),u)return!1;if(u=f.D,c=f.F,t.Tp(u,c)>r)return!1;break;case cc:if(o=Wl.mb(),it(u,c,f.sc,f.Pc,f.D,f.F,.8,o),u=i(o,t),Wl.wa(o),u)return!1;if(u=f.D,c=f.F,t.Tp(u,c)>r)return!1;break;case fc:case dc:var d=f.type===fc?Nt(f,s):Dt(f,s,u,c),p=d.length;if(0===p){if(u=f.ka,c=f.sa,t.Tp(u,c)>r)return!1;break}for(f=null,o=Wl.mb(),e=0;e<p;e++)if(f=d[e],o.length=0,Z(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],.8,o),i(o,t))return Wl.wa(o),!1;Wl.wa(o),null!==f&&(u=f[6],c=f[7]);break;default:Wl.k("Unknown Segment type: "+f.type)}}}return!0}if(null===this.fill?Tt(o,t.x,t.y,e):o.Ia(t,e,!0))return!0}}return!1},Wl.defineProperty(Po,{wf:"geometry"},function(){return null!==this.hb?this.hb:this.Mf},function(t){var e=this.hb;if(e!==t){this.Mf=this.hb=null!==t?t.freeze():null;var n=this.V;null!==n&&(n.bk=NaN),this.I(),this.h("geometry",e,t),zr(this)&&null!==(t=this.V)&&Pr(this,t,"geometryString")}}),Wl.defineProperty(Po,{VH:"geometryString"},function(){return null===this.wf?"":this.wf.toString()},function(t){t=sc(t);var e=t.normalize();this.wf=t,this.position=t=Wl.xb(-e.x,-e.y),Wl.v(t)}),Wl.defineProperty(Po,{fF:"isGeometryPositioned"},function(){return this.Ir},function(t){var e=this.Ir;e!==t&&(this.Ir=t,this.I(),this.h("isGeometryPositioned",e,t))}),Po.prototype.Le=function(){this.hb=null},Wl.defineProperty(Po,{fill:"fill"},function(){return this.zd},function(t){var e=this.zd;e!==t&&(t instanceof vr&&t.freeze(),this.zd=t,this.oa(),this.h("fill",e,t))}),Wl.defineProperty(Po,{stroke:"stroke"},function(){return this.qc},function(t){var e=this.qc;e!==t&&(t instanceof vr&&t.freeze(),this.qc=t,this.oa(),this.h("stroke",e,t))}),Wl.defineProperty(Po,{lb:"strokeWidth"},function(){return this.gi},function(t){var e=this.gi;if(e!==t)if(0<=t){this.gi=t,this.I();var n=this.V;null!==n&&(n.bk=NaN),this.h("strokeWidth",e,t)}else Wl.Fa(t,"value >= 0",Po,"strokeWidth:value")}),Wl.defineProperty(Po,{IL:"strokeCap"},function(){return this.tp},function(t){var e=this.tp;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?Wl.Fa(t,'"butt", "round", or "square"',Po,"strokeCap"):(this.tp=t,this.oa(),this.h("strokeCap",e,t)))}),Wl.defineProperty(Po,{KL:"strokeJoin"},function(){return this.wp},function(t){var e=this.wp;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?Wl.Fa(t,'"miter", "bevel", or "round"',Po,"strokeJoin"):(this.wp=t,this.oa(),this.h("strokeJoin",e,t)))}),Wl.defineProperty(Po,{LL:"strokeMiterLimit"},function(){return this.dn},function(t){var e=this.dn;if(e!==t)if(1<=t){this.dn=t,this.oa();var n=this.V;null!==n&&(n.bk=NaN),this.h("strokeMiterLimit",e,t)}else Wl.Fa(t,"value >= 1",Po,"strokeWidth:value")}),Wl.defineProperty(Po,{kG:"strokeDashArray"},function(){return this.vp},function(t){var e=this.vp;if(e!==t){if(null===t||Array.isArray(t)||Wl.xd(t,"Array",Po,"strokeDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Wl.k("strokeDashArray:value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.vp=t,this.oa(),this.h("strokeDashArray",e,t)}}),Wl.defineProperty(Po,{JL:"strokeDashOffset"},function(){return this.tf},function(t){var e=this.tf;e!==t&&0<=t&&(this.tf=t,this.oa(),this.h("strokeDashOffset",e,t))}),Wl.defineProperty(Po,{Cb:"figure"},function(){return this.Go},function(t){var e=this.Go;if(e!==t){var n=Cd[t];"function"==typeof n?n=t:(n=Cd[t.toLowerCase()])||Wl.k("Unknown Shape.figure: "+t),e!==n&&(t=this.V,null!==t&&(t.bk=NaN),this.Go=n,this.Mf=null,this.Le(),this.I(),this.h("figure",e,n))}}),Wl.defineProperty(Po,{Aq:"toArrow"},function(){return this.Ap},function(t){var e=this.Ap;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var n=aa(t);null===n?Wl.k("Unknown Shape.toArrow: "+t):e!==n&&(this.Ap=n,this.Mf=null,this.Le(),this.I(),Fo(this),this.h("toArrow",e,n))}}),Wl.defineProperty(Po,{hA:"fromArrow"},function(){return this.Io},function(t){var e=this.Io;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var n=aa(t);null===n?Wl.k("Unknown Shape.fromArrow: "+t):e!==n&&(this.Io=n,this.Mf=null,this.Le(),this.I(),Fo(this),this.h("fromArrow",e,n))}}),Wl.defineProperty(Po,{A:"spot1"},function(){return this.ei},function(t){Wl.G(t,L,Po,"spot1");var e=this.ei;e.L(t)||(this.ei=t=t.S(),this.I(),this.h("spot1",e,t))}),Wl.defineProperty(Po,{B:"spot2"},function(){return this.fi},function(t){Wl.G(t,L,Po,"spot2");var e=this.fi;e.L(t)||(this.fi=t=t.S(),this.I(),this.h("spot2",e,t))}),Wl.defineProperty(Po,{Dc:"parameter1"},function(){return this.ws},function(t){var e=this.ws;e!==t&&(this.ws=t,this.Le(),this.I(),this.h("parameter1",e,t))}),Wl.defineProperty(Po,{vu:"parameter2"},function(){return this.xs},function(t){var e=this.xs;e!==t&&(this.xs=t,this.Le(),this.I(),this.h("parameter2",e,t))}),Wl.u(Po,{Ja:"naturalBounds"},function(){if(null!==this.hb)return this.Tc.assign(this.hb.kb),this.Tc;var t=this.Ba;return new S(0,0,t.width,t.height)}),Wl.defineProperty(Po,{Nx:"pathPattern"},function(){return this.zs},function(t){var e=this.zs;e!==t&&(this.zs=t,this.oa(),this.h("pathPattern",e,t))}),Wl.defineProperty(Po,{yL:"pathObject"},function(){return this.Nx},function(t){this.Nx=t}),Wl.defineProperty(Po,{jA:"geometryStretch"},function(){return this.yr},function(t){var e=this.yr;e!==t&&(Wl.nb(t,Tr,Po,"geometryStretch"),this.yr=t,this.h("geometryStretch",e,t))}),Wl.defineProperty(Po,{interval:"interval"},function(){return this.qg},function(t){var e=this.qg;if(t=Math.floor(t),e!==t&&0<=t){this.qg=t;var n=this.g;null!==n&&this.N===n.Cn&&wi(n),this.I(),n=this.N,null!==n&&n.type===id&&(n.Sj=null),this.h("interval",e,t)}}),Wl.defineProperty(Po,{TE:"graduatedStart"},function(){return this.pg},function(t){var e=this.pg;e!==t&&(0>t?t=0:1<t&&(t=1),this.pg=t,this.I(),this.h("graduatedStart",e,t))}),Wl.defineProperty(Po,{RE:"graduatedEnd"},function(){return this.og},function(t){var e=this.og;e!==t&&(0>t?t=0:1<t&&(t=1),this.og=t,this.I(),this.h("graduatedEnd",e,t))}),Po.makeGeometry=function(t,e,n){var i=null;if("None"!==t.Aq)i=tc[t.Aq];else if("None"!==t.hA)i=tc[t.hA];else{var r=Cd[t.Cb];"string"==typeof r&&(r=Cd[r]),void 0===r&&Wl.k("Unknown Shape.figure: "+t.Cb),i=r(t,e,n),i.Qo=e,i.Oo=n}return null===i&&"function"==typeof(r=Cd.Rectangle)&&(i=r(t,e,n)),i},Po.getFigureGenerators=function(){var t,e=new b("string","function");for(t in Cd)if(t!==t.toLowerCase()){var n=Cd[t];"function"==typeof n&&e.add(t,n)}return e.freeze(),e},Po.defineFigureGenerator=function(t,e){Wl.j(t,"string",Po,"defineFigureGenerator:name"),"string"==typeof e?""!==e&&Cd[e]||Wl.k("Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: "+e):Wl.j(e,"function",Po,"defineFigureGenerator:func");var n=t.toLowerCase();""!==t&&"none"!==n&&t!==n||Wl.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),Cd[t]=e,Cd[n]=t},Po.getArrowheadGeometries=function(){var t,e=new b("string",mt);for(t in Nd)if(void 0===tc[t]){var n=sc(Nd[t],!1);tc[t]=n,n=t.toLowerCase(),n!==t&&(tc[n]=t)}for(t in tc)t!==t.toLowerCase()&&(n=tc[t])instanceof mt&&e.add(t,n);return e.freeze(),e},Po.defineArrowheadGeometry=function(t,e){Wl.j(t,"string",Po,"defineArrowheadGeometry:name");var n=null;"string"==typeof e?(Wl.j(e,"string",Po,"defineArrowheadGeometry:pathstr"),n=sc(e,!1)):(Wl.G(e,mt,Po,"defineArrowheadGeometry:pathstr"),n=e);var i=t.toLowerCase();""!==t&&"none"!==i&&t!==i||Wl.k("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t),tc[t]=n,tc[i]=t},Wl.Ma(Oo,Tr),Wl.ga("TextBlock",Oo);var ld=/[ \u200b\u00ad]/;Oo.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.Ed=this.Ed,t.qc=this.qc,t.mg=this.mg,t.vl=this.vl,t.lg=this.lg,t.zl=this.zl,t.Em=this.Em,t.Yj=this.Yj,t.Xj=this.Xj,t.Yi=this.Yi,t.qk=this.qk,t.ke=this.ke,t.Wv=this.Wv,t.lz=this.lz,t.kz=this.kz,t.xm=this.xm,t.Pi.Np(this.Pi),t.rr=this.rr,t.kt=this.kt,t.wl=this.wl,t.jt=this.jt,t.Sq=this.Sq,t.Ue=this.Ue,t.ci=this.ci,t.di=this.di,t.gh=this.gh,t.Xo=this.Xo,t.qg=this.qg,t.pg=this.pg,t.og=this.og,t.zm=this.zm},Oo.prototype.gc=function(t){t.Ee===Oo?this.yG=t:Tr.prototype.gc.call(this,t)},Oo.prototype.toString=function(){return 22<this.Ed.length?'TextBlock("'+this.Ed.substring(0,20)+'"...)':'TextBlock("'+this.Ed+'")'};var ud=new r,cd=0,fd=new r,dd=0,pd="...",vd="",yd=new _(null).wk;Oo.getEllipsis=function(){return pd},Oo.setEllipsis=function(t){pd=t,fd=new r,dd=0};var gd;Oo.None=gd=Wl.p(Oo,"None",0);var md;Oo.WrapFit=md=Wl.p(Oo,"WrapFit",1);var bd;Oo.WrapDesiredSize=bd=Wl.p(Oo,"WrapDesiredSize",2);var wd;Oo.OverflowClip=wd=Wl.p(Oo,"OverflowClip",0);var xd;Oo.OverflowEllipsis=xd=Wl.p(Oo,"OverflowEllipsis",1),Oo.prototype.I=function(){Tr.prototype.I.call(this),this.kz=this.lz=null},Wl.defineProperty(Oo,{font:"font"},function(){return this.mg},function(t){var e=this.mg;e!==t&&(this.mg=t,this.xm=null,this.I(),this.h("font",e,t))}),Oo.isValidFont=function(t){var e=yd.font;if(t===e||"10px sans-serif"===t)return!0;yd.font="10px sans-serif";var n;yd.font=t;var i=yd.font;return"10px sans-serif"!==i?(yd.font=e,!0):(yd.font="19px serif",n=yd.font,yd.font=t,i=yd.font,yd.font=e,i!==n)},Wl.defineProperty(Oo,{text:"text"},function(){return this.Ed},function(t){var e=this.Ed;t=null!==t&&void 0!==t?t.toString():"",e!==t&&(this.Ed=t,this.I(),this.h("text",e,t))}),Wl.defineProperty(Oo,{textAlign:"textAlign"},function(){return this.vl},function(t){var e=this.vl;e!==t&&("start"===t||"end"===t||"left"===t||"right"===t||"center"===t?(this.vl=t,this.oa(),this.h("textAlign",e,t)):Wl.Fa(t,'"start", "end", "left", "right", or "center"',Oo,"textAlign"))}),Wl.defineProperty(Oo,{Pt:"flip"},function(){return this.lg},function(t){var e=this.lg;e!==t&&(Wl.nb(t,Tr,Oo,"flip"),this.lg=t,this.oa(),this.h("flip",e,t))}),Wl.defineProperty(Oo,{RL:"verticalAlignment"},function(){return this.zl},function(t){var e=this.zl;e.L(t)||(t.Nd()&&Wl.k("TextBlock.verticalAlignment for "+this+" must be a real Spot, not:"+t),this.zl=t=t.S(),Or(this),this.h("verticalAlignment",e,t))}),Wl.u(Oo,{Ja:"naturalBounds"},function(){if(!this.Tc.H()){var t=Io(this,this.Ed,this.Pi,999999).width,e=Vo(this,t,this.Pi),n=this.Ba;isNaN(n.width)||(t=n.width),isNaN(n.height)||(e=n.height),M(this.Tc,t,e)}return this.Tc}),Wl.defineProperty(Oo,{yx:"isMultiline"},function(){return this.Em},function(t){var e=this.Em;e!==t&&(this.Em=t,this.I(),this.h("isMultiline",e,t))}),Wl.defineProperty(Oo,{YK:"isUnderline"},function(){return this.Yj},function(t){var e=this.Yj;e!==t&&(this.Yj=t,this.oa(),this.h("isUnderline",e,t))}),Wl.defineProperty(Oo,{XK:"isStrikethrough"},function(){return this.Xj},function(t){var e=this.Xj;e!==t&&(this.Xj=t,this.oa(),this.h("isStrikethrough",e,t))}),Wl.defineProperty(Oo,{yG:"wrap"},function(){return this.qk},function(t){var e=this.qk;e!==t&&(this.qk=t,this.I(),this.h("wrap",e,t))}),Wl.defineProperty(Oo,{overflow:"overflow"},function(){return this.Yi},function(t){var e=this.Yi;e!==t&&(this.Yi=t,this.I(),this.h("overflow",e,t))}),Wl.defineProperty(Oo,{stroke:"stroke"},function(){return this.qc},function(t){var e=this.qc;e!==t&&(t instanceof vr&&t.freeze(),this.qc=t,this.oa(),this.h("stroke",e,t))}),Wl.u(Oo,{DI:"lineCount"},function(){return this.ke}),Wl.defineProperty(Oo,{bA:"editable"},function(){return this.rr},function(t){var e=this.rr;e!==t&&(this.rr=t,this.h("editable",e,t))}),Wl.defineProperty(Oo,{mG:"textEditor"},function(){return this.kt},function(t){var e=this.kt;e!==t&&(this.kt=t,this.h("textEditor",e,t))}),Wl.defineProperty(Oo,{dA:"errorFunction"},function(){return this.Ue},function(t){var e=this.Ue;e!==t&&(null!==t&&Wl.j(t,"function",Oo,"errorFunction"),this.Ue=t,this.h("errorFunction",e,t))}),Wl.defineProperty(Oo,{interval:"interval"},function(){return this.qg},function(t){var e=this.qg;if(t=Math.floor(t),e!==t&&0<=t){this.qg=t,this.I();var n=this.N;null!==n&&n.type===id&&(n.Sj=null),this.h("interval",e,t)}}),Wl.defineProperty(Oo,{TE:"graduatedStart"},function(){return this.pg},function(t){var e=this.pg;e!==t&&(0>t?t=0:1<t&&(t=1),this.pg=t,this.I(),this.h("graduatedStart",e,t))}),Wl.defineProperty(Oo,{RE:"graduatedEnd"},function(){return this.og},function(t){var e=this.og;e!==t&&(0>t?t=0:1<t&&(t=1),this.og=t,this.I(),this.h("graduatedEnd",e,t))}),Wl.defineProperty(Oo,{SE:"graduatedFunction"},function(){return this.zm},function(t){var e=this.zm;e!==t&&(null!==t&&Wl.j(t,"function",Oo,"graduatedFunction"),this.zm=t,this.I(),this.h("graduatedFunction",e,t))}),Oo.prototype.yk=function(t,e){if(null!==this.qc&&0!==this.Ed.length&&null!==this.mg){var n=this.Ja.width,i=this.Ja.height,r=qo(this),o=t.textAlign=this.vl,a=e.Lr;"start"===o&&(o=a?"right":"left"),"end"===o&&(o=a?"left":"right"),jr(this,t,this.qc,!0,!1),(this.Yj||this.Xj)&&jr(this,t,this.qc,!1,!1);var s=0,a=!1,h=Wl.xb(0,0);this.qh.ob(h);var l=Wl.xb(0,r);this.qh.ob(l);var u=h.vf(l);switch(Wl.v(h),Wl.v(l),h=e.scale,8>u*h*h&&(a=!0),e.rf!==t&&(a=!1),!1===e.oj("textGreeking")&&(a=!1),u=this.ci,h=this.di,this.Pt){case Uf:t.translate(n,0),t.scale(-1,1);break;case Vf:t.translate(0,i),t.scale(1,-1);break;case Hf:t.translate(n,i),t.scale(-1,-1)}var l=this.ke,c=(u+r+h)*l;i>c&&(s=this.zl,s=s.y*i-s.y*c+s.offsetY);for(var c=this.Pi,f=0;f<l;f++){var d=c.qf[f],p=c.Re[f];d>n&&(d=n);var s=s+u,v=p,p=t,y=s,g=n,m=r,b=o,w=0;a?("left"===b?w=0:"right"===b?w=g-d:"center"===b&&(w=(g-d)/2),p.fillRect(0+w,y+.25*m,d,1)):("left"===b?w=0:"right"===b?w=g:"center"===b&&(w=g/2),p.fillText(v,0+w,y+m-.25*m),v=m/20|0,0===v&&(v=1),"right"===b?w-=d:"center"===b&&(w-=d/2),this.Yj&&(p.beginPath(),p.lineWidth=v,p.moveTo(0+w,y+m-.2*m),p.lineTo(0+w+d,y+m-.2*m),p.stroke()),this.Xj&&(p.beginPath(),p.lineWidth=v,y=y+m-m/2.2|0,0!=v%2&&(y+=.5),p.moveTo(0+w,y),p.lineTo(0+w+d,y),p.stroke())),s+=r+h}switch(this.Pt){case Uf:t.scale(-1,1),t.translate(-n,0);break;case Vf:t.scale(1,-1),t.translate(0,-i);break;case Hf:t.scale(-1,-1),t.translate(-n,-i)}}},Oo.prototype.computeAngle=function(t,e){var n=0;switch(t){default:case Vd:n=0;break;case Yd:n=e;break;case $d:n=e+90;break;case Jd:n=e-90;break;case Xd:n=e+180;break;case Qd:n=dt(e),90<n&&270>n&&(n-=180);break;case Zd:n=dt(e+90),90<n&&270>n&&(n-=180);break;case tp:n=dt(e-90),90<n&&270>n&&(n-=180);break;case ep:if(45<(n=dt(e))&&135>n||225<n&&315>n)return 0;90<n&&270>n&&(n-=180)}return dt(n)},Oo.prototype.Mn=function(t,e,n,i){this.Xo=t;var r=this.Pi;r.reset();var o=0,a=0;if(isNaN(this.Ba.width)){if(o=this.Ed.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),0===o.length)o=0;else if(this.yx){for(var s=a=0,h=!1;!h;){var l=o.indexOf("\n",s);-1===l&&(l=o.length,h=!0),s=Bo(o.substr(s,l-s).replace(/^\s+|\s+$/g,""),this.mg),s>a&&(a=s),s=l+1}o=a}else a=o.indexOf("\n",0),0<=a&&(o=o.substr(0,a)),o=s=Bo(o,this.mg);o=Math.min(o,t/this.scale),o=Math.max(8,o)}else o=this.Ba.width;if(null!==this.N&&(o=Math.min(o,this.N.Bf.width),o=Math.max(o,this.N.Ah.width)),a=Vo(this,o,r),l=a=isNaN(this.Ba.height)?Math.min(a,e/this.scale):this.Ba.height,0!==r.ff&&1!==r.Re.length&&this.Yi===xd&&(e=this.mg,h=this.Yi===xd?zo(e):0,s=this.ci+this.di,s=Math.max(0,qo(this)+s),!((l=Math.min(this.LI-1,Math.max(Math.floor(l/s+.01)-1,0)))+1>=r.Re.length))){for(s=r.Re[l],t=Math.max(1,t-h);Bo(s,e)>t&&1<s.length;)s=s.substr(0,s.length-1);s+=pd,t=Bo(s,e),r.Re[l]=s,r.Re=r.Re.slice(0,l+1),r.qf[l]=t,r.qf=r.qf.slice(0,l+1),r.hj=r.Re.length,r.ff=Math.max(r.ff,t),this.ke=r.hj}(this.yG===md||isNaN(this.Ba.width))&&(o=r.ff,isNaN(this.Ba.width)&&(o=Math.max(8,o))),o=Math.max(n,o),a=Math.max(i,a),M(this.Tc,o,a),Cr(this,0,0,o,a)},Oo.prototype.ij=function(t,e,n,i){Ar(this,t,e,n,i)},Wl.defineProperty(Oo,{kB:"textValidation"},function(){return this.wl},function(t){var e=this.wl;e!==t&&(null!==t&&Wl.j(t,"function",Oo,"textValidation"),this.wl=t,this.h("textValidation",e,t))}),Wl.defineProperty(Oo,{lG:"textEdited"},function(){return this.jt},function(t){var e=this.jt;e!==t&&(null!==t&&Wl.j(t,"function",Oo,"textEdited"),this.jt=t,this.h("textEdited",e,t))}),Wl.defineProperty(Oo,{FL:"spacingAbove"},function(){return this.ci},function(t){var e=this.ci;e!==t&&(this.ci=t,this.h("spacingAbove",e,t))}),Wl.defineProperty(Oo,{GL:"spacingBelow"},function(){return this.di},function(t){var e=this.di;e!==t&&(this.di=t,this.h("spacingBelow",e,t))}),Wl.defineProperty(Oo,{LI:"maxLines"},function(){return this.gh},function(t){var e=this.gh;e!==t&&(t=Math.floor(t),0>=t&&Wl.Fa(t,"> 0",Oo,"maxLines"),this.gh=t,this.h("maxLines",e,t),this.I())}),Wl.u(Oo,{jL:"metrics"},function(){return this.Pi}),Wl.defineProperty(Oo,{vK:"choices"},function(){return this.Sq},function(t){var e=this.Sq;e!==t&&(null===t||Array.isArray(t)||Wl.xd(t,"Array",Oo,"choices:value"),this.Sq=t,this.h("choices",e,t))}),Uo.prototype.reset=function(){this.ff=this.hj=0,this.qf=[],this.Re=[]},Uo.prototype.Np=function(t){this.hj=t.hj,this.ff=t.ff,this.qf=Wl.Il(t.qf),this.Re=Wl.Il(t.Re)},Wl.u(Uo,{sK:"arrSize"},function(){return this.qf}),Wl.u(Uo,{tK:"arrText"},function(){return this.Re}),Wl.u(Uo,{iL:"maxLineWidth"},function(){return this.ff}),Wl.Ma(Ho,Tr),Wl.ga("Picture",Ho),Ho.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.element=this.Te,t.bt=this.bt,t.ik=this.ik.S(),t.Lo=this.Lo,t.lg=this.lg,t.Ue=this.Ue,t.hi=this.hi,t.Ko=this.Ko.S(),t.yv=this.yv,t.op=this.op},Ho.prototype.gc=function(t){t===Ff||t===qf||t===zf?this.kI=t:Tr.prototype.gc.call(this,t)},Ho.prototype.toString=function(){return"Picture("+this.source+")#"+Wl.Jd(this)};var kd,Td=new r,Sd=0,Md=[];Ho.clearCache=kd=function(t){void 0===t&&(t=""),Wl.j(t,"string",Ho,"clearCache:url"),""!==t?Td[t]&&(delete Td[t],Sd--):(Td=new r,Sd=0)},Wl.defineProperty(Ho,{element:"element"},function(){return this.Te},function(t){var e=this.Te;if(e!==t){if(null===t||t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||Wl.k("Picture.element must be an instance of Image, Canvas, or Video, not: "+t),this.fz=t instanceof HTMLCanvasElement,this.Te=t,null!==t)if(t instanceof HTMLCanvasElement||!0===t.complete)t.Jo instanceof Event&&null!==this.Ue&&this.Ue(this,t.Jo),!0===t.Lv&&null!==this.hi&&this.hi(this,t.uz),t.Lv=!0,this.Ba.H()||(_r(this,!1),this.I());else{var n=this;t.CC||(t.addEventListener("load",function(e){_o(t,e),n.Ba.H()||(_r(n,!1),n.I())}),t.addEventListener("error",function(e){Wo(t,e)}),t.CC=!0)}this.h("element",e,t),this.oa()}}),Wl.defineProperty(Ho,{source:"source"},function(){return this.bt},function(t){var e=this.bt;if(e!==t){Wl.j(t,"string",Ho,"source"),this.bt=t;var n=Td,i=this.g;if(void 0!==n[t])var r=n[t].Gp[0].source;else{30<Sd&&(kd(),n=Td);var r=Wl.createElement("img"),o=this;r.addEventListener("load",function(t){_o(r,t),o.Ba.H()||(_r(o,!1),o.I())}),r.addEventListener("error",function(t){Wo(r,t)}),r.CC=!0;var a=this.op;null!==a&&(r.crossOrigin=a(this)),r.src=t,n[t]=new Ko(r),Sd++}null!==i&&Ei(i,this),this.element=r,null!==i&&Di(i,this),this.I(),this.oa(),this.h("source",e,t)}}),Wl.defineProperty(Ho,{EL:"sourceCrossOrigin"},function(){return this.op},function(t){if(this.op!==t&&(null!==t&&Wl.j(t,"function",Ho,"sourceCrossOrigin"),this.op=t,null!==this.element)){var e=this.element.src;null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}),Wl.defineProperty(Ho,{Bj:"sourceRect"},function(){return this.ik},function(t){var e=this.ik;e.L(t)||(Wl.G(t,S,Ho,"sourceRect"),this.ik=t=t.S(),this.oa(),this.h("sourceRect",e,t))}),Wl.defineProperty(Ho,{kI:"imageStretch"},function(){return this.Lo},function(t){var e=this.Lo;e!==t&&(Wl.nb(t,Tr,Ho,"imageStretch"),this.Lo=t,this.oa(),this.h("imageStretch",e,t))}),Wl.defineProperty(Ho,{Pt:"flip"},function(){return this.lg},function(t){var e=this.lg;e!==t&&(Wl.nb(t,Tr,Ho,"flip"),this.lg=t,this.oa(),this.h("flip",e,t))}),Wl.defineProperty(Ho,{RK:"imageAlignment"},function(){return this.Ko},function(t){Wl.G(t,L,Ho,"imageAlignment");var e=this.Ko;e.L(t)||(this.Ko=t=t.S(),this.I(),this.h("imageAlignment",e,t))}),Wl.defineProperty(Ho,{dA:"errorFunction"},function(){return this.Ue},function(t){var e=this.Ue;e!==t&&(null!==t&&Wl.j(t,"function",Ho,"errorFunction"),this.Ue=t,this.h("errorFunction",e,t))}),Wl.defineProperty(Ho,{OL:"successFunction"},function(){return this.hi},function(t){var e=this.hi;e!==t&&(null!==t&&Wl.j(t,"function",Ho,"successFunction"),this.hi=t,this.h("successFunction",e,t))}),Ho.prototype.yk=function(t,e){var n=this.Te;if(null!==n){var i=n.src;if(null!==i&&""!==i||Wl.k('Element has no source ("src") attribute: '+n),!(n.Jo instanceof Event)&&!0===n.Lv){var i=this.Ja,r=0,o=0,a=this.fz,s=a?+n.width:n.naturalWidth,a=a?+n.height:n.naturalHeight;if(void 0===s&&n.videoWidth&&(s=n.videoWidth),void 0===a&&n.videoHeight&&(a=n.videoHeight),s=s||i.width,a=a||i.height,0!==s&&0!==a){var h=s,l=a;this.Bj.H()&&(r=this.ik.x,o=this.ik.y,s=this.ik.width,a=this.ik.height);var u=s,c=a,f=this.Lo,d=this.Ko;switch(f){case Ff:if(this.Bj.H())break;u>=i.width&&(r=r+d.offsetX+(u*d.x-i.width*d.x)),c>=i.height&&(o=o+d.offsetY+(c*d.y-i.height*d.y)),s=Math.min(i.width,u),a=Math.min(i.height,c);break;case Bf:u=i.width,c=i.height;break;case qf:case zf:var p=0;f===qf?(p=Math.min(i.height/c,i.width/u),u*=p,c*=p):f===zf&&(p=Math.max(i.height/c,i.width/u),u*=p,c*=p,u>=i.width&&(r=(r+d.offsetX+(u*d.x-i.width*d.x)/u)*s),c>=i.height&&(o=(o+d.offsetY+(c*d.y-i.height*d.y)/c)*a),s*=1/(u/i.width),a*=1/(c/i.height),u=i.width,c=i.height)}var f=this.nj()*e.scale,v=s*a/(u*f*c*f),p=Td[this.source],f=null;if(void 0!==p&&16<v){2>p.Gp.length&&(Yo(p,4,h,l),Yo(p,16,h,l));for(var h=p.Gp,l=h.length,f=h[0],y=0;y<l&&h[y].lq*h[y].lq<v;y++)f=h[y]}if(!e.Do){if(null===this.xp)if(null===this.Te)this.xp=!1;else{h=new _(null).wk,h.drawImage(this.Te,0,0);try{h.getImageData(0,0,1,1).data[3]&&(this.xp=!1),this.xp=!1}catch(t){this.xp=!0}}if(this.xp)return}switch(h=0,u<i.width&&(h=d.offsetX+(i.width*d.x-u*d.x)),l=0,c<i.height&&(l=d.offsetY+(i.height*d.y-c*d.y)),this.Pt){case Uf:t.translate(Math.min(i.width,u),0),t.scale(-1,1);break;case Vf:t.translate(0,Math.min(i.height,c)),t.scale(1,-1);break;case Hf:t.translate(Math.min(i.width,u),Math.min(i.height,c)),t.scale(-1,-1)}if(e.oj("pictureRatioOptimization")&&!e.gz&&void 0!==p&&null!==f&&1!==f.lq){t.save(),p=f.lq;try{t.drawImage(f.source,r/p,o/p,Math.min(f.source.width,s/p),Math.min(f.source.height,a/p),h,l,Math.min(i.width,u),Math.min(i.height,c))}catch(t){this.yv=!1}t.restore()}else try{t.drawImage(n,r,o,s,a,h,l,Math.min(i.width,u),Math.min(i.height,c))}catch(t){this.yv=!1}switch(this.Pt){case Uf:t.scale(-1,1),t.translate(-Math.min(i.width,u),0);break;case Vf:t.scale(1,-1),t.translate(0,-Math.min(i.height,c));break;case Hf:t.scale(-1,-1),t.translate(-Math.min(i.width,u),-Math.min(i.height,c))}}}}},Wl.u(Ho,{Ja:"naturalBounds"},function(){return this.Tc}),Ho.prototype.Mn=function(t,e,n,i){var r=this.Ba,o=Ir(this,!0),a=this.Te,s=this.fz;(s||!this.Uv&&a&&a.complete)&&(this.Uv=!0),null===a&&(isFinite(t)||(t=0),isFinite(e)||(e=0)),isFinite(r.width)||o===Bf||o===Rf?(isFinite(t)||(t=this.Bj.H()?this.Bj.width:s?+a.width:a.naturalWidth),n=0):null!==a&&!1!==this.Uv&&(t=this.Bj.H()?this.Bj.width:s?+a.width:a.naturalWidth),isFinite(r.height)||o===Bf||o===If?(isFinite(e)||(e=this.Bj.H()?this.Bj.height:s?+a.height:a.naturalHeight),i=0):null!==a&&!1!==this.Uv&&(e=this.Bj.H()?this.Bj.height:s?+a.height:a.naturalHeight),isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height),r=this.Bf,o=this.Ah,n=Math.max(n,o.width),i=Math.max(i,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(n,t),e=Math.max(i,e),null===a||a.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),M(this.Tc,t,e),Cr(this,0,0,t,e)},Ho.prototype.ij=function(t,e,n,i){Ar(this,t,e,n,i)},Gl=Jo.prototype,Gl.reset=function(){this.o=new mt,this.Vb=null},Gl.ab=function(t){null===this.o&&Wl.k("StreamGeometryContext has been closed"),null===this.Vb&&Wl.k("Need to call beginFigure first"),this.Vb.$l=t},Gl.moveTo=function(t,e,n){void 0===n&&(n=!1),null===this.o&&Wl.k("StreamGeometryContext has been closed"),null===this.Vb&&Wl.k("Need to call beginFigure first");var i=new Ct(hc);i.D=t,i.F=e,n&&i.close(),this.Vb.vb.add(i)},Gl.lineTo=function(t,e,n){void 0===n&&(n=!1),null===this.o&&Wl.k("StreamGeometryContext has been closed"),null===this.Vb&&Wl.k("Need to call beginFigure first");var i=new Ct(lc);i.D=t,i.F=e,n&&i.close(),this.Vb.vb.add(i)},Gl.arcTo=function(t,e,n,i,r,o,a){void 0===o&&(o=0),void 0===a&&(a=!1),null===this.o&&Wl.k("StreamGeometryContext has been closed"),null===this.Vb&&Wl.k("Need to call beginFigure first");var s=new Ct(fc);s.ze=t,s.pf=e,s.ka=n,s.sa=i,s.radiusX=r,s.radiusY=0!==o?o:r,a&&s.close(),this.Vb.vb.add(s)};var Pd,Cd={None:"Rectangle",Rectangle:function(t,e,n){return t=new mt,t.type=ic,t.ja=0,t.ha=0,t.D=e,t.F=n,t},Square:function(t,e,n){return t=new mt,t.$d=qf,t.type=ic,t.ja=0,t.ha=0,t.D=Math.min(e,n),t.F=Math.min(e,n),t},Ellipse:function(t,e,n){return t=new mt,t.type=rc,t.ja=0,t.ha=0,t.D=e,t.F=n,t.A=Xu,t.B=Qu,t},Circle:function(t,e,n){return t=new mt,t.$d=qf,t.type=rc,t.ja=0,t.ha=0,t.D=Math.min(e,n),t.F=Math.min(e,n),t.A=Xu,t.B=Qu,t},Connector:"Ellipse",TriangleRight:function(t,e,n){t=new mt;var i=new Pt,r=new Ct;return r.D=e,r.F=.5*n,i.vb.add(r),e=new Ct,e.D=0,e.F=n,i.vb.add(e.close()),t.dc.add(i),t.A=new L(0,.25),t.B=new L(.5,.75),t},TriangleDown:function(t,e,n){t=new mt;var i=new Pt,r=new Ct;return r.D=e,r.F=0,i.vb.add(r),r=new Ct,r.D=.5*e,r.F=n,i.vb.add(r.close()),t.dc.add(i),t.A=new L(.25,0),t.B=new L(.75,.5),t},TriangleLeft:function(t,e,n){t=new mt;var i=new Pt;i.ja=e,i.ha=n;var r=new Ct;return r.D=0,r.F=.5*n,i.vb.add(r),n=new Ct,n.D=e,n.F=0,i.vb.add(n.close()),t.dc.add(i),t.A=new L(.5,.25),t.B=new L(1,.75),t},TriangleUp:function(t,e,n){t=new mt;var i=new Pt;i.ja=e,i.ha=n;var r=new Ct;return r.D=0,r.F=n,i.vb.add(r),n=new Ct,n.D=.5*e,n.F=0,i.vb.add(n.close()),t.dc.add(i),t.A=new L(.25,.5),t.B=new L(.75,1),t},Line1:function(t,e,n){return t=new mt,t.type=nc,t.ja=0,t.ha=0,t.D=e,t.F=n,t},Line2:function(t,e,n){return t=new mt,t.type=nc,t.ja=e,t.ha=0,t.D=0,t.F=n,t},MinusLine:"LineH",LineH:function(t,e,n){return t=new mt,t.type=nc,t.ja=0,t.ha=n/2,t.D=e,t.F=n/2,t},LineV:function(t,e,n){return t=new mt,t.type=nc,t.ja=e/2,t.ha=0,t.D=e/2,t.F=n,t},BarH:"Rectangle",BarV:"Rectangle",Curve1:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),ta(t,Fu*e,0,1*e,(1-Fu)*n,e,n),e=t.o,Wl.q(t),e},Curve2:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),ta(t,0,Fu*n,(1-Fu)*e,n,e,n),e=t.o,Wl.q(t),e},Curve3:function(t,e,n){return t=Wl.s(),Xo(t,1*e,0,!1),ta(t,1*e,Fu*n,Fu*e,1*n,0,1*n),e=t.o,Wl.q(t),e},Curve4:function(t,e,n){return t=Wl.s(),Xo(t,1*e,0,!1),ta(t,(1-Fu)*e,0,0,(1-Fu)*n,0,1*n),e=t.o,Wl.q(t),e},Alternative:"Triangle",Merge:"Triangle",Triangle:function(t,e,n){return t=Wl.s(),Xo(t,.5*e,0*n,!0),t.lineTo(0*e,1*n),t.lineTo(1*e,1*n,!0),e=t.o,e.A=new L(.25,.5),e.B=new L(.75,1),Wl.q(t),e},Decision:"Diamond",Diamond:function(t,e,n){return t=Wl.s(),Xo(t,.5*e,0,!0),t.lineTo(0,.5*n),t.lineTo(.5*e,1*n),t.lineTo(1*e,.5*n,!0),e=t.o,e.A=new L(.25,.25),e.B=new L(.75,.75),Wl.q(t),e},Pentagon:function(t,e,n){var i=oa(5);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;5>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.2,.22),e.B=new L(.8,.9),Wl.q(t),e},DataTransmission:"Hexagon",Hexagon:function(t,e,n){var i=oa(6);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;6>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.07,.25),e.B=new L(.93,.75),Wl.q(t),e},Heptagon:function(t,e,n){var i=oa(7);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;7>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.2,.15),e.B=new L(.8,.85),Wl.q(t),e},Octagon:function(t,e,n){var i=oa(8);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;8>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.15,.15),e.B=new L(.85,.85),Wl.q(t),e},Nonagon:function(t,e,n){var i=oa(9);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;9>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.17,.13),e.B=new L(.82,.82),Wl.q(t),e},Decagon:function(t,e,n){var i=oa(10);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;10>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.16,.16),e.B=new L(.84,.84),Wl.q(t),e},Dodecagon:function(t,e,n){var i=oa(12);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;12>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.16,.16),e.B=new L(.84,.84),Wl.q(t),e},FivePointedStar:function(t,e,n){var i=ra(5);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;10>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.312,.383),e.B=new L(.693,.765),Wl.q(t),e},SixPointedStar:function(t,e,n){var i=ra(6);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;12>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.17,.251),e.B=new L(.833,.755),Wl.q(t),e},SevenPointedStar:function(t,e,n){var i=ra(7);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;14>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.363,.361),e.B=new L(.641,.709),Wl.q(t),e},EightPointedStar:function(t,e,n){var i=ra(8);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;16>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.252,.255),e.B=new L(.75,.75),Wl.q(t),e},NinePointedStar:function(t,e,n){var i=ra(9);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;18>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.355,.361),e.B=new L(.645,.651),Wl.q(t),e},TenPointedStar:function(t,e,n){var i=ra(10);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;20>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.281,.261),e.B=new L(.723,.748),Wl.q(t),e},FivePointedBurst:function(t,e,n){var i=ia(5);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)ta(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.312,.383),e.B=new L(.693,.765),Wl.q(t),e},SixPointedBurst:function(t,e,n){var i=ia(6);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)ta(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.17,.251),e.B=new L(.833,.755),Wl.q(t),e},SevenPointedBurst:function(t,e,n){var i=ia(7);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)ta(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.363,.361),e.B=new L(.641,.709),Wl.q(t),e},EightPointedBurst:function(t,e,n){var i=ia(8);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)ta(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.252,.255),e.B=new L(.75,.75),Wl.q(t),e},NinePointedBurst:function(t,e,n){var i=ia(9);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)ta(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.355,.361),e.B=new L(.645,.651),Wl.q(t),e},TenPointedBurst:function(t,e,n){var i=ia(10);t=Wl.s(),Xo(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)ta(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Wl.wa(i),Qo(t),e=t.o,e.A=new L(.281,.261),e.B=new L(.723,.748),Wl.q(t),e},Cloud:function(t,e,n){return t=Wl.s(),Xo(t,.08034461*e,.1944299*n,!0),ta(t,-.09239631*e,.07836421*n,.1406031*e,-.0542823*n,.2008615*e,.05349299*n),ta(t,.2450511*e,-.00697547*n,.3776197*e,-.01112067*n,.4338609*e,.074219*n),ta(t,.4539471*e,0,.6066018*e,-.02526587*n,.6558228*e,.07004196*n),ta(t,.6914277*e,-.01904177*n,.8921095*e,-.01220843*n,.8921095*e,.08370865*n),ta(t,1.036446*e,.04105738*n,1.020377*e,.3022052*n,.9147671*e,.3194596*n),ta(t,1.04448*e,.360238*n,.992256*e,.5219009*n,.9082935*e,.562044*n),ta(t,1.032337*e,.5771781*n,1.018411*e,.8120651*n,.9212406*e,.8217117*n),ta(t,1.028411*e,.9571472*n,.8556702*e,1.052487*n,.7592566*e,.9156953*n),ta(t,.7431877*e,1.009325*n,.5624123*e,1.021761*n,.5101666*e,.9310455*n),ta(t,.4820677*e,1.031761*n,.3030112*e,1.002796*n,.2609328*e,.9344623*n),ta(t,.2329994*e,1.01518*n,.03213784*e,1.01518*n,.08034461*e,.870098*n),ta(t,-.02812061*e,.9032597*n,-.01205169*e,.6835638*n,.06829292*e,.6545475*n),ta(t,-.01812061*e,.6089503*n,-.00606892*e,.4555777*n,.06427569*e,.4265613*n),ta(t,-.01606892*e,.3892545*n,-.01205169*e,.1944299*n,.08034461*e,.1944299*n),Qo(t),e=t.o,e.A=new L(.1,.1),e.B=new L(.9,.9),Wl.q(t),e},Gate:"Crescent",Crescent:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),ta(t,1*e,0,1*e,1*n,0,1*n),ta(t,.5*e,.75*n,.5*e,.25*n,0,0),Qo(t),e=t.o,e.A=new L(.511,.19),e.B=new L(.776,.76),Wl.q(t),e},FramedRectangle:function(t,e,n){var i=Wl.s(),r=t?t.Dc:NaN;return t=t?t.vu:NaN,isNaN(r)&&(r=.1),isNaN(t)&&(t=.1),Xo(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n,!0),Xo(i,r*e,t*n,!1,!0),i.lineTo(r*e,(1-t)*n),i.lineTo((1-r)*e,(1-t)*n),i.lineTo((1-r)*e,t*n,!0),e=i.o,e.A=new L(r,t),e.B=new L(1-r,1-t),Wl.q(i),e},Delay:"HalfEllipse",HalfEllipse:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),ta(t,Fu*e,0,1*e,(.5-Fu/2)*n,1*e,.5*n),ta(t,1*e,(.5+Fu/2)*n,Fu*e,1*n,0,1*n),Qo(t),e=t.o,e.A=new L(0,.2),e.B=new L(.75,.8),Wl.q(t),e},Heart:function(t,e,n){return t=Wl.s(),Xo(t,.5*e,1*n,!0),ta(t,.1*e,.8*n,0,.5*n,0*e,.3*n),ta(t,0*e,0,.45*e,0,.5*e,.3*n),ta(t,.55*e,0,1*e,0,1*e,.3*n),ta(t,e,.5*n,.9*e,.8*n,.5*e,1*n),Qo(t),e=t.o,e.A=new L(.15,.29),e.B=new L(.86,.68),Wl.q(t),e},Spade:function(t,e,n){return t=Wl.s(),Xo(t,.5*e,0,!0),t.lineTo(.51*e,.01*n),ta(t,.6*e,.2*n,e,.25*n,e,.5*n),ta(t,e,.8*n,.6*e,.8*n,.55*e,.7*n),ta(t,.5*e,.75*n,.55*e,.95*n,.75*e,n),t.lineTo(.25*e,n),ta(t,.45*e,.95*n,.5*e,.75*n,.45*e,.7*n),ta(t,.4*e,.8*n,0,.8*n,0,.5*n),ta(t,0,.25*n,.4*e,.2*n,.49*e,.01*n),Qo(t),e=t.o,e.A=new L(.19,.26),e.B=new L(.8,.68),Wl.q(t),e},Club:function(t,e,n){t=Wl.s(),Xo(t,.4*e,.6*n,!0),ta(t,.5*e,.75*n,.45*e,.95*n,.15*e,1*n),t.lineTo(.85*e,n),ta(t,.55*e,.95*n,.5*e,.75*n,.6*e,.6*n);var i=.2,r=.3,o=0,a=4*(Math.SQRT2-1)/3*i;return ta(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),ta(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),ta(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),ta(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r+.05)*e,(.5-a+o-.02)*n,.65*e,.36771243*n),i=.2,r=0,o=-.3,a=4*(Math.SQRT2-1)/3*i,ta(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),ta(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),ta(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),ta(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,.35*e,.36771243*n),i=.2,r=-.3,o=0,a=4*(Math.SQRT2-1)/3*i,ta(t,(.5+i+r-.05)*e,(.5-a+o-.02)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),ta(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),ta(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),ta(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,.4*e,.6*n),Qo(t),e=t.o,e.A=new L(.06,.39),e.B=new L(.93,.58),Wl.q(t),e},Ring:function(t,e,n){t=Wl.s();var i=4*(Math.SQRT2-1)/3*.5;return Xo(t,e,.5*n,!0),ta(t,e,(.5-i)*n,(.5+i)*e,0,.5*e,0),ta(t,(.5-i)*e,0,0,(.5-i)*n,0,.5*n),ta(t,0,(.5+i)*n,(.5-i)*e,n,.5*e,n),ta(t,(.5+i)*e,n,e,(.5+i)*n,e,.5*n),i=4*(Math.SQRT2-1)/3*.4,Xo(t,.5*e,.1*n,!0,!0),ta(t,(.5+i)*e,.1*n,.9*e,(.5-i)*n,.9*e,.5*n),ta(t,.9*e,(.5+i)*n,(.5+i)*e,.9*n,.5*e,.9*n),ta(t,(.5-i)*e,.9*n,.1*e,(.5+i)*n,.1*e,.5*n),ta(t,.1*e,(.5-i)*n,(.5-i)*e,.1*n,.5*e,.1*n),e=t.o,e.A=new L(.146,.146),e.B=new L(.853,.853),e.$d=qf,Wl.q(t),e},YinYang:function(t,e,n){var i=.5;t=Wl.s(),i=.5,Xo(t,.5*e,0,!0),t.arcTo(270,180,.5*e,.5*e,.5*e),ta(t,1*e,i*n,0,i*n,i*e,0,!0);var i=.1,r=.25;return Xo(t,(.5+i)*e,r*n,!0,!0),t.arcTo(0,-360,.5*e,n*r,i*e),Qo(t),Xo(t,.5*e,0,!1),t.arcTo(270,-180,.5*e,.5*e,.5*e),t.ab(!1),r=.75,Xo(t,(.5+i)*e,r*n,!0),t.arcTo(0,360,.5*e,n*r,i*e),Qo(t),e=t.o,e.$d=qf,Wl.q(t),e},Peace:function(t,e,n){t=Wl.s();var i=4*(Math.SQRT2-1)/3*.5;Xo(t,e,.5*n,!0),ta(t,e,(.5-i)*n,(.5+i)*e,0,.5*e,0),ta(t,(.5-i)*e,0,0,(.5-i)*n,0,.5*n),ta(t,0,(.5+i)*n,(.5-i)*e,n,.5*e,n),ta(t,(.5+i)*e,n,e,(.5+i)*n,e,.5*n),i=4*(Math.SQRT2-1)/3*.4,Xo(t,.5*e,.1*n,!0,!0),ta(t,(.5+i)*e,.1*n,.9*e,(.5-i)*n,.9*e,.5*n),ta(t,.9*e,(.5+i)*n,(.5+i)*e,.9*n,.5*e,.9*n),ta(t,(.5-i)*e,.9*n,.1*e,(.5+i)*n,.1*e,.5*n),ta(t,.1*e,(.5-i)*n,(.5-i)*e,.1*n,.5*e,.1*n);var i=.07,r=0,o=.11*-.707,a=4*(Math.SQRT2-1)/3*i;return Xo(t,(.5+i+r)*e,(.5+o)*n,!0),ta(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),ta(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),ta(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),ta(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),i=.07,r=.11*-.707,o=.707*.11,a=4*(Math.SQRT2-1)/3*i,Xo(t,(.5+i+r)*e,(.5+o)*n,!0),ta(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),ta(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),ta(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),ta(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),i=.07,r=.707*.11,o=.707*.11,a=4*(Math.SQRT2-1)/3*i,Xo(t,(.5+i+r)*e,(.5+o)*n,!0),ta(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),ta(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),ta(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),ta(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),e=t.o,e.A=new L(.146,.146),e.B=new L(.853,.853),e.$d=qf,Wl.q(t),e},NotAllowed:function(t,e,n){var i=.5*Fu,r=.5;t=Wl.s(),Xo(t,.5*e,(.5-r)*n,!0),ta(t,(.5-i)*e,(.5-r)*n,(.5-r)*e,(.5-i)*n,(.5-r)*e,.5*n),ta(t,(.5-r)*e,(.5+i)*n,(.5-i)*e,(.5+r)*n,.5*e,(.5+r)*n),ta(t,(.5+i)*e,(.5+r)*n,(.5+r)*e,(.5+i)*n,(.5+r)*e,.5*n),ta(t,(.5+r)*e,(.5-i)*n,(.5+i)*e,(.5-r)*n,.5*e,(.5-r)*n);var r=.4,i=.4*Fu,o=Wl.K(),a=Wl.K(),s=Wl.K(),h=Wl.K();tt(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.42,o,a,s,h,h);var l=Wl.K(),u=Wl.K(),c=Wl.K();tt(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.58,h,h,c,l,u);var f=Wl.K(),d=Wl.K(),p=Wl.K();tt(.5,.5+r,.5-i,.5+r,.5-r,.5+i,.5-r,.5,.42,f,d,p,h,h);var v=Wl.K(),y=Wl.K(),g=Wl.K();return tt(.5,.5+r,.5-i,.5+r,.5-r,.5+i,.5-r,.5,.58,h,h,g,v,y),Xo(t,g.x*e,g.y*n,!0,!0),ta(t,v.x*e,v.y*n,y.x*e,y.y*n,(.5-r)*e,.5*n),ta(t,(.5-r)*e,(.5-i)*n,(.5-i)*e,(.5-r)*n,.5*e,(.5-r)*n),ta(t,o.x*e,o.y*n,a.x*e,a.y*n,s.x*e,s.y*n),t.lineTo(g.x*e,g.y*n),Qo(t),Xo(t,p.x*e,p.y*n,!0,!0),t.lineTo(c.x*e,c.y*n),ta(t,l.x*e,l.y*n,u.x*e,u.y*n,(.5+r)*e,.5*n),ta(t,(.5+r)*e,(.5+i)*n,(.5+i)*e,(.5+r)*n,.5*e,(.5+r)*n),ta(t,f.x*e,f.y*n,d.x*e,d.y*n,p.x*e,p.y*n),Qo(t),Wl.v(o),Wl.v(a),Wl.v(s),Wl.v(h),Wl.v(l),Wl.v(u),Wl.v(c),Wl.v(f),Wl.v(d),Wl.v(p),Wl.v(v),Wl.v(y),Wl.v(g),e=t.o,Wl.q(t),e.$d=qf,e},Fragile:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),t.lineTo(.25*e,0),t.lineTo(.2*e,.15*n),t.lineTo(.3*e,.25*n),t.lineTo(.29*e,.33*n),t.lineTo(.35*e,.25*n),t.lineTo(.3*e,.15*n),t.lineTo(.4*e,0),t.lineTo(1*e,0),ta(t,1*e,.25*n,.75*e,.5*n,.55*e,.5*n),t.lineTo(.55*e,.9*n),t.lineTo(.7*e,.9*n),t.lineTo(.7*e,1*n),t.lineTo(.3*e,1*n),t.lineTo(.3*e,.9*n),t.lineTo(.45*e,.9*n),t.lineTo(.45*e,.5*n),ta(t,.25*e,.5*n,0,.25*n,0,0),Qo(t),e=t.o,e.A=new L(.25,0),e.B=new L(.75,.4),Wl.q(t),e},HourGlass:function(t,e,n){return t=Wl.s(),Xo(t,.65*e,.5*n,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(.35*e,.5*n),t.lineTo(0,0),t.lineTo(1*e,0),Qo(t),e=t.o,Wl.q(t),e},Lightning:function(t,e,n){return t=Wl.s(),Xo(t,0*e,.55*n,!0),t.lineTo(.75*e,0),t.lineTo(.25*e,.45*n),t.lineTo(.9*e,.48*n),t.lineTo(.4*e,1*n),t.lineTo(.65*e,.55*n),Qo(t),e=t.o,Wl.q(t),e},Parallelogram1:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var i=Wl.s();return Xo(i,t*e,0,!0),i.lineTo(1*e,0),i.lineTo((1-t)*e,1*n),i.lineTo(0,1*n),Qo(i),e=i.o,e.A=new L(t,0),e.B=new L(1-t,1),Wl.q(i),e},Input:"Output",Output:function(t,e,n){return t=Wl.s(),Xo(t,0,1*n,!0),t.lineTo(.1*e,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*n),Qo(t),e=t.o,e.A=new L(.1,0),e.B=new L(.9,1),Wl.q(t),e},Parallelogram2:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)&&(t=.25);var i=Wl.s();return Xo(i,t*e,0,!0),i.lineTo(1*e,0),i.lineTo((1-t)*e,1*n),i.lineTo(0,1*n),Qo(i),e=i.o,e.A=new L(t,0),e.B=new L(1-t,1),Wl.q(i),e},ThickCross:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)&&(t=.25);var i=Wl.s();return Xo(i,(.5-t/2)*e,0,!0),i.lineTo((.5+t/2)*e,0),i.lineTo((.5+t/2)*e,(.5-t/2)*n),i.lineTo(1*e,(.5-t/2)*n),i.lineTo(1*e,(.5+t/2)*n),i.lineTo((.5+t/2)*e,(.5+t/2)*n),i.lineTo((.5+t/2)*e,1*n),i.lineTo((.5-t/2)*e,1*n),i.lineTo((.5-t/2)*e,(.5+t/2)*n),i.lineTo(0,(.5+t/2)*n),i.lineTo(0,(.5-t/2)*n),i.lineTo((.5-t/2)*e,(.5-t/2)*n),Qo(i),e=i.o,e.A=new L(.5-t/2,.5-t/2),e.B=new L(.5+t/2,.5+t/2),Wl.q(i),e},ThickX:function(t,e,n){t=.25/Math.SQRT2;var i=Wl.s();return Xo(i,.3*e,0,!0),i.lineTo(.5*e,.2*n),i.lineTo(.7*e,0),i.lineTo(1*e,.3*n),i.lineTo(.8*e,.5*n),i.lineTo(1*e,.7*n),i.lineTo(.7*e,1*n),i.lineTo(.5*e,.8*n),i.lineTo(.3*e,1*n),i.lineTo(0,.7*n),i.lineTo(.2*e,.5*n),i.lineTo(0,.3*n),Qo(i),e=i.o,e.A=new L(.5-t,.5-t),e.B=new L(.5+t,.5+t),Wl.q(i),e},ThinCross:function(t,e,n){var i=t?t.Dc:NaN;return isNaN(i)&&(i=.1),t=Wl.s(),Xo(t,(.5-i/2)*e,0,!0),t.lineTo((.5+i/2)*e,0),t.lineTo((.5+i/2)*e,(.5-i/2)*n),t.lineTo(1*e,(.5-i/2)*n),t.lineTo(1*e,(.5+i/2)*n),t.lineTo((.5+i/2)*e,(.5+i/2)*n),t.lineTo((.5+i/2)*e,1*n),t.lineTo((.5-i/2)*e,1*n),t.lineTo((.5-i/2)*e,(.5+i/2)*n),t.lineTo(0,(.5+i/2)*n),t.lineTo(0,(.5-i/2)*n),t.lineTo((.5-i/2)*e,(.5-i/2)*n),Qo(t),e=t.o,Wl.q(t),e},ThinX:function(t,e,n){return t=Wl.s(),Xo(t,.1*e,0,!0),t.lineTo(.5*e,.4*n),t.lineTo(.9*e,0),t.lineTo(1*e,.1*n),t.lineTo(.6*e,.5*n),t.lineTo(1*e,.9*n),t.lineTo(.9*e,1*n),t.lineTo(.5*e,.6*n),t.lineTo(.1*e,1*n),t.lineTo(0,.9*n),t.lineTo(.4*e,.5*n),t.lineTo(0,.1*n),Qo(t),e=t.o,Wl.q(t),e},RightTriangle:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),Qo(t),e=t.o,e.A=new L(0,.5),e.B=new L(.5,1),Wl.q(t),e},RoundedIBeam:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),t.lineTo(1*e,0),ta(t,.5*e,.25*n,.5*e,.75*n,1*e,1*n),t.lineTo(0,1*n),ta(t,.5*e,.75*n,.5*e,.25*n,0,0),Qo(t),e=t.o,Wl.q(t),e},RoundedRectangle:function(t,e,n){var i=t?t.Dc:NaN;isNaN(i)&&(i=5),i=Math.min(i,e/3),i=Math.min(i,n/3),t=i*Fu;var r=Wl.s();return Xo(r,i,0,!0),r.lineTo(e-i,0),ta(r,e-t,0,e,t,e,i),r.lineTo(e,n-i),ta(r,e,n-t,e-t,n,e-i,n),r.lineTo(i,n),ta(r,t,n,0,n-t,0,n-i),r.lineTo(0,i),ta(r,0,t,t,0,i,0),Qo(r),e=r.o,1<t?(e.A=new L(0,0,t,t),e.B=new L(1,1,-t,-t)):(e.A=nu,e.B=uu),Wl.q(r),e},Border:function(t,e,n){var i=t?t.Dc:NaN;return isNaN(i)&&(i=5),i=Math.min(i,e/3),i=Math.min(i,n/3),t=Wl.s(),Xo(t,i,0,!0),t.lineTo(e-i,0),ta(t,e-0,0,e,0,e,i),t.lineTo(e,n-i),ta(t,e,n-0,e-0,n,e-i,n),t.lineTo(i,n),ta(t,0,n,0,n-0,0,n-i),t.lineTo(0,i),ta(t,0,0,0,0,i,0),Qo(t),e=t.o,e.A=nu,e.B=uu,Wl.q(t),e},SquareIBeam:function(t,e,n){var i=t?t.Dc:NaN;return isNaN(i)&&(i=.2),t=Wl.s(),Xo(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,i*n),t.lineTo((.5+i/2)*e,i*n),t.lineTo((.5+i/2)*e,(1-i)*n),t.lineTo(1*e,(1-i)*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,(1-i)*n),t.lineTo((.5-i/2)*e,(1-i)*n),t.lineTo((.5-i/2)*e,i*n),t.lineTo(0,i*n),Qo(t),e=t.o,Wl.q(t),e},Trapezoid:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)&&(t=.2);var i=Wl.s();return Xo(i,t*e,0,!0),i.lineTo((1-t)*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),Qo(i),e=i.o,e.A=new L(t,0),e.B=new L(1-t,1),Wl.q(i),e},ManualLoop:"ManualOperation",ManualOperation:function(t,e,n){var i=t?t.Dc:NaN;return isNaN(i)&&(i=0),t=Wl.s(),Xo(t,i,0,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*n),t.lineTo(.1*e,1*n),Qo(t),e=t.o,e.A=new L(.1,0),e.B=new L(.9,1),Wl.q(t),e},GenderMale:function(t,e,n){t=Wl.s();var i=.4*Fu,r=.4,o=Wl.K(),a=Wl.K(),s=Wl.K(),h=Wl.K();Xo(t,(.5-r)*e,.5*n,!0),ta(t,(.5-r)*e,(.5-i)*n,(.5-i)*e,(.5-r)*n,.5*e,(.5-r)*n),tt(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.44,s,h,a,o,o),ta(t,s.x*e,s.y*n,h.x*e,h.y*n,a.x*e,a.y*n);var l=Wl.xb(a.x,a.y);tt(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.56,o,o,a,s,h);var u=Wl.xb(a.x,a.y);return t.lineTo((.1*l.x+.855)*e,.1*l.y*n),t.lineTo(.85*e,.1*l.y*n),t.lineTo(.85*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.15*n),t.lineTo((.1*u.x+.9)*e,.15*n),t.lineTo((.1*u.x+.9)*e,(.1*u.y+.05*.9)*n),t.lineTo(u.x*e,u.y*n),ta(t,s.x*e,s.y*n,h.x*e,h.y*n,(.5+r)*e,.5*n),ta(t,(.5+r)*e,(.5+i)*n,(.5+i)*e,(.5+r)*n,.5*e,(.5+r)*n),ta(t,(.5-i)*e,(.5+r)*n,(.5-r)*e,(.5+i)*n,(.5-r)*e,.5*n),r=.35,i=.35*Fu,Xo(t,.5*e,(.5-r)*n,!0,!0),ta(t,(.5-i)*e,(.5-r)*n,(.5-r)*e,(.5-i)*n,(.5-r)*e,.5*n),ta(t,(.5-r)*e,(.5+i)*n,(.5-i)*e,(.5+r)*n,.5*e,(.5+r)*n),ta(t,(.5+i)*e,(.5+r)*n,(.5+r)*e,(.5+i)*n,(.5+r)*e,.5*n),ta(t,(.5+r)*e,(.5-i)*n,(.5+i)*e,(.5-r)*n,.5*e,(.5-r)*n),Xo(t,(.5-r)*e,.5*n,!0),Wl.v(o),Wl.v(a),Wl.v(s),Wl.v(h),Wl.v(l),Wl.v(u),e=t.o,e.A=new L(.202,.257),e.B=new L(.692,.839),e.$d=qf,Wl.q(t),e},GenderFemale:function(t,e,n){t=Wl.s();var i=.375,r=0,o=-.125,a=4*(Math.SQRT2-1)/3*i;return Xo(t,(.525+r)*e,(.5+i+o)*n,!0),ta(t,(.5+a+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+a+o)*n,(.5+i+r)*e,(.5+o)*n),ta(t,(.5+i+r)*e,(.5-a+o)*n,(.5+a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),ta(t,(.5-a+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-a+o)*n,(.5-i+r)*e,(.5+o)*n),ta(t,(.5-i+r)*e,(.5+a+o)*n,(.5-a+r)*e,(.5+i+o)*n,(.475+r)*e,(.5+i+o)*n),t.lineTo(.475*e,.85*n),t.lineTo(.425*e,.85*n),t.lineTo(.425*e,.9*n),t.lineTo(.475*e,.9*n),t.lineTo(.475*e,1*n),t.lineTo(.525*e,1*n),t.lineTo(.525*e,.9*n),t.lineTo(.575*e,.9*n),t.lineTo(.575*e,.85*n),t.lineTo(.525*e,.85*n),Qo(t),i=.325,r=0,o=-.125,a=4*(Math.SQRT2-1)/3*i,Xo(t,(.5+i+r)*e,(.5+o)*n,!0,!0),ta(t,(.5+i+r)*e,(.5+a+o)*n,(.5+a+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),ta(t,(.5-a+r)*e,(.5+i+o)*n,(.5-i+r)*e,(.5+a+o)*n,(.5-i+r)*e,(.5+o)*n),ta(t,(.5-i+r)*e,(.5-a+o)*n,(.5-a+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),ta(t,(.5+a+r)*e,(.5-i+o)*n,(.5+i+r)*e,(.5-a+o)*n,(.5+i+r)*e,(.5+o)*n),Xo(t,(.525+r)*e,(.5+i+o)*n,!0),e=t.o,e.A=new L(.232,.136),e.B=new L(.782,.611),e.$d=qf,Wl.q(t),e},PlusLine:function(t,e,n){return t=Wl.s(),Xo(t,0,.5*n,!1),t.lineTo(1*e,.5*n),t.moveTo(.5*e,0),t.lineTo(.5*e,1*n),e=t.o,Wl.q(t),e},XLine:function(t,e,n){return t=Wl.s(),Xo(t,0,1*n,!1),t.lineTo(1*e,0),t.moveTo(0,0),t.lineTo(1*e,1*n),e=t.o,Wl.q(t),e},AsteriskLine:function(t,e,n){t=Wl.s();var i=.2/Math.SQRT2;return Xo(t,i*e,(1-i)*n,!1),t.lineTo((1-i)*e,i*n),t.moveTo(i*e,i*n),t.lineTo((1-i)*e,(1-i)*n),t.moveTo(0*e,.5*n),t.lineTo(1*e,.5*n),t.moveTo(.5*e,0*n),t.lineTo(.5*e,1*n),e=t.o,Wl.q(t),e},CircleLine:function(t,e,n){var i=.5*Fu;return t=Wl.s(),Xo(t,1*e,.5*n,!1),ta(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),ta(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),ta(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),e=t.o,e.A=new L(.146,.146),e.B=new L(.853,.853),e.$d=qf,Wl.q(t),e},Pie:function(t,e,n){t=Wl.s();var i=4*(Math.SQRT2-1)/3*.5;return Xo(t,(.5*Math.SQRT2/2+.5)*e,(.5-.5*Math.SQRT2/2)*n,!0),ta(t,.7*e,0*n,.5*e,0*n,.5*e,0*n),ta(t,(.5-i+0)*e,0*n,0*e,(.5-i+0)*n,0*e,.5*n),ta(t,0*e,(.5+i+0)*n,(.5-i+0)*e,1*n,.5*e,1*n),ta(t,(.5+i+0)*e,1*n,1*e,(.5+i+0)*n,1*e,.5*n),t.lineTo(.5*e,.5*n),Qo(t),e=t.o,Wl.q(t),e},PiePiece:function(t,e,n){var i=Fu/Math.SQRT2*.5,r=Math.SQRT2/2,o=1-Math.SQRT2/2;return t=Wl.s(),Xo(t,e,n,!0),ta(t,e,(1-i)*n,(r+i)*e,(o+i)*n,r*e,o*n),t.lineTo(0,n),Qo(t),e=t.o,Wl.q(t),e},StopSign:function(t,e,n){t=1/(Math.SQRT2+2);var i=Wl.s();return Xo(i,t*e,0,!0),i.lineTo((1-t)*e,0),i.lineTo(1*e,t*n),i.lineTo(1*e,(1-t)*n),i.lineTo((1-t)*e,1*n),i.lineTo(t*e,1*n),i.lineTo(0,(1-t)*n),i.lineTo(0,t*n),Qo(i),e=i.o,e.A=new L(t/2,t/2),e.B=new L(1-t/2,1-t/2),Wl.q(i),e},LogicImplies:function(t,e,n){var i=t?t.Dc:NaN;return isNaN(i)&&(i=.2),t=Wl.s(),Xo(t,(1-i)*e,0*n,!1),t.lineTo(1*e,.5*n),t.lineTo((1-i)*e,n),t.moveTo(0,.5*n),t.lineTo(e,.5*n),e=t.o,e.A=nu,e.B=new L(.8,.5),Wl.q(t),e},LogicIff:function(t,e,n){var i=t?t.Dc:NaN;return isNaN(i)&&(i=.2),t=Wl.s(),Xo(t,(1-i)*e,0*n,!1),t.lineTo(1*e,.5*n),t.lineTo((1-i)*e,n),t.moveTo(0,.5*n),t.lineTo(e,.5*n),t.moveTo(i*e,0),t.lineTo(0,.5*n),t.lineTo(i*e,n),e=t.o,e.A=new L(.2,0),e.B=new L(.8,.5),Wl.q(t),e},LogicNot:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,1*n),e=t.o,Wl.q(t),e},LogicAnd:function(t,e,n){return t=Wl.s(),Xo(t,0,1*n,!1),t.lineTo(.5*e,0),t.lineTo(1*e,1*n),e=t.o,e.A=new L(.25,.5),e.B=new L(.75,1),Wl.q(t),e},LogicOr:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),t.lineTo(.5*e,1*n),t.lineTo(1*e,0),e=t.o,e.A=new L(.219,0),e.B=new L(.78,.409),Wl.q(t),e},LogicXor:function(t,e,n){t=Wl.s(),Xo(t,.5*e,0,!1),t.lineTo(.5*e,1*n),t.moveTo(0,.5*n),t.lineTo(1*e,.5*n);var i=.5*Fu;return ta(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),ta(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),ta(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),e=t.o,e.$d=qf,Wl.q(t),e},LogicTruth:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(.5*e,0),t.lineTo(.5*e,1*n),e=t.o,Wl.q(t),e},LogicFalsity:function(t,e,n){return t=Wl.s(),Xo(t,0,1*n,!1),t.lineTo(1*e,1*n),t.moveTo(.5*e,1*n),t.lineTo(.5*e,0),e=t.o,Wl.q(t),e},LogicThereExists:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,.5*n),t.lineTo(0,.5*n),t.moveTo(1*e,.5*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),e=t.o,Wl.q(t),e},LogicForAll:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),t.lineTo(.5*e,1*n),t.lineTo(1*e,0),t.moveTo(.25*e,.5*n),t.lineTo(.75*e,.5*n),e=t.o,e.A=new L(.25,0),e.B=new L(.75,.5),Wl.q(t),e},LogicIsDefinedAs:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),t.lineTo(e,0),t.moveTo(0,.5*n),t.lineTo(e,.5*n),t.moveTo(0,n),t.lineTo(e,n),e=t.o,e.A=new L(.01,.01),e.B=new L(.99,.49),Wl.q(t),e},LogicIntersect:function(t,e,n){var i=.5*Fu;return t=Wl.s(),Xo(t,0,1*n,!1),t.lineTo(0,.5*n),ta(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),ta(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),t.lineTo(1*e,1*n),e=t.o,e.A=new L(0,.5),e.B=uu,Wl.q(t),e},LogicUnion:function(t,e,n){var i=.5*Fu;return t=Wl.s(),Xo(t,1*e,0,!1),t.lineTo(1*e,.5*n),ta(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),t.lineTo(0,0),e=t.o,e.A=nu,e.B=new L(1,.5),Wl.q(t),e},Arrow:function(t,e,n){var i=t?t.Dc:NaN,r=t?t.vu:NaN;return isNaN(i)&&(i=.3),isNaN(r)&&(r=.3),t=Wl.s(),Xo(t,0,(.5-r/2)*n,!0),t.lineTo((1-i)*e,(.5-r/2)*n),t.lineTo((1-i)*e,0),t.lineTo(1*e,.5*n),t.lineTo((1-i)*e,1*n),t.lineTo((1-i)*e,(.5+r/2)*n),t.lineTo(0,(.5+r/2)*n),Qo(t),e=t.o,e.A=new L(0,.5-r/2),i=lt(0,.5+r/2,1,.5+r/2,1-i,1,1,.5,Wl.K()),e.B=new L(i.x,i.y),Wl.v(i),Wl.q(t),e},ISOProcess:"Chevron",Chevron:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.5*n),t.lineTo(.5*e,1*n),t.lineTo(0,1*n),t.lineTo(.5*e,.5*n),Qo(t),e=t.o,Wl.q(t),e},DoubleArrow:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),t.lineTo(.3*e,.214*n),t.lineTo(.3*e,0),t.lineTo(1*e,.5*n),t.lineTo(.3*e,1*n),t.lineTo(.3*e,.786*n),t.lineTo(0,1*n),Qo(t),Xo(t,.3*e,.214*n,!1),t.lineTo(.3*e,.786*n),t.ab(!1),e=t.o,Wl.q(t),e},DoubleEndArrow:function(t,e,n){return t=Wl.s(),Xo(t,1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(.7*e,.7*n),t.lineTo(.3*e,.7*n),t.lineTo(.3*e,1*n),t.lineTo(0,.5*n),t.lineTo(.3*e,0),t.lineTo(.3*e,.3*n),t.lineTo(.7*e,.3*n),t.lineTo(.7*e,0),Qo(t),e=t.o,n=lt(0,.5,.3,0,0,.3,.3,.3,Wl.K()),e.A=new L(n.x,n.y),n=lt(.7,1,1,.5,.7,.7,1,.7,n),e.B=new L(n.x,n.y),Wl.v(n),Wl.q(t),e},IBeamArrow:function(t,e,n){return t=Wl.s(),Xo(t,1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(.7*e,.7*n),t.lineTo(.2*e,.7*n),t.lineTo(.2*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.2*e,0),t.lineTo(.2*e,.3*n),t.lineTo(.7*e,.3*n),t.lineTo(.7*e,0),Qo(t),e=t.o,e.A=new L(0,.3),n=lt(.7,1,1,.5,.7,.7,1,.7,Wl.K()),e.B=new L(n.x,n.y),Wl.v(n),Wl.q(t),e},Pointer:function(t,e,n){return t=Wl.s(),Xo(t,1*e,.5*n,!0),t.lineTo(0,1*n),t.lineTo(.2*e,.5*n),t.lineTo(0,0),Qo(t),e=t.o,e.A=new L(.2,.35),n=lt(.2,.65,1,.65,0,1,1,.5,Wl.K()),e.B=new L(n.x,n.y),Wl.v(n),Wl.q(t),e},RoundedPointer:function(t,e,n){return t=Wl.s(),Xo(t,1*e,.5*n,!0),t.lineTo(0,1*n),ta(t,.5*e,.75*n,.5*e,.25*n,0,0),Qo(t),e=t.o,e.A=new L(.4,.35),n=lt(.2,.65,1,.65,0,1,1,.5,Wl.K()),e.B=new L(n.x,n.y),Wl.v(n),Wl.q(t),e},SplitEndArrow:function(t,e,n){return t=Wl.s(),Xo(t,1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(.7*e,.7*n),t.lineTo(0,.7*n),t.lineTo(.2*e,.5*n),t.lineTo(0,.3*n),t.lineTo(.7*e,.3*n),t.lineTo(.7*e,0),Qo(t),e=t.o,e.A=new L(.2,.3),n=lt(.7,1,1,.5,.7,.7,1,.7,Wl.K()),e.B=new L(n.x,n.y),Wl.v(n),Wl.q(t),e},MessageToUser:"SquareArrow",SquareArrow:function(t,e,n){return t=Wl.s(),Xo(t,1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.7*e,0),Qo(t),e=t.o,e.A=nu,e.B=new L(.7,1),Wl.q(t),e},Cone1:function(t,e,n){var i=.5*Fu,r=.1*Fu;return t=Wl.s(),Xo(t,0,.9*n,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.9*n),ta(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),Qo(t),e=t.o,e.A=new L(.25,.5),e.B=new L(.75,.97),Wl.q(t),e},Cone2:function(t,e,n){return t=Wl.s(),Xo(t,0,.9*n,!0),ta(t,(1-.85/.9)*e,1*n,.85/.9*e,1*n,1*e,.9*n),t.lineTo(.5*e,0),t.lineTo(0,.9*n),Qo(t),Xo(t,0,.9*n,!1),ta(t,(1-.85/.9)*e,.8*n,.85/.9*e,.8*n,1*e,.9*n),t.ab(!1),e=t.o,e.A=new L(.25,.5),e.B=new L(.75,.82),Wl.q(t),e},Cube1:function(t,e,n){return t=Wl.s(),Xo(t,.5*e,1*n,!0),t.lineTo(1*e,.85*n),t.lineTo(1*e,.15*n),t.lineTo(.5*e,0*n),t.lineTo(0*e,.15*n),t.lineTo(0*e,.85*n),Qo(t),Xo(t,.5*e,1*n,!1),t.lineTo(.5*e,.3*n),t.lineTo(0,.15*n),t.moveTo(.5*e,.3*n),t.lineTo(1*e,.15*n),t.ab(!1),e=t.o,e.A=new L(0,.3),e.B=new L(.5,.85),Wl.q(t),e},Cube2:function(t,e,n){return t=Wl.s(),Xo(t,0,.3*n,!0),t.lineTo(0*e,1*n),t.lineTo(.7*e,n),t.lineTo(1*e,.7*n),t.lineTo(1*e,0*n),t.lineTo(.3*e,0*n),Qo(t),Xo(t,0,.3*n,!1),t.lineTo(.7*e,.3*n),t.lineTo(1*e,0*n),t.moveTo(.7*e,.3*n),t.lineTo(.7*e,1*n),t.ab(!1),e=t.o,e.A=new L(0,.3),e.B=new L(.7,1),Wl.q(t),e},MagneticData:"Cylinder1",Cylinder1:function(t,e,n){var i=.5*Fu,r=.1*Fu;return t=Wl.s(),Xo(t,0,.1*n,!0),ta(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),ta(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),t.lineTo(e,.9*n),ta(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),t.lineTo(0,.1*n),Xo(t,0,.1*n,!1),ta(t,0,(.1+r)*n,(.5-i)*e,.2*n,.5*e,.2*n),ta(t,(.5+i)*e,.2*n,1*e,(.1+r)*n,1*e,.1*n),t.ab(!1),e=t.o,e.A=new L(0,.2),e.B=new L(1,.9),Wl.q(t),e},Cylinder2:function(t,e,n){var i=.5*Fu,r=.1*Fu;return t=Wl.s(),Xo(t,0,.9*n,!0),t.lineTo(0,.1*n),ta(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),ta(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),t.lineTo(1*e,.9*n),ta(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),Xo(t,0,.9*n,!1),ta(t,0,(.9-r)*n,(.5-i)*e,.8*n,.5*e,.8*n),ta(t,(.5+i)*e,.8*n,1*e,(.9-r)*n,1*e,.9*n),t.ab(!1),e=t.o,e.A=new L(0,.1),e.B=new L(1,.8),Wl.q(t),e},Cylinder3:function(t,e,n){var i=.1*Fu,r=.5*Fu;return t=Wl.s(),Xo(t,.1*e,0,!0),t.lineTo(.9*e,0),ta(t,(.9+i)*e,0,1*e,(.5-r)*n,1*e,.5*n),ta(t,1*e,(.5+r)*n,(.9+i)*e,1*n,.9*e,1*n),t.lineTo(.1*e,1*n),ta(t,(.1-i)*e,1*n,0,(.5+r)*n,0,.5*n),ta(t,0,(.5-r)*n,(.1-i)*e,0,.1*e,0),Xo(t,.1*e,0,!1),ta(t,(.1+i)*e,0,.2*e,(.5-r)*n,.2*e,.5*n),ta(t,.2*e,(.5+r)*n,(.1+i)*e,1*n,.1*e,1*n),t.ab(!1),e=t.o,e.A=new L(.2,0),e.B=new L(.9,1),Wl.q(t),e},DirectData:"Cylinder4",Cylinder4:function(t,e,n){var i=.1*Fu,r=.5*Fu;return t=Wl.s(),Xo(t,.9*e,0,!0),ta(t,(.9+i)*e,0,1*e,(.5-r)*n,1*e,.5*n),ta(t,1*e,(.5+r)*n,(.9+i)*e,1*n,.9*e,1*n),t.lineTo(.1*e,1*n),ta(t,(.1-i)*e,1*n,0,(.5+r)*n,0,.5*n),ta(t,0,(.5-r)*n,(.1-i)*e,0,.1*e,0),t.lineTo(.9*e,0),Xo(t,.9*e,0,!1),ta(t,(.9-i)*e,0,.8*e,(.5-r)*n,.8*e,.5*n),ta(t,.8*e,(.5+r)*n,(.9-i)*e,1*n,.9*e,1*n),t.ab(!1),e=t.o,e.A=new L(.1,0),e.B=new L(.8,1),Wl.q(t),e},Prism1:function(t,e,n){return t=Wl.s(),Xo(t,.25*e,.25*n,!0),t.lineTo(.75*e,0),t.lineTo(e,.5*n),t.lineTo(.5*e,n),t.lineTo(0,n),Qo(t),Xo(t,.25*e,.25*n,!1),t.lineTo(.5*e,n),t.ab(!1),e=t.o,e.A=new L(.408,.172),e.B=new L(.833,.662),Wl.q(t),e},Prism2:function(t,e,n){return t=Wl.s(),Xo(t,0,.25*n,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*n),t.lineTo(.75*e,.75*n),t.lineTo(0,1*n),Qo(t),Xo(t,0,n,!1),t.lineTo(.25*e,.5*n),t.lineTo(e,.25*n),t.moveTo(0,.25*n),t.lineTo(.25*e,.5*n),t.ab(!1),e=t.o,e.A=new L(.25,.5),e.B=new L(.75,.75),Wl.q(t),e},Pyramid1:function(t,e,n){return t=Wl.s(),Xo(t,.5*e,0,!0),t.lineTo(e,.75*n),t.lineTo(.5*e,1*n),t.lineTo(0,.75*n),Qo(t),Xo(t,.5*e,0,!1),t.lineTo(.5*e,1*n),t.ab(!1),e=t.o,e.A=new L(.25,.367),e.B=new L(.75,.875),Wl.q(t),e},Pyramid2:function(t,e,n){return t=Wl.s(),Xo(t,.5*e,0,!0),t.lineTo(e,.85*n),t.lineTo(.5*e,1*n),t.lineTo(0,.85*n),Qo(t),Xo(t,.5*e,0,!1),t.lineTo(.5*e,.7*n),t.lineTo(0,.85*n),t.moveTo(.5*e,.7*n),t.lineTo(1*e,.85*n),t.ab(!1),e=t.o,e.A=new L(.25,.367),e.B=new L(.75,.875),Wl.q(t),e},Actor:function(t,e,n){var i=.2*Fu,r=.1*Fu,o=.5,a=.1;return t=Wl.s(),Xo(t,o*e,(a+.1)*n,!0),ta(t,(o-i)*e,(a+.1)*n,(o-.2)*e,(a+r)*n,(o-.2)*e,a*n),ta(t,(o-.2)*e,(a-r)*n,(o-i)*e,(a-.1)*n,o*e,(a-.1)*n),ta(t,(o+i)*e,(a-.1)*n,(o+.2)*e,(a-r)*n,(o+.2)*e,a*n),ta(t,(o+.2)*e,(a+r)*n,(o+i)*e,(a+.1)*n,o*e,(a+.1)*n),i=.05,r=Fu*i,Xo(t,.5*e,.2*n,!0),t.lineTo(.95*e,.2*n),o=.95,a=.25,ta(t,(o+r)*e,(a-i)*n,(o+i)*e,(a-r)*n,(o+i)*e,a*n),t.lineTo(1*e,.6*n),t.lineTo(.85*e,.6*n),t.lineTo(.85*e,.35*n),i=.025,r=Fu*i,o=.825,a=.35,ta(t,(o+i)*e,(a-r)*n,(o+r)*e,(a-i)*n,o*e,(a-i)*n),ta(t,(o-r)*e,(a-i)*n,(o-i)*e,(a-r)*n,(o-i)*e,a*n),t.lineTo(.8*e,1*n),t.lineTo(.55*e,1*n),t.lineTo(.55*e,.7*n),i=.05,r=Fu*i,o=.5,a=.7,ta(t,(o+i)*e,(a-r)*n,(o+r)*e,(a-i)*n,o*e,(a-i)*n),ta(t,(o-r)*e,(a-i)*n,(o-i)*e,(a-r)*n,(o-i)*e,a*n),t.lineTo(.45*e,1*n),t.lineTo(.2*e,1*n),t.lineTo(.2*e,.35*n),i=.025,r=Fu*i,o=.175,a=.35,ta(t,(o+i)*e,(a-r)*n,(o+r)*e,(a-i)*n,o*e,(a-i)*n),ta(t,(o-r)*e,(a-i)*n,(o-i)*e,(a-r)*n,(o-i)*e,a*n),t.lineTo(.15*e,.6*n),t.lineTo(0*e,.6*n),t.lineTo(0*e,.25*n),i=.05,r=Fu*i,o=.05,a=.25,ta(t,(o-i)*e,(a-r)*n,(o-r)*e,(a-i)*n,o*e,(a-i)*n),t.lineTo(.5*e,.2*n),e=t.o,e.A=new L(.2,.2),e.B=new L(.8,.65),Wl.q(t),e},Card:function(t,e,n){return t=Wl.s(),Xo(t,1*e,0*n,!0),t.lineTo(1*e,1*n),t.lineTo(0*e,1*n),t.lineTo(0*e,.2*n),t.lineTo(.2*e,0*n),Qo(t),e=t.o,e.A=new L(0,.2),e.B=uu,Wl.q(t),e},Collate:function(t,e,n){return t=Wl.s(),Xo(t,.5*e,.5*n,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.5*e,.5*n),Xo(t,.5*e,.5*n,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(.5*e,.5*n),e=t.o,e.A=new L(.25,0),e.B=new L(.75,.25),Wl.q(t),e},CreateRequest:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var i=Wl.s();return Xo(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),Qo(i),Xo(i,0,t*n,!1),i.lineTo(1*e,t*n),i.moveTo(0,(1-t)*n),i.lineTo(1*e,(1-t)*n),i.ab(!1),e=i.o,e.A=new L(0,t),e.B=new L(1,1-t),Wl.q(i),e},Database:function(t,e,n){t=Wl.s();var i=.5*Fu,r=.1*Fu;return Xo(t,1*e,.1*n,!0),t.lineTo(1*e,.9*n),ta(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),t.lineTo(0,.1*n),ta(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),ta(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),Xo(t,1*e,.1*n,!1),ta(t,1*e,(.1+r)*n,(.5+i)*e,.2*n,.5*e,.2*n),ta(t,(.5-i)*e,.2*n,0,(.1+r)*n,0,.1*n),t.moveTo(1*e,.2*n),ta(t,1*e,(.2+r)*n,(.5+i)*e,.3*n,.5*e,.3*n),ta(t,(.5-i)*e,.3*n,0,(.2+r)*n,0,.2*n),t.moveTo(1*e,.3*n),ta(t,1*e,(.3+r)*n,(.5+i)*e,.4*n,.5*e,.4*n),ta(t,(.5-i)*e,.4*n,0,(.3+r)*n,0,.3*n),t.ab(!1),e=t.o,e.A=new L(0,.4),e.B=new L(1,.9),Wl.q(t),e},StoredData:"DataStorage",DataStorage:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),t.lineTo(.75*e,0),ta(t,1*e,0,1*e,1*n,.75*e,1*n),t.lineTo(0,1*n),ta(t,.25*e,.9*n,.25*e,.1*n,0,0),Qo(t),e=t.o,e.A=new L(.226,0),e.B=new L(.81,1),Wl.q(t),e},DiskStorage:function(t,e,n){t=Wl.s();var i=.5*Fu,r=.1*Fu;return Xo(t,1*e,.1*n,!0),t.lineTo(1*e,.9*n),ta(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),t.lineTo(0,.1*n),ta(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),ta(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),Xo(t,1*e,.1*n,!1),ta(t,1*e,(.1+r)*n,(.5+i)*e,.2*n,.5*e,.2*n),ta(t,(.5-i)*e,.2*n,0,(.1+r)*n,0,.1*n),t.moveTo(1*e,.2*n),ta(t,1*e,(.2+r)*n,(.5+i)*e,.3*n,.5*e,.3*n),ta(t,(.5-i)*e,.3*n,0,(.2+r)*n,0,.2*n),t.ab(!1),e=t.o,e.A=new L(0,.3),e.B=new L(1,.9),Wl.q(t),e},Display:function(t,e,n){return t=Wl.s(),Xo(t,.25*e,0,!0),t.lineTo(.75*e,0),ta(t,1*e,0,1*e,1*n,.75*e,1*n),t.lineTo(.25*e,1*n),t.lineTo(0,.5*n),Qo(t),e=t.o,e.A=new L(.25,0),e.B=new L(.75,1),Wl.q(t),e},DividedEvent:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)?t=.2:.15>t&&(t=.15);var i=Wl.s(),r=.2*Fu;return Xo(i,0,.2*n,!0),ta(i,0,(.2-r)*n,(.2-r)*e,0,.2*e,0),i.lineTo(.8*e,0),ta(i,(.8+r)*e,0,1*e,(.2-r)*n,1*e,.2*n),i.lineTo(1*e,.8*n),ta(i,1*e,(.8+r)*n,(.8+r)*e,1*n,.8*e,1*n),i.lineTo(.2*e,1*n),ta(i,(.2-r)*e,1*n,0,(.8+r)*n,0,.8*n),i.lineTo(0,.2*n),Xo(i,0,t*n,!1),i.lineTo(1*e,t*n),i.ab(!1),e=i.o,e.A=new L(0,t),e.B=new L(1,1-t),Wl.q(i),e},DividedProcess:function(t,e,n){t=t?t.Dc:NaN,(isNaN(t)||.1>t)&&(t=.1);var i=Wl.s();return Xo(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),Qo(i),Xo(i,0,t*n,!1),i.lineTo(1*e,t*n),i.ab(!1),e=i.o,e.A=new L(0,t),e.B=uu,Wl.q(i),e},Document:function(t,e,n){return n/=.8,t=Wl.s(),Xo(t,0,.7*n,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*n),ta(t,.5*e,.4*n,.5*e,1*n,0,.7*n),Qo(t),e=t.o,e.A=nu,e.B=new L(1,.6),Wl.q(t),e},ExternalOrganization:function(t,e,n){t=t?t.Dc:NaN,(isNaN(t)||.2>t)&&(t=.2);var i=Wl.s();return Xo(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),Qo(i),Xo(i,t*e,0,!1),i.lineTo(0,t*n),i.moveTo(1*e,t*n),i.lineTo((1-t)*e,0),i.moveTo(0,(1-t)*n),i.lineTo(t*e,1*n),i.moveTo((1-t)*e,1*n),i.lineTo(1*e,(1-t)*n),i.ab(!1),e=i.o,e.A=new L(t/2,t/2),e.B=new L(1-t/2,1-t/2),Wl.q(i),e},ExternalProcess:function(t,e,n){return t=Wl.s(),Xo(t,.5*e,0,!0),t.lineTo(1*e,.5*n),t.lineTo(.5*e,1*n),t.lineTo(0,.5*n),Qo(t),Xo(t,.1*e,.4*n,!1),t.lineTo(.1*e,.6*n),t.moveTo(.9*e,.6*n),t.lineTo(.9*e,.4*n),t.moveTo(.6*e,.1*n),t.lineTo(.4*e,.1*n),t.moveTo(.4*e,.9*n),t.lineTo(.6*e,.9*n),t.ab(!1),e=t.o,e.A=new L(.25,.25),e.B=new L(.75,.75),Wl.q(t),e},File:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),Qo(t),Xo(t,.75*e,0,!1),t.lineTo(.75*e,.25*n),t.lineTo(1*e,.25*n),t.ab(!1),e=t.o,e.A=new L(0,.25),e.B=uu,Wl.q(t),e},Interrupt:function(t,e,n){return t=Wl.s(),Xo(t,1*e,.5*n,!0),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(1*e,.5*n),Xo(t,1*e,.5*n,!1),t.lineTo(1*e,1*n),Xo(t,1*e,.5*n,!1),t.lineTo(1*e,0),e=t.o,e.A=new L(0,.25),e.B=new L(.5,.75),Wl.q(t),e},InternalStorage:function(t,e,n){var i=t?t.Dc:NaN;t=t?t.vu:NaN,isNaN(i)&&(i=.1),isNaN(t)&&(t=.1);var r=Wl.s();return Xo(r,0,0,!0),r.lineTo(1*e,0),r.lineTo(1*e,1*n),r.lineTo(0,1*n),Qo(r),Xo(r,i*e,0,!1),r.lineTo(i*e,1*n),r.moveTo(0,t*n),r.lineTo(1*e,t*n),r.ab(!1),e=r.o,e.A=new L(i,t),e.B=uu,Wl.q(r),e},Junction:function(t,e,n){t=Wl.s();var i=1/Math.SQRT2,r=(1-1/Math.SQRT2)/2,o=.5*Fu;return Xo(t,1*e,.5*n,!0),ta(t,1*e,(.5+o)*n,(.5+o)*e,1*n,.5*e,1*n),ta(t,(.5-o)*e,1*n,0,(.5+o)*n,0,.5*n),ta(t,0,(.5-o)*n,(.5-o)*e,0,.5*e,0),ta(t,(.5+o)*e,0,1*e,(.5-o)*n,1*e,.5*n),Xo(t,(r+i)*e,(r+i)*n,!1),t.lineTo(r*e,r*n),t.moveTo(r*e,(r+i)*n),t.lineTo((r+i)*e,r*n),t.ab(!1),e=t.o,e.$d=qf,Wl.q(t),e},LinedDocument:function(t,e,n){return n/=.8,t=Wl.s(),Xo(t,0,.7*n,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*n),ta(t,.5*e,.4*n,.5*e,1*n,0,.7*n),Qo(t),Xo(t,.1*e,0,!1),t.lineTo(.1*e,.75*n),t.ab(!1),e=t.o,e.A=new L(.1,0),e.B=new L(1,.6),Wl.q(t),e},LoopLimit:function(t,e,n){return t=Wl.s(),Xo(t,0,1*n,!0),t.lineTo(0,.25*n),t.lineTo(.25*e,0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*n),t.lineTo(1*e,1*n),Qo(t),e=t.o,e.A=new L(0,.25),e.B=uu,Wl.q(t),e},SequentialData:"MagneticTape",MagneticTape:function(t,e,n){t=Wl.s();var i=.5*Fu;return Xo(t,.5*e,1*n,!0),ta(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),ta(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),ta(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),ta(t,1*e,(.5+i)*n,(.5+i)*e,.9*n,.6*e,.9*n),t.lineTo(1*e,.9*n),t.lineTo(1*e,1*n),t.lineTo(.5*e,1*n),e=t.o,e.A=new L(.15,.15),e.B=new L(.85,.8),Wl.q(t),e},ManualInput:function(t,e,n){return t=Wl.s(),Xo(t,1*e,0,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,.25*n),Qo(t),e=t.o,e.A=new L(0,.25),e.B=uu,Wl.q(t),e},MessageFromUser:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)&&(t=.7);var i=Wl.s();return Xo(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(t*e,.5*n),i.lineTo(1*e,1*n),i.lineTo(0,1*n),Qo(i),e=i.o,e.A=nu,e.B=new L(t,1),Wl.q(i),e},MicroformProcessing:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)&&(t=.25);var i=Wl.s();return Xo(i,0,0,!0),i.lineTo(.5*e,t*n),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(.5*e,(1-t)*n),i.lineTo(0,1*n),Qo(i),e=i.o,e.A=new L(0,t),e.B=new L(1,1-t),Wl.q(i),e},MicroformRecording:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),t.lineTo(.75*e,.25*n),t.lineTo(1*e,.15*n),t.lineTo(1*e,.85*n),t.lineTo(.75*e,.75*n),t.lineTo(0,1*n),Qo(t),e=t.o,e.A=new L(0,.25),e.B=new L(1,.75),Wl.q(t),e},MultiDocument:function(t,e,n){return n/=.8,t=Wl.s(),Xo(t,e,0,!0),t.lineTo(e,.5*n),ta(t,.96*e,.47*n,.93*e,.45*n,.9*e,.44*n),t.lineTo(.9*e,.6*n),ta(t,.86*e,.57*n,.83*e,.55*n,.8*e,.54*n),t.lineTo(.8*e,.7*n),ta(t,.4*e,.4*n,.4*e,1*n,0,.7*n),t.lineTo(0,.2*n),t.lineTo(.1*e,.2*n),t.lineTo(.1*e,.1*n),t.lineTo(.2*e,.1*n),t.lineTo(.2*e,0),Qo(t),Xo(t,.1*e,.2*n,!1),t.lineTo(.8*e,.2*n),t.lineTo(.8*e,.54*n),t.moveTo(.2*e,.1*n),t.lineTo(.9*e,.1*n),t.lineTo(.9*e,.44*n),t.ab(!1),e=t.o,e.A=new L(0,.25),e.B=new L(.8,.77),Wl.q(t),e},MultiProcess:function(t,e,n){return t=Wl.s(),Xo(t,.1*e,.1*n,!0),t.lineTo(.2*e,.1*n),t.lineTo(.2*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.8*n),t.lineTo(.9*e,.8*n),t.lineTo(.9*e,.9*n),t.lineTo(.8*e,.9*n),t.lineTo(.8*e,1*n),t.lineTo(0,1*n),t.lineTo(0,.2*n),t.lineTo(.1*e,.2*n),Qo(t),Xo(t,.2*e,.1*n,!1),t.lineTo(.9*e,.1*n),t.lineTo(.9*e,.8*n),t.moveTo(.1*e,.2*n),t.lineTo(.8*e,.2*n),t.lineTo(.8*e,.9*n),t.ab(!1),e=t.o,e.A=new L(0,.2),e.B=new L(.8,1),Wl.q(t),e},OfflineStorage:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var i=1-t,r=Wl.s();return Xo(r,0,0,!0),r.lineTo(1*e,0),r.lineTo(.5*e,1*n),Qo(r),Xo(r,.5*t*e,t*n,!1),r.lineTo((1-.5*t)*e,t*n),r.ab(!1),e=r.o,e.A=new L(i/4+.5*t,t),e.B=new L(3*i/4+.5*t,t+.5*i),Wl.q(r),e},OffPageConnector:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.5*n),t.lineTo(.75*e,1*n),t.lineTo(0,1*n),Qo(t),e=t.o,e.A=nu,e.B=new L(.75,1),Wl.q(t),e},Or:function(t,e,n){t=Wl.s();var i=.5*Fu;return Xo(t,1*e,.5*n,!0),ta(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),ta(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),ta(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),Xo(t,1*e,.5*n,!1),t.lineTo(0,.5*n),t.moveTo(.5*e,1*n),t.lineTo(.5*e,0),t.ab(!1),e=t.o,e.$d=qf,Wl.q(t),e},PaperTape:function(t,e,n){return n/=.8,t=Wl.s(),Xo(t,0,.7*n,!0),t.lineTo(0,.3*n),ta(t,.5*e,.6*n,.5*e,0,1*e,.3*n),t.lineTo(1*e,.7*n),ta(t,.5*e,.4*n,.5*e,1*n,0,.7*n),Qo(t),e=t.o,e.A=new L(0,.49),e.B=new L(1,.75),Wl.q(t),e},PrimitiveFromCall:function(t,e,n){var i=t?t.Dc:NaN;t=t?t.vu:NaN,isNaN(i)&&(i=.1),isNaN(t)&&(t=.3);var r=Wl.s();return Xo(r,0,0,!0),r.lineTo(1*e,0),r.lineTo((1-t)*e,.5*n),r.lineTo(1*e,1*n),r.lineTo(0,1*n),Qo(r),e=r.o,e.A=new L(i,0),e.B=new L(1-t,1),Wl.q(r),e},PrimitiveToCall:function(t,e,n){var i=t?t.Dc:NaN;t=t?t.vu:NaN,isNaN(i)&&(i=.1),isNaN(t)&&(t=.3);var r=Wl.s();return Xo(r,0,0,!0),r.lineTo((1-t)*e,0),r.lineTo(1*e,.5*n),r.lineTo((1-t)*e,1*n),r.lineTo(0,1*n),Qo(r),e=r.o,e.A=new L(i,0),e.B=new L(1-t,1),Wl.q(r),e},Subroutine:"Procedure",Procedure:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var i=Wl.s();return Xo(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),Qo(i),Xo(i,(1-t)*e,0,!1),i.lineTo((1-t)*e,1*n),i.moveTo(t*e,0),i.lineTo(t*e,1*n),i.ab(!1),e=i.o,e.A=new L(t,0),e.B=new L(1-t,1),Wl.q(i),e},Process:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var i=Wl.s();return Xo(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),Qo(i),Xo(i,t*e,0,!1),i.lineTo(t*e,1*n),i.ab(!1),e=i.o,e.A=new L(t,0),e.B=uu,Wl.q(i),e},Sort:function(t,e,n){return t=Wl.s(),Xo(t,.5*e,0,!0),t.lineTo(1*e,.5*n),t.lineTo(.5*e,1*n),t.lineTo(0,.5*n),Qo(t),Xo(t,0,.5*n,!1),t.lineTo(1*e,.5*n),t.ab(!1),e=t.o,e.A=new L(.25,.25),e.B=new L(.75,.5),Wl.q(t),e},Start:function(t,e,n){return t=Wl.s(),Xo(t,.25*e,0,!0),Xo(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*n,.25*e,.5*n),t.arcTo(90,180,.25*e,.5*n,.25*e,.5*n),Xo(t,.25*e,0,!1),t.lineTo(.25*e,1*n),t.moveTo(.75*e,0),t.lineTo(.75*e,1*n),t.ab(!1),e=t.o,e.A=new L(.25,0),e.B=new L(.75,1),Wl.q(t),e},Terminator:function(t,e,n){return t=Wl.s(),Xo(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*n,.25*e,.5*n),t.arcTo(90,180,.25*e,.5*n,.25*e,.5*n),e=t.o,e.A=new L(.23,0),e.B=new L(.77,1),Wl.q(t),e},TransmittalTape:function(t,e,n){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var i=Wl.s();return Xo(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(.75*e,(1-t)*n),i.lineTo(0,(1-t)*n),Qo(i),e=i.o,e.A=nu,e.B=new L(1,1-t),Wl.q(i),e},AndGate:function(t,e,n){t=Wl.s();var i=.5*Fu;return Xo(t,0,0,!0),t.lineTo(.5*e,0),ta(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),ta(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),t.lineTo(0,1*n),Qo(t),e=t.o,e.A=nu,e.B=new L(.55,1),Wl.q(t),e},Buffer:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),t.lineTo(1*e,.5*n),t.lineTo(0,1*n),Qo(t),e=t.o,e.A=new L(0,.25),e.B=new L(.5,.75),Wl.q(t),e},Clock:function(t,e,n){t=Wl.s();var i=.5*Fu;return Xo(t,1*e,.5*n,!0),ta(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),ta(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),ta(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),Xo(t,1*e,.5*n,!1),t.lineTo(1*e,.5*n),Xo(t,.8*e,.75*n,!1),t.lineTo(.8*e,.25*n),t.lineTo(.6*e,.25*n),t.lineTo(.6*e,.75*n),t.lineTo(.4*e,.75*n),t.lineTo(.4*e,.25*n),t.lineTo(.2*e,.25*n),t.lineTo(.2*e,.75*n),t.ab(!1),e=t.o,e.$d=qf,Wl.q(t),e},Ground:function(t,e,n){return t=Wl.s(),Xo(t,.5*e,0,!1),t.lineTo(.5*e,.4*n),t.moveTo(.2*e,.6*n),t.lineTo(.8*e,.6*n),t.moveTo(.3*e,.8*n),t.lineTo(.7*e,.8*n),t.moveTo(.4*e,1*n),t.lineTo(.6*e,1*n),e=t.o,Wl.q(t),e},Inverter:function(t,e,n){t=Wl.s();var i=.1*Fu;return Xo(t,.8*e,.5*n,!0),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.8*e,.5*n),Xo(t,1*e,.5*n,!0),ta(t,1*e,(.5+i)*n,(.9+i)*e,.6*n,.9*e,.6*n),ta(t,(.9-i)*e,.6*n,.8*e,(.5+i)*n,.8*e,.5*n),ta(t,.8*e,(.5-i)*n,(.9-i)*e,.4*n,.9*e,.4*n),ta(t,(.9+i)*e,.4*n,1*e,(.5-i)*n,1*e,.5*n),e=t.o,e.A=new L(0,.25),e.B=new L(.4,.75),Wl.q(t),e},NandGate:function(t,e,n){t=Wl.s();var i=.5*Fu,r=.4*Fu,o=.1*Fu;return Xo(t,.8*e,.5*n,!0),ta(t,.8*e,(.5+r)*n,(.4+i)*e,1*n,.4*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.4*e,0),ta(t,(.4+i)*e,0,.8*e,(.5-r)*n,.8*e,.5*n),Xo(t,1*e,.5*n,!0),ta(t,1*e,(.5+o)*n,(.9+o)*e,.6*n,.9*e,.6*n),ta(t,(.9-o)*e,.6*n,.8*e,(.5+o)*n,.8*e,.5*n),ta(t,.8*e,(.5-o)*n,(.9-o)*e,.4*n,.9*e,.4*n),ta(t,(.9+o)*e,.4*n,1*e,(.5-o)*n,1*e,.5*n),e=t.o,e.A=new L(0,.05),e.B=new L(.55,.95),Wl.q(t),e},NorGate:function(t,e,n){t=Wl.s();var i=.5,r=Fu*i,o=0,a=.5;return Xo(t,.8*e,.5*n,!0),ta(t,.7*e,(a+r)*n,(o+r)*e,(a+i)*n,0,1*n),ta(t,.25*e,.75*n,.25*e,.25*n,0,0),ta(t,(o+r)*e,(a-i)*n,.7*e,(a-r)*n,.8*e,.5*n),i=.1,r=.1*Fu,o=.9,a=.5,Xo(t,(o-i)*e,a*n,!0),ta(t,(o-i)*e,(a-r)*n,(o-r)*e,(a-i)*n,o*e,(a-i)*n),ta(t,(o+r)*e,(a-i)*n,(o+i)*e,(a-r)*n,(o+i)*e,a*n),ta(t,(o+i)*e,(a+r)*n,(o+r)*e,(a+i)*n,o*e,(a+i)*n),ta(t,(o-r)*e,(a+i)*n,(o-i)*e,(a+r)*n,(o-i)*e,a*n),e=t.o,e.A=new L(.2,.25),e.B=new L(.6,.75),Wl.q(t),e},OrGate:function(t,e,n){t=Wl.s();var i=.5*Fu;return Xo(t,0,0,!0),ta(t,(0+i+i)*e,0*n,.8*e,(.5-i)*n,1*e,.5*n),ta(t,.8*e,(.5+i)*n,(0+i+i)*e,1*n,0,1*n),ta(t,.25*e,.75*n,.25*e,.25*n,0,0),Qo(t),e=t.o,e.A=new L(.2,.25),e.B=new L(.75,.75),Wl.q(t),e},XnorGate:function(t,e,n){t=Wl.s();var i=.5,r=Fu*i,o=.2,a=.5;return Xo(t,.1*e,0,!1),ta(t,.35*e,.25*n,.35*e,.75*n,.1*e,1*n),Xo(t,.8*e,.5*n,!0),ta(t,.7*e,(a+r)*n,(o+r)*e,(a+i)*n,.2*e,1*n),ta(t,.45*e,.75*n,.45*e,.25*n,.2*e,0),ta(t,(o+r)*e,(a-i)*n,.7*e,(a-r)*n,.8*e,.5*n),i=.1,r=.1*Fu,o=.9,a=.5,Xo(t,(o-i)*e,a*n,!0),ta(t,(o-i)*e,(a-r)*n,(o-r)*e,(a-i)*n,o*e,(a-i)*n),ta(t,(o+r)*e,(a-i)*n,(o+i)*e,(a-r)*n,(o+i)*e,a*n),ta(t,(o+i)*e,(a+r)*n,(o+r)*e,(a+i)*n,o*e,(a+i)*n),ta(t,(o-r)*e,(a+i)*n,(o-i)*e,(a+r)*n,(o-i)*e,a*n),e=t.o,e.A=new L(.4,.25),e.B=new L(.65,.75),Wl.q(t),e},XorGate:function(t,e,n){t=Wl.s();var i=.5*Fu;return Xo(t,.1*e,0,!1),ta(t,.35*e,.25*n,.35*e,.75*n,.1*e,1*n),Xo(t,.2*e,0,!0),ta(t,(.2+i)*e,0*n,.9*e,(.5-i)*n,1*e,.5*n),ta(t,.9*e,(.5+i)*n,(.2+i)*e,1*n,.2*e,1*n),ta(t,.45*e,.75*n,.45*e,.25*n,.2*e,0),Qo(t),e=t.o,e.A=new L(.4,.25),e.B=new L(.8,.75),Wl.q(t),e},Capacitor:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),t.lineTo(0,1*n),t.moveTo(1*e,0),t.lineTo(1*e,1*n),e=t.o,Wl.q(t),e},Resistor:function(t,e,n){return t=Wl.s(),Xo(t,0,.5*n,!1),t.lineTo(.1*e,0),t.lineTo(.2*e,1*n),t.lineTo(.3*e,0),t.lineTo(.4*e,1*n),t.lineTo(.5*e,0),t.lineTo(.6*e,1*n),t.lineTo(.7*e,.5*n),e=t.o,Wl.q(t),e},Inductor:function(t,e,n){t=Wl.s();var i=.1*Fu,r=.1;return Xo(t,(r-.5*i)*e,n,!1),ta(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),r=.3,ta(t,(r+.1)*e,0,(r+i)*e,n,r*e,n),ta(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),r=.5,ta(t,(r+.1)*e,0,(r+i)*e,n,r*e,n),ta(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),r=.7,ta(t,(r+.1)*e,0,(r+i)*e,n,r*e,n),ta(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),r=.9,ta(t,(r+.1)*e,0,(r+i)*e,n,(r+.5*i)*e,n),e=t.o,Wl.q(t),e},ACvoltageSource:function(t,e,n){t=Wl.s();var i=.5*Fu;return Xo(t,0*e,.5*n,!1),ta(t,0*e,(.5-i)*n,(.5-i)*e,0*n,.5*e,0*n),ta(t,(.5+i)*e,0*n,1*e,(.5-i)*n,1*e,.5*n),ta(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0*e,(.5+i)*n,0*e,.5*n),t.moveTo(.1*e,.5*n),ta(t,.5*e,0*n,.5*e,1*n,.9*e,.5*n),e=t.o,e.$d=qf,Wl.q(t),e},DCvoltageSource:function(t,e,n){return t=Wl.s(),Xo(t,0,.75*n,!1),t.lineTo(0,.25*n),t.moveTo(1*e,0),t.lineTo(1*e,1*n),e=t.o,Wl.q(t),e},Diode:function(t,e,n){return t=Wl.s(),Xo(t,1*e,0,!1),t.lineTo(1*e,.5*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(1*e,.5*n),t.lineTo(1*e,1*n),e=t.o,e.A=new L(0,.25),e.B=new L(.5,.75),Wl.q(t),e},Wifi:function(t,e,n){var i=e,r=n;e*=.38,n*=.6,t=Wl.s();var o=.8*Fu,a=.8,s=0,h=.5,i=(i-e)/2,r=(r-n)/2;return Xo(t,s*e+i,(h+a)*n+r,!0),ta(t,(s-o)*e+i,(h+a)*n+r,(s-a)*e+i,(h+o)*n+r,(s-a)*e+i,h*n+r),ta(t,(s-a)*e+i,(h-o)*n+r,(s-o)*e+i,(h-a)*n+r,s*e+i,(h-a)*n+r),ta(t,s*e+i,(h-a)*n+r,(s-a+.5*o)*e+i,(h-o)*n+r,(s-a+.5*o)*e+i,h*n+r),ta(t,(s-a+.5*o)*e+i,(h+o)*n+r,s*e+i,(h+a)*n+r,s*e+i,(h+a)*n+r),Qo(t),o=.4*Fu,a=.4,s=.2,h=.5,Xo(t,s*e+i,(h+a)*n+r,!0),ta(t,(s-o)*e+i,(h+a)*n+r,(s-a)*e+i,(h+o)*n+r,(s-a)*e+i,h*n+r),ta(t,(s-a)*e+i,(h-o)*n+r,(s-o)*e+i,(h-a)*n+r,s*e+i,(h-a)*n+r),ta(t,s*e+i,(h-a)*n+r,(s-a+.5*o)*e+i,(h-o)*n+r,(s-a+.5*o)*e+i,h*n+r),ta(t,(s-a+.5*o)*e+i,(h+o)*n+r,s*e+i,(h+a)*n+r,s*e+i,(h+a)*n+r),Qo(t),o=.2*Fu,a=.2,h=s=.5,Xo(t,(s-a)*e+i,h*n+r,!0),ta(t,(s-a)*e+i,(h-o)*n+r,(s-o)*e+i,(h-a)*n+r,s*e+i,(h-a)*n+r),ta(t,(s+o)*e+i,(h-a)*n+r,(s+a)*e+i,(h-o)*n+r,(s+a)*e+i,h*n+r),ta(t,(s+a)*e+i,(h+o)*n+r,(s+o)*e+i,(h+a)*n+r,s*e+i,(h+a)*n+r),ta(t,(s-o)*e+i,(h+a)*n+r,(s-a)*e+i,(h+o)*n+r,(s-a)*e+i,h*n+r),o=.4*Fu,a=.4,s=.8,h=.5,Xo(t,s*e+i,(h-a)*n+r,!0),ta(t,(s+o)*e+i,(h-a)*n+r,(s+a)*e+i,(h-o)*n+r,(s+a)*e+i,h*n+r),ta(t,(s+a)*e+i,(h+o)*n+r,(s+o)*e+i,(h+a)*n+r,s*e+i,(h+a)*n+r),ta(t,s*e+i,(h+a)*n+r,(s+a-.5*o)*e+i,(h+o)*n+r,(s+a-.5*o)*e+i,h*n+r),ta(t,(s+a-.5*o)*e+i,(h-o)*n+r,s*e+i,(h-a)*n+r,s*e+i,(h-a)*n+r),Qo(t),o=.8*Fu,a=.8,s=1,h=.5,Xo(t,s*e+i,(h-a)*n+r,!0),ta(t,(s+o)*e+i,(h-a)*n+r,(s+a)*e+i,(h-o)*n+r,(s+a)*e+i,h*n+r),ta(t,(s+a)*e+i,(h+o)*n+r,(s+o)*e+i,(h+a)*n+r,s*e+i,(h+a)*n+r),ta(t,s*e+i,(h+a)*n+r,(s+a-.5*o)*e+i,(h+o)*n+r,(s+a-.5*o)*e+i,h*n+r),ta(t,(s+a-.5*o)*e+i,(h-o)*n+r,s*e+i,(h-a)*n+r,s*e+i,(h-a)*n+r),Qo(t),e=t.o,Wl.q(t),e},Email:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),Qo(t),Xo(t,0,0,!1),t.lineTo(.5*e,.6*n),t.lineTo(1*e,0),t.moveTo(0,1*n),t.lineTo(.45*e,.54*n),t.moveTo(1*e,1*n),t.lineTo(.55*e,.54*n),t.ab(!1),e=t.o,Wl.q(t),e},Ethernet:function(t,e,n){return t=Wl.s(),Xo(t,.35*e,0,!0),t.lineTo(.65*e,0),t.lineTo(.65*e,.4*n),t.lineTo(.35*e,.4*n),t.lineTo(.35*e,0),Qo(t),Xo(t,.1*e,1*n,!0,!0),t.lineTo(.4*e,1*n),t.lineTo(.4*e,.6*n),t.lineTo(.1*e,.6*n),t.lineTo(.1*e,1*n),Qo(t),Xo(t,.6*e,1*n,!0,!0),t.lineTo(.9*e,1*n),t.lineTo(.9*e,.6*n),t.lineTo(.6*e,.6*n),t.lineTo(.6*e,1*n),Qo(t),Xo(t,0,.5*n,!1),t.lineTo(1*e,.5*n),t.moveTo(.5*e,.5*n),t.lineTo(.5*e,.4*n),t.moveTo(.75*e,.5*n),t.lineTo(.75*e,.6*n),t.moveTo(.25*e,.5*n),t.lineTo(.25*e,.6*n),t.ab(!1),e=t.o,Wl.q(t),e},Power:function(t,e,n){t=Wl.s();var i=.4*Fu,r=.4,o=Wl.K(),a=Wl.K(),s=Wl.K(),h=Wl.K();tt(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.5,o,o,a,s,h);var l=Wl.xb(a.x,a.y);return Xo(t,a.x*e,a.y*n,!0),ta(t,s.x*e,s.y*n,h.x*e,h.y*n,(.5+r)*e,.5*n),ta(t,(.5+r)*e,(.5+i)*n,(.5+i)*e,(.5+r)*n,.5*e,(.5+r)*n),ta(t,(.5-i)*e,(.5+r)*n,(.5-r)*e,(.5+i)*n,(.5-r)*e,.5*n),tt(.5-r,.5,.5-r,.5-i,.5-i,.5-r,.5,.5-r,.5,s,h,a,o,o),ta(t,s.x*e,s.y*n,h.x*e,h.y*n,a.x*e,a.y*n),i=.3*Fu,r=.3,tt(.5-r,.5,.5-r,.5-i,.5-i,.5-r,.5,.5-r,.5,s,h,a,o,o),t.lineTo(a.x*e,a.y*n),ta(t,h.x*e,h.y*n,s.x*e,s.y*n,(.5-r)*e,.5*n),ta(t,(.5-r)*e,(.5+i)*n,(.5-i)*e,(.5+r)*n,.5*e,(.5+r)*n),ta(t,(.5+i)*e,(.5+r)*n,(.5+r)*e,(.5+i)*n,(.5+r)*e,.5*n),tt(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.5,o,o,a,s,h),ta(t,h.x*e,h.y*n,s.x*e,s.y*n,a.x*e,a.y*n),Qo(t),Xo(t,.45*e,0,!0),t.lineTo(.45*e,.5*n),t.lineTo(.55*e,.5*n),t.lineTo(.55*e,0),Qo(t),Wl.v(o),Wl.v(a),Wl.v(s),Wl.v(h),Wl.v(l),e=t.o,e.A=new L(.25,.55),e.B=new L(.75,.8),Wl.q(t),e},Fallout:function(t,e,n){t=Wl.s();var i=.5*Fu;Xo(t,0*e,.5*n,!0),ta(t,0*e,(.5-i)*n,(.5-i)*e,0*n,.5*e,0*n),ta(t,(.5+i)*e,0*n,1*e,(.5-i)*n,1*e,.5*n),ta(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0*e,(.5+i)*n,0*e,.5*n);var r=i=0;return Xo(t,(.3+i)*e,(.8+r)*n,!0,!0),t.lineTo((.5+i)*e,(.5+r)*n),t.lineTo((.1+i)*e,(.5+r)*n),t.lineTo((.3+i)*e,(.8+r)*n),i=.4,r=0,Qo(t),Xo(t,(.3+i)*e,(.8+r)*n,!0,!0),t.lineTo((.5+i)*e,(.5+r)*n),t.lineTo((.1+i)*e,(.5+r)*n),t.lineTo((.3+i)*e,(.8+r)*n),i=.2,r=-.3,Qo(t),Xo(t,(.3+i)*e,(.8+r)*n,!0,!0),t.lineTo((.5+i)*e,(.5+r)*n),t.lineTo((.1+i)*e,(.5+r)*n),t.lineTo((.3+i)*e,(.8+r)*n),Qo(t),e=t.o,e.$d=qf,Wl.q(t),e},IrritationHazard:function(t,e,n){return t=Wl.s(),Xo(t,.2*e,0*n,!0),t.lineTo(.5*e,.3*n),t.lineTo(.8*e,0*n),t.lineTo(1*e,.2*n),t.lineTo(.7*e,.5*n),t.lineTo(1*e,.8*n),t.lineTo(.8*e,1*n),t.lineTo(.5*e,.7*n),t.lineTo(.2*e,1*n),t.lineTo(0*e,.8*n),t.lineTo(.3*e,.5*n),t.lineTo(0*e,.2*n),Qo(t),e=t.o,e.A=new L(.3,.3),e.B=new L(.7,.7),Wl.q(t),e},ElectricalHazard:function(t,e,n){return t=Wl.s(),Xo(t,.37*e,0*n,!0),t.lineTo(.5*e,.11*n),t.lineTo(.77*e,.04*n),t.lineTo(.33*e,.49*n),t.lineTo(1*e,.37*n),t.lineTo(.63*e,.86*n),t.lineTo(.77*e,.91*n),t.lineTo(.34*e,1*n),t.lineTo(.34*e,.78*n),t.lineTo(.44*e,.8*n),t.lineTo(.65*e,.56*n),t.lineTo(0*e,.68*n),Qo(t),e=t.o,Wl.q(t),e},FireHazard:function(t,e,n){return t=Wl.s(),Xo(t,.1*e,1*n,!0),ta(t,-.25*e,.63*n,.45*e,.44*n,.29*e,0*n),ta(t,.48*e,.17*n,.54*e,.35*n,.51*e,.42*n),ta(t,.59*e,.29*n,.58*e,.28*n,.59*e,.18*n),ta(t,.8*e,.34*n,.88*e,.43*n,.75*e,.6*n),ta(t,.87*e,.48*n,.88*e,.43*n,.88*e,.31*n),ta(t,1.17*e,.76*n,.82*e,.8*n,.9*e,1*n),Qo(t),e=t.o,e.A=new L(.05,.645),e.B=new L(.884,.908),Wl.q(t),e},BpmnActivityLoop:function(t,e,n){t=Wl.s();var i=4*(Math.SQRT2-1)/3*.5;return Xo(t,.65*e,1*n,!1),ta(t,(1-i+0)*e,1*n,1*e,(.5+i+0)*n,1*e,.5*n),ta(t,1*e,(.5-i+0)*n,(.5+i+0)*e,0*n,.5*e,0*n),ta(t,(.5-i+0)*e,0*n,0*e,(.5-i+0)*n,0*e,.5*n),ta(t,0*e,(.5+i+0)*n,(.5-i+0)*e,1*n,.35*e,.98*n),t.moveTo(.25*e,.8*n),t.lineTo(.35*e,1*n),t.lineTo(.1*e,1*n),e=t.o,Wl.q(t),e},BpmnActivityParallel:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),t.lineTo(0,1*n),t.moveTo(.5*e,0),t.lineTo(.5*e,1*n),t.moveTo(1*e,0),t.lineTo(1*e,1*n),e=t.o,Wl.q(t),e},BpmnActivitySequential:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(0,.5*n),t.lineTo(1*e,.5*n),t.moveTo(0,1*n),t.lineTo(1*e,1*n),e=t.o,Wl.q(t),e},BpmnActivityAdHoc:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),Xo(t,1*e,1*n,!1),Xo(t,0,.5*n,!1),ta(t,.2*e,.35*n,.3*e,.35*n,.5*e,.5*n),ta(t,.7*e,.65*n,.8*e,.65*n,1*e,.5*n),e=t.o,Wl.q(t),e},BpmnActivityCompensation:function(t,e,n){return t=Wl.s(),Xo(t,0,.5*n,!0),t.lineTo(.5*e,0),t.lineTo(.5*e,.5*n),t.lineTo(1*e,1*n),t.lineTo(1*e,0),t.lineTo(.5*e,.5*n),t.lineTo(.5*e,1*n),Qo(t),e=t.o,Wl.q(t),e},BpmnTaskMessage:function(t,e,n){return t=Wl.s(),Xo(t,0,.2*n,!0),t.lineTo(1*e,.2*n),t.lineTo(1*e,.8*n),t.lineTo(0,.8*n),t.lineTo(0,.8*n),Qo(t),Xo(t,0,.2*n,!1),t.lineTo(.5*e,.5*n),t.lineTo(1*e,.2*n),t.ab(!1),e=t.o,Wl.q(t),e},BpmnTaskScript:function(t,e,n){return t=Wl.s(),Xo(t,.7*e,1*n,!0),t.lineTo(.3*e,1*n),ta(t,.6*e,.5*n,0,.5*n,.3*e,0),t.lineTo(.7*e,0),ta(t,.4*e,.5*n,1*e,.5*n,.7*e,1*n),Qo(t),Xo(t,.45*e,.73*n,!1),t.lineTo(.7*e,.73*n),t.moveTo(.38*e,.5*n),t.lineTo(.63*e,.5*n),t.moveTo(.31*e,.27*n),t.lineTo(.56*e,.27*n),t.ab(!1),e=t.o,Wl.q(t),e},BpmnTaskUser:function(t,e,n){t=Wl.s(),Xo(t,0,0,!1),Xo(t,.335*e,(1-.555)*n,!0),t.lineTo(.335*e,.595*n),t.lineTo(.665*e,.595*n),t.lineTo(.665*e,(1-.555)*n),ta(t,.88*e,.46*n,.98*e,.54*n,1*e,.68*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,.68*n),ta(t,.02*e,.54*n,.12*e,.46*n,.335*e,(1-.555)*n),t.lineTo(.365*e,.405*n);var i=.5-.285,r=Math.PI/4,o=4*(1-Math.cos(r))/(3*Math.sin(r)),r=o*i,o=o*i;return ta(t,(.5-(r+i)/2)*e,(i+(i+o)/2)*n,.285*e,(i+o)*n,.285*e,i*n),ta(t,.285*e,(i-o)*n,(.5-r)*e,0*n,.5*e,0*n),ta(t,(.5+r)*e,0*n,(.5+i)*e,(i-o)*n,(.5+i)*e,i*n),ta(t,(.5+i)*e,(i+o)*n,(.5+(r+i)/2)*e,(i+(i+o)/2)*n,.635*e,.405*n),t.lineTo(.635*e,.405*n),t.lineTo(.665*e,(1-.555)*n),t.lineTo(.665*e,.595*n),t.lineTo(.335*e,.595*n),Xo(t,.2*e,1*n,!1),t.lineTo(.2*e,.8*n),Xo(t,.8*e,1*n,!1),t.lineTo(.8*e,.8*n),e=t.o,Wl.q(t),e},BpmnEventConditional:function(t,e,n){return t=Wl.s(),Xo(t,.1*e,0,!0),t.lineTo(.9*e,0),t.lineTo(.9*e,1*n),t.lineTo(.1*e,1*n),Qo(t),Xo(t,.2*e,.2*n,!1),t.lineTo(.8*e,.2*n),t.moveTo(.2*e,.4*n),t.lineTo(.8*e,.4*n),t.moveTo(.2*e,.6*n),t.lineTo(.8*e,.6*n),t.moveTo(.2*e,.8*n),t.lineTo(.8*e,.8*n),t.ab(!1),e=t.o,Wl.q(t),e},BpmnEventError:function(t,e,n){return t=Wl.s(),Xo(t,0,1*n,!0),t.lineTo(.33*e,0),t.lineTo(.66*e,.5*n),t.lineTo(1*e,0),t.lineTo(.66*e,1*n),t.lineTo(.33*e,.5*n),Qo(t),e=t.o,Wl.q(t),e},BpmnEventEscalation:function(t,e,n){return t=Wl.s(),Xo(t,0,0,!1),Xo(t,1*e,1*n,!1),Xo(t,.1*e,1*n,!0),t.lineTo(.5*e,0),t.lineTo(.9*e,1*n),t.lineTo(.5*e,.5*n),Qo(t),e=t.o,Wl.q(t),e},BpmnEventTimer:function(t,e,n){t=Wl.s();var i=.5*Fu;return Xo(t,1*e,.5*n,!0),ta(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),ta(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),ta(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),ta(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),Xo(t,.5*e,0,!1),t.lineTo(.5*e,.15*n),t.moveTo(.5*e,1*n),t.lineTo(.5*e,.85*n),t.moveTo(0,.5*n),t.lineTo(.15*e,.5*n),t.moveTo(1*e,.5*n),t.lineTo(.85*e,.5*n),t.moveTo(.5*e,.5*n),t.lineTo(.58*e,.1*n),t.moveTo(.5*e,.5*n),t.lineTo(.78*e,.54*n),t.ab(!1),e=t.o,e.$d=qf,Wl.q(t),e}};for(Pd in Cd)Cd[Pd.toLowerCase()]=Pd;var Nd={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};Wl.Ma(sa,Qr),Wl.ga("Part",sa),sa.prototype.cloneProtected=function(t){Qr.prototype.cloneProtected.call(this,t),t.O=this.O&-4097|49152,t.vi=this.vi,t.ll=this.ll,t.Tr=this.Tr,t.Ss=this.Ss,t.Gs=this.Gs,t.Js=this.Js,t.Us=this.Us,t.Ts=this.Ts,t.Gr=this.Gr,t.ti=null,t.Is=this.Is,t.Hs=this.Hs.S(),t.Ks=this.Ks,t.Ed=this.Ed,t.Vq=this.Vq,t.Si.assign(this.Si),t.Yr=this.Yr,t.Zr=this.Zr.S(),t.gs=this.gs.S(),t.$r=this.$r.S(),t.or=this.or,t.Ur=this.Ur,t.bn=this.bn.S(),t.an=this.an,t.Ag=this.Ag,t.tt=this.tt},sa.prototype.li=function(t){Qr.prototype.li.call(this,t),t.Wl(),t.$m=null,t.jp=null,t.lp=null,t.ol=null,t.Om=null},sa.prototype.toString=function(){var t=Wl.jf(Object.getPrototypeOf(this))+"#"+Wl.Jd(this);return null!==this.data&&(t+="("+xc(this.data)+")"),t},sa.LayoutNone=0;var Dd;sa.LayoutAdded=Dd=1;var Ad;sa.LayoutRemoved=Ad=2,sa.LayoutShown=4,sa.LayoutHidden=8,sa.LayoutNodeSized=16;var Ed;sa.LayoutGroupLayout=Ed=32,sa.LayoutNodeReplaced=64;var jd;sa.LayoutStandard=jd=Dd|Ad|28|Ed|64,sa.LayoutAll=16777215,sa.prototype.Un=function(t,e,n,i,r,o,a){var s=this.g;null!==s&&(t===yc&&"elements"===e?r instanceof Qr?so(r,function(t){Pi(s,t),Ni(s,t)}):r instanceof Ho&&Di(s,r):t===gc&&"elements"===e&&(r instanceof Qr?so(r,function(t){Ci(s,t),Ai(s,t)}):r instanceof Ho&&Ei(s,r)),s.Xc(t,e,n,i,r,o,a))},sa.prototype.updateTargetBindings=sa.prototype.Ib=function(t){if(Qr.prototype.Ib.call(this,t),null!==this.data){t=this.xa.n;for(var e=t.length,n=0;n<e;n++){var i=t[n];i instanceof Qr&&so(i,function(t){null!==t.data&&t.Ib()})}}},sa.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var n=e.ca;n instanceof Qt&&(t=n.zn(t),null===(e=e.RH(t))||e instanceof Ds)&&(this.La=e)}}},Wl.u(sa,{Kw:"adornments"},function(){return null===this.ti?Yl:this.ti.qF}),sa.prototype.findAdornment=sa.prototype.Up=function(t){var e=this.ti;return null===e?null:e.la(t)},sa.prototype.addAdornment=sa.prototype.Al=function(t,e){if(null!==e){var n=null,i=this.ti;if(null!==i&&(n=i.la(t)),n!==e){if(null!==n){var r=n.g;null!==r&&r.remove(n)}null===i&&(this.ti=i=new b("string",Aa)),e.vi!==t&&(e.sd=t),i.add(t,e),n=this.g,null!==n&&(n.add(e),e.data=this.data)}}},sa.prototype.removeAdornment=sa.prototype.Aj=function(t){var e=this.ti;if(null!==e){var n=e.la(t);if(null!==n){var i=n.g;null!==i&&i.remove(n)}e.remove(t),0===e.count&&(this.ti=null)}},sa.prototype.clearAdornments=sa.prototype.Ct=function(){var t=this.ti;if(null!==t){for(var e=Wl.mb(),t=t.i;t.next();)e.push(t.key);for(var t=e.length,n=0;n<t;n++)this.Aj(e[n]);Wl.wa(e)}},sa.prototype.updateAdornments=function(){var t=this.g;if(null!==t){t:{if(this.fb&&this.vJ){var e=this.Eu;if(!(null!==e&&this.Y.H()&&this.isVisible()&&e.vj()&&e.Y.H()))break t;var n=this.Up("Selection");if(null===n){if(n=this.wJ,null===n&&(n=this instanceof _a?t.HI:this instanceof Ds?t.eI:t.$I),!(n instanceof Aa))break t;mo(n),n=n.copy(),null!==n&&(n.rb=e)}if(null!==n){var i=n.placeholder;if(null!==i){var r=e.nj(),o=0;e instanceof Po&&(o=e.lb);var a=Wl.jm();a.l((e.Ja.width+o)*r,(e.Ja.height+o)*r),i.Ba=a,Wl.Ak(a)}n.angle=e.yn(),n.type!==ed&&(i=Wl.K(),n.location=e.Xa(nu,i),Wl.v(i)),this.Al("Selection",n);break t}}this.Aj("Selection")}for(ha(this,t),t=this.Kw;t.next();)e=t.value,e.Ib(),e.I()}},Wl.u(sa,{layer:"layer"},function(){return this.Rv}),Wl.u(sa,{g:"diagram"},function(){var t=this.Rv;return null!==t?t.g:null}),Wl.defineProperty(sa,{Xf:"layerName"},function(){return this.ll},function(t){var e=this.ll;if(e!==t){Wl.j(t,"string",sa,"layerName");var n=this.g;if((null===n||null!==n.Lt(t)&&!n.Gq)&&(this.ll=t,null!==n&&n.rc(),this.h("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&null!==(n=e.g)&&null!==(t=n.Lt(t))&&t!==e)){var i=e.kf(-1,this,!0);if(0<=i&&n.Xc(gc,"parts",e,this,null,i,!0),e.visible!==t.visible&&this.ud(t.visible),i=t.aq(99999999,this,!0),0<=i&&n.Xc(yc,"parts",t,null,this,!0,i),null!==(i=this.Dx)){var r=n.Va;n.Va=!0,i(this,e,t),n.Va=r}}}}),Wl.defineProperty(sa,{Dx:"layerChanged"},function(){return this.Tr},function(t){var e=this.Tr;e!==t&&(null!==t&&Wl.j(t,"function",sa,"layerChanged"),this.Tr=t,this.h("layerChanged",e,t))}),Wl.defineProperty(sa,{fo:"zOrder"},function(){return this.tt},function(t){var e=this.tt;if(e!==t){Wl.j(t,"number",sa,"zOrder"),this.tt=t;var n=this.layer;null!==n&&Fn(n,-1,this),this.h("zOrder",e,t),t=this.g,null!==t&&t.oa()}}),sa.prototype.invalidateAdornments=sa.prototype.de=function(){var t=this.g;null!==t&&(di(t),0!=(16384&this.O)!=!0&&(this.O|=16384,t.Me()))},Wl.u(sa,{Yf:"locationObject"},function(){if(null===this.ol){var t=this.zA;""!==t?(t=this.td(t),this.ol=null!==t?t:this):this.ol=this instanceof Aa&&this.type!==ed&&null!==this.placeholder?this.placeholder:this}return this.ol.visible?this.ol:this}),Wl.defineProperty(sa,{TI:"minLocation"},function(){return this.gs},function(t){var e=this.gs;e.L(t)||(this.gs=t=t.S(),this.h("minLocation",e,t))}),Wl.defineProperty(sa,{MI:"maxLocation"},function(){return this.$r},function(t){var e=this.$r;e.L(t)||(this.$r=t=t.S(),this.h("maxLocation",e,t))}),Wl.defineProperty(sa,{zA:"locationObjectName"},function(){return this.Yr},function(t){var e=this.Yr;e!==t&&(this.Yr=t,this.ol=null,Or(this),this.h("locationObjectName",e,t))}),Wl.defineProperty(sa,{Af:"locationSpot"},function(){return this.Zr},function(t){var e=this.Zr;e.L(t)||(this.Zr=t=t.S(),Or(this),this.h("locationSpot",e,t))}),sa.prototype.move=function(t){this.position=t},sa.prototype.moveTo=sa.prototype.moveTo=function(t,e){var n=Wl.xb(t,e);this.move(n),Wl.v(n)},sa.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;return!(null!==t&&!t.visible)&&(!(null===(t=this.g)||(t=t.Qa,!t.lf||null===(t=t.Qm.la(this))||!t.Ux))||!!(null===(t=this.La)||t.xe&&t.isVisible()))},sa.prototype.ud=function(t){var e=this.g;t?(this.J(4),this.de(),null!==e&&e.rg.add(this)):(this.J(8),this.Ct()),this.Wl(),null!==e&&(e.rc(),e.oa())},sa.prototype.findObject=sa.prototype.td=function(t){if(this.name===t)return this;var e=this.Om;if(null===e&&(this.Om=e=new r),void 0!==e[t])return e[t];for(var n=this.xa.n,i=n.length,o=0;o<i;o++){var a=n[o];if(a.name===t)return e[t]=a;if(a instanceof Qr)if(null===a.Zj&&null===a.tg){if(null!==(a=a.td(t)))return e[t]=a}else if(bo(a)&&null!==(a=a.xa.first())&&a.name===t)return e[t]=a}return e[t]=null},sa.prototype.ensureBounds=sa.prototype.$e=function(){Dr(this,1/0,1/0),this.hc()},sa.prototype.hc=function(){if(this.Ji(),!1===Wr(this))ca(this);else{var t=this.nc,e=Wl.Ef();e.assign(t),t.Ra();var n=Sa(this);this.ij(0,0,this.pd.width,this.pd.height);var i=this.position;va(this,i,this.location),t.x=i.x,t.y=i.y,t.freeze(),this.Lx(e,t),Kr(this,!1),e.L(t)?this.Cf(n):!this.ee()||Y(e.width,t.width)&&Y(e.height,t.height)||0<=this.VC&&this.J(16),Wl.Hb(e),ka(this,!1)}},sa.prototype.Lx=function(t,e){var n=this.g;if(null!==n){var i=!1;if(!1===n.Uj&&t.H()){var r=n.re,o=n.padding,a=r.x+o.left,s=r.y+o.top,h=r.width-2*o.right,r=r.height-2*o.bottom;t.x>a&&t.y>s&&t.right<h&&t.bottom<r&&e.x>a&&e.y>s&&e.right<h&&e.bottom<r&&(i=!0)}0!=(65536&this.O)!=!0&&t.L(e)||ma(this,i,n),n.oa(),P(t,e)||(this instanceof Ea&&!n.pa.gb&&this.Uf(),this.Wl())}},Wl.defineProperty(sa,{location:"location"},function(){return this.Si},function(t){var e=t.x,n=t.y,i=this.Si,r=i.x,o=i.y;(r===e||isNaN(r)&&isNaN(e))&&(o===n||isNaN(o)&&isNaN(n))||(t=t.S(),e=t,this instanceof _a?e=!1:(this.Si=e,this.O|=2097152,!1===Wr(this)&&(ua(this),n=this.ib,n.H()&&(r=n.copy(),n.l(n.x+(e.x-i.x),n.y+(e.y-i.y)),pa(this,this.g,n,r),this.h("position",r,n))),e=!0),e&&this.h("location",i,t))}),Gl=sa.prototype,Gl.cB=function(t,e){if(this instanceof _a||!t.H())return!1;var n=this.g;if(null!==n&&(pa(this,n,t,e),!0===n.pa.gb))return!0;if(this.ib=t,this.O&=-2097153,n=this.Si,n.H()){var i=n.copy();n.l(n.x+(t.x-e.x),n.y+(t.y-e.y)),this.h("location",i,n)}return!1===xa(this)&&!1===Wr(this)&&(ua(this),ca(this)),!0},Gl.hy=function(t,e){var n=this.Si,i=this.ib;xa(this)||Wr(this)?n.l(NaN,NaN):n.l(n.x+t-i.x,n.y+e-i.y),i.l(t,e),ua(this)},Gl.dB=function(){this.O&=-2097153,ua(this)},Gl.Zl=function(){return!0},Gl.ee=function(){return!0},Gl.rj=function(){return!0},Wl.defineProperty(sa,{sd:"category"},function(){return this.vi},function(t){var e=this.vi;if(e!==t){Wl.j(t,"string",sa,"category");var n=this.g,i=this.data,r=null;if(null!==n&&null!==i&&!(this instanceof Aa)){var o=n.ca.pa;o.isEnabled&&!o.gb&&(r=this.clone(),r.xa.Ic(this.xa))}this.vi=t,this.h("category",e,t),null===n||null===i||this instanceof Aa?null!==(r=this.Of)&&(t=r.ti,null!==t&&t.remove(e),r.Al(this.sd,this)):(o=n.ca,o.pa.gb||(this instanceof _a?(o instanceof Qt?o.bG(i,t):o instanceof ne&&o.yJ(i,t),null!==(n=qi(n,t))&&(mo(n),null!==(n=n.copy())&&wa(this,n,e,t))):(null!==o&&o.by(i,t),null!==(n=Fi(n,i,t))&&(mo(n),null===(n=n.copy())||n instanceof _a||(n.location=this.location,wa(this,n,e,t)))),null!==r&&(e=this.clone(),e.xa.Ic(this.xa),this.h("self",r,e))))}}),Wl.defineProperty(sa,{self:"self"},function(){return this},function(t){wa(this,t,this.sd,t.sd)});var Ld=!1;sa.prototype.canCopy=function(){if(!this.CH)return!1;var t=this.layer;return null===t||!!t.sk&&(null===(t=t.g)||!!t.sk)},sa.prototype.canDelete=function(){if(!this.HH)return!1;var t=this.layer;return null===t||!!t.hn&&(null===(t=t.g)||!!t.hn)},sa.prototype.canEdit=function(){if(!this.HJ)return!1;var t=this.layer;return null===t||!!t.Ow&&(null===(t=t.g)||!!t.Ow)},sa.prototype.canGroup=function(){if(!this.fI)return!1;var t=this.layer;return null===t||!!t.Lw&&(null===(t=t.g)||!!t.Lw)},sa.prototype.canMove=function(){if(!this.YI)return!1;var t=this.layer;return null===t||!!t.El&&(null===(t=t.g)||!!t.El)},sa.prototype.canReshape=function(){if(!this.kJ)return!1;var t=this.layer;return null===t||!!t.Mw&&(null===(t=t.g)||!!t.Mw)},sa.prototype.canResize=function(){if(!this.lJ)return!1;var t=this.layer;return null===t||!!t.Bt&&(null===(t=t.g)||!!t.Bt)},sa.prototype.canRotate=function(){if(!this.oJ)return!1;var t=this.layer;return null===t||!!t.Nw&&(null===(t=t.g)||!!t.Nw)},sa.prototype.canSelect=function(){if(!this.em)return!1;var t=this.layer;return null===t||!!t.uf&&(null===(t=t.g)||!!t.uf)},Wl.defineProperty(sa,{CH:"copyable"},function(){return 0!=(1&this.O)},function(t){var e=0!=(1&this.O);e!==t&&(this.O^=1,this.h("copyable",e,t))}),Wl.defineProperty(sa,{HH:"deletable"},function(){return 0!=(2&this.O)},function(t){var e=0!=(2&this.O);e!==t&&(this.O^=2,this.h("deletable",e,t))}),Wl.defineProperty(sa,{HJ:"textEditable"},function(){return 0!=(4&this.O)},function(t){var e=0!=(4&this.O);e!==t&&(this.O^=4,this.h("textEditable",e,t),this.de())}),Wl.defineProperty(sa,{fI:"groupable"},function(){return 0!=(8&this.O)},function(t){var e=0!=(8&this.O);e!==t&&(this.O^=8,this.h("groupable",e,t))}),Wl.defineProperty(sa,{YI:"movable"},function(){return 0!=(16&this.O)},function(t){var e=0!=(16&this.O);e!==t&&(this.O^=16,this.h("movable",e,t))}),Wl.defineProperty(sa,{vJ:"selectionAdorned"},function(){return 0!=(32&this.O)},function(t){var e=0!=(32&this.O);e!==t&&(this.O^=32,this.h("selectionAdorned",e,t),this.de())}),Wl.defineProperty(sa,{wA:"isInDocumentBounds"},function(){return 0!=(64&this.O)},function(t){var e=0!=(64&this.O);if(e!==t){this.O^=64;var n=this.g;null!==n&&n.rc(),this.h("isInDocumentBounds",e,t)}}),Wl.defineProperty(sa,{lF:"isLayoutPositioned"},function(){return 0!=(128&this.O)},function(t){var e=0!=(128&this.O);e!==t&&(this.O^=128,this.h("isLayoutPositioned",e,t),this.J(t?4:8))}),Wl.defineProperty(sa,{em:"selectable"},function(){return 0!=(256&this.O)},function(t){var e=0!=(256&this.O);e!==t&&(this.O^=256,this.h("selectable",e,t),this.de())}),Wl.defineProperty(sa,{kJ:"reshapable"},function(){return 0!=(512&this.O)},function(t){var e=0!=(512&this.O);e!==t&&(this.O^=512,this.h("reshapable",e,t),this.de())}),Wl.defineProperty(sa,{lJ:"resizable"},function(){return 0!=(1024&this.O)},function(t){var e=0!=(1024&this.O);e!==t&&(this.O^=1024,this.h("resizable",e,t),this.de())}),Wl.defineProperty(sa,{oJ:"rotatable"},function(){return 0!=(2048&this.O)},function(t){var e=0!=(2048&this.O);e!==t&&(this.O^=2048,this.h("rotatable",e,t),this.de())}),Wl.defineProperty(sa,{fb:"isSelected"},function(){return 0!=(4096&this.O)},function(t){var e=0!=(4096&this.O);if(e!==t){var n=this.g;if(!t||this.canSelect()&&!(null!==n&&n.selection.count>=n.NI)){this.O^=4096;var i=!1;if(null!==n){i=n.wb,n.wb=!0;var r=n.selection;r.Ra(),t?r.add(this):r.remove(this),r.freeze()}this.h("isSelected",e,t),this.de(),t=this.xJ,null!==t&&t(this),null!==n&&(n.Me(),n.wb=i)}}}),Wl.defineProperty(sa,{Mg:"isHighlighted"},function(){return 0!=(524288&this.O)},function(t){var e=0!=(524288&this.O);if(e!==t){this.O^=524288;var n=this.g;null!==n&&(n=n.Vl,n.Ra(),t?n.add(this):n.remove(this),n.freeze()),this.h("isHighlighted",e,t),this.oa(),t=this.iI,null!==t&&t(this)}}),Wl.defineProperty(sa,{$l:"isShadowed"},function(){return 0!=(8192&this.O)},function(t){var e=0!=(8192&this.O);e!==t&&(this.O^=8192,this.h("isShadowed",e,t),this.oa())}),sa.prototype.Cf=function(t){this.O=t?131072|this.O:this.O&-131073},Wl.defineProperty(sa,{cF:"isAnimated"},function(){return 0!=(262144&this.O)},function(t){var e=0!=(262144&this.O);e!==t&&(this.O^=262144,this.h("isAnimated",e,t))}),Wl.defineProperty(sa,{iI:"highlightedChanged"},function(){return this.Gr},function(t){var e=this.Gr;e!==t&&(null!==t&&Wl.j(t,"function",sa,"highlightedChanged"),this.Gr=t,this.h("highlightedChanged",e,t))}),Wl.defineProperty(sa,{YA:"selectionObjectName"},function(){return this.Us},function(t){var e=this.Us;e!==t&&(this.Us=t,this.$m=null,this.h("selectionObjectName",e,t))}),Wl.defineProperty(sa,{wJ:"selectionAdornmentTemplate"},function(){return this.Ss},function(t){var e=this.Ss;e!==t&&(this instanceof _a&&(t.type=ed),this.Ss=t,this.h("selectionAdornmentTemplate",e,t))}),Wl.u(sa,{Eu:"selectionObject"},function(){if(null===this.$m){var t=this.YA;null!==t&&""!==t?(t=this.td(t),this.$m=null!==t?t:this):this instanceof _a?(t=this.path,this.$m=null!==t?t:this):this.$m=this}return this.$m}),Wl.defineProperty(sa,{xJ:"selectionChanged"},function(){return this.Ts},function(t){var e=this.Ts;e!==t&&(null!==t&&Wl.j(t,"function",sa,"selectionChanged"),this.Ts=t,this.h("selectionChanged",e,t))}),Wl.defineProperty(sa,{RF:"resizeAdornmentTemplate"},function(){return this.Gs},function(t){var e=this.Gs;e!==t&&(this.Gs=t,this.h("resizeAdornmentTemplate",e,t))}),Wl.defineProperty(sa,{TF:"resizeObjectName"},function(){return this.Is},function(t){var e=this.Is;e!==t&&(this.Is=t,this.jp=null,this.h("resizeObjectName",e,t))}),Wl.u(sa,{SF:"resizeObject"},function(){if(null===this.jp){var t=this.TF;null!==t&&""!==t?(t=this.td(t),this.jp=null!==t?t:this):this.jp=this}return this.jp}),Wl.defineProperty(sa,{mJ:"resizeCellSize"},function(){return this.Hs},function(t){var e=this.Hs;e.L(t)||(this.Hs=t=t.S(),this.h("resizeCellSize",e,t))}),Wl.defineProperty(sa,{pJ:"rotateAdornmentTemplate"},function(){return this.Js},function(t){var e=this.Js;e!==t&&(this.Js=t,this.h("rotateAdornmentTemplate",e,t))}),Wl.defineProperty(sa,{qJ:"rotateObjectName"},function(){return this.Ks},function(t){var e=this.Ks;e!==t&&(this.Ks=t,this.lp=null,this.h("rotateObjectName",e,t))}),Wl.u(sa,{VF:"rotateObject"},function(){if(null===this.lp){var t=this.qJ;null!==t&&""!==t?(t=this.td(t),this.lp=null!==t?t:this):this.lp=this}return this.lp}),Wl.defineProperty(sa,{text:"text"},function(){return this.Ed},function(t){var e=this.Ed;e!==t&&(this.Ed=t,this.h("text",e,t))}),Wl.defineProperty(sa,{La:"containingGroup"},function(){return this.Yk},function(t){if(this.ee()){var e=this.Yk;if(e!==t){null===t||this!==t&&!t.ni(this)||(this===t&&Wl.k("Cannot make a Group a member of itself: "+this.toString()),Wl.k("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.J(Ad);var n=this.g;if(null!==e?Es(e,this):this instanceof Ds&&null!==n&&n.xl.remove(this),this.Yk=t,null!==t?As(t,this):this instanceof Ds&&null!==n&&n.xl.add(this),this.J(Dd),null!==n){var i=this.data,r=n.ca;null!==i&&r instanceof Qt&&r.aB(i,r.ub(null!==t?t.data:null))}if(i=this.pE,null!==i&&(r=!0,null!==n&&(r=n.Va,n.Va=!0),i(this,e,t),null!==n&&(n.Va=r)),this instanceof Ds)for(n=new d(sa),le(n,this,!0,0,!0),n=n.i;n.next();)if((i=n.value)instanceof Ea)for(i=i.ge;i.next();)Wa(i.value);if(this instanceof Ea)for(i=this.ge;i.next();)Wa(i.value);this.h("containingGroup",e,t),null!==t&&null!==(e=t.layer)&&Fn(e,-1,t)}}else Wl.k("cannot set the Part.containingGroup of a Link or Adornment")}),Gl=sa.prototype,Gl.Wl=function(){var t=this.La;null!==t&&(t.I(),null!==t.Lb&&t.Lb.I(),t.Uf())},Gl.oa=function(){var t=this.g;null!==t&&!Wr(this)&&!xa(this)&&this.isVisible()&&this.nc.H()&&t.oa(da(this,this.nc))},Gl.I=function(){Qr.prototype.I.call(this);var t=this.g;null!==t&&(t.rg.add(this),this instanceof Ea&&null!==this.Mc&&Or(this.Mc),t.Me(!0))},Gl.Wt=function(t){t||null!==(t=this.Yk)&&As(t,this)},Gl.Xt=function(t){t||null!==(t=this.Yk)&&Es(t,this)},Gl.un=function(){var t=this.data;if(null!==t){var e=this.g;null!==e&&null!==(e=e.ca)&&e.Xx(t)}},Wl.defineProperty(sa,{pE:"containingGroupChanged"},function(){return this.Vq},function(t){var e=this.Vq;e!==t&&(null!==t&&Wl.j(t,"function",sa,"containingGroupChanged"),this.Vq=t,this.h("containingGroupChanged",e,t))}),sa.prototype.findSubGraphLevel=function(){return Pa(this,this)},sa.prototype.findTopLevelPart=function(){return Ca(this,this)},Wl.u(sa,{dq:"isTopLevel"},function(){return!(null!==this.La||this instanceof Ea&&this.mf)}),sa.prototype.isMemberOf=sa.prototype.ni=function(t){return t instanceof Ds&&Na(this,this,t)},sa.prototype.findCommonContainingGroup=sa.prototype.PH=function(t){if(null===t)return null;if(this===t)return this.La;for(var e=this;null!==e;)e instanceof Ds&&Ma(e,!0),e=e.La;for(var n=null,e=t;null!==e;){if(0!=(1048576&e.O)){n=e;break}e=e.La}for(e=this;null!==e;)e instanceof Ds&&Ma(e,!1),e=e.La;return n},Wl.defineProperty(sa,{CI:"layoutConditions"},function(){return this.Ur},function(t){var e=this.Ur;e!==t&&(this.Ur=t,this.h("layoutConditions",e,t))}),sa.prototype.canLayout=function(){if(!this.lF||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.Kc||this instanceof Ea&&this.mf)},sa.prototype.invalidateLayout=sa.prototype.J=function(t){void 0===t&&(t=16777215);var e;if(this.lF&&0!=(t&this.CI)?(e=this.layer,null!==e&&e.Kc||this instanceof Ea&&this.mf?e=!1:(e=this.g,e=null===e||!e.pa.gb)):e=!1,e)if(null!==(e=this.Yk)){var n=e.Sb;null!==n?n.J():e.J(t)}else null!==(t=this.g)&&null!==(n=t.Sb)&&n.J()},Wl.defineProperty(sa,{AE:"dragComputation"},function(){return this.or},function(t){var e=this.or;e!==t&&(null!==t&&Wl.j(t,"function",sa,"dragComputation"),this.or=t,this.h("dragComputation",e,t))}),Wl.defineProperty(sa,{AJ:"shadowOffset"},function(){return this.bn},function(t){var e=this.bn;e.L(t)||(this.bn=t=t.S(),this.oa(),this.h("shadowOffset",e,t))}),Wl.defineProperty(sa,{shadowColor:"shadowColor"},function(){return this.an},function(t){var e=this.an;e!==t&&(this.an=t,this.oa(),this.h("shadowColor",e,t))}),Wl.defineProperty(sa,{shadowBlur:"shadowBlur"},function(){return this.Ag},function(t){var e=this.Ag;e!==t&&(this.Ag=t,this.oa(),this.h("shadowBlur",e,t))}),Wl.Ma(Aa,sa),Wl.ga("Adornment",Aa),Aa.prototype.toString=function(){var t=this.Of;return"Adornment("+this.sd+")"+(null!==t?t.toString():"")},Aa.prototype.updateRelationshipsFromData=function(){},Aa.prototype.lu=function(t){var e=this.rb.V,n=this.rb;if(e instanceof _a&&n instanceof Po){var i=e.path,n=i.wf;for(e.lu(t),n=i.wf,t=this.xa.n,e=t.length,i=0;i<e;i++){var r=t[i];r.Vf&&r instanceof Po&&(r.hb=n)}}},Wl.u(Aa,{placeholder:"placeholder"},function(){return this.Lb}),Wl.defineProperty(Aa,{rb:"adornedObject"},function(){return this.Ec},function(t){var e=this.Of,n=null;null!==t&&(n=t.V),null===e||null!==t&&e===n||e.Aj(this.sd),this.Ec=t,null!==n&&n.Al(this.sd,this)}),Wl.u(Aa,{Of:"adornedPart"},function(){var t=this.Ec;return null!==t?t.V:null}),Aa.prototype.Zl=function(){var t=this.Ec;return null===t||(null===(t=t.V)||!Wr(t))},Aa.prototype.ee=function(){return!1},Wl.u(Aa,{La:"containingGroup"},function(){return null}),Aa.prototype.Un=function(t,e,n,i,r,o,a){if(t===yc&&"elements"===e)if(r instanceof Fs){var s=r;null===this.Lb?this.Lb=s:this.Lb!==s&&Wl.k("Cannot insert a second Placeholder into the visual tree of an Adornment.")}else r instanceof Qr&&(s=r.Kt(function(t){return t instanceof Fs}))instanceof Fs&&(null===this.Lb?this.Lb=s:this.Lb!==s&&Wl.k("Cannot insert a second Placeholder into the visual tree of an Adornment."));else t===gc&&"elements"===e&&null!==this.Lb&&(i===this.Lb?this.Lb=null:i instanceof Qr&&this.Lb.Yl(i)&&(this.Lb=null));sa.prototype.Un.call(this,t,e,n,i,r,o,a)},Aa.prototype.updateAdornments=function(){},Aa.prototype.un=function(){},Wl.Ma(Ea,sa),Wl.ga("Node",Ea),Ea.prototype.cloneProtected=function(t){sa.prototype.cloneProtected.call(this,t),t.za=this.za,t.za=this.za&-17,t.Vr=this.Vr,t.Wr=this.Wr,t.nl=this.nl,t.ot=this.ot,t.Oq=this.Oq.S(),t.Cs=this.Cs},Ea.prototype.li=function(t){sa.prototype.li.call(this,t),t.Uf(),t.Ih=this.Ih,t.me=null};var Fd;Ea.DirectionDefault=Fd=Wl.p(Ea,"DirectionDefault",0),Ea.DirectionAbsolute=Wl.p(Ea,"DirectionAbsolute",1);var Od;Ea.DirectionRotatedNode=Od=Wl.p(Ea,"DirectionRotatedNode",2);var Id;Ea.DirectionRotatedNodeOrthogonal=Id=Wl.p(Ea,"DirectionRotatedNodeOrthogonal",3),Ea.SpreadingNone=Wl.p(Ea,"SpreadingNone",10);var Rd;Ea.SpreadingEvenly=Rd=Wl.p(Ea,"SpreadingEvenly",11);var Bd;Ea.SpreadingPacked=Bd=Wl.p(Ea,"SpreadingPacked",12),Ea.prototype.invalidateLinkBundle=function(t,e,n){void 0!==e&&null!==e||(e=""),void 0!==n&&null!==n||(n=""),null!==(t=La(this,t,e,n))&&t.bq()},Ea.prototype.Un=function(t,e,n,i,r,o,a){t===yc&&"elements"===e?this.me=null:t===gc&&"elements"===e&&(null===this.g?this.me=null:i instanceof Tr&&ao(this,i,function(t,e){za(t,e,!0)})),sa.prototype.Un.call(this,t,e,n,i,r,o,a)},Ea.prototype.invalidateConnectedLinks=Ea.prototype.Uf=function(t){void 0===t&&(t=null);for(var e=this.ge;e.next();){var n=e.value;null!==t&&t.contains(n)||(Oa(this,n.fd),Oa(this,n.Sd),n.Yb())}},Ea.prototype.Zl=function(){return!0},Wl.defineProperty(Ea,{dJ:"portSpreading"},function(){return this.Cs},function(t){var e=this.Cs;e!==t&&(this.Cs=t,this.h("portSpreading",e,t),null!==(t=this.g)&&t.pa.gb||this.Uf())}),Wl.defineProperty(Ea,{Oz:"avoidable"},function(){return 0!=(8&this.za)},function(t){var e=0!=(8&this.za);if(e!==t){this.za^=8;var n=this.g;null!==n&&er(n,this),this.h("avoidable",e,t)}}),Wl.defineProperty(Ea,{jH:"avoidableMargin"},function(){return this.Oq},function(t){"number"==typeof t?t=new E(t):Wl.G(t,E,Ea,"avoidableMargin");var e=this.Oq;if(!e.L(t)){this.Oq=t=t.S();var n=this.g;null!==n&&er(n,this),this.h("avoidableMargin",e,t)}}),Ea.prototype.getAvoidableRect=function(t){return t.set(this.Y),t.Jw(this.jH),t},Ea.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.La;return t},Ea.prototype.isVisible=function(){if(!sa.prototype.isVisible.call(this))return!1;var t=!0,e=uf,n=this.g;if(null!==n){if(t=n.Qa,t.lf&&null!==(t=t.Qm.la(this))&&t.Ux)return!0;t=n.Od,e=n.rB}if(e===uf){if(null!==(n=this.Rl())&&!n.hd)return!1}else if(e===cf){if(n=t?this.HE():this.IE(),0<n.count&&n.all(function(t){return!t.hd}))return!1}else if(e===ff&&(n=t?this.HE():this.IE(),0<n.count&&n.any(function(t){return!t.hd})))return!1;return null===(n=this.Mc)||n.isVisible()},Ea.prototype.ud=function(t){sa.prototype.ud.call(this,t);for(var e=this.ge;e.next();)e.value.ud(t)},Wl.u(Ea,{ge:"linksConnected"},function(){return this.oc.i}),Ea.prototype.findLinksConnected=Ea.prototype.FE=function(t){if(void 0===t&&(t=null),null===t)return this.oc.i;var e=new l(this.oc),n=this;return e.kq=function(e){return e.W===n&&e.Kg===t||e.aa===n&&e.Fh===t},e},Ea.prototype.findLinksOutOf=Ea.prototype.ix=function(t){void 0===t&&(t=null);var e=new l(this.oc),n=this;return e.kq=function(e){return e.W===n&&(null===t||e.Kg===t)},e},Ea.prototype.findLinksInto=Ea.prototype.Jg=function(t){void 0===t&&(t=null);var e=new l(this.oc),n=this;return e.kq=function(e){return e.aa===n&&(null===t||e.Fh===t)},e},Ea.prototype.findNodesConnected=Ea.prototype.GE=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.oc.i;i.next();){var r=i.value;r.W===this?null!==t&&r.Kg!==t||(r=r.aa,null!==e?e.add(r):null!==n&&n!==r?(e=new d(Ea),e.add(n),e.add(r)):n=r):r.aa!==this||null!==t&&r.Fh!==t||(r=r.W,null!==e?e.add(r):null!==n&&n!==r?(e=new d(Ea),e.add(n),e.add(r)):n=r)}return null!==e?e.i:null!==n?new s(n):Yl},Ea.prototype.findNodesOutOf=Ea.prototype.IE=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.oc.i;i.next();){var r=i.value;r.W!==this||null!==t&&r.Kg!==t||(r=r.aa,null!==e?e.add(r):null!==n&&n!==r?(e=new d(Ea),e.add(n),e.add(r)):n=r)}return null!==e?e.i:null!==n?new s(n):Yl},Ea.prototype.findNodesInto=Ea.prototype.HE=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.oc.i;i.next();){var r=i.value;r.aa!==this||null!==t&&r.Fh!==t||(r=r.W,null!==e?e.add(r):null!==n&&n!==r?(e=new d(Ea),e.add(n),e.add(r)):n=r)}return null!==e?e.i:null!==n?new s(n):Yl},Ea.prototype.findLinksBetween=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=new l(this.oc),r=this;return i.kq=function(i){return!(i.W!==r||i.aa!==t||null!==e&&i.Kg!==e||null!==n&&i.Fh!==n)||!(i.W!==t||i.aa!==r||null!==n&&i.Kg!==n||null!==e&&i.Fh!==e)},i},Ea.prototype.findLinksTo=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=new l(this.oc),r=this;return i.kq=function(i){return!(i.W!==r||i.aa!==t||null!==e&&i.Kg!==e||null!==n&&i.Fh===n)},i},Wl.defineProperty(Ea,{EI:"linkConnected"},function(){return this.Vr},function(t){var e=this.Vr;e!==t&&(null!==t&&Wl.j(t,"function",Ea,"linkConnected"),this.Vr=t,this.h("linkConnected",e,t))}),Wl.defineProperty(Ea,{FI:"linkDisconnected"},function(){return this.Wr},function(t){var e=this.Wr;e!==t&&(null!==t&&Wl.j(t,"function",Ea,"linkDisconnected"),this.Wr=t,this.h("linkDisconnected",e,t))}),Wl.defineProperty(Ea,{Gx:"linkValidation"},function(){return this.nl},function(t){var e=this.nl;e!==t&&(null!==t&&Wl.j(t,"function",Ea,"linkValidation"),this.nl=t,this.h("linkValidation",e,t))}),Ea.prototype.updateRelationshipsFromData=function(){sa.prototype.updateRelationshipsFromData.call(this);var t=this.data;if(null!==t){var e=this.g;if(null!==e){var n=e.ca;n instanceof ne&&(t=n.Bn(t),t=e.Je(t),n=this.Rl(),t!==n&&(n=this.wn(),null!==t?null!==n?e.Od?n.W=t:n.aa=t:Ii(e,t,this):null!==n&&gi(e,n,!1)))}}},Ea.prototype.Wt=function(t){sa.prototype.Wt.call(this,t),t||(Ba(this),null!==(t=this.Vo)&&Ya(t,this))},Ea.prototype.Xt=function(t){sa.prototype.Xt.call(this,t),t||null!==(t=this.Vo)&&null!==t.sf&&(t.sf.remove(this),t.I())},Ea.prototype.un=function(){if(0<this.oc.count){var t=this.g;if(null!==t)for(var e=t.pb.zE,n=this.oc.copy().i;n.next();){var i=n.value;e?t.remove(i):(i.W===this&&(i.W=null),i.aa===this&&(i.aa=null))}}this.Mc=null,sa.prototype.un.call(this)},Wl.u(Ea,{mf:"isLinkLabel"},function(){return null!==this.Vo}),Wl.defineProperty(Ea,{Mc:"labeledLink"},function(){return this.Vo},function(t){var e=this.Vo;if(e!==t){var n=this.g,i=this.data;if(null!==e&&(null!==e.sf&&(e.sf.remove(this),e.I()),null!==n&&null!==i&&!n.pa.gb)){var r=e.data,o=n.ca;if(null!==r&&o instanceof Qt){var a=o.ub(i);void 0!==a&&o.iJ(r,a)}}this.Vo=t,null!==t&&(Ya(t,this),null===n||null===i||n.pa.gb||(r=t.data,o=n.ca,null!==r&&o instanceof Qt&&void 0!==(a=o.ub(i))&&o.cE(r,a))),Or(this),this.h("labeledLink",e,t)}}),Ea.prototype.findPort=Ea.prototype.Pl=function(t){if(null===this.me){if(""===t&&!1===this.Dk)return this;qa(this)}var e=this.me.la(t);return null!==e||""!==t&&null!==(e=this.me.la(""))?e:this},Wl.u(Ea,{port:"port"},function(){return this.Pl("")}),Wl.u(Ea,{ports:"ports"},function(){return null===this.me&&qa(this),this.me.qF}),Ea.prototype.isInTreeOf=function(t){if(null===t||t===this)return!1;var e=!0,n=this.g;if(null!==n&&(e=n.Od),n=this,e)for(;n!==t;){for(var e=null,i=n.oc.i;i.next();){var r=i.value;if(r.Lc&&(e=r.W)!==n&&e!==this)break}if(e===this||null===e||e===n)return!1;n=e}else for(;n!==t;){for(e=null,i=n.oc.i;i.next()&&(r=i.value,!r.Lc||(e=r.aa)===n||e===this););if(e===this||null===e||e===n)return!1;n=e}return!0},Ea.prototype.findTreeRoot=function(){var t=!0,e=this.g;if(null!==e&&(t=e.Od),e=this,t)for(;;){for(var t=null,n=e.oc.i;n.next();){var i=n.value;if(i.Lc&&(t=i.W)!==e&&t!==this)break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,n=e.oc.i;n.next()&&(i=n.value,!i.Lc||(t=i.aa)===e||t===this););if(t===this)return this;if(null===t||t===e)return e;e=t}},Ea.prototype.findCommonTreeParent=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)Ma(e,!0),e=e.Rl();for(var n=null,e=t;null!==e;){if(0!=(1048576&e.O)){n=e;break}e=e.Rl()}for(e=this;null!==e;)Ma(e,!1),e=e.Rl();return n},Ea.prototype.findTreeParentLink=Ea.prototype.wn=function(){var t=!0,e=this.g;if(null!==e&&(t=e.Od),e=this.oc.i,t){for(;e.next();)if(t=e.value,t.Lc&&t.W!==this)return t}else for(;e.next();)if(t=e.value,t.Lc&&t.aa!==this)return t;return null},Ea.prototype.findTreeParentNode=Ea.prototype.Rl=function(){var t=this.pk;if(null===t)return null;if(t instanceof Ea)return t;var e=!0,t=this.g;if(null!==t&&(e=t.Od),t=this.oc.i,e){for(;t.next();)if(e=t.value,e.Lc&&(e=e.W)!==this)return this.pk=e}else for(;t.next();)if(e=t.value,e.Lc&&(e=e.aa)!==this)return this.pk=e;return this.pk=null},Ea.prototype.findTreeParentChain=function(){function t(e,n){if(null!==e){n.add(e);var i=e.wn();null!==i&&(n.add(i),t(e.Rl(),n))}}var e=new d(sa);return t(this,e),e},Ea.prototype.findTreeLevel=function(){return Va(this,this)},Ea.prototype.findTreeChildrenLinks=Ea.prototype.kx=function(){var t=!0,e=this.g;null!==e&&(t=e.Od);var e=new l(this.oc),n=this;return e.kq=t?function(t){return!(!t.Lc||t.W!==n)}:function(t){return!(!t.Lc||t.aa!==n)},e},Ea.prototype.findTreeChildrenNodes=Ea.prototype.KE=function(){var t=!0,e=this.g;null!==e&&(t=e.Od);var n=e=null,i=this.oc.i;if(t)for(;i.next();)t=i.value,t.Lc&&t.W===this&&(t=t.aa,null!==e?e.add(t):null!==n&&n!==t?(e=new c(Ea),e.add(n),e.add(t)):n=t);else for(;i.next();)t=i.value,t.Lc&&t.aa===this&&(t=t.W,null!==e?e.add(t):null!==n&&n!==t?(e=new c(Ea),e.add(n),e.add(t)):n=t);return null!==e?e.i:null!==n?new s(n):Yl},Ea.prototype.findTreeParts=function(t){void 0===t&&(t=1/0),Wl.j(t,"number",Ea,"findTreeParts:level");var e=new d(sa);return le(e,this,!1,t,!0),e},Ea.prototype.collapseTree=Ea.prototype.collapseTree=function(t){void 0===t&&(t=1),Wl.Zd(t,Ea,"collapseTree:level"),1>t&&(t=1);var e=this.g;if(null!==e&&!e.xh){e.xh=!0;var n=new d(Ea);n.add(this),Ua(this,n,e.Od,t,e.Qa,this,e.rB===uf),e.xh=!1}},Ea.prototype.expandTree=Ea.prototype.expandTree=function(t){void 0===t&&(t=2),Wl.Zd(t,Ea,"expandTree:level"),2>t&&(t=2);var e=this.g;if(null!==e&&!e.xh){e.xh=!0;var n=new d(Ea);n.add(this),Ga(this,n,e.Od,t,e.Qa,this,e.rB===uf),e.xh=!1}},Wl.defineProperty(Ea,{hd:"isTreeExpanded"},function(){return 0!=(1&this.za)},function(t){var e=0!=(1&this.za);if(e!==t){this.za^=1;var n=this.g;if(this.h("isTreeExpanded",e,t),null!==(e=this.OJ)){var i=!0;null!==n&&(i=n.Va,n.Va=!0),e(this),null!==n&&(n.Va=i)}null!==n&&n.pa.gb?this.ud(t):t?this.expandTree():this.collapseTree()}}),Wl.defineProperty(Ea,{Ou:"wasTreeExpanded"},function(){return 0!=(2&this.za)},function(t){var e=0!=(2&this.za);e!==t&&(this.za^=2,this.h("wasTreeExpanded",e,t))}),Wl.defineProperty(Ea,{OJ:"treeExpandedChanged"},function(){return this.ot},function(t){var e=this.ot;e!==t&&(null!==t&&Wl.j(t,"function",Ea,"treeExpandedChanged"),this.ot=t,this.h("treeExpandedChanged",e,t))}),Wl.defineProperty(Ea,{uj:"isTreeLeaf"},function(){return 0!=(4&this.za)},function(t){var e=0!=(4&this.za);e!==t&&(this.za^=4,this.h("isTreeLeaf",e,t))}),Wl.Ma(_a,sa),Wl.ga("Link",_a),_a.prototype.cloneProtected=function(t){sa.prototype.cloneProtected.call(this,t),t.Wb=this.Wb&-113,t.Oh=this.Oh,t.xr=this.xr,t.ii=this.ii,t.nt=this.nt,t.Hq=this.Hq,t.ar=this.ar,t.dr=this.dr,t.er=this.er,t.Vm=this.Vm,t.at=this.at,null!==this.U&&(t.U=this.U.copy())},_a.prototype.li=function(t){sa.prototype.li.call(this,t),this.Oh=t.Oh,this.ii=t.ii,t.Ve=null,t.Yb(),t.ui=this.ui},_a.prototype.gc=function(t){t.Ee===_a?2==(2&t.value)?this.Zx=t:t===Ud||t===Hd||t===Gd?this.Ze=t:t===_d||t===Wd||t===Kd?this.xt=t:t!==qd&&t!==Vd&&Wl.k("Unknown Link enum value for a Link property: "+t):sa.prototype.gc.call(this,t)};var qd;_a.Normal=qd=Wl.p(_a,"Normal",1),_a.Orthogonal=Wl.p(_a,"Orthogonal",2),_a.AvoidsNodes=Wl.p(_a,"AvoidsNodes",6);var zd;_a.AvoidsNodesStraight=zd=Wl.p(_a,"AvoidsNodesStraight",7);var Vd;_a.None=Vd=Wl.p(_a,"None",0);var Ud;_a.Bezier=Ud=Wl.p(_a,"Bezier",9);var Hd;_a.JumpGap=Hd=Wl.p(_a,"JumpGap",10);var Gd;_a.JumpOver=Gd=Wl.p(_a,"JumpOver",11);var _d;_a.End=_d=Wl.p(_a,"End",17);var Wd;_a.Scale=Wd=Wl.p(_a,"Scale",18);var Kd;_a.Stretch=Kd=Wl.p(_a,"Stretch",19);var Yd;_a.OrientAlong=Yd=Wl.p(_a,"OrientAlong",21);var $d;_a.OrientPlus90=$d=Wl.p(_a,"OrientPlus90",22);var Jd;_a.OrientMinus90=Jd=Wl.p(_a,"OrientMinus90",23);var Xd;_a.OrientOpposite=Xd=Wl.p(_a,"OrientOpposite",24);var Qd;_a.OrientUpright=Qd=Wl.p(_a,"OrientUpright",25);var Zd;_a.OrientPlus90Upright=Zd=Wl.p(_a,"OrientPlus90Upright",26);var tp;_a.OrientMinus90Upright=tp=Wl.p(_a,"OrientMinus90Upright",27);var ep;_a.OrientUpright45=ep=Wl.p(_a,"OrientUpright45",28),Gl=_a.prototype,Gl.Kd=function(){null===this.U&&(this.U=new Ns)},Gl.Zl=function(){var t=this.W;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),Wr(t)||xa(t))return!1}return null===(t=this.aa)||(e=t.findVisibleNode(),null!==e&&(t=e),!Wr(t)&&!xa(t))},Gl.cB=function(){return!1},Gl.dB=function(){},Gl.ee=function(){return!1},_a.prototype.computeAngle=function(t,e,n){switch(t=0,e){default:case Vd:t=0;break;case Yd:t=n;break;case $d:t=n+90;break;case Jd:t=n-90;break;case Xd:t=n+180;break;case Qd:t=dt(n),90<t&&270>t&&(t-=180);break;case Zd:t=dt(n+90),90<t&&270>t&&(t-=180);break;case tp:t=dt(n-90),90<t&&270>t&&(t-=180);break;case ep:if(45<(t=dt(n))&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return dt(t)},Wl.defineProperty(_a,{W:"fromNode"},function(){return this.ng},function(t){var e=this.ng;if(e!==t){var n=this.fd;null!==e&&(this.Dg!==e&&Ra(e,this,n),ds(this),this.J(Ad)),this.ng=t,null!==t&&this.ud(t.isVisible()),this.Hi=null,this.Yb();var i=this.g;if(null!==i){var r=this.data,o=i.ca;if(null!==r)if(o instanceof Qt){var a=null!==t?t.data:null;o.ZA(r,o.ub(a))}else o instanceof ne&&(a=null!==t?t.data:null,i.Od?o.pi(r,o.ub(a)):(null!==e&&o.pi(e.data,void 0),o.pi(a,o.ub(null!==this.Dg?this.Dg.data:null))))}r=this.fd,o=this.NE,null!==o&&(a=!0,null!==i&&(a=i.Va,i.Va=!0),o(this,n,r),null!==i&&(i.Va=a)),null!==t&&(this.Dg!==t&&Ia(t,this,r),fs(this),this.J(Dd)),this.h("fromNode",e,t),Wa(this)}}),Wl.defineProperty(_a,{Kg:"fromPortId"},function(){return this.Oh},function(t){var e=this.Oh;if(e!==t){var n=this.fd;null!==n&&Oa(this.W,n),ds(this),this.Oh=t;var i=this.fd;null!==i&&Oa(this.W,i);var r=this.g;if(null!==r){var o=this.data,a=r.ca;null!==o&&a instanceof Qt&&a.$A(o,t)}n!==i&&(this.Hi=null,this.Yb(),null!==(o=this.NE)&&(a=!0,null!==r&&(a=r.Va,r.Va=!0),o(this,n,i),null!==r&&(r.Va=a))),fs(this),this.h("fromPortId",e,t)}}),Wl.u(_a,{fd:"fromPort"},function(){var t=this.ng;return null===t?null:t.Pl(this.Oh)}),Wl.defineProperty(_a,{NE:"fromPortChanged"},function(){return this.xr},function(t){var e=this.xr;e!==t&&(null!==t&&Wl.j(t,"function",_a,"fromPortChanged"),this.xr=t,this.h("fromPortChanged",e,t))}),Wl.defineProperty(_a,{aa:"toNode"},function(){return this.Dg},function(t){var e=this.Dg;if(e!==t){var n=this.Sd;null!==e&&(this.ng!==e&&Ra(e,this,n),ds(this),this.J(Ad)),this.Dg=t,null!==t&&this.ud(t.isVisible()),this.Hi=null,this.Yb();var i=this.g;if(null!==i){var r=this.data,o=i.ca;if(null!==r)if(o instanceof Qt){var a=null!==t?t.data:null;o.eB(r,o.ub(a))}else o instanceof ne&&(a=null!==t?t.data:null,i.Od?(null!==e&&o.pi(e.data,void 0),o.pi(a,o.ub(null!==this.ng?this.ng.data:null))):o.pi(r,o.ub(a)))}r=this.Sd,o=this.oG,null!==o&&(a=!0,null!==i&&(a=i.Va,i.Va=!0),o(this,n,r),null!==i&&(i.Va=a)),null!==t&&(this.ng!==t&&Ia(t,this,r),fs(this),this.J(Dd)),this.h("toNode",e,t),Wa(this)}}),Wl.defineProperty(_a,{Fh:"toPortId"},function(){return this.ii},function(t){var e=this.ii;if(e!==t){var n=this.Sd;null!==n&&Oa(this.aa,n),ds(this),this.ii=t;var i=this.Sd;null!==i&&Oa(this.aa,i);var r=this.g;if(null!==r){var o=this.data,a=r.ca;null!==o&&a instanceof Qt&&a.fB(o,t)}n!==i&&(this.Hi=null,this.Yb(),null!==(o=this.oG)&&(a=!0,null!==r&&(a=r.Va,r.Va=!0),o(this,n,i),null!==r&&(r.Va=a))),fs(this),this.h("toPortId",e,t)}}),Wl.u(_a,{Sd:"toPort"},function(){var t=this.Dg;return null===t?null:t.Pl(this.ii)}),Wl.defineProperty(_a,{oG:"toPortChanged"},function(){return this.nt},function(t){var e=this.nt;e!==t&&(null!==t&&Wl.j(t,"function",_a,"toPortChanged"),this.nt=t,this.h("toPortChanged",e,t))}),Wl.defineProperty(_a,{Ab:"fromSpot"},function(){return null!==this.U?this.U.Rj:eu},function(t){this.Kd();var e=this.U.Rj;e.L(t)||(t=t.S(),this.U.Rj=t,this.h("fromSpot",e,t),this.Yb())}),Wl.defineProperty(_a,{Sl:"fromEndSegmentLength"},function(){return null!==this.U?this.U.Pj:NaN},function(t){this.Kd();var e=this.U.Pj;e!==t&&(0>t&&Wl.Fa(t,">= 0",_a,"fromEndSegmentLength"),this.U.Pj=t,this.h("fromEndSegmentLength",e,t),this.Yb())}),Wl.defineProperty(_a,{St:"fromEndSegmentDirection"},function(){return null!==this.U?this.U.Oj:Fd},function(t){this.Kd();var e=this.U.Oj;e!==t&&(Wl.Gt("Link.fromEndSegmentDirection","2.0"),this.U.Oj=t,this.h("fromEndSegmentDirection",e,t),this.Yb())}),Wl.defineProperty(_a,{Tt:"fromShortLength"},function(){return null!==this.U?this.U.Qj:NaN},function(t){this.Kd();var e=this.U.Qj;e!==t&&(this.U.Qj=t,this.h("fromShortLength",e,t),this.Yb())}),Wl.defineProperty(_a,{Bb:"toSpot"},function(){return null!==this.U?this.U.ok:eu},function(t){this.Kd();var e=this.U.ok;e.L(t)||(t=t.S(),this.U.ok=t,this.h("toSpot",e,t),this.Yb())}),Wl.defineProperty(_a,{km:"toEndSegmentLength"},function(){return null!==this.U?this.U.mk:NaN},function(t){this.Kd();var e=this.U.mk;e!==t&&(0>t&&Wl.Fa(t,">= 0",_a,"toEndSegmentLength"),this.U.mk=t,this.h("toEndSegmentLength",e,t),this.Yb())}),Wl.defineProperty(_a,{Lu:"toEndSegmentDirection"},function(){return null!==this.U?this.U.lk:Fd},function(t){this.Kd();var e=this.U.lk;e!==t&&(Wl.Gt("Link.toEndSegmentDirection","2.0"),this.U.lk=t,this.h("toEndSegmentDirection",e,t),this.Yb())}),Wl.defineProperty(_a,{Mu:"toShortLength"},function(){return null!==this.U?this.U.nk:NaN},function(t){this.Kd();var e=this.U.nk;e!==t&&(this.U.nk=t,this.h("toShortLength",e,t),this.Yb())}),_a.prototype.Wl=function(){var t=this.La;null!==t&&this.W!==t&&this.aa!==t&&t.Tw&&sa.prototype.Wl.call(this)},_a.prototype.getOtherNode=_a.prototype.lA=function(t){var e=this.W;return t===e?this.aa:e},_a.prototype.getOtherPort=function(t){var e=this.fd;return t===e?this.Sd:e},Wl.u(_a,{WK:"isLabeledLink"},function(){return null!==this.sf&&0<this.sf.count}),Wl.u(_a,{Wf:"labelNodes"},function(){return null===this.sf?Yl:this.sf.i}),_a.prototype.Wt=function(t){sa.prototype.Wt.call(this,t),hs(this)&&us(this,this.Y),t||(t=this.ng,null!==t&&Ia(t,this,this.fd),t=this.Dg,null!==t&&Ia(t,this,this.Sd),fs(this))},_a.prototype.Xt=function(t){sa.prototype.Xt.call(this,t),hs(this)&&us(this,this.Y),t||(t=this.ng,null!==t&&Ra(t,this,this.fd),t=this.Dg,null!==t&&Ra(t,this,this.Sd),ds(this))},_a.prototype.un=function(){if(this.$g=!0,null!==this.sf){var t=this.g;if(null!==t)for(var e=this.sf.copy().i;e.next();)t.remove(e.value)}null!==(e=this.data)&&null!==(t=this.g)&&(t=t.ca,t instanceof Qt?t.Wx(e):t instanceof ne&&t.pi(e,void 0))},_a.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var n=e.ca;if(n instanceof Qt){var i=n.Tl(t);if(this.W=i=e.Je(i),i=n.Ul(t),this.aa=i=e.Je(i),t=n.Bk(t),0<t.length||0<this.Wf.count){if(1===t.length&&1===this.Wf.count){var i=t[0],r=this.Wf.first();if(n.ub(r.data)===i)return}var i=(new d).Ic(t),o=new d;if(this.Wf.each(function(t){null!==t.data&&void 0!==(t=n.ub(t.data))&&o.add(t)}),t=o.copy(),t.Vx(i),i=i.copy(),i.Vx(o),0<t.count||0<i.count){var a=this;t.each(function(t){null!==(t=e.Je(t))&&t.Mc===a&&(t.Mc=null)}),i.each(function(t){null!==(t=e.Je(t))&&t.Mc!==a&&(t.Mc=a)})}}}}}},_a.prototype.move=function(t){var e=this.position,n=e.x;for(isNaN(n)&&(n=0),e=e.y,isNaN(e)&&(e=0),n=t.x-n,e=t.y-e,sa.prototype.move.call(this,t),this.bm(n,e),t=this.Wf;t.next();){var i=t.value,r=i.position;i.moveTo(r.x+n,r.y+e)}},Wl.defineProperty(_a,{gJ:"relinkableFrom"},function(){return 0!=(1&this.Wb)},function(t){var e=0!=(1&this.Wb);e!==t&&(this.Wb^=1,this.h("relinkableFrom",e,t),this.de())}),Wl.defineProperty(_a,{hJ:"relinkableTo"},function(){return 0!=(2&this.Wb)},function(t){var e=0!=(2&this.Wb);e!==t&&(this.Wb^=2,this.h("relinkableTo",e,t),this.de())}),_a.prototype.canRelinkFrom=function(){if(!this.gJ)return!1;var t=this.layer;return null===t||!!t.jn&&!(null!==(t=t.g)&&!t.jn)},_a.prototype.canRelinkTo=function(){if(!this.hJ)return!1;var t=this.layer;return null===t||!!t.jn&&!(null!==(t=t.g)&&!t.jn)},Wl.defineProperty(_a,{Au:"resegmentable"},function(){return 0!=(4&this.Wb)},function(t){var e=0!=(4&this.Wb);e!==t&&(this.Wb^=4,this.h("resegmentable",e,t),this.de())}),Wl.defineProperty(_a,{Lc:"isTreeLink"},function(){return 0!=(8&this.Wb)},function(t){var e=0!=(8&this.Wb);e!==t&&(this.Wb^=8,this.h("isTreeLink",e,t),null!==this.W&&Ba(this.W),null!==this.aa&&Ba(this.aa))}),Wl.u(_a,{path:"path"},function(){var t=this.Hd();return t instanceof Po?t:null}),Wl.u(_a,{Vn:"routeBounds"},function(){this.bo();var t=new S,e=1/0,n=1/0,i=this.ra;if(0===i)t.l(NaN,NaN,0,0);else{if(1===i)i=this.m(0),e=Math.min(i.x,e),n=Math.min(i.y,n),t.l(i.x,i.y,0,0);else if(2===i){var r=this.m(0),o=this.m(1),e=Math.min(r.x,o.x),n=Math.min(r.y,o.y);t.l(r.x,r.y,0,0),t.si(o)}else if(this.computeCurve()===Ud&&3<=i&&!this.jc)if(r=this.m(0),e=r.x,n=r.y,t.l(e,n,0,0),3===i)i=this.m(1),e=Math.min(i.x,e),n=Math.min(i.y,n),o=this.m(2),e=Math.min(o.x,e),n=Math.min(o.y,n),Q(r.x,r.y,i.x,i.y,i.x,i.y,o.x,o.y,.5,t);else for(var a=3;a<i;a+=3){var s=this.m(a-2);a+3>=i&&(a=i-1);var h=this.m(a-1),o=this.m(a);Q(r.x,r.y,s.x,s.y,h.x,h.y,o.x,o.y,.5,t),e=Math.min(o.x,e),n=Math.min(o.y,n),r=o}else for(r=this.m(0),o=this.m(1),e=Math.min(r.x,o.x),n=Math.min(r.y,o.y),t.l(r.x,r.y,0,0),t.si(o),a=2;a<i;a++)r=this.m(a),e=Math.min(r.x,e),n=Math.min(r.y,n),t.si(r);this.Cz.l(e-t.x,n-t.y)}return this.mw=t}),Wl.u(_a,{wF:"midPoint"},function(){return this.bo(),this.computeMidPoint(new w)}),_a.prototype.computeMidPoint=function(t){var e=this.ra;if(0===e)return t.assign(Yu),t;if(1===e)return t.assign(this.m(0)),t;if(2===e){var n=this.m(0),i=this.m(1);return t.l((n.x+i.x)/2,(n.y+i.y)/2),t}if(this.computeCurve()===Ud&&3<=e&&!this.jc){if(3===e)return this.m(1);var n=(e-1)/3|0,r=3*(n/2|0);if(1==n%2){var n=this.m(r),i=this.m(r+1),o=this.m(r+2),r=this.m(r+3),e=i.x,a=i.y,i=o.x,s=o.y,o=(e+i)/2,h=(a+s)/2,a=((n.y+a)/2+h)/2,s=(h+(s+r.y)/2)/2;t.x=(((n.x+e)/2+o)/2+(o+(i+r.x)/2)/2)/2,t.y=(a+s)/2}else t.assign(this.m(r));return t}for(r=0,o=Wl.mb(),a=0;a<e-1;a++)n=0,n=this.m(a),i=this.m(a+1),$(n.x,i.x)?0>(n=i.y-n.y)&&(n=-n):$(n.y,i.y)?0>(n=i.x-n.x)&&(n=-n):n=Math.sqrt(n.vf(i)),o.push(n),r+=n;for(i=a=n=0;n<r/2&&a<e&&(i=o[a],!(n+i>r/2));)n+=i,a++;return Wl.wa(o),e=this.m(a),o=this.m(a+1),e.x===o.x?e.y>o.y?t.l(e.x,e.y-(r/2-n)):t.l(e.x,e.y+(r/2-n)):e.y===o.y?e.x>o.x?t.l(e.x-(r/2-n),e.y):t.l(e.x+(r/2-n),e.y):(n=(r/2-n)/i,t.l(e.x+n*(o.x-e.x),e.y+n*(o.y-e.y))),t},Wl.u(_a,{vF:"midAngle"},function(){return this.bo(),this.computeMidAngle()}),_a.prototype.computeMidAngle=function(){var t=this.ra;if(2>t)return NaN;if(this.computeCurve()===Ud&&4<=t&&!this.jc){var e=(t-1)/3|0,n=3*(e/2|0);if(1==e%2){var n=Math.floor(n),e=this.m(n),i=this.m(n+1),t=this.m(n+2),n=this.m(n+3),r=i.x,i=i.y,o=t.x,t=t.y,a=(r+o)/2,s=(i+t)/2;return Xl(((e.x+r)/2+a)/2,((e.y+i)/2+s)/2,(a+(o+n.x)/2)/2,(s+(t+n.y)/2)/2)}if(0<n&&n+1<t)return e=this.m(n-1),i=this.m(n+1),e.zc(i)}return n=t/2|0,0==t%2?(e=this.m(n-1),i=this.m(n),4<=t&&e.Jc(i)&&(e=this.m(n-2),t=this.m(n+1),n=e.vf(i),r=i.vf(t),!(n>r+10))?r>n+10?i.zc(t):e.zc(t):e.zc(i)):(e=this.m(n-1),i=this.m(n),t=this.m(n+1),n=e.vf(i),r=i.vf(t),n>r+10?e.zc(i):r>n+10?i.zc(t):e.zc(t))},Wl.defineProperty(_a,{points:"points"},function(){return this.bd},function(t){var e=this.bd;if(e!==t){var n=null;if(Array.isArray(t)){var i=0==t.length%2;if(i)for(var r=0;r<t.length;r++)if("number"!=typeof t[r]||isNaN(t[r])){i=!1;break}if(i)for(n=new c(w),i=0;i<t.length/2;i++)r=new w(t[2*i],t[2*i+1]).freeze(),n.add(r);else{for(var o=!0,i=0;i<t.length;i++)if(r=t[i],!Wl.Ua(r)||"number"!=typeof r.x||isNaN(r.x)||"number"!=typeof r.y||isNaN(r.y)){o=!1;break}if(o)for(n=new c(w),i=0;i<t.length;i++)r=t[i],n.add(new w(r.x,r.y).freeze());else Wl.k("Link.points array must contain only an even number of numbers or objects with x and y properties, not: "+t)}}else if(t instanceof c)for(n=t.copy(),t=n.i;t.next();)t.value.freeze();else Wl.k("Link.points value is not an instance of List or Array: "+t);n.freeze(),this.bd=n,this.Le(),this.I(),$a(this),t=this.g,null!==t&&(t.Gn||t.pa.gb||t.Hx.add(this),t.Qa.pc&&(this.mp=n)),this.h("points",e,n)}}),Wl.u(_a,{ra:"pointsCount"},function(){return this.bd.count}),_a.prototype.getPoint=_a.prototype.m=function(t){return this.bd.n[t]},_a.prototype.setPoint=_a.prototype.Ug=function(t,e){null===this.Ve&&Wl.k("Call Link.startRoute before modifying the points of the route."),this.bd.gg(t,e)},_a.prototype.setPointAt=_a.prototype.fa=function(t,e,n){null===this.Ve&&Wl.k("Call Link.startRoute before modifying the points of the route."),this.bd.gg(t,new w(e,n))},_a.prototype.insertPoint=function(t,e){null===this.Ve&&Wl.k("Call Link.startRoute before modifying the points of the route."),this.bd.Ld(t,e)},_a.prototype.insertPointAt=_a.prototype.w=function(t,e,n){null===this.Ve&&Wl.k("Call Link.startRoute before modifying the points of the route."),this.bd.Ld(t,new w(e,n))},_a.prototype.addPoint=_a.prototype.ji=function(t){null===this.Ve&&Wl.k("Call Link.startRoute before modifying the points of the route."),this.bd.add(t)},_a.prototype.addPointAt=_a.prototype.Cl=function(t,e){null===this.Ve&&Wl.k("Call Link.startRoute before modifying the points of the route."),this.bd.add(new w(t,e))},_a.prototype.removePoint=_a.prototype.NF=function(t){null===this.Ve&&Wl.k("Call Link.startRoute before modifying the points of the route."),this.bd.Yc(t)},_a.prototype.clearPoints=_a.prototype.Kp=function(){null===this.Ve&&Wl.k("Call Link.startRoute before modifying the points of the route."),this.bd.clear()},_a.prototype.movePoints=_a.prototype.bm=function(t,e){for(var n=new c(w),i=this.bd.i;i.next();){var r=i.value;n.add(new w(r.x+t,r.y+e).freeze())}n.freeze(),i=this.bd,this.bd=n,this.I(),$a(this),r=this.g,null!==r&&r.Qa.pc&&(this.mp=n),this.h("points",i,n)},_a.prototype.startRoute=_a.prototype.gm=function(){null===this.Ve&&(this.Ve=this.bd,this.bd=this.bd.copy())},_a.prototype.commitRoute=_a.prototype.jj=function(){if(null!==this.Ve){for(var t=this.Ve,e=this.bd,n=1/0,i=1/0,r=t.n,o=r.length,a=0;a<o;a++)var s=r[a],n=Math.min(s.x,n),i=Math.min(s.y,i);for(var h=1/0,l=1/0,u=e.n,c=u.length,a=0;a<c;a++)s=u[a],h=Math.min(s.x,h),l=Math.min(s.y,l),s.freeze();if(e.freeze(),c===o){for(a=0;a<c;a++)if(o=r[a],s=u[a],o.x-n!=s.x-h||o.y-i!=s.y-l){this.I(),this.Le();break}}else this.I(),this.Le();this.Ve=null,n=this.g,null!==n&&n.Qa.pc&&(this.mp=e),$a(this),this.h("points",t,e)}},_a.prototype.rollbackRoute=_a.prototype.nJ=function(){null!==this.Ve&&(this.bd=this.Ve,this.Ve=null)},_a.prototype.invalidateRoute=_a.prototype.Yb=function(){if(!this.Dj){var t=this.g;t&&(t.Hx.contains(this)||t.pa.gb||t.Qa.xI&&!t.Qa.lf)||null!==(t=this.path)&&(this.$g=!1,this.I(),t.I())}},Wl.defineProperty(_a,{$g:null},function(){return 0!=(16&this.Wb)},function(t){0!=(16&this.Wb)!==t&&(this.Wb^=16)}),Wl.defineProperty(_a,{Dj:"suspendsRouting"},function(){return 0!=(32&this.Wb)},function(t){0!=(32&this.Wb)!==t&&(this.Wb^=32)}),Wl.defineProperty(_a,{Sz:null},function(){return 0!=(64&this.Wb)},function(t){0!=(64&this.Wb)!==t&&(this.Wb^=64)}),Wl.defineProperty(_a,{Pp:"defaultFromPoint"},function(){return this.iC},function(t){this.iC=t.copy()}),Wl.defineProperty(_a,{Qp:"defaultToPoint"},function(){return this.oC},function(t){this.oC=t.copy()}),_a.prototype.updateRoute=_a.prototype.bo=function(){if(!this.$g&&!this.Sz){var t=!0;try{this.Sz=!0,this.gm(),t=this.computePoints()}finally{this.Sz=!1,t?this.jj():this.nJ()}}},_a.prototype.computePoints=function(){var t=this.g;if(null===t)return!1;var e=this.W,n=null;if(null===e?(t.tl||(t.Ls=new Po,t.Ls.Ba=Uu,t.Ls.lb=0,t.tl=new Ea,t.tl.add(t.Ls),t.tl.$e()),this.Pp&&(t.tl.position=t.tl.location=this.Pp,t.tl.$e(),e=t.tl,n=t.Ls)):n=this.fd,null!==n&&!e.isVisible()){var i=e.findVisibleNode();null!==i&&i!==e?(e=i,n=i.Pl("")):e=i}if(this.FD=e,null===e||!e.location.H())return!1;for(;!(null===n||n.Y.H()&&n.vj());)n=n.N;if(null===n)return!1;var r=this.aa,o=null;if(null===r?(t.ul||(t.Ms=new Po,t.Ms.Ba=Uu,t.Ms.lb=0,t.ul=new Ea,t.ul.add(t.Ms),t.ul.$e()),this.Qp&&(t.ul.position=t.ul.location=this.Qp,t.ul.$e(),r=t.ul,o=t.Ms)):o=this.Sd,null===o||r.isVisible()||(t=r.findVisibleNode(),null!==t&&t!==r?(r=t,o=t.Pl("")):r=t),this.GD=r,null===r||!r.location.H())return!1;for(;!(null===o||o.Y.H()&&o.vj());)o=o.N;if(null===o)return!1;var a=this.ra,i=Qa(this,n),t=Za(this,o),s=i===tu,h=t===tu,l=n===o&&null!==n,u=this.jc,c=this.Ze===Ud;this.Hi=!(!l||u)&&(c=!0);var f=this.xt===Vd||l;if(!u&&!l&&s&&h){if(s=!1,!f&&3<=a&&(f=this.getLinkPoint(e,n,i,!0,!1,r,o),h=this.getLinkPoint(r,o,t,!1,!1,e,n),s=this.adjustPoints(0,f,a-1,h))&&(f=this.getLinkPoint(e,n,i,!0,!1,r,o),h=this.getLinkPoint(r,o,t,!1,!1,e,n),this.adjustPoints(0,f,a-1,h)),!s)if(this.Kp(),c){var a=this.getLinkPoint(e,n,i,!0,!1,r,o),f=this.getLinkPoint(r,o,t,!1,!1,e,n),s=f.x-a.x,h=f.y-a.y,l=this.computeCurviness(),c=u=0,d=a.x+s/3,p=a.y+h/3,v=d,y=p;Y(h,0)?y=0<s?y-l:y+l:(u=-s/h,c=Math.sqrt(l*l/(u*u+1)),0>l&&(c=-c),v=(0>h?-1:1)*c+d,y=u*(v-d)+p);var d=a.x+2*s/3,p=a.y+2*h/3,g=d,m=p;Y(h,0)?m=0<s?m-l:m+l:(g=(0>h?-1:1)*c+d,m=u*(g-d)+p),this.Kp(),this.ji(a),this.Cl(v,y),this.Cl(g,m),this.ji(f),this.Ug(0,this.getLinkPoint(e,n,i,!0,!1,r,o)),this.Ug(3,this.getLinkPoint(r,o,t,!1,!1,e,n))}else i=this.getLinkPoint(e,n,i,!0,!1,r,o),t=this.getLinkPoint(r,o,t,!1,!1,e,n),this.hasCurviness()?(f=t.x-i.x,r=t.y-i.y,o=this.computeCurviness(),e=i.x+f/2,n=i.y+r/2,a=e,s=n,Y(r,0)?s=0<f?s-o:s+o:(f=-f/r,a=Math.sqrt(o*o/(f*f+1)),0>o&&(a=-a),a=(0>r?-1:1)*a+e,s=f*(a-e)+n),this.ji(i),this.Cl(a,s)):this.ji(i),this.ji(t)}else{c=this.Ek,f&&(u&&c||l)&&this.Kp();var b=l?this.computeCurviness():0,c=this.getLinkPoint(e,n,i,!0,u,r,o),d=v=p=0;if((u||!s||l)&&(y=this.computeEndSegmentLength(e,n,i,!0),d=this.getLinkDirection(e,n,c,i,!0,u,r,o),l&&(s||i.L(t)||!u&&1===i.x+t.x&&1===i.y+t.y)&&(d-=u?90:30,0>b&&(d-=180)),0>d?d+=360:360<=d&&(d-=360),l&&(y+=Math.abs(b)*(u?1:2)),0===d?p=y:90===d?v=y:180===d?p=-y:270===d?v=-y:(p=y*Math.cos(d*Math.PI/180),v=y*Math.sin(d*Math.PI/180)),i.Nd()&&l)){var x=n.Xa(au,Wl.K()),k=Wl.xb(x.x+1e3*p,x.y+1e3*v);this.getLinkPointFromPoint(e,n,x,k,!0,c),Wl.v(x),Wl.v(k)}var y=this.getLinkPoint(r,o,t,!1,u,e,n),T=m=g=0;(u||!h||l)&&(x=this.computeEndSegmentLength(r,o,t,!1),T=this.getLinkDirection(r,o,y,t,!1,u,e,n),l&&(h||i.L(t)||!u&&1===i.x+t.x&&1===i.y+t.y)&&(T+=u?0:30,0>b&&(T+=180)),0>T?T+=360:360<=T&&(T-=360),l&&(x+=Math.abs(b)*(u?1:2)),0===T?g=x:90===T?m=x:180===T?g=-x:270===T?m=-x:(g=x*Math.cos(T*Math.PI/180),m=x*Math.sin(T*Math.PI/180)),t.Nd()&&l&&(x=o.Xa(au,Wl.K()),k=Wl.xb(x.x+1e3*g,x.y+1e3*m),this.getLinkPointFromPoint(r,o,x,k,!1,y),Wl.v(x),Wl.v(k))),t=c,(u||!s||l)&&(t=new w(c.x+p,c.y+v)),i=y,(u||!h||l)&&(i=new w(y.x+g,y.y+m)),!f&&!u&&s&&3<a&&this.adjustPoints(0,c,a-2,i)?this.Ug(a-1,y):!f&&!u&&h&&3<a&&this.adjustPoints(1,t,a-1,y)?this.Ug(0,c):!f&&(u?6<=a:4<a)&&this.adjustPoints(1,t,a-2,i)?(this.Ug(0,c),this.Ug(a-1,y)):(this.Kp(),this.ji(c),(u||!s||l)&&this.ji(t),u&&this.addOrthoPoints(t,d,i,T,e,r),(u||!h||l)&&this.ji(i),this.ji(y))}return!0},_a.prototype.getLinkPointFromPoint=function(t,e,n,i,r,o){if(void 0===o&&(o=new w),null===t||null===e)return o.assign(n),o;t.isVisible()||null!==(r=t.findVisibleNode())&&r!==t&&(e=r.port);var a=r=0,s=0,h=0;if(t=null,r=e.N,null===r||r.Zg()||(r=r.N),null===r)r=i.x,a=i.y,s=n.x,h=n.y;else{t=r.qh,r=1/(t.m11*t.m22-t.m12*t.m21);var s=t.m22*r,h=-t.m12*r,l=-t.m21*r,u=t.m11*r,c=r*(t.m21*t.dy-t.m22*t.dx),f=r*(t.m12*t.dx-t.m11*t.dy);r=i.x*s+i.y*l+c,a=i.x*h+i.y*u+f,s=n.x*s+n.y*l+c,h=n.x*h+n.y*u+f}return e.An(r,a,s,h,o),null!==t&&o.transform(t),o},_a.prototype.getLinkPoint=function(t,e,n,i,r,o,a,s){if(void 0===s&&(s=new w),n.gd())return e.Xa(n,s),s;if(n.sj()){var h=Xa(this,e);if(null!==h){if(s.assign(h.gq),r&&this.Zx===zd){var l=Xa(this,a);if(null!==l&&h.sn<l.sn){var h=Wl.K(),l=Wl.K(),u=new S(e.Xa(nu,h),e.Xa(uu,l)),c=this.computeSpot(!i);t=this.getLinkPoint(o,a,c,!i,r,t,e,l),(n.qj(wu)||n.qj(xu))&&t.y>=u.y&&t.y<=u.y+u.height?s.y=t.y:(n.qj(bu)||n.qj(ku))&&t.x>=u.x&&t.x<=u.x+u.width&&(s.x=t.x),Wl.v(h),Wl.v(l)}}return s}}return n=e.Xa(au,Wl.K()),h=o=null,this.ra>(r?6:2)?(h=i?this.m(1):this.m(this.ra-2),r&&(h=Ja(n,h.copy()))):(o=Wl.K(),h=a.Xa(au,o),r&&(h=Ja(n,h)),Wl.v(o)),this.getLinkPointFromPoint(t,e,n,h,i,s),Wl.v(n),s},_a.prototype.getLinkDirection=function(t,e,n,i,r,o,a,s){t:if(i.gd())n=i.x>i.y?i.x>1-i.y?0:i.x<1-i.y?270:315:i.x<i.y?i.x>1-i.y?90:i.x<1-i.y?180:135:.5>i.x?225:.5<i.x?45:0;else{if(i.sj()){var h=Xa(this,e);if(null!==h)switch(h.ye){case Wl.kd:n=270;break t;case Wl.Rc:n=180;break t;default:case Wl.$c:n=0;break t;case Wl.Zc:n=90;break t}}var h=e.Xa(au,Wl.K()),l=null,u=null;this.ra>(o?6:2)?(u=r?this.m(1):this.m(this.ra-2),u=o?Ja(h,u.copy()):n):(l=Wl.K(),u=s.Xa(au,l),Wl.v(l)),n=0,n=Math.abs(u.x-h.x)>Math.abs(u.y-h.y)?u.x>=h.x?0:180:u.y>=h.y?90:270,Wl.v(h)}switch(i.Nd()&&a.ni(t)&&360<=(n+=180)&&(n-=360),t=Fd,t=r?this.St:this.Lu,t===Fd&&(t=r?e.St:e.Lu),t){case Od:e=e.yn(),n+=e,360<=n&&(n-=360);break;case Fd:case Id:if(0===(e=e.yn()))break;45<=e&&135>e?n+=90:135<=e&&225>e?n+=180:225<=e&&315>e&&(n+=270),360<=n&&(n-=360)}return n},_a.prototype.computeEndSegmentLength=function(t,e,n,i){return null!==e&&n.sj()&&null!==(t=Xa(this,e))?t.bx:(t=NaN,t=i?this.Sl:this.km,null!==e&&isNaN(t)&&(t=i?e.Sl:e.km),isNaN(t)&&(t=10),t)},_a.prototype.computeSpot=function(t){return t?Qa(this,this.fd):Za(this,this.Sd)},_a.prototype.computeOtherPoint=function(t,e){var n,i=e.Xa(au);return n=e.Bs,n=null!==n?Ps(n,this):null,null!==n&&(i=n.gq),i},_a.prototype.computeShortLength=function(t){if(t){if(t=this.Tt,isNaN(t)){var e=this.fd;null!==e&&(t=e.Tt)}}else t=this.Mu,isNaN(t)&&null!==(e=this.Sd)&&(t=e.Mu);return isNaN(t)?0:t},_a.prototype.zk=function(t,e,n,i,r,o){if(!1===this.Tg)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var a=o;if(void 0===o&&(a=Wl.Ff(),a.reset()),a.multiply(this.transform),this.pn(t,a))return fo(this,e,n,r),void 0===o&&Wl.ve(a),!0;if(this.Lg(t,a)){var s=!1;if(!this.Fn)for(var h=this.xa.n,l=h.length;l--;){var u=h[l];if(u.visible||u===this.Yf){var c=u.Y,f=this.Ja;if(!(c.x>f.width||c.y>f.height||0>c.x+c.width||0>c.y+c.height)){if(c=Wl.Ff(),c.set(a),u instanceof Qr)s=u.zk(t,e,n,i,r,c);else if(this.path===u){var s=u,d=t,p=i,f=c;if(!1===s.Tg)s=!1;else if(f.multiply(s.transform),p)t:{var v=d,y=f;if(s.pn(v,y))s=!0;else{if(void 0===y&&(y=s.transform,v.vk(s.Y))){s=!0;break t}var f=v.left,d=v.right,p=v.top,v=v.bottom,g=Wl.K(),m=Wl.K(),b=Wl.K(),w=Wl.Ff();w.set(y),w.yF(s.transform),w.qx(),m.x=d,m.y=p,m.transform(w),g.x=f,g.y=p,g.transform(w),y=!1,Lo(s,g,m,b)?y=!0:(g.x=d,g.y=v,g.transform(w),Lo(s,g,m,b)?y=!0:(m.x=f,m.y=v,m.transform(w),Lo(s,g,m,b)?y=!0:(g.x=f,g.y=p,g.transform(w),Lo(s,g,m,b)&&(y=!0)))),Wl.ve(w),Wl.v(g),Wl.v(m),Wl.v(b),s=y}}else s=s.pn(d,f)}else s=Nr(u,t,i,c);s&&(null!==e&&(u=e(u)),u&&(null===n||n(u))&&r.add(u)),Wl.ve(c)}}}return void 0===o&&Wl.ve(a),s||null!==this.background||null!==this.kn}return void 0===o&&Wl.ve(a),!1},Wl.u(_a,{jc:"isOrthogonal"},function(){return 2==(2&this.Vm.value)}),Wl.u(_a,{Ek:"isAvoiding"},function(){return 4==(4&this.Vm.value)}),_a.prototype.computeCurve=function(){if(null===this.Hi){var t=this.fd,e=this.jc;this.Hi=null!==t&&t===this.Sd&&!e}return this.Hi?Ud:this.Ze},_a.prototype.computeCorner=function(){if(this.Ze===Ud)return 0;var t=this.Xz;return(isNaN(t)||0>t)&&(t=10),t},_a.prototype.findMidLabel=function(){for(var t=this.path,e=this.xa.n,n=e.length,i=0;i<n;i++){var r=e[i];if(r!==t&&!r.Vf&&(-(1/0)===r.Ne||isNaN(r.Ne)))return r}for(t=this.Wf;t.next();)if(e=t.value,-(1/0)===e.Ne||isNaN(e.Ne))return e;return null},_a.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t;t=Math.max(14,this.computeThickness());var e=this.fd,n=this.Sd;if(null!==e&&null!==n){var i=this.findMidLabel();if(null!==i){var r=i.Ja,o=i.margin,a=isNaN(r.width)?30:r.width*i.scale+o.left+o.right,r=isNaN(r.height)?14:r.height*i.scale+o.top+o.bottom,i=i.sq;i===Yd||i===Qd||i===Xd?t=Math.max(t,r):i===Jd||i===tp||i===$d||i===Zd?t=Math.max(t,a):(e=e.Xa(au).zc(n.Xa(au))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*a)+Math.abs(Math.cos(e)*r)+1)),this.Ze===Ud&&(t*=1.333)}}return t},_a.prototype.arrangeBundledLinks=function(t,e){if(e)for(var n=0;n<t.length;n++)t[n].Yb()},_a.prototype.computeCurviness=function(){var t=this.Xw;if(isNaN(t)){var t=16,e=this.ui;if(null!==e){for(var n=Wl.mb(),i=0,r=e.links,o=0;o<r.length;o++){var a=r[o],a=a.computeSpacing();n.push(a),i+=a}for(i=-i/2,o=0;o<r.length;o++){if((a=r[o])===this){t=i+n[o]/2;break}i+=n[o]}e.jq===this.W&&(t=-t),Wl.wa(n)}}return t},_a.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.lb,1):1},_a.prototype.hasCurviness=function(){return!isNaN(this.Xw)||null!==this.ui},_a.prototype.adjustPoints=function(t,e,n,i){var r=this.xt;if(this.jc){if(r===Wd)return!1;r===Kd&&(r=_d)}switch(r){case Wd:var o=this.m(t),a=this.m(n);if(!o.Jc(e)||!a.Jc(i)){var r=o.x,o=o.y,s=a.x-r,h=a.y-o,l=Math.sqrt(s*s+h*h);if(!$(l,0)){var u=0;$(s,0)?u=0>h?-Math.PI/2:Math.PI/2:(u=Math.atan(h/Math.abs(s)),0>s&&(u=Math.PI-u));var a=e.x,c=e.y,h=i.x-a,f=i.y-c,d=Math.sqrt(h*h+f*f),s=0;for($(h,0)?s=0>f?-Math.PI/2:Math.PI/2:(s=Math.atan(f/Math.abs(h)),0>h&&(s=Math.PI-s)),l=d/l,u=s-u,this.Ug(t,e),t+=1;t<n;t++)e=this.m(t),s=e.x-r,h=e.y-o,e=Math.sqrt(s*s+h*h),$(e,0)||(f=0,$(s,0)?f=0>h?-Math.PI/2:Math.PI/2:(f=Math.atan(h/Math.abs(s)),0>s&&(f=Math.PI-f)),s=f+u,e*=l,this.fa(t,a+e*Math.cos(s),c+e*Math.sin(s)));this.Ug(n,i)}}return!0;case Kd:if(o=this.m(t),c=this.m(n),!o.Jc(e)||!c.Jc(i)){var r=o.x,o=o.y,a=c.x,c=c.y,l=(a-r)*(a-r)+(c-o)*(c-o),s=e.x,u=e.y,h=i.x,f=i.y,d=0,p=1;for(0!=h-s?(d=(f-u)/(h-s),p=Math.sqrt(1+1/(d*d))):d=9e9,this.Ug(t,e),t+=1;t<n;t++){e=this.m(t);var v=e.x,y=e.y,g=.5;0!==l&&(g=((r-v)*(r-a)+(o-y)*(o-c))/l);var m=r+g*(a-r),b=o+g*(c-o);e=Math.sqrt((v-m)*(v-m)+(y-b)*(y-b)),y<d*(v-m)+b&&(e=-e),0<d&&(e=-e),v=s+g*(h-s),g=u+g*(f-u),0!==d?(e=v+e/p,this.fa(t,e,g-(e-v)/d)):this.fa(t,v,g+e)}this.Ug(n,i)}return!0;case _d:t:{if(this.jc){if(a=this.m(t),c=this.m(t+1),r=this.m(t+2),l=c.x,s=c.y,Y(a.y,c.y)?Y(c.x,r.x)?s=e.y:Y(c.y,r.y)&&(l=e.x):Y(a.x,c.x)&&(Y(c.y,r.y)?l=e.x:Y(c.x,r.x)&&(s=e.y)),o=this.g,this.Ek&&null!==o&&(a=Zi(o,!0,this.La,null),!a.am(Math.min(l,r.x),Math.min(s,r.y),Math.abs(l-r.x),Math.abs(s-r.y)))){n=!1;break t}if(this.fa(t+1,l,s),a=this.m(n),c=this.m(n-1),r=this.m(n-2),l=c.x,s=c.y,Y(a.y,c.y)?Y(c.x,r.x)?s=i.y:Y(c.y,r.y)&&(l=i.x):Y(a.x,c.x)&&(Y(c.y,r.y)?l=i.x:Y(c.x,r.x)&&(s=i.y)),this.Ek&&null!==o&&(a=Zi(o,!0,this.La,null),!a.am(Math.min(l,r.x),Math.min(s,r.y),Math.abs(l-r.x),Math.abs(s-r.y)))){n=!1;break t}this.fa(n-1,l,s)}this.Ug(t,e),this.Ug(n,i),n=!0}return n;default:return!1}},_a.prototype.addOrthoPoints=function(t,e,n,i,r,o){e=-45<=e&&45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,i=-45<=i&&45>i?0:45<=i&&135>i?90:135<=i&&225>i?180:270;var a=r.Y.copy(),s=o.Y.copy();if(a.H()&&s.H()){a.Tf(8,8),s.Tf(8,8),a.si(t),s.si(n);var h,l;0===e?n.x>t.x||270===i&&n.y<t.y&&s.right>t.x||90===i&&n.y>t.y&&s.right>t.x?(h=new w(n.x,t.y),l=new w(n.x,(t.y+n.y)/2),180===i?(h.x=this.computeMidOrthoPosition(t.x,n.x,!1),l.x=h.x,l.y=n.y):270===i&&n.y<t.y||90===i&&n.y>t.y?(h.x=t.x<s.left?this.computeMidOrthoPosition(t.x,s.left,!1):t.x<s.right&&(270===i&&t.y<s.top||90===i&&t.y>s.bottom)?this.computeMidOrthoPosition(t.x,n.x,!1):s.right,l.x=h.x,l.y=n.y):0===i&&t.x<s.left&&t.y>s.top&&t.y<s.bottom&&(h.x=t.x,h.y=t.y<n.y?Math.min(n.y,s.top):Math.max(n.y,s.bottom),l.y=h.y)):(h=new w(t.x,n.y),l=new w((t.x+n.x)/2,n.y),(180===i||90===i&&n.y<a.top||270===i&&n.y>a.bottom)&&(180===i&&(s.Ia(t)||a.Ia(n))?h.y=this.computeMidOrthoPosition(t.y,n.y,!0):n.y<t.y&&(180===i||90===i)?h.y=this.computeMidOrthoPosition(a.top,Math.max(n.y,s.bottom),!0):n.y>t.y&&(180===i||270===i)&&(h.y=this.computeMidOrthoPosition(a.bottom,Math.min(n.y,s.top),!0)),l.x=n.x,l.y=h.y),h.y>a.top&&h.y<a.bottom&&(n.x>=a.left&&n.x<=t.x||t.x<=s.right&&t.x>=n.x?90!==i&&270!==i||(h=new w(Math.max((t.x+n.x)/2,t.x),t.y),l=new w(h.x,n.y)):(h.y=270===i||(0===i||180===i)&&n.y<t.y?Math.min(n.y,0===i?a.top:Math.min(a.top,s.top)):Math.max(n.y,0===i?a.bottom:Math.max(a.bottom,s.bottom)),l.x=n.x,l.y=h.y))):180===e?n.x<t.x||270===i&&n.y<t.y&&s.left<t.x||90===i&&n.y>t.y&&s.left<t.x?(h=new w(n.x,t.y),l=new w(n.x,(t.y+n.y)/2),0===i?(h.x=this.computeMidOrthoPosition(t.x,n.x,!1),l.x=h.x,l.y=n.y):270===i&&n.y<t.y||90===i&&n.y>t.y?(h.x=t.x>s.right?this.computeMidOrthoPosition(t.x,s.right,!1):t.x>s.left&&(270===i&&t.y<s.top||90===i&&t.y>s.bottom)?this.computeMidOrthoPosition(t.x,n.x,!1):s.left,l.x=h.x,l.y=n.y):180===i&&t.x>s.right&&t.y>s.top&&t.y<s.bottom&&(h.x=t.x,h.y=t.y<n.y?Math.min(n.y,s.top):Math.max(n.y,s.bottom),l.y=h.y)):(h=new w(t.x,n.y),l=new w((t.x+n.x)/2,n.y),(0===i||90===i&&n.y<a.top||270===i&&n.y>a.bottom)&&(0===i&&(s.Ia(t)||a.Ia(n))?h.y=this.computeMidOrthoPosition(t.y,n.y,!0):n.y<t.y&&(0===i||90===i)?h.y=this.computeMidOrthoPosition(a.top,Math.max(n.y,s.bottom),!0):n.y>t.y&&(0===i||270===i)&&(h.y=this.computeMidOrthoPosition(a.bottom,Math.min(n.y,s.top),!0)),l.x=n.x,l.y=h.y),h.y>a.top&&h.y<a.bottom&&(n.x<=a.right&&n.x>=t.x||t.x>=s.left&&t.x<=n.x?90!==i&&270!==i||(h=new w(Math.min((t.x+n.x)/2,t.x),t.y),l=new w(h.x,n.y)):(h.y=270===i||(0===i||180===i)&&n.y<t.y?Math.min(n.y,180===i?a.top:Math.min(a.top,s.top)):Math.max(n.y,180===i?a.bottom:Math.max(a.bottom,s.bottom)),l.x=n.x,l.y=h.y))):90===e?n.y>t.y||180===i&&n.x<t.x&&s.bottom>t.y||0===i&&n.x>t.x&&s.bottom>t.y?(h=new w(t.x,n.y),l=new w((t.x+n.x)/2,n.y),270===i?(h.y=this.computeMidOrthoPosition(t.y,n.y,!0),l.x=n.x,l.y=h.y):180===i&&n.x<t.x||0===i&&n.x>t.x?(h.y=t.y<s.top?this.computeMidOrthoPosition(t.y,s.top,!0):t.y<s.bottom&&(180===i&&t.x<s.left||0===i&&t.x>s.right)?this.computeMidOrthoPosition(t.y,n.y,!0):s.bottom,l.x=n.x,l.y=h.y):90===i&&t.y<s.top&&t.x>s.left&&t.x<s.right&&(h.x=t.x<n.x?Math.min(n.x,s.left):Math.max(n.x,s.right),h.y=t.y,l.x=h.x)):(h=new w(n.x,t.y),l=new w(n.x,(t.y+n.y)/2),(270===i||0===i&&n.x<a.left||180===i&&n.x>a.right)&&(270===i&&(s.Ia(t)||a.Ia(n))?h.x=this.computeMidOrthoPosition(t.x,n.x,!1):n.x<t.x&&(270===i||0===i)?h.x=this.computeMidOrthoPosition(a.left,Math.max(n.x,s.right),!1):n.x>t.x&&(270===i||180===i)&&(h.x=this.computeMidOrthoPosition(a.right,Math.min(n.x,s.left),!1)),l.x=h.x,l.y=n.y),h.x>a.left&&h.x<a.right&&(n.y>=a.top&&n.y<=t.y||t.y<=s.bottom&&t.y>=n.y?0!==i&&180!==i||(h=new w(t.x,Math.max((t.y+n.y)/2,t.y)),l=new w(n.x,h.y)):(h.x=180===i||(90===i||270===i)&&n.x<t.x?Math.min(n.x,90===i?a.left:Math.min(a.left,s.left)):Math.max(n.x,90===i?a.right:Math.max(a.right,s.right)),l.x=h.x,l.y=n.y))):n.y<t.y||180===i&&n.x<t.x&&s.top<t.y||0===i&&n.x>t.x&&s.top<t.y?(h=new w(t.x,n.y),l=new w((t.x+n.x)/2,n.y),90===i?(h.y=this.computeMidOrthoPosition(t.y,n.y,!0),l.x=n.x,l.y=h.y):180===i&&n.x<t.x||0===i&&n.x>=t.x?(h.y=t.y>s.bottom?this.computeMidOrthoPosition(t.y,s.bottom,!0):t.y>s.top&&(180===i&&t.x<s.left||0===i&&t.x>s.right)?this.computeMidOrthoPosition(t.y,n.y,!0):s.top,l.x=n.x,l.y=h.y):270===i&&t.y>s.bottom&&t.x>s.left&&t.x<s.right&&(h.x=t.x<n.x?Math.min(n.x,s.left):Math.max(n.x,s.right),h.y=t.y,l.x=h.x)):(h=new w(n.x,t.y),l=new w(n.x,(t.y+n.y)/2),(90===i||0===i&&n.x<a.left||180===i&&n.x>a.right)&&(90===i&&(s.Ia(t)||a.Ia(n))?h.x=this.computeMidOrthoPosition(t.x,n.x,!1):n.x<t.x&&(90===i||0===i)?h.x=this.computeMidOrthoPosition(a.left,Math.max(n.x,s.right),!1):n.x>t.x&&(90===i||180===i)&&(h.x=this.computeMidOrthoPosition(a.right,Math.min(n.x,s.left),!1)),l.x=h.x,l.y=n.y),h.x>a.left&&h.x<a.right&&(n.y<=a.bottom&&n.y>=t.y||t.y>=s.top&&t.y<=n.y?0!==i&&180!==i||(h=new w(t.x,Math.min((t.y+n.y)/2,t.y)),l=new w(n.x,h.y)):(h.x=180===i||(90===i||270===i)&&n.x<t.x?Math.min(n.x,270===i?a.left:Math.min(a.left,s.left)):Math.max(n.x,270===i?a.right:Math.max(a.right,s.right)),l.x=h.x,l.y=n.y)));var u=h,c=l;if(this.Ek){var f,d=this.g;(f=null===d)||(d.Qa.lf?f=!1:(f=d.$a,f=!(f instanceof pe)||(!f.Aw||f.qI)),f=!f),f||a.Ia(n)&&!o.ni(r)||s.Ia(t)&&!r.ni(o)||r===o||this.layer.Kc?t=!1:(r=Zi(d,!0,this.La,null),r.am(Math.min(t.x,u.x),Math.min(t.y,u.y),Math.abs(t.x-u.x),Math.abs(t.y-u.y))&&r.am(Math.min(u.x,c.x),Math.min(u.y,c.y),Math.abs(u.x-c.x),Math.abs(u.y-c.y))&&r.am(Math.min(c.x,n.x),Math.min(c.y,n.y),Math.abs(c.x-n.x),Math.abs(c.y-n.y))?t=!1:(a=a.copy().Hh(s),a.Tf(2*r.Jp,2*r.Hp),Ts(r,t,e,n,i,a),s=gs(r,n.x,n.y),r.abort||999999!==s||(bs(r),s=r.gG,a.Tf(r.Jp*s,r.Hp*s),Ts(r,t,e,n,i,a),s=gs(r,n.x,n.y)),r.abort||999999!==s||(bs(r),s=r.rF,a.Tf(r.Jp*s,r.Hp*s),Ts(r,t,e,n,i,a),s=gs(r,n.x,n.y)),!r.abort&&999999===s&&r.xG&&(bs(r),Ts(r,t,e,n,i,r.kb),s=gs(r,n.x,n.y)),!r.abort&&999999>s&&0!==gs(r,n.x,n.y)?(es(this,r,n.x,n.y,i,!0),i=this.m(2),4>this.ra?(0===e||180===e?(i.x=t.x,i.y=n.y):(i.x=n.x,i.y=t.y),this.fa(2,i.x,i.y),this.w(3,i.x,i.y)):(n=this.m(3),0===e||180===e?Y(i.x,n.x)?(e=0===e?Math.max(i.x,t.x):Math.min(i.x,t.x),this.fa(2,e,t.y),this.fa(3,e,n.y)):Y(i.y,n.y)?(Math.abs(t.y-i.y)<=r.Hp/2&&(this.fa(2,i.x,t.y),this.fa(3,n.x,t.y)),this.w(2,i.x,t.y)):this.fa(2,t.x,i.y):90!==e&&270!==e||(Y(i.y,n.y)?(e=90===e?Math.max(i.y,t.y):Math.min(i.y,t.y),this.fa(2,t.x,e),this.fa(3,n.x,e)):Y(i.x,n.x)?(Math.abs(t.x-i.x)<=r.Jp/2&&(this.fa(2,t.x,i.y),this.fa(3,t.x,n.y)),this.w(2,t.x,i.y)):this.fa(2,i.x,t.y))),t=!0):t=!1))}else t=!1;t||(this.ji(h),this.ji(l))}},_a.prototype.computeMidOrthoPosition=function(t,e){if(this.hasCurviness()){return(t+e)/2+this.computeCurviness()}return(t+e)/2},_a.prototype.findClosestSegment=function(t){var e=t.x;t=t.y;for(var n=this.m(0),i=this.m(1),r=$l(e,t,n.x,n.y,i.x,i.y),o=0,a=1;a<this.ra-1;a++){var n=this.m(a+1),s=$l(e,t,i.x,i.y,n.x,n.y),i=n;s<r&&(o=a,r=s)}return o},_a.prototype.Le=function(){this.hb=null},Wl.u(_a,{wf:"geometry"},function(){return null===this.hb&&(this.bo(),this.hb=this.makeGeometry()),this.hb}),_a.prototype.lu=function(t){if(!t){if(!1===this.$g)return;if(t=this.Hd(),null!==this.hb&&(null===t||null!==t.wf))return}if(this.hb=this.makeGeometry(),null!==(t=this.path)){t.hb=this.hb;for(var e=this.xa.n,n=e.length,i=0;i<n;i++){var r=e[i];r!==t&&r.Vf&&r instanceof Po&&(r.hb=this.hb)}}},_a.prototype.makeGeometry=function(){var t=this.ra;if(2>t)return new mt(nc);var e=!1,n=this.g;null!==n&&hs(this)&&n.$k.contains(this)&&null!==this.mw&&(e=!0);var i=n=0,r=this.m(0).copy(),o=r.copy(),n=this.bd.n,a=this.computeCurve();if(a===Ud&&3<=t&&!$(this.xq,0))if(3===t)var s=this.m(1),n=Math.min(r.x,s.x),i=Math.min(r.y,s.y),s=this.m(2),n=Math.min(n,s.x),i=Math.min(i,s.y);else{if(this.jc)for(s=0;s<t;s++)i=n[s],o.x=Math.min(i.x,o.x),o.y=Math.min(i.y,o.y);else for(s=3;s<t;s+=3)s+3>=t&&(s=t-1),n=this.m(s),o.x=Math.min(n.x,o.x),o.y=Math.min(n.y,o.y);n=o.x,i=o.y}else{for(s=0;s<t;s++)i=n[s],o.x=Math.min(i.x,o.x),o.y=Math.min(i.y,o.y);n=o.x,i=o.y}if(n-=this.Cz.x,i-=this.Cz.y,r.x-=n,r.y-=i,2!==t||hs(this)){var h=Wl.s();if(0!==this.computeShortLength(!0)&&(r=is(this,r,!0,o)),Xo(h,r.x,r.y,!1,!1),a===Ud&&3<=t&&!$(this.xq,0))if(3===t)s=this.m(1),t=s.x-n,e=s.y-i,s=this.m(2).copy(),s.x-=n,s.y-=i,0!==this.computeShortLength(!1)&&(s=is(this,s,!1,o)),ta(h,t,e,t,e,s.x,s.y);else if(this.jc){for(var o=new w(n,i),r=this.m(1).copy(),a=new w(n,i),t=new w(n,i),e=this.m(0),l=null,u=this.xq/3,s=1;s<this.ra-1;s++){var l=this.m(s),c=e,f=l,d=this.m(rs(this,l,s,!1));if(!($(c.x,f.x)&&$(f.x,d.x)||$(c.y,f.y)&&$(f.y,d.y))){var p=u,v=a,y=t;isNaN(p)&&(p=this.xq/3);var g=c.x,c=c.y,m=f.x,f=f.y,b=d.x,d=d.y,x=p*ns(g,c,m,f),p=p*ns(m,f,b,d);$(c,f)&&$(m,b)&&(m>g?d>f?(v.x=m-x,v.y=f-x,y.x=m+p,y.y=f+p):(v.x=m-x,v.y=f+x,y.x=m+p,y.y=f-p):d>f?(v.x=m+x,v.y=f-x,y.x=m-p,y.y=f+p):(v.x=m+x,v.y=f+x,y.x=m-p,y.y=f-p)),$(g,m)&&$(f,d)&&(f>c?(b>m?(v.x=m-x,v.y=f-x,y.x=m+p):(v.x=m+x,v.y=f-x,y.x=m-p),y.y=f+p):(b>m?(v.x=m-x,v.y=f+x,y.x=m+p):(v.x=m+x,v.y=f+x,y.x=m-p),y.y=f-p)),($(g,m)&&$(m,b)||$(c,f)&&$(f,d))&&(g=.5*(g+b),c=.5*(c+d),v.x=g,v.y=c,y.x=g,y.y=c),1===s?(r.x=.5*(e.x+l.x),r.y=.5*(e.y+l.y)):2===s&&$(e.x,this.m(0).x)&&$(e.y,this.m(0).y)&&(r.x=.5*(e.x+l.x),r.y=.5*(e.y+l.y)),ta(h,r.x-n,r.y-i,a.x-n,a.y-i,l.x-n,l.y-i),o.set(a),r.set(t),e=l}}s=e.x,e=e.y,o=this.m(this.ra-1),0!==this.computeShortLength(!1)&&(o=is(this,o.copy(),!1,Ou)),s=.5*(s+o.x),e=.5*(e+o.y),ta(h,t.x-n,t.y-i,s-n,e-i,o.x-n,o.y-i)}else for(s=3;s<t;s+=3)e=this.m(s-2),s+3>=t&&(s=t-1),o=this.m(s-1),r=this.m(s),s===t-1&&0!==this.computeShortLength(!1)&&(r=is(this,r.copy(),!1,Ou)),ta(h,e.x-n,e.y-i,o.x-n,o.y-i,r.x-n,r.y-i);else{for(o=Wl.K(),o.assign(this.m(0)),s=1;s<t;){if(s=rs(this,o,s,1<s),v=this.m(s),s>=t-1){o!==v&&(0!==this.computeShortLength(!1)&&(v=is(this,v.copy(),!1,Ou)),os(this,h,-n,-i,o,v,e));break}s=rs(this,v,s+1,s<t-3),r=h,a=-n,l=-i,u=o,y=this.m(s),g=o,c=e,Y(u.y,v.y)&&Y(v.x,y.x)?(p=this.computeCorner(),p=Math.min(p,Math.abs(v.x-u.x)/2),p=m=Math.min(p,Math.abs(y.y-v.y)/2),Y(p,0)?(os(this,r,a,l,u,v,c),g.assign(v)):(f=v.x,b=v.y,d=f,x=b,f=v.x>u.x?v.x-p:v.x+p,x=y.y>v.y?v.y+m:v.y-m,os(this,r,a,l,u,new w(f,b),c),ea(r,v.x+a,v.y+l,d+a,x+l),g.l(d,x))):Y(u.x,v.x)&&Y(v.y,y.y)?(p=this.computeCorner(),m=Math.min(p,Math.abs(v.y-u.y)/2),m=p=Math.min(m,Math.abs(y.x-v.x)/2),Y(p,0)?(os(this,r,a,l,u,v,c),g.assign(v)):(f=v.x,x=b=v.y,b=v.y>u.y?v.y-m:v.y+m,d=y.x>v.x?v.x+p:v.x-p,os(this,r,a,l,u,new w(f,b),c),ea(r,v.x+a,v.y+l,d+a,x+l),g.l(d,x))):(os(this,r,a,l,u,v,c),g.assign(v))}Wl.v(o)}n=h.o,Wl.q(h)}else h=this.m(1).copy(),h.x-=n,h.y-=i,0!==this.computeShortLength(!0)&&(r=is(this,r,!0,o)),0!==this.computeShortLength(!1)&&(h=is(this,h,!1,o)),n=new mt(nc),n.ja=r.x,n.ha=r.y,n.D=h.x,n.F=h.y;return n},Wl.u(_a,{Ot:"firstPickIndex"},function(){var t;return 2>=this.ra?t=0:((t=this.jc)||(t=this.computeSpot(!0)!==tu),t=t?1:0),t}),Wl.u(_a,{Cx:"lastPickIndex"},function(){var t=this.ra;if(0===t)t=0;else if(2>=t)t-=1;else{var e;(e=this.jc)||(e=this.computeSpot(!1)!==tu),t=e?t-2:t-1}return t}),_a.prototype.usesSamePort=function(t){var e=this.ra,n=t.ra;if(0<e&&0<n){var i=this.m(0),r=t.m(0);if(i.Jc(r))return!0;if(e=this.m(e-1),t=t.m(n-1),e.Jc(t)||i.Jc(t)||e.Jc(r))return!0}else if(this.W===t.W||this.aa===t.aa||this.W===t.aa||this.aa===t.W)return!0;return!1},_a.prototype.isVisible=function(){if(!sa.prototype.isVisible.call(this))return!1;var t=this.La,e=!0,n=this.g;null!==n&&(e=n.Od);var i=this.W;if(null!==i){if(this.Lc&&e&&!i.hd)return!1;if(i===t)return!0;for(n=i;null!==n;){if(n.Mc===this)return!0;n=n.La}if(null===(n=i.findVisibleNode())||n===t)return!1}if(null!==(i=this.aa)){if(this.Lc&&!e&&!i.hd)return!1;if(i===t)return!0;for(n=i;null!==n;){if(n.Mc===this)return!0;n=n.La}if(null===(e=i.findVisibleNode())||e===t)return!1}return!0},_a.prototype.ud=function(t){if(sa.prototype.ud.call(this,t),null!==this.ui&&this.ui.bq(),null!==this.sf)for(var e=this.sf.i;e.next();)e.value.ud(t)},Wl.defineProperty(_a,{xt:"adjusting"},function(){return this.Hq},function(t){var e=this.Hq;e!==t&&(this.Hq=t,this.h("adjusting",e,t))}),Wl.defineProperty(_a,{Xz:"corner"},function(){return this.ar},function(t){var e=this.ar;e!==t&&(this.ar=t,this.Le(),this.h("corner",e,t))}),Wl.defineProperty(_a,{Ze:"curve"},function(){return this.dr},function(t){var e=this.dr;e!==t&&(this.dr=t,this.Yb(),this.Le(),ls(this,e===Hd||e===Gd||t===Hd||t===Gd),this.h("curve",e,t))}),Wl.defineProperty(_a,{Xw:"curviness"},function(){return this.er},function(t){var e=this.er;e!==t&&(this.er=t,this.Yb(),this.Le(),this.h("curviness",e,t))}),Wl.defineProperty(_a,{Zx:"routing"},function(){return this.Vm},function(t){var e=this.Vm;e!==t&&(this.Vm=t,this.Hi=null,this.Yb(),ls(this,2==(2&e.value)||2==(2&t.value)),this.h("routing",e,t))}),Wl.defineProperty(_a,{xq:"smoothness"},function(){return this.at},function(t){var e=this.at;e!==t&&(this.at=t,this.Le(),this.h("smoothness",e,t))}),ps.prototype.bq=function(){if(!this.Kv){var t=this.links;0<t.length&&null!==(t=t[0].g)&&t.FC.add(this)}this.Kv=!0},ps.prototype.tB=function(){if(this.Kv){this.Kv=!1;var t=this.links;if(0<t.length){var e=t[0],n=e.g;e.arrangeBundledLinks(t,null===n||n.Gn),1===t.length&&(e.ui=null,t.length=0)}0===t.length&&(t=this.jq,null!==this&&null!==t.Ih&&t.Ih.remove(this),t=this.qu,null!==this&&null!==t.Ih&&t.Ih.remove(this))}},Wl.ae(ps,{jq:!0,Ox:!0,qu:!0,Px:!0,links:!0,spacing:!0}),Wl.ae(vs,{group:!0,hB:!0,Yt:!0,abort:!0,xG:!0,gG:!0,rF:!0}),vs.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,n=t.x+t.width,i=t.y+t.height;if(this.wg=Math.floor((t.x-this.Ae)/this.Ae)*this.Ae,this.xg=Math.floor((e-this.Be)/this.Be)*this.Be,this.as=Math.ceil((n+2*this.Ae)/this.Ae)*this.Ae,this.bs=Math.ceil((i+2*this.Be)/this.Be)*this.Be,t=1+(0|Math.ceil((this.as-this.wg)/this.Ae)),e=1+(0|Math.ceil((this.bs-this.xg)/this.Be)),null===this.yd||this.Bp<t-1||this.Cp<e-1){for(n=[],i=0;i<=t;i++){for(var r=[],o=0;o<=e;o++)r[o]=0;n[i]=r}this.yd=n,this.Bp=t-1,this.Cp=e-1}if(null!==this.yd)for(t=0;t<=this.Bp;t++)for(e=0;e<=this.Cp;e++)this.yd[t][e]=999999}},Wl.u(vs,{kb:null},function(){return new S(this.wg,this.xg,this.as-this.wg,this.bs-this.xg)}),Wl.defineProperty(vs,{Jp:null},function(){return this.Ae},function(t){0<t&&t!==this.Ae&&(this.Ae=t,this.initialize(this.kb))}),Wl.defineProperty(vs,{Hp:null},function(){return this.Be},function(t){0<t&&t!==this.Be&&(this.Be=t,this.initialize(this.kb))}),vs.prototype.am=function(t,e,n,i){if(t>this.as||t+n<this.wg||e>this.bs||e+i<this.xg)return!0;t=(t-this.wg)/this.Ae|0,e=(e-this.xg)/this.Be|0,n=Math.max(0,n)/this.Ae+1|0;var r=Math.max(0,i)/this.Be+1|0;if(0>t&&(n+=t,t=0),0>e&&(r+=e,e=0),0>n||0>r)return!0;for(i=0|Math.min(t+n-1,this.Bp),n=0|Math.min(e+r-1,this.Cp);t<=i;t++)for(r=e;r<=n;r++)if(0===this.yd[t][r])return!1;return!0},Wl.ae(Ss,{Oc:!0,port:!0,bg:!0,iq:!0}),Ss.prototype.toString=function(){for(var t=this.bg,e=this.Oc.toString()+" "+t.length.toString()+":",n=0;n<t.length;n++){var i=t[n];null!==i&&(e+="\n  "+i.toString())}return e},Ss.prototype.bq=function(){this.bg.length=0},Ss.prototype.ZI=function(t,e){return t===e?0:null===t?-1:null===e?1:t.ye<e.ye?-1:t.ye>e.ye?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},Ss.prototype.computeEndSegmentLength=function(t){var e=t.link,n=e.computeEndSegmentLength(this.Oc,this.port,tu,e.fd===this.port),i=t.$p;if(0>i)return n;var r=t.sn;if(1>=r||!e.jc)return n;var e=t.Mx,o=t.gq;return t.ye!==Wl.Rc&&t.ye!==Wl.Zc||(i=r-1-i),((t=t.ye===Wl.Rc||t.ye===Wl.$c)?e.y<o.y:e.x<o.x)?n+8*i:(t?e.y===o.y:e.x===o.x)?n:n+8*(r-1-i)},Wl.ae(Cs,{link:!0,angle:!0,ye:!0,Mx:!0,$p:!0,sn:!0,gq:!0,bx:!0}),Cs.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.ye.toString()+":"+this.$p.toString()+"/"+this.sn.toString()+" "+this.gq.toString()+" "+this.bx.toString()+" "+this.Mx.toString()},Ns.prototype.copy=function(){var t=new Ns;return t.Rj=this.Rj.S(),t.ok=this.ok.S(),t.Pj=this.Pj,t.mk=this.mk,t.Oj=this.Oj,t.lk=this.lk,t.Qj=this.Qj,t.nk=this.nk,t.vr=this.vr,t.lt=this.lt,t.wr=this.wr,t.mt=this.mt,t},Wl.Ma(Ds,Ea),Wl.ga("Group",Ds),Ds.prototype.cloneProtected=function(t){Ea.prototype.cloneProtected.call(this,t),this.za&=-32769,t.cs=this.cs,t.es=this.es,t.pl=this.pl,t.et=this.et;var e=t.Kt(function(t){return t instanceof Fs});t.Lb=e instanceof Fs?e:null,null!==this.je?(t.je=this.je.copy(),t.je.group=t):(null!==t.je&&(t.je.group=null),t.je=null)},Ds.prototype.li=function(t){Ea.prototype.li.call(this,t);var e=t.Wp();for(t=t.Nc;t.next();){var n=t.value;if(n.I(),n.J(8),n.Ct(),n instanceof Ea)n.Uf(e);else if(n instanceof _a)for(n=n.Wf;n.next();)n.value.Uf(e)}},Ds.prototype.Un=function(t,e,n,i,r,o,a){if(t===yc&&"elements"===e)if(r instanceof Fs){var s=r;null===this.Lb?this.Lb=s:this.Lb!==s&&Wl.k("Cannot insert a second Placeholder into the visual tree of a Group.")}else r instanceof Qr&&(s=r.Kt(function(t){return t instanceof Fs}))instanceof Fs&&(null===this.Lb?this.Lb=s:this.Lb!==s&&Wl.k("Cannot insert a second Placeholder into the visual tree of a Group."));else t===gc&&"elements"===e&&null!==this.Lb&&(i===this.Lb?this.Lb=null:i instanceof Qr&&this.Lb.Yl(i)&&(this.Lb=null));Ea.prototype.Un.call(this,t,e,n,i,r,o,a)},Ds.prototype.ij=function(t,e,n,i){this.ol=this.Lb,Qr.prototype.ij.call(this,t,e,n,i)},Ds.prototype.Zl=function(){if(!Ea.prototype.Zl.call(this))return!1;for(var t=this.Nc;t.next();){var e=t.value;if(e instanceof Ea){if(e.isVisible()&&Wr(e))return!1}else if(e instanceof _a&&e.isVisible()&&Wr(e)&&e.W!==this&&e.aa!==this)return!1}return!0},Wl.u(Ds,{placeholder:"placeholder"},function(){return this.Lb}),Wl.defineProperty(Ds,{vH:"computesBoundsAfterDrag"},function(){return 0!=(2048&this.za)},function(t){var e=0!=(2048&this.za);e!==t&&(Wl.j(t,"boolean",Ds,"computesBoundsAfterDrag"),this.za^=2048,this.h("computesBoundsAfterDrag",e,t))}),Wl.defineProperty(Ds,{Tw:"computesBoundsIncludingLinks"},function(){return 0!=(4096&this.za)},function(t){Wl.j(t,"boolean",Ds,"computesBoundsIncludingLinks");var e=0!=(4096&this.za);e!==t&&(this.za^=4096,this.h("computesBoundsIncludingLinks",e,t))}),Wl.defineProperty(Ds,{wH:"computesBoundsIncludingLocation"},function(){return 0!=(8192&this.za)},function(t){Wl.j(t,"boolean",Ds,"computesBoundsIncludingLocation");var e=0!=(8192&this.za);e!==t&&(this.za^=8192,this.h("computesBoundsIncludingLocation",e,t))}),Wl.defineProperty(Ds,{gI:"handlesDragDropForMembers"},function(){return 0!=(16384&this.za)},function(t){Wl.j(t,"boolean",Ds,"handlesDragDropForMembers");var e=0!=(16384&this.za);e!==t&&(this.za^=16384,this.h("handlesDragDropForMembers",e,t))}),Wl.u(Ds,{Nc:"memberParts"},function(){return this.ds.i}),Ds.prototype.un=function(){if(0<this.ds.count){var t=this.g;if(null!==t)for(var e=this.ds.copy().i;e.next();)t.remove(e.value)}Ea.prototype.un.call(this)},Wl.defineProperty(Ds,{Sb:"layout"},function(){return this.je},function(t){var e=this.je;e!==t&&(null!==t&&Wl.G(t,Os,Ds,"layout"),null!==e&&(e.g=null,e.group=null),this.je=t,null!==t&&(t.g=this.g,t.group=this),this.h("layout",e,t))}),Wl.defineProperty(Ds,{QI:"memberAdded"},function(){return this.cs},function(t){var e=this.cs;e!==t&&(null!==t&&Wl.j(t,"function",Ds,"memberAdded"),this.cs=t,this.h("memberAdded",e,t))}),Wl.defineProperty(Ds,{RI:"memberRemoved"},function(){return this.es},function(t){var e=this.es;e!==t&&(null!==t&&Wl.j(t,"function",Ds,"memberRemoved"),this.es=t,this.h("memberRemoved",e,t))}),Wl.defineProperty(Ds,{EA:"memberValidation"},function(){return this.pl},function(t){var e=this.pl;e!==t&&(null!==t&&Wl.j(t,"function",Ds,"memberValidation"),this.pl=t,this.h("memberValidation",e,t))}),Ds.prototype.canAddMembers=function(t){var e=this.g;if(null===e)return!1;for(e=e.pb,t=ce(t).i;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},Ds.prototype.addMembers=function(t,e){var n=this.g;if(null===n)return!1;for(var n=n.pb,i=!0,r=ce(t).i;r.next();){var o=r.value;!e||n.isValidMember(this,o)?o.La=this:i=!1}return i},Wl.defineProperty(Ds,{QJ:"ungroupable"},function(){return 0!=(256&this.za)},function(t){var e=0!=(256&this.za);e!==t&&(Wl.j(t,"boolean",Ds,"ungroupable"),this.za^=256,this.h("ungroupable",e,t))}),Ds.prototype.canUngroup=function(){if(!this.QJ)return!1;var t=this.layer;return!(null!==t&&!t.Pw)&&!(null!==(t=t.g)&&!t.Pw)},Ds.prototype.Uf=function(t){void 0===t&&(t=null);var e=0!=(65536&this.za);if(Ea.prototype.Uf.call(this,t),!e)for(e=this.EE();e.next();){var n=e.value;if(null===t||!t.contains(n)){var i=n.W;null!==i&&i!==this&&i.ni(this)&&!i.isVisible()?n.Yb():null!==(i=n.aa)&&i!==this&&i.ni(this)&&!i.isVisible()&&n.Yb()}}},Ds.prototype.findExternalLinksConnected=Ds.prototype.EE=function(){var t=this.Wp();t.add(this);for(var e=new d(_a),n=t.i;n.next();){var i=n.value;if(i instanceof Ea)for(i=i.ge;i.next();){var r=i.value;t.contains(r)||e.add(r)}}return e.i},Ds.prototype.findExternalNodesConnected=function(){var t=this.Wp();t.add(this);for(var e=new d(Ea),n=t.i;n.next();){var i=n.value;if(i instanceof Ea)for(i=i.ge;i.next();){var r=i.value,o=r.W;t.contains(o)&&o!==this||e.add(o),r=r.aa,t.contains(r)&&r!==this||e.add(r)}}return e.i},Ds.prototype.findContainingGroupChain=function(){function t(e,n){null!==e&&(n.add(e),t(e.La,n))}var e=new d(Ds);return t(this,e),e},Ds.prototype.findSubGraphParts=Ds.prototype.Wp=function(){var t=new d(sa);return le(t,this,!0,0,!0),t.remove(this),t},Ds.prototype.ud=function(t){Ea.prototype.ud.call(this,t);for(var e=this.Nc;e.next();)e.value.ud(t)},Ds.prototype.collapseSubGraph=Ds.prototype.collapseSubGraph=function(){var t=this.g;if(null!==t&&!t.xh){t.xh=!0;js(this,this.Wp(),t.Qa,this),t.xh=!1}},Ds.prototype.expandSubGraph=Ds.prototype.expandSubGraph=function(){var t=this.g;if(null!==t&&!t.xh){t.xh=!0;Ls(this,this.Wp(),t.Qa,this),t.xh=!1}},Wl.defineProperty(Ds,{xe:"isSubGraphExpanded"},function(){return 0!=(512&this.za)},function(t){var e=0!=(512&this.za);if(e!==t){Wl.j(t,"boolean",Ds,"isSubGraphExpanded"),this.za^=512;var n=this.g;if(this.h("isSubGraphExpanded",e,t),null!==(e=this.FJ)){var i=!0;null!==n&&(i=n.Va,n.Va=!0),e(this),null!==n&&(n.Va=i)}null!==n&&n.pa.gb?null!==this.Lb&&this.Lb.I():t?this.expandSubGraph():this.collapseSubGraph()}}),Wl.defineProperty(Ds,{vB:"wasSubGraphExpanded"},function(){return 0!=(1024&this.za)},function(t){var e=0!=(1024&this.za);e!==t&&(Wl.j(t,"boolean",Ds,"wasSubGraphExpanded"),this.za^=1024,this.h("wasSubGraphExpanded",e,t))}),Wl.defineProperty(Ds,{FJ:"subGraphExpandedChanged"},function(){return this.et},function(t){var e=this.et;e!==t&&(null!==t&&Wl.j(t,"function",Ds,"subGraphExpandedChanged"),this.et=t,this.h("subGraphExpandedChanged",e,t))}),Ds.prototype.move=function(t){var e=this.position,n=e.x;isNaN(n)&&(n=0),e=e.y,isNaN(e)&&(e=0);var n=t.x-n,e=t.y-e,i=Wl.xb(n,e);for(Ea.prototype.move.call(this,t),t=this.Wp().i;t.next();){var r=t.value;if(!(r instanceof _a||r instanceof Ea&&r.mf)){var o=r.position,a=r.location;o.H()?(i.x=o.x+n,i.y=o.y+e,r.position=i):a.H()&&(i.x=a.x+n,i.y=a.y+e,r.location=i)}}for(t.reset();t.next();)(r=t.value)instanceof _a&&(o=r.position,i.x=o.x+n,i.y=o.y+e,r.move(i));Wl.v(i)},Wl.defineProperty(Ds,{Rn:null},function(){return 0!=(32768&this.za)},function(t){0!=(32768&this.za)!==t&&(this.za^=32768)}),Wl.Ma(Fs,Tr),Wl.ga("Placeholder",Fs),Fs.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.gf=this.gf.S(),t.Ps=this.Ps.copy()},Fs.prototype.uk=function(t){if(null===this.background&&null===this.kn)return!1;var e=this.Ja;return Ql(0,0,e.width,e.height,t.x,t.y)},Fs.prototype.Mn=function(){var t=this.V;if(null!==t&&(t instanceof Ds||t instanceof Aa)||Wl.k("Placeholder is not inside a Group or Adornment."),t instanceof Ds){var e=this.computeBorder(this.Ps),n=this.Tc;M(n,e.width||0,e.height||0),Cr(this,0,0,n.width,n.height);for(var n=t.Nc,i=!1;n.next();)if(n.value.isVisible()){i=!0;break}!i||isNaN(e.x)||isNaN(e.y)||(n=new w,n.Wn(e,t.Af),t.location=new w(n.x,n.y))}else{var e=this.Ba,n=this.Tc,i=this.padding,r=i.left+i.right,o=i.top+i.bottom;if(e.H())M(n,e.width+r||0,e.height+o||0),Cr(this,-i.left,-i.top,n.width,n.height);else{var a=t.rb,s=a.Xa(nu,Wl.K()),e=Wl.Wg(s.x,s.y,0,0);e.si(a.Xa(uu,s)),e.si(a.Xa(ru,s)),e.si(a.Xa(hu,s)),t.Si.l(e.x,e.y),M(n,e.width+r||0,e.height+o||0),Cr(this,-i.left,-i.top,n.width,n.height),Wl.v(s),Wl.Hb(e)}}},Fs.prototype.ij=function(t,e,n,i){var r=this.Y;r.x=t,r.y=e,r.width=n,r.height=i},Fs.prototype.computeBorder=function(t){var e=this.V;if(e instanceof Ds){var n=e;if(n.vH&&this.Ps.H()){var i=n.g;if(null!==i&&(i=i.$a)instanceof pe&&!i.pr&&null!==i.Xb&&!i.Xb.contains(n))return t.assign(this.Ps),t}}var n=Wl.Ef(),i=this.computeMemberBounds(n),r=this.padding;return t.l(i.x-r.left,i.y-r.top,Math.max(i.width+r.left+r.right,0),Math.max(i.height+r.top+r.bottom,0)),Wl.Hb(n),e instanceof Ds&&(n=e,n.wH&&n.location.H()&&t.si(n.location)),t},Fs.prototype.computeMemberBounds=function(t){if(!(this.V instanceof Ds))return t.l(0,0,0,0),t;for(var e=this.V,n=1/0,i=1/0,r=-(1/0),o=-(1/0),a=e.Nc;a.next();){var s=a.value;if(s.isVisible()){if(s instanceof _a){var h=s;if(!e.Tw)continue;if(Gr(h))continue;if(h.W===e||h.aa===e)continue}s=s.Y,s.left<n&&(n=s.left),s.top<i&&(i=s.top),s.right>r&&(r=s.right),s.bottom>o&&(o=s.bottom)}}return isFinite(n)&&isFinite(i)?t.l(n,i,r-n,o-i):(e=e.location,n=this.padding,t.l(e.x+n.left,e.y+n.top,0,0)),t},Wl.defineProperty(Fs,{padding:"padding"},function(){return this.gf},function(t){"number"==typeof t?t=new E(t):Wl.G(t,E,Fs,"padding");var e=this.gf;e.L(t)||(this.gf=t=t.S(),this.h("padding",e,t))}),Wl.ga("Layout",Os),Os.prototype.cloneProtected=function(t){t.Kr=this.Kr,t.Wj=this.Wj,t.Qr=this.Qr,t.Lq.assign(this.Lq),t.Nr=this.Nr,t.Mr=this.Mr,t.rC=this.rC,this.Wj||(t.To=!0)},Os.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Os.prototype.gc=function(t){Wl.Ej(this,t)},Os.prototype.toString=function(){var t=Wl.jf(Object.getPrototypeOf(this)),t=t+"(";return null!==this.group&&(t+=" in "+this.group),null!==this.g&&(t+=" for "+this.g),t+")"},Wl.defineProperty(Os,{g:"diagram"},function(){return this.Z},function(t){null!==t&&Wl.G(t,In,Os,"diagram"),this.Z=t}),Wl.defineProperty(Os,{group:"group"},function(){return this.cz},function(t){this.cz!==t&&(null!==t&&Wl.G(t,Ds,Os,"group"),this.cz=t,null!==t&&(this.Z=t.g))}),Wl.defineProperty(Os,{vI:"isOngoing"},function(){return this.Kr},function(t){this.Kr!==t&&(Wl.j(t,"boolean",Os,"isOngoing"),this.Kr=t)}),Wl.defineProperty(Os,{kF:"isInitial"},function(){return this.Wj},function(t){Wl.j(t,"boolean",Os,"isInitial"),this.Wj=t,t||(this.To=!0)}),Wl.defineProperty(Os,{Ax:"isViewportSized"},function(){return this.Qr},function(t){this.Qr!==t&&(Wl.j(t,"boolean",Os,"isViewportSized"),(this.Qr=t)&&this.J())}),Wl.defineProperty(Os,{eu:"isRouting"},function(){return this.Nr},function(t){this.Nr!==t&&(Wl.j(t,"boolean",Os,"isRouting"),this.Nr=t)}),Wl.defineProperty(Os,{nF:"isRealtime"},function(){return this.Mr},function(t){this.Mr!==t&&(Wl.j(t,"boolean",Os,"isRealtime"),this.Mr=t)}),Wl.defineProperty(Os,{zf:"isValidLayout"},function(){return this.To},function(t){this.To!==t&&(Wl.j(t,"boolean",Os,"isValidLayout"),this.To=t,t||null!==(t=this.g)&&(t.bv=!0))}),Os.prototype.invalidateLayout=Os.prototype.J=function(){if(this.To){var t=this.g;if(null!==t&&!t.pa.gb){var e=t.Qa;!e.So&&(e.lf&&e.qi(),this.vI&&t.Gn||this.kF&&!t.Gn)&&(this.zf=!1,t.Me())}}},Wl.defineProperty(Os,{network:"network"},function(){return this.pz},function(t){var e=this.pz;e!==t&&(null!==t&&Wl.G(t,Bs,Os,"network"),null!==e&&(e.Sb=null),this.pz=t,null!==t&&(t.Sb=this))}),Os.prototype.createNetwork=function(){return new Bs},Os.prototype.makeNetwork=function(t){var e=this.createNetwork();return e.Sb=this,t instanceof In?(e.rk(t.eg,!0),e.rk(t.links,!0)):t instanceof Ds?e.rk(t.Nc):e.rk(t.i),e},Os.prototype.updateParts=function(){var t=this.g;if(null===t&&null!==this.network)for(var e=this.network.vertexes.i;e.next();){var n=e.value.Oc;if(null!==n&&null!==(t=n.g))break}this.zf=!0;try{null!==t&&t.Ub("Layout"),this.commitLayout()}finally{null!==t&&t.Fd("Layout")}},Os.prototype.commitLayout=function(){for(var t=this.network.vertexes.i;t.next();)t.value.commit();if(this.eu)for(t=this.network.edges.i;t.next();)t.value.commit()},Os.prototype.doLayout=function(t){null===t&&Wl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");var e=new d(sa);t instanceof In?(Is(this,e,t.eg,!0,this.Rn,!0,!1,!0),Is(this,e,t.Ik,!0,this.Rn,!0,!1,!0)):t instanceof Ds?Is(this,e,t.Nc,!1,this.Rn,!0,!1,!0):e.Ic(t.i);var n=e.count;if(0<n){t=this.g,null!==t&&t.Ub("Layout");for(var n=Math.ceil(Math.sqrt(n)),i=this.pe.x,r=i,o=this.pe.y,a=0,s=0,e=e.i;e.next();){var h=e.value;h.$e();var l=h.Aa,u=l.width,l=l.height;h.moveTo(r,o),h.Rn=!1,r+=Math.max(u,50)+20,s=Math.max(s,Math.max(l,50)),a>=n-1?(a=0,r=i,o+=s+20,s=0):a++}null!==t&&t.Fd("Layout")}this.zf=!0},Os.prototype.Rn=function(t){return!(t.location.H()&&!(t instanceof Ds&&t.Rn))},Os.prototype.collectParts=Os.prototype.pH=function(t){var e=new d(sa);return t instanceof In?(Is(this,e,t.eg,!0,null,!0,!0,!0),Is(this,e,t.links,!0,null,!0,!0,!0),Is(this,e,t.Ik,!0,null,!0,!0,!0)):t instanceof Ds?Is(this,e,t.Nc,!1,null,!0,!0,!0):Is(this,e,t.i,!1,null,!0,!0,!0),e},Wl.defineProperty(Os,{pe:"arrangementOrigin"},function(){return this.Lq},function(t){Wl.G(t,w,Os,"arrangementOrigin"),this.Lq.L(t)||(this.Lq.assign(t),this.J())}),Os.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var n=e.position.copy();return(isNaN(n.x)||isNaN(n.y))&&n.set(t),e=e.placeholder,null!==e&&(n=e.Xa(nu),(isNaN(n.x)||isNaN(n.y))&&n.set(t),n.x+=e.padding.left,n.y+=e.padding.top),n}return t},Wl.ga("LayoutNetwork",Bs),Bs.prototype.clear=function(){if(this.vertexes)for(var t=this.vertexes.i;t.next();){var e=t.value;e.clear(),e.network=null}if(this.edges)for(t=this.edges.i;t.next();)e=t.value,e.clear(),e.network=null;this.vertexes=new d(Hs),this.edges=new d(Gs),this.Jx=new b(Ea,Hs),this.Fx=new b(_a,Gs)},Bs.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.Sb?"("+this.Sb.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.vertexes.count+" edges: "+this.edges.count,1<t){for(var n=this.vertexes.i;n.next();)e+="\n    "+n.value.toString(t-1);for(n=this.edges.i;n.next();)e+="\n    "+n.value.toString(t-1)}return e},Wl.defineProperty(Bs,{Sb:"layout"},function(){return this.je},function(t){this.je=t}),Bs.prototype.createVertex=function(){return new Hs},Bs.prototype.createEdge=function(){return new Gs},Bs.prototype.addParts=Bs.prototype.rk=function(t,e,n){if(null!==t){for(void 0===e&&(e=!1),Wl.j(e,"boolean",Bs,"addParts:toplevelonly"),void 0===n&&(n=null),null===n&&(n=function(t){if(t instanceof Ea)return!t.mf;if(t instanceof _a){var e=t.W;return null!==e&&!e.mf&&(null!==(t=t.aa)&&!t.mf)}return!1}),t=t.i;t.next();){var i=t.value;if(i instanceof Ea&&(!e||i.dq)&&i.canLayout()&&n(i))if(i instanceof Ds&&null===i.Sb)this.rk(i.Nc,!1);else if(null===this.xn(i)){var r=this.createVertex();r.Oc=i,this.Dl(r)}}for(t.reset();t.next();)if((i=t.value)instanceof _a&&(!e||i.dq)&&i.canLayout()&&n(i)&&null===this.gx(i)){var o=i.W,r=i.aa;null!==o&&null!==r&&o!==r&&(o=this.findGroupVertex(o),r=this.findGroupVertex(r),null!==o&&null!==r&&this.hq(o,r,i))}}},Bs.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.xn(e)))return t;for(e=e.La;null!==e;){if(null!==(t=this.xn(e)))return t;e=e.La}return null},Bs.prototype.addVertex=Bs.prototype.Dl=function(t){if(null!==t){this.vertexes.add(t);var e=t.Oc;null!==e&&this.Jx.add(e,t),t.network=this}};Bs.prototype.addNode=Bs.prototype.wt=function(t){if(null===t)return null;var e=this.xn(t);return null===e&&(e=this.createVertex(),e.Oc=t,this.Dl(e)),e},Bs.prototype.deleteVertex=Bs.prototype.yE=function(t){if(null!==t&&qs(this,t)){for(var e=t.Pe,n=e.count-1;0<=n;n--){var i=e.ea(n);this.Rp(i)}for(e=t.Ie,n=e.count-1;0<=n;n--)i=e.ea(n),this.Rp(i)}},Bs.prototype.deleteNode=function(t){null!==t&&null!==(t=this.xn(t))&&this.yE(t)},Bs.prototype.findVertex=Bs.prototype.xn=function(t){return null===t?null:this.Jx.la(t)},Bs.prototype.addEdge=Bs.prototype.Ep=function(t){if(null!==t){this.edges.add(t);var e=t.link;null!==e&&null===this.gx(e)&&this.Fx.add(e,t),e=t.toVertex,null!==e&&e.dE(t),e=t.fromVertex,null!==e&&e.bE(t),t.network=this}},Bs.prototype.addLink=function(t){if(null===t)return null;var e=t.W,n=t.aa,i=this.gx(t);return null===i?(i=this.createEdge(),i.link=t,null!==e&&(i.fromVertex=this.wt(e)),null!==n&&(i.toVertex=this.wt(n)),this.Ep(i)):(i.fromVertex=null!==e?this.wt(e):null,i.toVertex=null!==n?this.wt(n):null),i},Bs.prototype.deleteEdge=Bs.prototype.Rp=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.xE(t),e=t.fromVertex,null!==e&&e.wE(t),zs(this,t)}},Bs.prototype.deleteLink=function(t){null!==t&&null!==(t=this.gx(t))&&this.Rp(t)},Bs.prototype.findEdge=Bs.prototype.gx=function(t){return null===t?null:this.Fx.la(t)},Bs.prototype.linkVertexes=Bs.prototype.hq=function(t,e,n){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var i=this.createEdge();return i.link=n,i.fromVertex=t,i.toVertex=e,this.Ep(i),i}return null},Bs.prototype.reverseEdge=Bs.prototype.Yx=function(t){if(null!==t){var e=t.fromVertex,n=t.toVertex;null!==e&&null!==n&&(e.wE(t),n.xE(t),t.Yx(),e.dE(t),n.bE(t))}},Bs.prototype.deleteSelfEdges=Bs.prototype.Zw=function(){for(var t=Wl.mb(),e=this.edges.i;e.next();){var n=e.value;n.fromVertex===n.toVertex&&t.push(n)}for(e=t.length,n=0;n<e;n++)this.Rp(t[n]);Wl.wa(t)},Bs.prototype.deleteArtificialVertexes=function(){for(var t=Wl.mb(),e=this.vertexes.i;e.next();){var n=e.value;null===n.Oc&&t.push(n)}for(n=t.length,e=0;e<n;e++)this.yE(t[e]);for(n=Wl.mb(),e=this.edges.i;e.next();){var i=e.value;null===i.link&&n.push(i)}for(i=n.length,e=0;e<i;e++)this.Rp(n[e]);Wl.wa(t),Wl.wa(n)},Bs.prototype.splitIntoSubNetworks=Bs.prototype.EJ=function(){this.deleteArtificialVertexes(),Vs(this),this.Zw();for(var t=new c(Bs),e=!0;e;)for(var e=!1,n=this.vertexes.i;n.next();){var i=n.value;if(0<i.Pe.count||0<i.Ie.count){e=this.Sb.createNetwork(),t.add(e),Us(this,e,i),e=!0;break}}return t.sort(function(t,e){return null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count}),t},Bs.prototype.findAllParts=function(){for(var t=new d(sa),e=this.vertexes.i;e.next();)t.add(e.value.Oc);for(e=this.edges.i;e.next();)t.add(e.value.link);return t},Wl.ga("LayoutVertex",Hs),Hs.prototype.clear=function(){this.qd=this.Vd=null,this.Pe=new c(Gs),this.Ie=new c(Gs)},Hs.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+Wl.Jd(this);if(0<t&&(e+=null!==this.Oc?"("+this.Oc.toString()+")":"",1<t)){t="";for(var n=!0,i=this.Pe.i;i.next();){var r=i.value;n?n=!1:t+=",",t+=r.toString(0)}for(r="",n=!0,i=this.Ie.i;i.next();){var o=i.value;n?n=!1:r+=",",r+=o.toString(0)}e+=" sources: "+t+" destinations: "+r}return e},Wl.defineProperty(Hs,{data:"data"},function(){return this.Vd},function(t){if(this.Vd=t,null!==t){var e=t.bounds;t=e.x;var n=e.y,i=e.width,e=e.height;this.T.l(i/2,e/2),this.M.l(t,n,i,e)}}),Wl.defineProperty(Hs,{Oc:"node"},function(){return this.qd},function(t){if(this.qd!==t){this.qd=t,t.$e();var e=t.Y,n=e.x,i=e.y,r=e.width,e=e.height;if(isNaN(n)&&(n=0),isNaN(i)&&(i=0),this.M.l(n,i,r,e),!(t instanceof Ds)&&(t=t.Yf.Xa(au),t.H()))return void this.T.l(t.x-n,t.y-i);this.T.l(r/2,e/2)}}),Wl.defineProperty(Hs,{kb:"bounds"},function(){return this.M},function(t){this.M.L(t)||this.M.assign(t)}),Wl.defineProperty(Hs,{focus:"focus"},function(){return this.T},function(t){this.T.L(t)||this.T.assign(t)}),Wl.defineProperty(Hs,{ka:"centerX"},function(){return this.M.x+this.T.x},function(t){var e=this.M;e.x+this.T.x!==t&&(e.Ra(),e.x=t-this.T.x,e.freeze())}),Wl.defineProperty(Hs,{sa:"centerY"},function(){return this.M.y+this.T.y},function(t){var e=this.M;e.y+this.T.y!==t&&(e.Ra(),e.y=t-this.T.y,e.freeze())}),Wl.defineProperty(Hs,{Qt:"focusX"},function(){return this.T.x},function(t){var e=this.T;e.x!==t&&(e.Ra(),e.x=t,e.freeze())}),Wl.defineProperty(Hs,{Rt:"focusY"},function(){return this.T.y},function(t){var e=this.T;e.y!==t&&(e.Ra(),e.y=t,e.freeze())}),Wl.defineProperty(Hs,{x:"x"},function(){return this.M.x},function(t){var e=this.M;e.x!==t&&(e.Ra(),e.x=t,e.freeze())}),Wl.defineProperty(Hs,{y:"y"},function(){return this.M.y},function(t){var e=this.M;e.y!==t&&(e.Ra(),e.y=t,e.freeze())}),Wl.defineProperty(Hs,{width:"width"},function(){return this.M.width},function(t){var e=this.M;e.width!==t&&(e.Ra(),e.width=t,e.freeze())}),Wl.defineProperty(Hs,{height:"height"},function(){return this.M.height},function(t){var e=this.M;e.height!==t&&(e.Ra(),e.height=t,e.freeze())}),Hs.prototype.commit=function(){var t=this.Vd;if(null!==t){var e=this.kb,n=t.bounds;Wl.Ua(n)?(n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.Oc)){if(e=this.kb,!(t instanceof Ds)){var n=t.Y,i=t.Yf.Xa(au);if(n.H()&&i.H())return void t.moveTo(e.x+this.Qt-(i.x-n.x),e.y+this.Rt-(i.y-n.y))}t.moveTo(e.x,e.y)}},Hs.prototype.addSourceEdge=Hs.prototype.dE=function(t){null!==t&&(this.Pe.contains(t)||this.Pe.add(t))},Hs.prototype.deleteSourceEdge=Hs.prototype.xE=function(t){null!==t&&this.Pe.remove(t)},Hs.prototype.addDestinationEdge=Hs.prototype.bE=function(t){null!==t&&(this.Ie.contains(t)||this.Ie.add(t))},Hs.prototype.deleteDestinationEdge=Hs.prototype.wE=function(t){null!==t&&this.Ie.remove(t)},Wl.u(Hs,{DJ:"sourceVertexes"},function(){for(var t=new d(Hs),e=this.lc;e.next();)t.add(e.value.fromVertex);return t.i}),Wl.u(Hs,{JH:"destinationVertexes"},function(){for(var t=new d(Hs),e=this.ic;e.next();)t.add(e.value.toVertex);return t.i}),Wl.u(Hs,{vertexes:"vertexes"},function(){for(var t=new d(Hs),e=this.lc;e.next();)t.add(e.value.fromVertex);for(e=this.ic;e.next();)t.add(e.value.toVertex);return t.i}),Wl.u(Hs,{lc:"sourceEdges"},function(){return this.Pe.i}),Wl.u(Hs,{ic:"destinationEdges"},function(){return this.Ie.i}),Wl.u(Hs,{edges:"edges"},function(){for(var t=new c(Gs),e=this.lc;e.next();)t.add(e.value);for(e=this.ic;e.next();)t.add(e.value);return t.i}),Wl.u(Hs,{OH:"edgesCount"},function(){return this.Pe.count+this.Ie.count});var np;Hs.standardComparer=np=function(t,e){var n=t.qd,i=e.qd;return n?i?(n=n.text,i=i.text,n<i?-1:n>i?1:0):1:null!==i?-1:0},Hs.smartComparer=function(t,e){if(null!==t){if(null!==e){var n=t.qd,i=e.qd;if(null!==n){if(null!==i){for(var n=n.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),i=i.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),r=0;r<n.length;r++)if(""!==i[r]&&void 0!==i[r]){var o=parseFloat(n[r]),a=parseFloat(i[r]);if(isNaN(o)){if(!isNaN(a))return 1;if(0!==n[r].localeCompare(i[r]))return n[r].localeCompare(i[r])}else{if(isNaN(a))return-1;if(0!=o-a)return o-a}}else if(""!==n[r])return 1;return""!==i[r]&&void 0!==i[r]?-1:0}return 1}return null!==i?-1:0}return 1}return null!==e?-1:0},Wl.ga("LayoutEdge",Gs),Gs.prototype.clear=function(){this.toVertex=this.fromVertex=this.link=this.data=null},Gs.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+Wl.Jd(this);return 0<t&&(e+=null!==this.link?"("+this.link.toString()+")":"",1<t&&(e+=" "+(this.fromVertex?this.fromVertex.toString():"null")+" --> "+(this.toVertex?this.toVertex.toString():"null"))),e},Gs.prototype.Yx=function(){var t=this.fromVertex;this.fromVertex=this.toVertex,this.toVertex=t},Gs.prototype.commit=function(){},Gs.prototype.getOtherVertex=Gs.prototype.YH=function(t){return this.toVertex===t?this.fromVertex:this.fromVertex===t?this.toVertex:null},Wl.Ma(_s,Os),Wl.ga("GridLayout",_s),_s.prototype.cloneProtected=function(t){Os.prototype.cloneProtected.call(this,t),t.st=this.st,t.rt=this.rt,t.Jj.assign(this.Jj),t.bi.assign(this.bi),t.he=this.he,t.ld=this.ld,t.ai=this.ai,t.Kh=this.Kh},_s.prototype.gc=function(t){t.Ee===_s?t===up||t===cp||t===hp||t===lp?this.sorting=t:t===ap||t===sp?this.Pf=t:t===op||t===rp?this.alignment=t:Wl.k("Unknown enum value: "+t):Os.prototype.gc.call(this,t)},_s.prototype.doLayout=function(t){null===t&&Wl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),this.pe=this.initialOrigin(this.pe);var e=this.g;t=this.pH(t);for(var n=t.copy().i;n.next();){var i=n.value;if(i instanceof _a){var r=i;if(null!==r.W||null!==r.aa){t.remove(r);continue}}if(i.$e(),i instanceof Ds)for(i=i.Nc;i.next();)t.remove(i.value)}if(r=t.ec(),0!==r.length){switch(this.sorting){case lp:r.reverse();break;case up:r.sort(this.comparer);break;case cp:r.sort(this.comparer),r.reverse()}var o=this.UJ;isNaN(o)&&(o=0);var a=this.zG,a=isNaN(a)&&null!==e?Math.max(e.tb.width-e.padding.left-e.padding.right,0):Math.max(this.zG,0);switch(0>=o&&0>=a&&(o=1),t=this.spacing.width,isFinite(t)||(t=0),n=this.spacing.height,isFinite(n)||(n=0),null!==e&&e.Ub("Layout"),i=[],this.alignment){case rp:var s=t,h=n,l=Math.max(this.Ip.width,1);if(!isFinite(l))for(var u=l=0;u<r.length;u++)var c=r[u],f=c.Aa,l=Math.max(l,f.width);var l=Math.max(l+s,1),d=Math.max(this.Ip.height,1);if(!isFinite(d))for(u=d=0;u<r.length;u++)c=r[u],f=c.Aa,d=Math.max(d,f.height);for(var d=Math.max(d+h,1),p=this.Pf,v=this.pe.x,y=v,g=this.pe.y,m=0,b=0,u=0;u<r.length;u++){var c=r[u],f=c.Aa,x=Math.ceil((f.width+s)/l)*l,k=Math.ceil((f.height+h)/d)*d,T=0;switch(p){case sp:T=Math.abs(y-f.width);break;default:T=y+f.width}switch((0<o&&m>o-1||0<a&&0<m&&T>a)&&(i.push(new S(0,g,a+s,b)),m=0,y=v,g+=b,b=0),b=Math.max(b,k),k=0,p){case sp:k=-f.width;break;default:k=0}switch(c.moveTo(y+k,g),p){case sp:y-=x;break;default:y+=x}m++}i.push(new S(0,g,a+s,b));break;case op:for(s=o,h=t,l=n,u=Math.max(this.Ip.width,1),c=g=x=0,f=Wl.K(),o=0;o<r.length;o++)d=r[o],p=d.Aa,v=fa(d,d.Yf,d.Af,f),x=Math.max(x,v.x),g=Math.max(g,p.width-v.x),c=Math.max(c,v.y);switch(y=this.Pf){case sp:x+=h;break;default:g+=h}var u=isFinite(u)?Math.max(u+h,1):Math.max(x+g,1),M=g=this.pe.x,m=this.pe.y,b=0;a>=x&&(a-=x);for(var x=k=0,T=Math.max(this.Ip.height,1),P=c=0,C=!0,N=Wl.K(),o=0;o<r.length;o++){if(d=r[o],p=d.Aa,v=fa(d,d.Yf,d.Af,f),0<b)switch(y){case sp:M=(M-g-(p.width-v.x))/u,M=$(Math.round(M),M)?Math.round(M):Math.floor(M),M=M*u+g;break;default:M=(M-g+v.x)/u,M=$(Math.round(M),M)?Math.round(M):Math.ceil(M),M=M*u+g}else switch(y){case sp:k=M+v.x+p.width;break;default:k=M-v.x}var D=0;switch(y){case sp:D=-(M+v.x)+k;break;default:D=M+p.width-v.x-k}if(0<s&&b>s-1||0<a&&0<b&&D>a){for(i.push(new S(0,C?m-c:m,a+h,P+c+l)),M=0;M<b&&o!==b;M++){var D=r[o-b+M],A=fa(D,D.Yf,D.Af,N);D.moveTo(D.position.x,D.position.y+c-A.y)}P+=l,m=C?m+P:m+(P+c),b=P=c=0,M=g,C=!1}switch(M===g&&(x=y===sp?Math.max(x,p.width-v.x):Math.min(x,-v.x)),c=Math.max(c,v.y),P=Math.max(P,p.height-v.y),isFinite(T)&&(P=Math.max(P,Math.max(p.height,T)-v.y)),C?d.moveTo(M-v.x,m-v.y):d.moveTo(M-v.x,m),y){case sp:M-=v.x+h;break;default:M+=p.width-v.x+h}b++}for(i.push(new S(0,m,a+h,(C?P:P+c)+l)),M=0;M<b&&o!==b;M++)D=r[o-b+M],A=fa(D,D.Yf,D.Af,f),D.moveTo(D.position.x,D.position.y+c-A.y);if(Wl.v(f),Wl.v(N),y===sp)for(o=0;o<i.length;o++)r=i[o],r.width+=x,r.x-=x;else for(o=0;o<i.length;o++)r=i[o],r.x>x&&(r.width+=r.x-x,r.x=x)}for(s=o=a=r=0;s<i.length;s++)h=i[s],r=Math.min(r,h.x),a=Math.min(a,h.y),o=Math.max(o,h.x+h.width);this.Pf===sp?this.commitLayers(i,new w(r+t/2-(o+r),a-n/2)):this.commitLayers(i,new w(r-t/2,a-n/2)),null!==e&&e.Fd("Layout"),this.zf=!0}},_s.prototype.commitLayers=function(){},Wl.defineProperty(_s,{zG:"wrappingWidth"},function(){return this.st},function(t){this.st!==t&&(Wl.j(t,"number",_s,"wrappingWidth"),0<t||isNaN(t))&&(this.st=t,this.Ax=isNaN(t),this.J())}),Wl.defineProperty(_s,{UJ:"wrappingColumn"},function(){return this.rt},function(t){this.rt!==t&&(Wl.j(t,"number",_s,"wrappingColumn"),0<t||isNaN(t))&&(this.rt=t,this.J())}),Wl.defineProperty(_s,{Ip:"cellSize"},function(){return this.Jj},function(t){Wl.G(t,T,_s,"cellSize"),this.Jj.L(t)||(this.Jj.assign(t),this.J())}),Wl.defineProperty(_s,{spacing:"spacing"},function(){return this.bi},function(t){Wl.G(t,T,_s,"spacing"),this.bi.L(t)||(this.bi.assign(t),this.J())}),Wl.defineProperty(_s,{alignment:"alignment"},function(){return this.he},function(t){this.he!==t&&(Wl.nb(t,_s,_s,"alignment"),t===op||t===rp)&&(this.he=t,this.J())}),Wl.defineProperty(_s,{Pf:"arrangement"},function(){return this.ld},function(t){this.ld!==t&&(Wl.nb(t,_s,_s,"arrangement"),t===ap||t===sp)&&(this.ld=t,this.J())}),Wl.defineProperty(_s,{sorting:"sorting"},function(){return this.ai},function(t){this.ai!==t&&(Wl.nb(t,_s,_s,"sorting"),t===hp||t===lp||t===up||t===cp)&&(this.ai=t,this.J())}),Wl.defineProperty(_s,{comparer:"comparer"},function(){return this.Kh},function(t){this.Kh!==t&&(Wl.j(t,"function",_s,"comparer"),this.Kh=t,this.J())});var ip;_s.standardComparer=ip=function(t,e){var n=t.text,i=e.text;return n<i?-1:n>i?1:0},_s.smartComparer=function(t,e){if(null!==t){if(null!==e){for(var n=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),i=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),r=0;r<n.length;r++)if(""!==i[r]&&void 0!==i[r]){var o=parseFloat(n[r]),a=parseFloat(i[r]);if(isNaN(o)){if(!isNaN(a))return 1;if(0!==n[r].localeCompare(i[r]))return n[r].localeCompare(i[r])}else{if(isNaN(a))return-1;if(0!=o-a)return o-a}}else if(""!==n[r])return 1;return""!==i[r]&&void 0!==i[r]?-1:0}return 1}return null!==e?-1:0};var rp;_s.Position=rp=Wl.p(_s,"Position",0);var op;_s.Location=op=Wl.p(_s,"Location",1);var ap;_s.LeftToRight=ap=Wl.p(_s,"LeftToRight",2);var sp;_s.RightToLeft=sp=Wl.p(_s,"RightToLeft",3);var hp;_s.Forward=hp=Wl.p(_s,"Forward",4);var lp;_s.Reverse=lp=Wl.p(_s,"Reverse",5);var up;_s.Ascending=up=Wl.p(_s,"Ascending",6);var cp;_s.Descending=cp=Wl.p(_s,"Descending",7),Wl.Ma(Ws,Os),Wl.ga("CircularLayout",Ws),Ws.prototype.cloneProtected=function(t){Os.prototype.cloneProtected.call(this,t),t.Ds=this.Ds,t.Nq=this.Nq,t.dt=this.dt,t.gt=this.gt,t.ld=this.ld,t.ba=this.ba,t.ai=this.ai,t.Kh=this.Kh,t.bi=this.bi,t.ss=this.ss},Ws.prototype.gc=function(t){t.Ee===Ws?t===kp||t===Tp||t===wp||t===xp||t===Sp?this.sorting=t:t===mp||t===bp||t===yp||t===gp?this.direction=t:t===pp||t===dp||t===fp||t===vp?this.Pf=t:t!==Pp&&t!==Mp||(this.Ix=t):Os.prototype.gc.call(this,t)},Ws.prototype.createNetwork=function(){return new oh},Ws.prototype.doLayout=function(t){if(null===t&&Wl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),t=this.network.vertexes,1>=t.count)1===t.count&&(t=t.first(),t.ka=0,t.sa=0);else{var e=new c(ah);e.Ic(t.i),t=new c(ah);var n,i=new c(ah);n=this.sort(e);var r=this.Ty,o=this.yC,a=this.Wd,s=this.Eo,h=this.Uy,l=this.qr,e=this.al,u=this.QD,f=this.Fg,d=this.iv,r=this.Pf,o=this.Ix,a=this.eJ;if((!isFinite(a)||0>=a)&&(a=NaN),s=this.iH,(!isFinite(s)||0>=s)&&(s=1),h=this.ze,isFinite(h)||(h=0),l=this.pf,(!isFinite(l)||360<l||1>l)&&(l=360),e=this.spacing,isFinite(e)||(e=NaN),r===vp&&o===Pp?r=fp:r===vp&&o!==Pp&&(o=Pp,r=this.Pf),(this.direction===mp||this.direction===bp)&&this.sorting!==Sp){for(var p=0;!(p>=n.length)&&(t.add(n.ea(p)),!(p+1>=n.length));p+=2)i.add(n.ea(p+1));this.direction===mp?(this.Pf===vp&&t.reverse(),n=new c(ah),n.Ic(t),n.Ic(i)):(this.Pf===vp&&i.reverse(),n=new c(ah),n.Ic(i),n.Ic(t))}for(var v=n.length,y=u=0,p=0;p<n.length;p++){var f=h+l*y*(this.direction===yp?1:-1)/v,g=n.ea(p).diameter;isNaN(g)&&(g=sh(n.ea(p),f)),360>l&&(0===p||p===n.length-1)&&(g/=2),u+=g,y++}if(isNaN(a)||r===vp){if(isNaN(e)&&(e=6),r!==fp&&r!==vp){for(g=-(1/0),p=0;p<v;p++){var d=n.ea(p),m=n.ea(p===v-1?0:p+1);isNaN(d.diameter)&&sh(d,0),isNaN(m.diameter)&&sh(m,0),g=Math.max(g,(d.diameter+m.diameter)/2)}d=g+e,r===pp?(f=2*Math.PI/v,a=(g+e)/f):a=nh(this,d*(360<=l?v:v-1),s,h*Math.PI/180,l*Math.PI/180)}else a=nh(this,u+(360<=l?v:v-1)*(r!==vp?e:1.6*e),s,h*Math.PI/180,l*Math.PI/180);f=a*s}else if(f=a*s,y=eh(this,a,f,h*Math.PI/180,l*Math.PI/180),isNaN(e))r!==fp&&r!==vp||(e=(y-u)/(360<=l?v:v-1));else if(r===fp||r===vp)p=(y-u)/(360<=l?v:v-1),p<e?(a=nh(this,u+e*(360<=l?v:v-1),s,h*Math.PI/180,l*Math.PI/180),f=a*s):e=p;else{for(g=-(1/0),p=0;p<v;p++)d=n.ea(p),m=n.ea(p===v-1?0:p+1),isNaN(d.diameter)&&sh(d,0),isNaN(m.diameter)&&sh(m,0),g=Math.max(g,(d.diameter+m.diameter)/2);d=g+e,p=nh(this,d*(360<=l?v:v-1),s,h*Math.PI/180,l*Math.PI/180),p>a?(a=p,f=a*s):d=y/(360<=l?v:v-1)}if(this.Ty=r,this.yC=o,this.Wd=a,this.Eo=s,this.Uy=h,this.qr=l,this.al=e,this.QD=u,this.Fg=f,this.iv=d,e=n,n=this.Ty,r=this.Wd,o=this.Uy,s=this.qr,h=this.al,l=this.Fg,u=this.iv,this.direction!==mp&&this.direction!==bp||n!==vp)if(this.direction===mp||this.direction===bp){switch(a=0,n){case dp:a=180*ih(this,r,l,o,u)/Math.PI;break;case fp:u=e=0,a=t.first(),null!==a&&(e=sh(a,Math.PI/2)),a=i.first(),null!==a&&(u=sh(a,Math.PI/2)),a=180*ih(this,r,l,o,h+(e+u)/2)/Math.PI;break;case pp:a=s/e.length}if(this.direction===mp){switch(n){case dp:$s(this,t,o,gp);break;case fp:Ys(this,t,o,gp);break;case pp:Ks(this,t,s/2,o,gp)}switch(n){case dp:$s(this,i,o+a,yp);break;case fp:Ys(this,i,o+a,yp);break;case pp:Ks(this,i,s/2,o+a,yp)}}else{switch(n){case dp:$s(this,i,o,gp);break;case fp:Ys(this,i,o,gp);break;case pp:Ks(this,i,s/2,o,gp)}switch(n){case dp:$s(this,t,o+a,yp);break;case fp:Ys(this,t,o+a,yp);break;case pp:Ks(this,t,s/2,o+a,yp)}}}else switch(n){case dp:$s(this,e,o,this.direction);break;case fp:Ys(this,e,o,this.direction);break;case pp:Ks(this,e,s,o,this.direction);break;case vp:Js(this,e,s,o,this.direction)}else Js(this,e,s,o-s/2,yp)}this.updateParts(),this.network=null,this.zf=!0},Ws.prototype.commitLayout=function(){this.commitNodes(),this.eu&&this.commitLinks()},Ws.prototype.commitNodes=function(){for(var t=this.YG,e=this.network.vertexes.i;e.next();){var n=e.value;n.x+=t.x,n.y+=t.y,n.commit()}},Ws.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},Ws.prototype.sort=function(t){switch(this.sorting){case wp:break;case xp:t.reverse();break;case kp:t.sort(this.comparer);break;case Tp:t.sort(this.comparer),t.reverse();break;case Sp:for(var e=[],n=0;n<t.length;n++)e.push(0);for(var i=new c(ah),n=0;n<t.length;n++){var r=-1,o=-1;if(0===n)for(var a=0;a<t.length;a++){var s=t.ea(a).OH;s>r&&(r=s,o=a)}else for(a=0;a<t.length;a++)(s=e[a])>r&&(r=s,o=a);for(i.add(t.ea(o)),e[o]=-1,o=t.ea(o),r=0,a=o.lc;a.next();)0>(r=t.indexOf(a.value.fromVertex))||0<=e[r]&&e[r]++;for(o=o.ic;o.next();)0>(r=t.indexOf(o.value.toVertex))||0<=e[r]&&e[r]++}for(t=[],o=0;o<i.length;o++){e=i.ea(o),t[o]=[];for(var h=0,n=e.ic;n.next();)(h=i.indexOf(n.value.toVertex))!==o&&0>t[o].indexOf(h)&&t[o].push(h);for(e=e.lc;e.next();)(h=i.indexOf(e.value.fromVertex))!==o&&0>t[o].indexOf(h)&&t[o].push(h)}for(a=[],o=0;o<t.length;o++)a[o]=0;for(var e=[],s=[],l=[],n=[],r=new c(ah),u=0,o=0;o<t.length;o++){var f=t[o].length;if(1===f)n.push(o);else if(0===f)r.add(i.ea(o));else{if(0===u)e.push(o);else{for(var d=1/0,p=1/0,v=-1,y=[],f=0;f<e.length;f++)0>t[e[f]].indexOf(e[f===e.length-1?0:f+1])&&y.push(f===e.length-1?0:f+1);if(0===y.length)for(f=0;f<e.length;f++)y.push(f);for(f=0;f<y.length;f++){var g,m=y[f],h=t[o];g=s;for(var b=l,w=a,x=m,k=e,T=0,S=0;S<g.length;S++){var M=w[g[S]],P=w[b[S]],C=0,N=0;if(M<P?(C=M,N=P):(C=P,N=M),C<x&&x<=N)for(M=0;M<h.length;M++)P=h[M],0>k.indexOf(P)||C<w[P]&&w[P]<N||C===w[P]||N===w[P]||T++;else for(M=0;M<h.length;M++)P=h[M],0>k.indexOf(P)||C<w[P]&&w[P]<N&&C!==w[P]&&N!==w[P]&&T++}for(g=T,w=b=0;w<t[o].length;w++)0<=(h=e.indexOf(t[o][w]))&&(h=Math.abs(m-(h>=m?h+1:h)),b+=h<e.length+1-h?h:e.length+1-h);for(w=0;w<s.length;w++)h=a[s[w]],x=a[l[w]],h>=m&&h++,x>=m&&x++,h>x&&(k=x,x=h,h=k),x-h<(e.length+2)/2==(h<m&&m<=x)&&b++;(g<d||g===d&&b<p)&&(d=g,p=b,v=m)}for(e.splice(v,0,o),f=0;f<e.length;f++)a[e[f]]=f;for(f=0;f<t[o].length;f++)d=t[o][f],0<=e.indexOf(d)&&(s.push(o),l.push(d))}u++}}for(o=!1,a=e.length;;){for(o=!0,s=0;s<n.length;s++)if(l=n[s],u=t[l][0],0<=(h=e.indexOf(u))){for(p=f=0;p<t[u].length;p++)d=t[u][p],0>(d=e.indexOf(d))||d===h||(v=d>h?d-h:h-d,f+=d<h!=v>a-v?1:-1);e.splice(0>f?h:h+1,0,l),n.splice(s,1),s--}else o=!1;if(o)break;e.push(n[0]),n.splice(0,1)}for(o=0;o<e.length;o++)r.add(i.ea(e[o]));return r;default:Wl.k("Invalid sorting type.")}return t},Wl.defineProperty(Ws,{eJ:"radius"},function(){return this.Ds},function(t){this.Ds!==t&&(Wl.j(t,"number",Ws,"radius"),0<t||isNaN(t))&&(this.Ds=t,this.J())}),Wl.defineProperty(Ws,{iH:"aspectRatio"},function(){return this.Nq},function(t){this.Nq!==t&&(Wl.j(t,"number",Ws,"aspectRatio"),0<t&&(this.Nq=t,this.J()))}),Wl.defineProperty(Ws,{ze:"startAngle"},function(){return this.dt},function(t){this.dt!==t&&(Wl.j(t,"number",Ws,"startAngle"),this.dt=t,this.J())}),Wl.defineProperty(Ws,{pf:"sweepAngle"},function(){return this.gt},function(t){this.gt!==t&&(Wl.j(t,"number",Ws,"sweepAngle"),this.gt=0<t&&360>=t?t:360,this.J())}),Wl.defineProperty(Ws,{Pf:"arrangement"},function(){return this.ld},function(t){this.ld!==t&&(Wl.nb(t,Ws,Ws,"arrangement"),t===vp||t===fp||t===dp||t===pp)&&(this.ld=t,this.J())}),Wl.defineProperty(Ws,{direction:"direction"},function(){return this.ba},function(t){this.ba!==t&&(Wl.nb(t,Ws,Ws,"direction"),t===yp||t===gp||t===mp||t===bp)&&(this.ba=t,this.J())}),Wl.defineProperty(Ws,{sorting:"sorting"},function(){return this.ai},function(t){this.ai!==t&&(Wl.nb(t,Ws,Ws,"sorting"),t===wp||t===xp||t===kp||Tp||t===Sp)&&(this.ai=t,this.J())}),Wl.defineProperty(Ws,{comparer:"comparer"},function(){return this.Kh},function(t){this.Kh!==t&&(Wl.j(t,"function",Ws,"comparer"),this.Kh=t,this.J())}),Wl.defineProperty(Ws,{spacing:"spacing"},function(){return this.bi},function(t){this.bi!==t&&(Wl.j(t,"number",Ws,"spacing"),this.bi=t,this.J())}),Wl.defineProperty(Ws,{Ix:"nodeDiameterFormula"},function(){return this.ss},function(t){this.ss!==t&&(Wl.nb(t,Ws,Ws,"nodeDiameterFormula"),t===Mp||t===Pp)&&(this.ss=t,this.J())}),Wl.u(Ws,{ZG:"actualXRadius"},function(){return this.Wd}),Wl.u(Ws,{$G:"actualYRadius"},function(){return this.Fg}),Wl.u(Ws,{WJ:"actualSpacing"},function(){return this.al}),Wl.u(Ws,{YG:"actualCenter"},function(){return isNaN(this.pe.x)||isNaN(this.pe.y)?new w(0,0):new w(this.pe.x+this.ZG,this.pe.y+this.$G)});var fp;Ws.ConstantSpacing=fp=Wl.p(Ws,"ConstantSpacing",0);var dp;Ws.ConstantDistance=dp=Wl.p(Ws,"ConstantDistance",1);var pp;Ws.ConstantAngle=pp=Wl.p(Ws,"ConstantAngle",2);var vp;Ws.Packed=vp=Wl.p(Ws,"Packed",3);var yp;Ws.Clockwise=yp=Wl.p(Ws,"Clockwise",4);var gp;Ws.Counterclockwise=gp=Wl.p(Ws,"Counterclockwise",5);var mp;Ws.BidirectionalLeft=mp=Wl.p(Ws,"BidirectionalLeft",6);var bp;Ws.BidirectionalRight=bp=Wl.p(Ws,"BidirectionalRight",7);var wp;Ws.Forwards=wp=Wl.p(Ws,"Forwards",8);var xp;Ws.Reverse=xp=Wl.p(Ws,"Reverse",9);var kp;Ws.Ascending=kp=Wl.p(Ws,"Ascending",10);var Tp;Ws.Descending=Tp=Wl.p(Ws,"Descending",11);var Sp;Ws.Optimized=Sp=Wl.p(Ws,"Optimized",12);var Mp;Ws.Pythagorean=Mp=Wl.p(Ws,"Pythagorean",13);var Pp;Ws.Circular=Pp=Wl.p(Ws,"Circular",14),rh.prototype.compare=function(t,e){if(0<t&&0>this.Xp||Math.abs(t)<Math.abs(this.Xp)&&!(0>t&&0<this.Xp)){this.Xp=t,this.eo=[],this.Bq=[];for(var n=0;n<e.length;n++)this.eo[n]=e[n].kb.x,this.Bq[n]=e[n].kb.y}},rh.prototype.commit=function(t){if(null!==this.eo&&null!==this.Bq)for(var e=0;e<this.eo.length;e++){var n=t.ea(e);n.x=this.eo[e],n.y=this.Bq[e]}},Wl.Ma(oh,Bs),Wl.ga("CircularNetwork",oh),oh.prototype.createVertex=function(){return new ah},oh.prototype.createEdge=function(){return new hh},Wl.Ma(ah,Hs),Wl.ga("CircularVertex",ah),Wl.Ma(hh,Gs),Wl.ga("CircularEdge",hh),Wl.Ma(lh,Os),Wl.ga("ForceDirectedLayout",lh),lh.prototype.cloneProtected=function(t){Os.prototype.cloneProtected.call(this,t),t.ig.assign(this.ig),t.Mq=this.Mq,t.$h=this.$h,t.Jh=this.Jh,t.bp=this.bp,t.tr=this.tr,t.Ph=this.Ph,t.Es=this.Es,t.Ao=this.Ao,t.zo=this.zo,t.xo=this.xo,t.yo=this.yo,t.ir=this.ir,t.hr=this.hr},lh.prototype.createNetwork=function(){return new wh},lh.prototype.doLayout=function(t){if(null===t&&Wl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),t=this.DA,0<this.network.vertexes.count){this.network.Zw();for(var e=this.network.vertexes.i;e.next();){var n=e.value;n.charge=this.electricalCharge(n),n.mass=this.gravitationalMass(n)}for(e=this.network.edges.i;e.next();)n=e.value,n.stiffness=this.springStiffness(n),n.length=this.springLength(n);if(this.Mz(),this.Sr=0,this.needsClusterLayout()){for(e=this.network,n=e.EJ().i;n.next();){this.network=n.value;for(var i=this.network.vertexes.i;i.next();){var r=i.value;r.fg=r.vertexes.count,r.Hk=1,r.on=null,r.Eh=null}uh(this,0,t)}this.network=e,n.reset();for(var i=this.iE,o=n.count,a=!0,s=r=0,h=Wl.mb(),l=0;l<o+e.vertexes.count+2;l++)h[l]=null;o=0,n.reset();for(var u=Wl.Ef();n.next();)if(l=n.value,this.th(l,u),a)a=!1,r=u.x+u.width/2,s=u.y+u.height/2,h[0]=new w(u.x+u.width+i.width,u.y),h[1]=new w(u.x,u.y+u.height+i.height),o=2;else{var c=vh(h,o,r,s,u.width,u.height,i),f=h[c],d=new w(f.x+u.width+i.width,f.y),p=new w(f.x,f.y+u.height+i.height);for(c+1<o&&h.splice(c+1,0,null),h[c]=d,h[c+1]=p,o++,c=f.x-u.x,f=f.y-u.y,l=l.vertexes.i;l.next();)d=l.value,d.ka+=c,d.sa+=f}for(Wl.Hb(u),l=e.vertexes.i;l.next();)a=l.value,u=a.kb,2>o?(r=u.x+u.width/2,s=u.y+u.height/2,h[0]=new w(u.x+u.width+i.width,u.y),h[1]=new w(u.x,u.y+u.height+i.height),o=2):(c=vh(h,o,r,s,u.width,u.height,i),f=h[c],d=new w(f.x+u.width+i.width,f.y),p=new w(f.x,f.y+u.height+i.height),c+1<o&&h.splice(c+1,0,null),h[c]=d,h[c+1]=p,o++,a.ka=f.x+a.width/2,a.sa=f.y+a.height/2);for(Wl.wa(h),n.reset();n.next();){for(i=n.value,r=i.vertexes.i;r.next();)e.Dl(r.value);for(i=i.edges.i;i.next();)e.Ep(i.value)}}gh(this,t),this.updateParts()}this.bp=t,this.network=null,this.zf=!0},lh.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,n=this.network.vertexes.first().kb,i=this.network.vertexes.i;i.next();){if(i.value.kb.Lg(n)&&2<++t)return!0;if(10<e)break;e++}return!1},lh.prototype.th=function(t,e){for(var n=!0,i=t.vertexes.i;i.next();){var r=i.value;n?(n=!1,e.set(r.kb)):e.Hh(r.kb)}return e},lh.prototype.Mz=function(){if(this.comments)for(var t=this.network.vertexes.i;t.next();)this.addComments(t.value)},lh.prototype.addComments=function(t){var e=t.Oc;if(null!==e)for(e=e.GE();e.next();){var n=e.value;if("Comment"===n.sd&&n.isVisible()){var i=this.network.xn(n);null===i&&(i=this.network.wt(n)),i.charge=this.EH;for(var n=null,r=i.ic;r.next();){var o=r.value;if(o.toVertex===t){n=o;break}}if(null===n)for(r=i.lc;r.next();)if(o=r.value,o.fromVertex===t){n=o;break}null===n&&(n=this.network.hq(t,i,null)),n.length=this.FH}}},lh.prototype.moveFixedVertex=function(){},lh.prototype.commitLayout=function(){this.bB(),this.commitNodes(),this.eu&&this.commitLinks()},lh.prototype.bB=function(){if(this.vq)for(var t=this.network.edges.i;t.next();){var e=t.value.link;null!==e&&(e.Ab=eu,e.Bb=eu)}},lh.prototype.commitNodes=function(){var t=0,e=0;if(this.hH){var n=Wl.Ef();this.th(this.network,n),e=this.pe,t=e.x-n.x,e=e.y-n.y,Wl.Hb(n)}for(var n=Wl.Ef(),i=this.network.vertexes.i;i.next();){var r=i.value;0===t&&0===e||(n.assign(r.kb),n.x+=t,n.y+=e,r.kb=n),r.commit()}Wl.Hb(n)},lh.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},lh.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.Ao:t},lh.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.zo:t},lh.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.xo:t},lh.prototype.electricalFieldX=function(){return 0},lh.prototype.electricalFieldY=function(){return 0},lh.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.yo:t},lh.prototype.gravitationalFieldX=function(){return 0},lh.prototype.gravitationalFieldY=function(){return 0},lh.prototype.isFixed=function(t){return t.isFixed},Wl.u(lh,{zK:"currentIteration"},function(){return this.Sr}),Wl.defineProperty(lh,{iE:"arrangementSpacing"},function(){return this.ig},function(t){Wl.G(t,T,lh,"arrangementSpacing"),this.ig.L(t)||(this.ig.assign(t),this.J())}),Wl.defineProperty(lh,{hH:"arrangesToOrigin"},function(){return this.Mq},function(t){this.Mq!==t&&(Wl.j(t,"boolean",lh,"arrangesToOrigin"),this.Mq=t,this.J())}),Wl.defineProperty(lh,{vq:"setsPortSpots"},function(){return this.$h},function(t){this.$h!==t&&(Wl.j(t,"boolean",lh,"setsPortSpots"),this.$h=t,this.J())}),Wl.defineProperty(lh,{comments:"comments"},function(){return this.Jh},function(t){this.Jh!==t&&(Wl.j(t,"boolean",lh,"comments"),this.Jh=t,this.J())}),Wl.defineProperty(lh,{DA:"maxIterations"},function(){return this.bp},function(t){this.bp!==t&&(Wl.j(t,"number",lh,"maxIterations"),0<=t&&(this.bp=t,this.J()))}),Wl.defineProperty(lh,{DE:"epsilonDistance"},function(){return this.tr},function(t){this.tr!==t&&(Wl.j(t,"number",lh,"epsilonDistance"),0<t&&(this.tr=t,this.J()))}),Wl.defineProperty(lh,{SK:"infinityDistance"},function(){return this.Ph},function(t){this.Ph!==t&&(Wl.j(t,"number",lh,"infinityDistance"),1<t&&(this.Ph=t,this.J()))}),Wl.defineProperty(lh,{Rx:"randomNumberGenerator"},function(){return this.Es},function(t){this.Es!==t&&(null!==t&&"function"!=typeof t.random&&Wl.k('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Es=t)}),Wl.defineProperty(lh,{LK:"defaultSpringStiffness"},function(){return this.Ao},function(t){this.Ao!==t&&(Wl.j(t,"number",lh,"defaultSpringStiffness"),this.Ao=t,this.J())}),Wl.defineProperty(lh,{KK:"defaultSpringLength"},function(){return this.zo},function(t){this.zo!==t&&(Wl.j(t,"number",lh,"defaultSpringLength"),this.zo=t,this.J())}),Wl.defineProperty(lh,{EK:"defaultElectricalCharge"},function(){return this.xo},function(t){this.xo!==t&&(Wl.j(t,"number",lh,"defaultElectricalCharge"),this.xo=t,this.J())}),Wl.defineProperty(lh,{FK:"defaultGravitationalMass"},function(){return this.yo},function(t){this.yo!==t&&(Wl.j(t,"number",lh,"defaultGravitationalMass"),this.yo=t,this.J())}),Wl.defineProperty(lh,{FH:"defaultCommentSpringLength"},function(){return this.ir},function(t){this.ir!==t&&(Wl.j(t,"number",lh,"defaultCommentSpringLength"),this.ir=t,this.J())}),Wl.defineProperty(lh,{EH:"defaultCommentElectricalCharge"},function(){return this.hr},function(t){this.hr!==t&&(Wl.j(t,"number",lh,"defaultCommentElectricalCharge"),this.hr=t,this.J())}),Wl.Ma(wh,Bs),Wl.ga("ForceDirectedNetwork",wh),wh.prototype.createVertex=function(){return new xh},wh.prototype.createEdge=function(){return new kh},Wl.Ma(xh,Hs),Wl.ga("ForceDirectedVertex",xh),Wl.Ma(kh,Gs),Wl.ga("ForceDirectedEdge",kh),Wl.Ma(Th,Os),Wl.ga("LayeredDigraphLayout",Th),Th.prototype.cloneProtected=function(t){Os.prototype.cloneProtected.call(this,t),t.Im=this.Im,t.Ud=this.Ud,t.ba=this.ba,t.wo=this.wo,t.Yo=this.Yo,t.No=this.No,t.Gm=this.Gm,t.jo=this.jo,t.Zi=this.Zi,t.$h=this.$h,t.Xr=this.Xr},Th.prototype.gc=function(t){t.Ee===Th?0===t.name.indexOf("Aggressive")?this.fH=t:0===t.name.indexOf("Cycle")?this.DH=t:0===t.name.indexOf("Init")?this.pI=t:0===t.name.indexOf("Layer")?this.BI=t:Wl.k("Unknown enum value: "+t):Os.prototype.gc.call(this,t)},Th.prototype.createNetwork=function(){return new rl},Th.prototype.doLayout=function(t){for(null===t&&Wl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.pe=this.initialOrigin(this.pe),this.Vv=-1,this.Lf=this.fs=0,this.ps=this.ns=this.Nm=null,t=0;t<this.ih.length;t++)this.ih[t]=null;if(0<this.network.vertexes.count){for(this.network.Zw(),t=this.network.edges.i;t.next();)t.value.rev=!1;switch(this.wo){default:case Np:var e=0,n=this.network.vertexes.count-1;t=[],t.length=n+1;for(var i=this.network.vertexes.i;i.next();)i.value.valid=!0;for(;null!==Lh(this.network);){for(i=Fh(this.network);null!==i;)t[n]=i,n--,i.valid=!1,i=Fh(this.network);for(i=Oh(this.network);null!==i;)t[e]=i,e++,i.valid=!1,i=Oh(this.network);for(var i=null,r=0,o=this.network.vertexes.i;o.next();){var a=o.value;if(a.valid){for(var s=0,h=a.ic;h.next();)h.value.toVertex.valid&&s++;for(var h=0,l=a.lc;l.next();)l.value.fromVertex.valid&&h++;(null===i||r<s-h)&&(i=a,r=s-h)}}null!==i&&(t[e]=i,e++,i.valid=!1)}for(e=0;e<this.network.vertexes.count;e++)t[e].index=e;for(t=this.network.edges.i;t.next();)e=t.value,e.fromVertex.index>e.toVertex.index&&(this.network.Yx(e),e.rev=!0);break;case Cp:for(e=this.network.vertexes.i;e.next();)t=e.value,t.Sp=-1,t.finish=-1;for(t=this.network.edges.i;t.next();)t.value.forest=!1;for(this.os=0,e.reset();e.next();)n=e.value,0===n.lc.count&&Ih(this,n);for(e.reset();e.next();)n=e.value,-1===n.Sp&&Ih(this,n);for(t.reset();t.next();)e=t.value,e.forest||(n=e.fromVertex,i=n.finish,r=e.toVertex,o=r.finish,r.Sp<n.Sp&&i<o&&(this.network.Yx(e),e.rev=!0))}for(t=this.network.vertexes.i;t.next();)t.value.layer=-1;for(this.qb=-1,this.assignLayers(),t.reset();t.next();)this.qb=Math.max(this.qb,t.value.layer);for(t=[],n=this.network.edges.i;n.next();)e=n.value,e.valid=!1,t.push(e);for(n=0;n<t.length;n++)if(e=t[n],!e.valid&&(null!==e.fromVertex.qd&&null!==e.toVertex.qd||e.fromVertex.layer!==e.toVertex.layer)){if(h=a=s=o=0,r=e.fromVertex,i=e.toVertex,null!==e.link){if(null===(s=e.link))continue;var u=r.qd,o=i.qd;if(null===u||null===o)continue;var c=s.W,a=s.aa,f=s.fd,h=s.Sd;e.rev&&(s=c,l=f,c=a,f=h,a=s,h=l);var d=r.T,s=e.toVertex.T,p=e.rev?i.M:r.M,l=Wl.K();p.H()?(fa(c,f,au,l),l.H()||l.assign(d)):l.assign(d),u!==c&&p.H()&&c.isVisible()&&(u=r.M,u.H()&&(l.x+=p.x-u.x,l.y+=p.y-u.y)),c=e.rev?r.M:i.M,u=Wl.K(),c.H()?(fa(a,h,au,u),u.H()||u.assign(s)):u.assign(s),o!==a&&c.H()&&a.isVisible()&&(o=i.M,o.H()&&(u.x+=c.x-o.x,u.y+=c.y-o.y)),90===this.ba||270===this.ba?(o=Math.round((l.x-d.x)/this.Ud),a=l.x,s=Math.round((u.x-s.x)/this.Ud),h=u.x):(o=Math.round((l.y-d.y)/this.Ud),a=l.y,s=Math.round((u.y-s.y)/this.Ud),h=u.y),Wl.v(l),Wl.v(u),e.portFromColOffset=o,e.portFromPos=a,e.portToColOffset=s,e.portToPos=h}else e.portFromColOffset=0,e.portFromPos=0,e.portToColOffset=0,e.portToPos=0;l=r.layer,d=i.layer;t:if(u=e,c=0,null!==(p=u.link)){var v=p.fd,y=p.Sd;if(null!==v&&null!==y){var g=p.W,f=p.aa;if(null!==g&&null!==f){var m=v.Ab,b=y.Bb;this.vq||(p.Ab.Vc()||(m=p.Ab),p.Bb.Vc()||(b=p.Bb));var w=p.jc,x=Zh(this,!0);(m.Vc()||m===tu)&&(m=x);var k=Zh(this,!1);if((b.Vc()||b===tu)&&(b=k),m.sj()&&m.qj(k)&&b.sj()&&b.qj(x)){c=0;break t}x=p.getLinkPoint(g,v,m,!0,w,f,y,Wl.K()),m=p.getLinkDirection(g,v,x,m,!0,w,f,y),Wl.v(x),m===Vh(this,u,!0)?c+=1:this.vq&&null!==g&&1===g.ports.count&&u.rev&&(c+=1),m=p.getLinkPoint(f,y,b,!1,w,g,v,Wl.K()),p=p.getLinkDirection(f,y,m,b,!1,w,g,v),Wl.v(m),p===Vh(this,u,!1)?c+=2:this.vq&&null!==f&&1===f.ports.count&&u.rev&&(c+=2)}}}if(u=1===c||3===c,(c=2===c||3===c)&&(f=this.network.createVertex(),f.qd=null,f.ln=1,f.layer=l,f.near=r,this.network.Dl(f),r=this.network.hq(r,f,e.link),r.valid=!1,r.rev=e.rev,r.portFromColOffset=o,r.portToColOffset=0,r.portFromPos=a,r.portToPos=0,r=f),p=1,u&&p--,l-d>p&&0<l){for(e.valid=!1,f=this.network.createVertex(),f.qd=null,f.ln=2,f.layer=l-1,this.network.Dl(f),r=this.network.hq(r,f,e.link),r.valid=!0,r.rev=e.rev,r.portFromColOffset=c?0:o,r.portToColOffset=0,r.portFromPos=c?0:a,r.portToPos=0,r=f,l--;l-d>p&&0<l;)f=this.network.createVertex(),f.qd=null,f.ln=3,f.layer=l-1,this.network.Dl(f),r=this.network.hq(r,f,e.link),r.valid=!0,r.rev=e.rev,r.portFromColOffset=0,r.portToColOffset=0,r.portFromPos=0,r.portToPos=0,r=f,l--;r=this.network.hq(f,i,e.link),r.valid=!u,u&&(f.near=i),r.rev=e.rev,r.portFromColOffset=0,r.portToColOffset=s,r.portFromPos=0,r.portToPos=h}else e.valid=!0}for(e=this.ie=[],n=0;n<=this.qb;n++)e[n]=0;for(t=this.network.vertexes.i;t.next();)n=t.value,n.index=-1;for(this.initializeIndices(),this.Vv=-1,n=this.Lf=this.fs=0;n<=this.qb;n++)e[n]>e[this.Lf]&&(this.Vv=e[n]-1,this.Lf=n),e[n]<e[this.fs]&&(this.fs=n);for(this.ps=[],n=0;n<e.length;n++)this.ps[n]=[];for(t.reset();t.next();)e=t.value,n=this.ps[e.layer],n[e.index]=e;for(this.Kb=-1,t=0;t<=this.qb;t++){for(e=el(this,t),n=0,i=this.ie[t],r=0;r<i;r++)o=e[r],n+=this.nodeMinColumnSpace(o,!0),o.column=n,n+=1,n+=this.nodeMinColumnSpace(o,!1);this.Kb=Math.max(this.Kb,n-1),nl(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.zf=!0},Th.prototype.linkMinLength=function(){return 1},Th.prototype.nodeMinLayerSpace=function(t,e){return null===t.qd?0:90===this.ba||270===this.ba?e?t.T.y+10:t.M.height-t.T.y+10:e?t.T.x+10:t.M.width-t.T.x+10},Th.prototype.nodeMinColumnSpace=function(t,e){if(null===t.qd)return 0;var n=e?t.KA:t.JA;return null!==n?n:(n=this.ba,90===n||270===n?e?t.KA=t.T.x/this.Ud+1|0:t.JA=(t.M.width-t.T.x)/this.Ud+1|0:e?t.KA=t.T.y/this.Ud+1|0:t.JA=(t.M.height-t.T.y)/this.Ud+1|0)},Th.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.qb;e++)for(var n=Ch(this,e,1),i=this.ie[e],r=0;r<i;r++)for(var o=r;o<i;o++)t+=n[r*i+o];return t},Th.prototype.normalize=function(){var t=1/0;this.Kb=-1;for(var e=this.network.vertexes.i;e.next();){var n=e.value,t=Math.min(t,n.column-this.nodeMinColumnSpace(n,!0));this.Kb=Math.max(this.Kb,n.column+this.nodeMinColumnSpace(n,!1))}for(e.reset();e.next();)e.value.column-=t;this.Kb-=t},Th.prototype.assignLayers=function(){switch(this.Yo){case Ap:Rh(this);break;case Ep:for(var t=0,e=this.network.vertexes.i;e.next();)t=qh(this,e.value),this.qb=Math.max(t,this.qb);for(e.reset();e.next();)t=e.value,t.layer=this.qb-t.layer;break;default:case Dp:for(Rh(this),e=this.network.vertexes.i;e.next();)e.value.valid=!1;for(e.reset();e.next();)t=e.value,0===t.lc.count&&zh(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.qb=-1,e.reset();e.next();){var n=e.value;n.layer-=t,this.qb=Math.max(this.qb,n.layer)}}},Th.prototype.initializeIndices=function(){switch(this.No){default:case Fp:for(var t=this.network.vertexes.i;t.next();){var e=t.value,n=e.layer;e.index=this.ie[n],this.ie[n]++}break;case jp:for(t=this.network.vertexes.i,e=this.qb;0<=e;e--)for(t.reset();t.next();)n=t.value,n.layer===e&&-1===n.index&&Uh(this,n);break;case Lp:for(t=this.network.vertexes.i,e=0;e<=this.qb;e++)for(t.reset();t.next();)n=t.value,n.layer===e&&-1===n.index&&Hh(this,n)}},Th.prototype.reduceCrossings=function(){for(var t=this.countCrossings(),e=Mh(this),n=0,i=0,r=0,n=0;n<this.Gm;n++){for(i=0;i<=this.qb;i++)Gh(this,i,1),_h(this,i,1);for(r=this.countCrossings(),r<t&&(t=r,e=Mh(this)),i=this.qb;0<=i;i--)Gh(this,i,-1),_h(this,i,-1);r=this.countCrossings(),r<t&&(t=r,e=Mh(this))}for(Ph(this,e),n=0;n<this.Gm;n++){for(i=0;i<=this.qb;i++)Gh(this,i,0),_h(this,i,0);for(r=this.countCrossings(),r<t&&(t=r,e=Mh(this)),i=this.qb;0<=i;i--)Gh(this,i,0),_h(this,i,0);r=this.countCrossings(),r<t&&(t=r,e=Mh(this))}Ph(this,e);var o=!1,a=n=0,s=0,i=0;switch(this.jo){case Op:break;case Rp:for(s=t+1;(i=this.countCrossings())<s;)for(s=i,n=this.qb;0<=n;n--)for(a=0;a<=n;a++){for(o=!0;o;)for(o=!1,i=n;i>=a;i--)o=_h(this,i,-1)||o;for(r=this.countCrossings(),r>=t?Ph(this,e):(t=r,e=Mh(this)),o=!0;o;)for(o=!1,i=n;i>=a;i--)o=_h(this,i,1)||o;for(r=this.countCrossings(),r>=t?Ph(this,e):(t=r,e=Mh(this)),o=!0;o;)for(o=!1,i=a;i<=n;i++)o=_h(this,i,1)||o;for(r>=t?Ph(this,e):(t=r,e=Mh(this)),o=!0;o;)for(o=!1,i=a;i<=n;i++)o=_h(this,i,-1)||o;for(r>=t?Ph(this,e):(t=r,e=Mh(this)),o=!0;o;)for(o=!1,i=n;i>=a;i--)o=_h(this,i,0)||o;for(r>=t?Ph(this,e):(t=r,e=Mh(this)),o=!0;o;)for(o=!1,i=a;i<=n;i++)o=_h(this,i,0)||o;r>=t?Ph(this,e):(t=r,e=Mh(this))}break;default:case Ip:for(n=this.qb,a=0,s=t+1;(i=this.countCrossings())<s;){for(s=i,o=!0;o;)for(o=!1,i=n;i>=a;i--)o=_h(this,i,-1)||o;for(r=this.countCrossings(),r>=t?Ph(this,e):(t=r,e=Mh(this)),o=!0;o;)for(o=!1,i=n;i>=a;i--)o=_h(this,i,1)||o;for(r=this.countCrossings(),r>=t?Ph(this,e):(t=r,e=Mh(this)),o=!0;o;)for(o=!1,i=a;i<=n;i++)o=_h(this,i,1)||o;for(r>=t?Ph(this,e):(t=r,e=Mh(this)),o=!0;o;)for(o=!1,i=a;i<=n;i++)o=_h(this,i,-1)||o;for(r>=t?Ph(this,e):(t=r,e=Mh(this)),o=!0;o;)for(o=!1,i=n;i>=a;i--)o=_h(this,i,0)||o;for(r>=t?Ph(this,e):(t=r,e=Mh(this)),o=!0;o;)for(o=!1,i=a;i<=n;i++)o=_h(this,i,0)||o;r>=t?Ph(this,e):(t=r,e=Mh(this))}}Ph(this,e)},Th.prototype.straightenAndPack=function(){var t=0,e=!1,n=0!=(this.Zi&Bp),t=this.Zi===Vp;if(1e3<this.network.edges.count&&!t&&(n=!1),n){for(e=[],t=t=0;t<=this.qb;t++)e[t]=0;for(var i=0,r=this.network.vertexes.i;r.next();){var o=r.value,t=o.layer,i=o.column,o=this.nodeMinColumnSpace(o,!1);e[t]=Math.max(e[t],i+o)}for(r.reset();r.next();)o=r.value,t=o.layer,i=o.column,o.column=(8*(this.Kb-e[t])>>1)+8*i;this.Kb*=8}if(0!=(this.Zi&qp))for(e=!0;e;){for(e=!1,t=this.Lf+1;t<=this.qb;t++)e=Wh(this,t,1)||e;for(t=this.Lf-1;0<=t;t--)e=Wh(this,t,-1)||e;e=Wh(this,this.Lf,0)||e}if(0!=(this.Zi&zp)){for(t=this.Lf+1;t<=this.qb;t++)Yh(this,t,1);for(t=this.Lf-1;0<=t;t--)Yh(this,t,-1);Yh(this,this.Lf,0)}if(n&&(Xh(this,-1),Xh(this,1)),0!=(this.Zi&qp))for(e=!0;e;){for(e=!1,e=Wh(this,this.Lf,0)||e,t=this.Lf+1;t<=this.qb;t++)e=Wh(this,t,0)||e;for(t=this.Lf-1;0<=t;t--)e=Wh(this,t,0)||e}},Th.prototype.commitLayout=function(){if(this.vq)for(var t=Zh(this,!0),e=Zh(this,!1),n=this.network.edges.i;n.next();){var i=n.value.link;null!==i&&(i.Ab=t,i.Bb=e)}this.commitNodes(),this.Rz(),this.eu&&this.commitLinks()},Th.prototype.commitNodes=function(){this.ug=[],this.Kf=[],this.Jf=[],this.Ob=[];for(var t=0;t<=this.qb;t++)this.ug[t]=0,this.Kf[t]=0,this.Jf[t]=0,this.Ob[t]=0;for(t=this.network.vertexes.i;t.next();){var e=t.value,n=e.layer;this.ug[n]=Math.max(this.ug[n],this.nodeMinLayerSpace(e,!0)),this.Kf[n]=Math.max(this.Kf[n],this.nodeMinLayerSpace(e,!1))}for(var e=0,i=this.Im,n=0;n<=this.qb;n++){var r=i;0>=this.ug[n]+this.Kf[n]&&(r=0),0<n&&(e+=r/2),90===this.ba||0===this.ba?(e+=this.Kf[n],this.Jf[n]=e,e+=this.ug[n]):(e+=this.ug[n],this.Jf[n]=e,e+=this.Kf[n]),n<this.qb&&(e+=r/2),this.Ob[n]=e}for(i=e,e=this.pe,n=0;n<=this.qb;n++)270===this.ba?this.Jf[n]=e.y+this.Jf[n]:90===this.ba?(this.Jf[n]=e.y+i-this.Jf[n],this.Ob[n]=i-this.Ob[n]):180===this.ba?this.Jf[n]=e.x+this.Jf[n]:(this.Jf[n]=e.x+i-this.Jf[n],this.Ob[n]=i-this.Ob[n]);for(t.reset(),i=r=1/0;t.next();){var n=t.value,o=n.layer,a=0|n.column,s=0,h=0;270===this.ba||90===this.ba?(s=e.x+this.Ud*a,h=this.Jf[o]):(s=this.Jf[o],h=e.y+this.Ud*a),n.ka=s,n.sa=h,r=Math.min(n.x,r),i=Math.min(n.y,i)}for(r=e.x-r,e=e.y-i,this.NB=new w(r,e),t.reset();t.next();)n=t.value,n.x+=r,n.y+=e,n.commit()},Th.prototype.Rz=function(){for(var t=0,e=this.Im,n=0;n<=this.qb;n++)t+=this.ug[n],t+=this.Kf[n];for(var t=t+this.qb*e,e=[],n=this.Ud*this.Kb,i=this.KI;0<=i;i--)270===this.ba?0===i?e.push(new S(0,0,n,Math.abs(this.Ob[0]))):e.push(new S(0,this.Ob[i-1],n,Math.abs(this.Ob[i-1]-this.Ob[i]))):90===this.ba?0===i?e.push(new S(0,this.Ob[0],n,Math.abs(this.Ob[0]-t))):e.push(new S(0,this.Ob[i],n,Math.abs(this.Ob[i-1]-this.Ob[i]))):180===this.ba?0===i?e.push(new S(0,0,Math.abs(this.Ob[0]),n)):e.push(new S(this.Ob[i-1],0,Math.abs(this.Ob[i-1]-this.Ob[i]),n)):0===i?e.push(new S(this.Ob[0],0,Math.abs(this.Ob[0]-t),n)):e.push(new S(this.Ob[i],0,Math.abs(this.Ob[i-1]-this.Ob[i]),n));this.commitLayers(e,this.NB)},Th.prototype.commitLayers=function(){},Th.prototype.commitLinks=function(){for(var t,e=this.network.edges.i;e.next();)null!==(t=e.value.link)&&(t.gm(),t.Kp(),t.jj());for(e.reset();e.next();)null!==(t=e.value.link)&&t.bo();for(e.reset();e.next();){var n=e.value;if(null!==(t=n.link)){t.gm();var i=t,r=i.W,o=i.aa,a=i.fd,s=i.Sd;if(n.valid){if(t.Ze===Ud&&4===t.ra){if(n.rev)var h=r,r=o,o=h,l=a,a=s,s=l;if(n.fromVertex.column===n.toVertex.column){var u=t.getLinkPoint(r,a,t.computeSpot(!0),!0,!1,o,s),f=t.getLinkPoint(o,s,t.computeSpot(!1),!1,!1,r,a);u.H()||u.set(r.Y.Hl),f.H()||f.set(o.Y.Hl),t.Kp(),t.Cl(u.x,u.y),t.Cl((2*u.x+f.x)/3,(2*u.y+f.y)/3),t.Cl((u.x+2*f.x)/3,(u.y+2*f.y)/3),t.Cl(f.x,f.y)}else{var d=!1,p=!1;if(null!==a&&t.computeSpot(!0)===tu&&(d=!0),null!==s&&t.computeSpot(!1)===tu&&(p=!0),d||p){var v=t.m(0).x,y=t.m(0).y,g=t.m(1).x,m=t.m(1).y,b=t.m(2).x,w=t.m(2).y,x=t.m(3).x,k=t.m(3).y;if(d){90===this.ba||270===this.ba?(g=v,m=(y+k)/2):(g=(v+x)/2,m=y),t.fa(1,g,m);var T=t.getLinkPoint(r,a,t.computeSpot(!0),!0,!1,o,s);T.H()||T.set(r.Y.Hl),t.fa(0,T.x,T.y)}p&&(90===this.ba||270===this.ba?(b=x,w=(y+k)/2):(b=(v+x)/2,w=k),t.fa(2,b,w),T=t.getLinkPoint(o,s,t.computeSpot(!1),!1,!1,r,a),T.H()||T.set(o.Y.Hl),t.fa(3,T.x,T.y))}}}t.jj()}else if(n.fromVertex.layer===n.toVertex.layer)t.jj();else{var S=!1,M=!1,P=0,C=t.Ot+1;if(t.jc)M=!0,4<(P=t.ra)&&t.points.removeRange(2,P-3);else if(t.Ze===Ud)S=!0,P=t.ra,4<P&&t.points.removeRange(2,P-3),C=2;else{var P=t.ra,N=t.computeSpot(!0)===tu,D=t.computeSpot(!1)===tu;2<P&&N&&D?t.points.removeRange(1,P-2):3<P&&N&&!D?t.points.removeRange(1,P-3):3<P&&!N&&D?t.points.removeRange(2,P-2):4<P&&!N&&!D&&t.points.removeRange(2,P-3)}var A,E,j=n.fromVertex,L=n.toVertex;if(n.rev){for(var F=0;null!==L&&j!==L;){E=A=null;for(var O=L.lc.i;O.next();){var I=O.value;if(I.link===n.link&&(A=I.fromVertex,E=I.toVertex,null===A.qd))break}if(A!==j)if(U=t.m(C-1).x,H=t.m(C-1).y,G=A.ka,_=A.sa,M)180===this.ba||0===this.ba?2===C?(t.w(C++,U,H),t.w(C++,U,_)):($=null!==E?E.sa:H)!==_&&(W=this.Ob[A.layer-1],t.w(C++,W,H),t.w(C++,W,_)):2===C?(t.w(C++,U,H),t.w(C++,G,H)):(J=null!==E?E.ka:U)!==G&&(W=this.Ob[A.layer-1],t.w(C++,U,W),t.w(C++,G,W));else if(2===C)if(K=Math.max(10,this.ug[L.layer]),Y=Math.max(10,this.Kf[L.layer]),S)180===this.ba?G<=L.M.x?(F=L.M.x,t.w(C++,F-K,_),t.w(C++,F,_),t.w(C++,F+Y,_)):(t.w(C++,G-K,_),t.w(C++,G,_),t.w(C++,G+Y,_)):90===this.ba?_>=L.M.bottom?(F=L.M.y+L.M.height,t.w(C++,G,F+Y),t.w(C++,G,F),t.w(C++,G,F-K)):(t.w(C++,G,_+Y),t.w(C++,G,_),t.w(C++,G,_-K)):270===this.ba?_<=L.M.y?(F=L.M.y,t.w(C++,G,F-K),t.w(C++,G,F),t.w(C++,G,F+Y)):(t.w(C++,G,_-K),t.w(C++,G,_),t.w(C++,G,_+Y)):0===this.ba&&(G>=L.M.right?(F=L.M.x+L.M.width,t.w(C++,F+Y,_),t.w(C++,F,_),t.w(C++,F-K,_)):(t.w(C++,G+Y,_),t.w(C++,G,_),t.w(C++,G-K,_)));else{t.w(C++,U,H);var R=0;180===this.ba||0===this.ba?((180===this.ba?G>=L.M.right:G<=L.M.x)&&(R=(0===this.ba?-K:Y)/2),t.w(C++,U+R,_)):((270===this.ba?_>=L.M.bottom:_<=L.M.y)&&(R=(90===this.ba?-K:Y)/2),t.w(C++,G,H+R)),t.w(C++,G,_)}else K=Math.max(10,this.ug[A.layer]),Y=Math.max(10,this.Kf[A.layer]),180===this.ba?(S&&t.w(C++,G-K,_),t.w(C++,G,_),S&&t.w(C++,G+Y,_)):90===this.ba?(S&&t.w(C++,G,_+Y),t.w(C++,G,_),S&&t.w(C++,G,_-K)):270===this.ba?(S&&t.w(C++,G,_-K),t.w(C++,G,_),S&&t.w(C++,G,_+Y)):(S&&t.w(C++,G+Y,_),t.w(C++,G,_),S&&t.w(C++,G-K,_));L=A}if(null===s||t.computeSpot(!1)!==tu||M)if(U=t.m(C-1).x,H=t.m(C-1).y,G=t.m(C).x,_=t.m(C).y,M){var B=this.Kf[j.layer],q=0;180===this.ba||0===this.ba?(q=H,q>=j.M.y&&q<=j.M.bottom&&(180===this.ba?G>=j.M.x:G<=j.M.right)&&(F=j.ka+(180===this.ba?-B:B),q=q<j.M.y+j.M.height/2?j.M.y-this.Ud/2:j.M.bottom+this.Ud/2,t.w(C++,F,H),t.w(C++,F,q)),t.w(C++,G,q)):(q=U,q>=j.M.x&&q<=j.M.right&&(270===this.ba?_>=j.M.y:_<=j.M.bottom)&&(F=j.sa+(270===this.ba?-B:B),q=q<j.M.x+j.M.width/2?j.M.x-this.Ud/2:j.M.right+this.Ud/2,t.w(C++,U,F),t.w(C++,q,F)),t.w(C++,q,_)),t.w(C++,G,_)}else S?(K=Math.max(10,this.ug[j.layer]),Y=Math.max(10,this.Kf[j.layer]),180===this.ba&&G>=j.M.x?(F=j.M.x+j.M.width,t.fa(C-2,F,H),t.fa(C-1,F+Y,H)):90===this.ba&&_<=j.M.bottom?(F=j.M.y,t.fa(C-2,U,F),t.fa(C-1,U,F-K)):270===this.ba&&_>=j.M.y?(F=j.M.y+j.M.height,t.fa(C-2,U,F),t.fa(C-1,U,F+Y)):0===this.ba&&G<=j.M.right&&(F=j.M.x,t.fa(C-2,F,H),t.fa(C-1,F-K,H))):(K=Math.max(10,this.ug[j.layer]),Y=Math.max(10,this.Kf[j.layer]),R=0,180===this.ba||0===this.ba?((180===this.ba?G<=j.M.x:G>=j.M.right)&&(R=(0===this.ba?Y:-K)/2),t.w(C++,G+R,H)):((270===this.ba?_<=j.M.y:_>=j.M.bottom)&&(R=(90===this.ba?Y:-K)/2),t.w(C++,U,_+R)),t.w(C++,G,_))}else{for(;null!==j&&j!==L;){E=A=null;for(var z=j.ic.i;z.next();){var V=z.value;if(V.link===n.link&&(A=V.toVertex,E=V.fromVertex,null!==E.qd&&(E=null),null===A.qd))break}var U=0,H=0,G=0,_=0,W=0,K=0,Y=0;if(A!==L)if(U=t.m(C-1).x,H=t.m(C-1).y,G=A.ka,_=A.sa,M)if(180===this.ba||0===this.ba){var $=null!==E?E.sa:H;$!==_&&(W=this.Ob[A.layer],2===C&&(W=0===this.ba?Math.max(W,U):Math.min(W,U)),t.w(C++,W,H),t.w(C++,W,_))}else{var J=null!==E?E.ka:U;J!==G&&(W=this.Ob[A.layer],2===C&&(W=90===this.ba?Math.max(W,H):Math.min(W,H)),t.w(C++,U,W),t.w(C++,G,W))}else K=Math.max(10,this.ug[A.layer]),Y=Math.max(10,this.Kf[A.layer]),180===this.ba?(t.w(C++,G+Y,_),S&&t.w(C++,G,_),t.w(C++,G-K,_)):90===this.ba?(t.w(C++,G,_-K),S&&t.w(C++,G,_),t.w(C++,G,_+Y)):270===this.ba?(t.w(C++,G,_+Y),S&&t.w(C++,G,_),t.w(C++,G,_-K)):(t.w(C++,G-K,_),S&&t.w(C++,G,_),t.w(C++,G+Y,_));j=A}M&&(U=t.m(C-1).x,H=t.m(C-1).y,G=t.m(C).x,_=t.m(C).y,180===this.ba||0===this.ba?H!==_&&(W=0===this.ba?Math.min(Math.max((G+U)/2,this.Ob[L.layer]),G):Math.max(Math.min((G+U)/2,this.Ob[L.layer]),G),t.w(C++,W,H),t.w(C++,W,_)):U!==G&&(W=90===this.ba?Math.min(Math.max((_+H)/2,this.Ob[L.layer]),_):Math.max(Math.min((_+H)/2,this.Ob[L.layer]),_),t.w(C++,U,W),t.w(C++,G,W)))}if(null!==i&&S){if(null!==a){if(t.computeSpot(!0)===tu){var X=t.m(0),Q=t.m(2);X.L(Q)||t.fa(1,(X.x+Q.x)/2,(X.y+Q.y)/2)}T=t.getLinkPoint(r,a,tu,!0,!1,o,s),T.H()||T.set(r.Y.Hl),t.fa(0,T.x,T.y)}null!==s&&(t.computeSpot(!1)===tu&&(X=t.m(t.ra-1),Q=t.m(t.ra-3),X.L(Q)||t.fa(t.ra-2,(X.x+Q.x)/2,(X.y+Q.y)/2)),T=t.getLinkPoint(o,s,tu,!1,!1,r,a),T.H()||T.set(o.Y.Hl),t.fa(t.ra-1,T.x,T.y))}t.jj(),n.commit()}}}for(var Z=new c(_a),tt=this.network.edges.i;tt.next();){var et=tt.value.link;null!==et&&et.jc&&!Z.contains(et)&&Z.add(et)}if(0<Z.count)if(90===this.ba||270===this.ba){for(var nt,it,rt=0,ot=new c(il),at=Z.i;at.next();){var st=at.value;if(null!==st&&st.jc)for(var ht=2;ht<st.ra-3;ht++)if(nt=st.m(ht),it=st.m(ht+1),tl(nt.y,it.y)&&!tl(nt.x,it.x)){var lt=new il;lt.layer=Math.floor(nt.y/2);var ut=st.m(0),ct=st.m(st.ra-1);if(lt.first=ut.x*ut.x+ut.y,lt.fe=ct.x*ct.x+ct.y,lt.Xe=Math.min(nt.x,it.x),lt.qe=Math.max(nt.x,it.x),lt.index=ht,lt.link=st,ht+2<st.ra){var ft=st.m(ht-1),dt=st.m(ht+2),pt=0;ft.y<nt.y?pt=dt.y<nt.y?3:nt.x<it.x?2:1:ft.y>nt.y&&(pt=dt.y>nt.y?0:it.x<nt.x?2:1),lt.ri=pt}ot.add(lt)}}if(1<ot.count){ot.sort(this.ZF);for(var vt=0;vt<ot.count;){for(var yt=ot.n[vt].layer,gt=vt+1;gt<ot.count&&ot.n[gt].layer===yt;)gt++;if(1<gt-vt)for(var mt=vt;mt<gt;){for(var bt=ot.n[mt].qe,wt=vt+1;wt<gt&&ot.n[wt].Xe<bt;)bt=Math.max(bt,ot.n[wt].qe),wt++;var xt=wt-mt;if(1<xt){ot.yq(this.$x,mt,mt+xt);for(var kt=1,Tt=ot.n[mt].fe,ht=mt;ht<wt;ht++){var St=ot.n[ht];St.fe!==Tt&&(kt++,Tt=St.fe)}ot.yq(this.YF,mt,mt+xt);for(var Mt=1,Tt=ot.n[mt].first,ht=mt;ht<wt;ht++)St=ot.n[ht],St.first!==Tt&&(Mt++,Tt=St.first);var Pt=!0,Ct=Mt;kt<Mt?(Pt=!1,Ct=kt,Tt=ot.n[mt].fe,ot.yq(this.$x,mt,mt+xt)):Tt=ot.n[mt].first;for(var Nt=0,ht=mt;ht<wt;ht++){St=ot.n[ht],(Pt?St.first:St.fe)!==Tt&&(Nt++,Tt=Pt?St.first:St.fe),st=St.link,nt=st.m(St.index),it=st.m(St.index+1);var Dt=this.sF*(Nt-(Ct-1)/2);rt++,st.gm(),st.fa(St.index,nt.x,nt.y+Dt),st.fa(St.index+1,it.x,it.y+Dt),st.jj()}}mt=wt}vt=gt}}}else{for(var At,Et,jt=0,Lt=new c(il),Ft=Z.i;Ft.next();){var Ot=Ft.value;if(null!==Ot&&Ot.jc)for(var It=2;It<Ot.ra-3;It++)if(At=Ot.m(It),Et=Ot.m(It+1),tl(At.x,Et.x)&&!tl(At.y,Et.y)){var Rt=new il;Rt.layer=Math.floor(At.x/2);var Bt=Ot.m(0),qt=Ot.m(Ot.ra-1);if(Rt.first=Bt.x+Bt.y*Bt.y,Rt.fe=qt.x+qt.y*qt.y,Rt.Xe=Math.min(At.y,Et.y),Rt.qe=Math.max(At.y,Et.y),Rt.index=It,Rt.link=Ot,It+2<Ot.ra){var zt=Ot.m(It-1),Vt=Ot.m(It+2),Ut=0;zt.x<At.x?Ut=Vt.x<At.x?3:At.y<Et.y?2:1:zt.x>At.x&&(Ut=Vt.x>At.x?0:Et.y<At.y?2:1),Rt.ri=Ut}Lt.add(Rt)}}if(1<Lt.count){Lt.sort(this.ZF);for(var Ht=0;Ht<Lt.count;){for(var Gt=Lt.n[Ht].layer,_t=Ht+1;_t<Lt.count&&Lt.n[_t].layer===Gt;)_t++;if(1<_t-Ht)for(var Wt=Ht;Wt<_t;){for(var Kt=Lt.n[Wt].qe,Yt=Ht+1;Yt<_t&&Lt.n[Yt].Xe<Kt;)Kt=Math.max(Kt,Lt.n[Yt].qe),Yt++;var $t=Yt-Wt;if(1<$t){Lt.yq(this.$x,Wt,Wt+$t);for(var Jt=1,Xt=Lt.n[Wt].fe,It=Wt;It<Yt;It++){var Qt=Lt.n[It];Qt.fe!==Xt&&(Jt++,Xt=Qt.fe)}Lt.yq(this.YF,Wt,Wt+$t);for(var Zt=1,Xt=Lt.n[Wt].first,It=Wt;It<Yt;It++)Qt=Lt.n[It],Qt.first!==Xt&&(Zt++,Xt=Qt.first);var te=!0,ee=Zt;Jt<Zt?(te=!1,ee=Jt,Xt=Lt.n[Wt].fe,Lt.yq(this.$x,Wt,Wt+$t)):Xt=Lt.n[Wt].first;for(var ne=0,It=Wt;It<Yt;It++){Qt=Lt.n[It],(te?Qt.first:Qt.fe)!==Xt&&(ne++,Xt=te?Qt.first:Qt.fe),Ot=Qt.link,At=Ot.m(Qt.index),Et=Ot.m(Qt.index+1);var ie=this.sF*(ne-(ee-1)/2);jt++,Ot.gm(),Ot.fa(Qt.index,At.x+ie,At.y),Ot.fa(Qt.index+1,Et.x+ie,Et.y),Ot.jj()}}Wt=Yt}Ht=_t}}}},Th.prototype.ZF=function(t,e){return t instanceof il&&e instanceof il&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.Xe<e.Xe?-1:t.Xe>e.Xe?1:t.qe<e.qe?-1:t.qe>e.qe?1:0:0},Th.prototype.YF=function(t,e){return t instanceof il&&e instanceof il&&t!==e?t.first<e.first?-1:t.first>e.first||t.ri<e.ri?1:t.ri>e.ri||t.Xe<e.Xe?-1:t.Xe>e.Xe?1:t.qe<e.qe?-1:t.qe>e.qe?1:0:0},Th.prototype.$x=function(t,e){return t instanceof il&&e instanceof il&&t!==e?t.fe<e.fe?-1:t.fe>e.fe||t.ri<e.ri?1:t.ri>e.ri||t.Xe<e.Xe?-1:t.Xe>e.Xe?1:t.qe<e.qe?-1:t.qe>e.qe?1:0:0},Wl.defineProperty(Th,{layerSpacing:"layerSpacing"},function(){return this.Im},function(t){this.Im!==t&&(Wl.j(t,"number",Th,"layerSpacing"),0<=t&&(this.Im=t,this.J()))}),Wl.defineProperty(Th,{wK:"columnSpacing"},function(){return this.Ud},function(t){this.Ud!==t&&(Wl.j(t,"number",Th,"columnSpacing"),0<t&&(this.Ud=t,this.J()))}),Wl.defineProperty(Th,{direction:"direction"},function(){return this.ba},function(t){this.ba!==t&&(Wl.j(t,"number",Th,"direction"),0===t||90===t||180===t||270===t?(this.ba=t,this.J()):Wl.k("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}),Wl.defineProperty(Th,{angle:"angle"},function(){return this.direction},function(t){this.direction=t}),Wl.defineProperty(Th,{DH:"cycleRemoveOption"},function(){return this.wo},function(t){this.wo!==t&&(Wl.nb(t,Th,Th,"cycleRemoveOption"),t===Np||t===Cp)&&(this.wo=t,this.J())}),Wl.defineProperty(Th,{BI:"layeringOption"},function(){return this.Yo},function(t){this.Yo!==t&&(Wl.nb(t,Th,Th,"layeringOption"),t===Dp||t===Ap||t===Ep)&&(this.Yo=t,this.J())}),Wl.defineProperty(Th,{pI:"initializeOption"},function(){return this.No},function(t){this.No!==t&&(Wl.nb(t,Th,Th,"initializeOption"),t===jp||t===Lp||t===Fp)&&(this.No=t,this.J())}),Wl.defineProperty(Th,{aL:"iterations"},function(){return this.Gm},function(t){this.Gm!==t&&(Wl.Zd(t,rl,"iterations"),0<=t&&(this.Gm=t,this.J()))}),Wl.defineProperty(Th,{fH:"aggressiveOption"},function(){return this.jo},function(t){this.jo!==t&&(Wl.nb(t,Th,Th,"aggressiveOption"),t===Op||t===Ip||t===Rp)&&(this.jo=t,this.J())}),Wl.defineProperty(Th,{vL:"packOption"},function(){return this.Zi},function(t){this.Zi!==t&&(Wl.j(t,"number",Th,"packOption"),0<=t&&8>t&&(this.Zi=t,this.J()))}),Wl.defineProperty(Th,{vq:"setsPortSpots"},function(){return this.$h},function(t){this.$h!==t&&(Wl.j(t,"boolean",Th,"setsPortSpots"),this.$h=t,this.J())}),Wl.defineProperty(Th,{sF:"linkSpacing"},function(){return this.Xr},function(t){this.Xr!==t&&(Wl.j(t,"number",Th,"linkSpacing"),0<=t&&(this.Xr=t,this.J()))}),Wl.u(Th,{KI:"maxLayer"},function(){return this.qb}),Wl.u(Th,{gL:"maxIndex"},function(){return this.Vv}),Wl.u(Th,{fL:"maxColumn"},function(){return this.Kb}),Wl.u(Th,{lL:"minIndexLayer"},function(){return this.fs}),Wl.u(Th,{hL:"maxIndexLayer"},function(){return this.Lf});var Cp;Th.CycleDepthFirst=Cp=Wl.p(Th,"CycleDepthFirst",0);var Np;Th.CycleGreedy=Np=Wl.p(Th,"CycleGreedy",1);var Dp;Th.LayerOptimalLinkLength=Dp=Wl.p(Th,"LayerOptimalLinkLength",0);var Ap;Th.LayerLongestPathSink=Ap=Wl.p(Th,"LayerLongestPathSink",1);var Ep;Th.LayerLongestPathSource=Ep=Wl.p(Th,"LayerLongestPathSource",2);var jp;Th.InitDepthFirstOut=jp=Wl.p(Th,"InitDepthFirstOut",0);var Lp;Th.InitDepthFirstIn=Lp=Wl.p(Th,"InitDepthFirstIn",1);var Fp;Th.InitNaive=Fp=Wl.p(Th,"InitNaive",2);var Op;Th.AggressiveNone=Op=Wl.p(Th,"AggressiveNone",0);var Ip;Th.AggressiveLess=Ip=Wl.p(Th,"AggressiveLess",1);var Rp;Th.AggressiveMore=Rp=Wl.p(Th,"AggressiveMore",2),Th.PackNone=0;var Bp;Th.PackExpand=Bp=1;var qp;Th.PackStraighten=qp=2;var zp;Th.PackMedian=zp=4;var Vp;Th.PackAll=Vp=7,Wl.ae(il,{layer:!0,first:!0,fe:!0,Xe:!0,qe:!0,index:!0,link:!0,ri:!0}),Wl.Ma(rl,Bs),Wl.ga("LayeredDigraphNetwork",rl),rl.prototype.createVertex=function(){return new ol},rl.prototype.createEdge=function(){return new al},Wl.Ma(ol,Hs),Wl.ga("LayeredDigraphVertex",ol),Wl.Ma(al,Gs),Wl.ga("LayeredDigraphEdge",al),Wl.Ma(sl,Os),Wl.ga("TreeLayout",sl),sl.prototype.cloneProtected=function(t){Os.prototype.cloneProtected.call(this,t),t.ys=this.ys,t.pt=this.pt,t.Sv=this.Sv,t.Jh=this.Jh,t.ld=this.ld,t.ig.assign(this.ig),t.ua.copyInheritedPropertiesFrom(this.ua),t.va.copyInheritedPropertiesFrom(this.va)},sl.prototype.gc=function(t){t.Ee===sl?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.Pf=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.PJ=t:Wl.k("Unknown enum value: "+t):Os.prototype.gc.call(this,t)},sl.prototype.createNetwork=function(){return new zl},sl.prototype.makeNetwork=function(t){function e(t){if(t instanceof Ea)return!t.mf&&"Comment"!==t.sd;if(t instanceof _a){var e=t.W;return null!==e&&!e.mf&&"Comment"!==e.sd&&(null!==(t=t.aa)&&!t.mf&&"Comment"!==t.sd)}return!1}var n=this.createNetwork();return n.Sb=this,t instanceof In?(n.rk(t.eg,!0,e),n.rk(t.links,!0,e)):t instanceof Ds?n.rk(t.Nc,!1,e):n.rk(t.i,!1,e),n},sl.prototype.doLayout=function(t){null===t&&Wl.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.Pf!==cv&&(this.pe=this.initialOrigin(this.pe));var e=this.g;if(null===e&&t instanceof In&&(e=t),this.If=this.path===Up&&null!==e?e.Od?Hp:Gp:this.path===Up?Hp:this.path,0<this.network.vertexes.count){for(this.network.Zw(),t=this.network.vertexes.i;t.next();)e=t.value,e.initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.rd.count){for(t=new d(Vl),e=this.rd.i;e.next();){var n=e.value;n instanceof Ea?null!==(n=this.network.xn(n))&&t.add(n):n instanceof Vl&&t.add(n)}this.rd=t}for(0===this.rd.count&&this.findRoots(),t=this.rd.copy().i;t.next();)e=t.value,e.initialized||(e.initialized=!0,ul(this,e));for(e=this.network.vertexes,t=null;t=hl(e),0<t.count;)e=ll(this,t),null!==e&&this.rd.add(e),e.initialized=!0,ul(this,e),e=t;for(t=this.rd.i;t.next();)(e=t.value)instanceof Vl&&fl(this,e);for(t=this.rd.i;t.next();)(e=t.value)instanceof Vl&&pl(this,e);for(t=this.rd.i;t.next();)(e=t.value)instanceof Vl&&vl(this,e);if(this.Mz(),this.xA===pv){for(n=[],t=this.network.vertexes.i;t.next();){var i=t.value,e=i.parent;null===e&&(e=i);var e=0===e.angle||180===e.angle,r=n[i.level];void 0===r&&(r=0),n[i.level]=Math.max(r,e?i.width:i.height)}for(i=0;i<n.length;i++)void 0===n[i]&&(n[i]=0);for(this.IB=n,t=this.network.vertexes.i;t.next();)i=t.value,e=i.parent,null===e&&(e=i),0===e.angle||180===e.angle?(180===e.angle&&(i.Qt+=n[i.level]-i.width),i.width=n[i.level]):(270===e.angle&&(i.Rt+=n[i.level]-i.height),i.height=n[i.level])}else if(this.xA===dv)for(t=this.network.vertexes.i;t.next();){for(n=t.value,e=0===n.angle||180===n.angle,r=-1,i=0;i<n.children.length;i++)var o=n.children[i],r=Math.max(r,e?o.width:o.height);if(0<=r)for(i=0;i<n.children.length;i++)o=n.children[i],e?(180===n.angle&&(o.Qt+=r-o.width),o.width=r):(270===n.angle&&(o.Rt+=r-o.height),o.height=r)}for(t=this.rd.i;t.next();)(e=t.value)instanceof Vl&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.rd=new d(Object),this.zf=!0},sl.prototype.findRoots=function(){for(var t=this.network.vertexes.i;t.next();){var e=t.value;switch(this.If){case Hp:0===e.lc.count&&this.rd.add(e);break;case Gp:0===e.ic.count&&this.rd.add(e);break;default:Wl.k("Unhandled path value "+this.If.toString())}}0===this.rd.count&&null!==(t=ll(this,this.network.vertexes))&&this.rd.add(t)},sl.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var n=t.children,i=0,r=0;r<n.length;r++)n[r]===e&&i++;if(0<i){for(var i=Array(n.length-i),o=0,r=0;r<n.length;r++)n[r]!==e&&(i[o++]=n[r]);t.children=i}}},sl.prototype.initializeTreeVertexValues=function(t){var e=dl(this,t);if(t.copyInheritedPropertiesFrom(e),null!==t.parent&&t.parent.alignment===tv){for(var e=t.angle,n=t.parent.children,i=0;i<n.length&&t!==n[i];)i++;0==i%2?i!==n.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},sl.prototype.assignTreeVertexValues=function(){},sl.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case _p:break;case Wp:t.children.reverse();break;case Kp:t.children.sort(t.comparer);break;case Yp:t.children.sort(t.comparer),t.children.reverse();break;default:Wl.k("Unhandled sorting value "+t.sorting.toString())}},sl.prototype.Mz=function(){if(this.comments)for(var t=this.network.vertexes.i;t.next();)this.addComments(t.value)},sl.prototype.addComments=function(t){var e=t.angle,n=t.parent,i=0,r=Jp,r=!1;null!==n&&(i=n.angle,r=n.alignment,r=yl(r));var e=90===e||270===e,i=90===i||270===i,n=0===t.nn,o=0,a=0,s=0,h=t.commentSpacing;if(null!==t.Oc)for(var l=t.Oc.GE();l.next();){var u=l.value;"Comment"===u.sd&&u.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(u),u.$e(),u=u.Aa,e&&!n||!r&&!i&&n||r&&i&&n?(o=Math.max(o,u.width),a+=u.height+Math.abs(s)):(o+=u.width+Math.abs(s),a=Math.max(a,u.height)),s=h)}null!==t.comments&&(e&&!n||!r&&!i&&n||r&&i&&n?(o+=Math.abs(t.commentMargin),a=Math.max(0,a-t.height)):(a+=Math.abs(t.commentMargin),o=Math.max(0,o-t.width)),r=Wl.Wg(0,0,t.M.width+o,t.M.height+a),t.kb=r,Wl.Hb(r))},sl.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.Oc.Aa,n=t.parent,i=t.angle,r=0,o=Jp,o=!1;null!==n&&(r=n.angle,o=n.alignment,o=yl(o));for(var n=90===i||270===i,i=90===r||270===r,a=0===t.nn,s=ml(t),h=0,l=t.comments,u=l.length,c=Wl.K(),f=0;f<u;f++){var d=l[f],p=d.Aa;if(n&&!a||!o&&!i&&a||o&&i&&a){if(135<r&&!o||i&&s)if(0<=t.commentMargin)for(c.l(t.M.x-t.commentMargin-p.width,t.M.y+h),d.move(c),d=d.Jg();d.next();){var v=d.value;v.Ab=fu,v.Bb=du}else for(c.l(t.M.x+2*t.T.x-t.commentMargin,t.M.y+h),d.move(c),d=d.Jg();d.next();)v=d.value,v.Ab=du,v.Bb=fu;else if(0<=t.commentMargin)for(c.l(t.M.x+2*t.T.x+t.commentMargin,t.M.y+h),d.move(c),d=d.Jg();d.next();)v=d.value,v.Ab=du,v.Bb=fu;else for(c.l(t.M.x+t.commentMargin-p.width,t.M.y+h),d.move(c),d=d.Jg();d.next();)v=d.value,v.Ab=fu,v.Bb=du;h=0<=t.commentSpacing?h+(p.height+t.commentSpacing):h+(t.commentSpacing-p.height)}else{if(135<r&&!o||!i&&s)if(0<=t.commentMargin)for(c.l(t.M.x+h,t.M.y-t.commentMargin-p.height),d.move(c),d=d.Jg();d.next();)v=d.value,v.Ab=cu,v.Bb=pu;else for(c.l(t.M.x+h,t.M.y+2*t.T.y-t.commentMargin),d.move(c),d=d.Jg();d.next();)v=d.value,v.Ab=pu,v.Bb=cu;else if(0<=t.commentMargin)for(c.l(t.M.x+h,t.M.y+2*t.T.y+t.commentMargin),d.move(c),d=d.Jg();d.next();)v=d.value,v.Ab=pu,v.Bb=cu;else for(c.l(t.M.x+h,t.M.y+t.commentMargin-p.height),d.move(c),d=d.Jg();d.next();)v=d.value,v.Ab=cu,v.Bb=pu;h=0<=t.commentSpacing?h+(p.width+t.commentSpacing):h+(t.commentSpacing-p.width)}}if(Wl.v(c),e=h-t.commentSpacing-(n?e.height:e.width),this.If===Hp)for(r=t.ic;r.next();)null===(t=r.value.link)||t.Ek||(t.Sl=0<e?e:NaN);else for(r=t.lc;r.next();)null===(t=r.value.link)||t.Ek||(t.km=0<e?e:NaN)}},sl.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,n=e.length,i=0;i<n;i++)this.layoutTree(e[i]);switch(t.compaction){case iv:bl(this,t);break;case rv:if(t.alignment===tv)bl(this,t);else if(0===t.nn){var i=t.parent,e=!1,n=0,r=Jp;null!==i&&(n=i.angle,r=i.alignment,e=yl(r)),i=ml(t),t.qa.l(0,0),t.jb.l(t.width,t.height),null===t.parent||null===t.comments||(180!==n&&270!==n||e)&&!i?t.Pa.l(0,0):180===n&&!e||(90===n||270===n)&&i?t.Pa.l(t.width-2*t.T.x,0):t.Pa.l(0,t.height-2*t.T.y),t.gu=null,t.Bu=null}else{for(var o=Rl(t),e=90===o||270===o,a=0,s=t.children,h=s.length,l=0;l<h;l++)var u=s[l],a=Math.max(a,e?u.jb.width:u.jb.height);var c=t.alignment,i=c===Xp,f=c===Qp,d=yl(c),p=Math.max(0,t.breadthLimit),n=Bl(t),v=t.nodeSpacing,y=ql(t),g=t.rowSpacing,m=0;(i||f||t.pq||t.qq&&1===t.maxGenerationCount)&&(m=Math.max(0,t.rowIndent));var i=t.width,r=t.height,b=0,w=0,x=0,k=null,T=null,S=0,M=0,P=0,C=0,N=0,D=0,A=0,E=0,u=0;if(d&&!gl(c)&&135<o&&s.reverse(),gl(c))if(1<h)for(l=0;l<h;l++)0==l%2&&l!==h-1?E=Math.max(E,e?s[l].jb.width:s[l].jb.height):0!=l%2&&(u=Math.max(u,e?s[l].jb.width:s[l].jb.height));else 1===h&&(E=e?s[0].jb.width:s[0].jb.height);if(d){switch(c){case Zp:M=135>o?wl(t,s,E,b,w):xl(t,s,E,b,w),E=M.x,b=M.width,w=M.height;break;case ev:for(l=0;l<h;l++){var u=s[l],j=u.jb,k=0===D?0:g;e?(u.qa.l(a-j.width,C+k),b=Math.max(b,j.width),w=Math.max(w,C+k+j.height),C+=k+j.height):(u.qa.l(P+k,a-j.height),b=Math.max(b,P+k+j.width),w=Math.max(w,j.height),P+=k+j.width),D++}break;case nv:for(l=0;l<h;l++)u=s[l],j=u.jb,k=0===D?0:g,e?(u.qa.l(v/2+t.T.x,C+k),b=Math.max(b,j.width),w=Math.max(w,C+k+j.height),C+=k+j.height):(u.qa.l(P+k,v/2+t.T.y),b=Math.max(b,P+k+j.width),w=Math.max(w,j.height),P+=k+j.width),D++}k=Ll(this,2),T=Ll(this,2),e?(k[0].l(0,0),k[1].l(0,w),T[0].l(b,0)):(k[0].l(0,0),k[1].l(b,0),T[0].l(0,w)),T[1].l(b,w)}else for(l=0;l<h;l++){if(u=s[l],j=u.jb,e){0<p&&0<D&&P+v+j.width>p&&(P<a&&Nl(t,c,a-P,0,A,l-1),N++,D=0,A=l,x=w,P=0,C=135<o?-w-g:w+g),Al(this,u,0,C);var L=0;if(0===D)k=u.gu,T=u.Bu,S=j.width,M=j.height,(null===k||null===T||o!==Rl(u))&&(k=Ll(this,2),T=Ll(this,2),k[0].l(0,0),k[1].l(0,M),T[0].l(S,0),T[1].l(S,M));else{var F=Wl.mb(),M=jl(this,t,u,k,T,S,M,F),L=M.x,k=F[0],T=F[1],S=M.width,M=M.height;Wl.wa(F),P<j.width&&0>L&&(Dl(t,-L,0,A,l-1),El(k,-L,0),El(T,-L,0),L=0)}u.qa.l(L,C),b=Math.max(b,S),w=Math.max(w,x+(0===N?0:g)+j.height),P=S}else 0<p&&0<D&&C+v+j.height>p&&(C<a&&Nl(t,c,0,a-C,A,l-1),N++,D=0,A=l,x=b,C=0,P=135<o?-b-g:b+g),Al(this,u,P,0),L=0,0===D?(k=u.gu,T=u.Bu,S=j.width,M=j.height,(null===k||null===T||o!==Rl(u))&&(k=Ll(this,2),T=Ll(this,2),k[0].l(0,0),k[1].l(S,0),T[0].l(0,M),T[1].l(S,M))):(F=Wl.mb(),M=jl(this,t,u,k,T,S,M,F),L=M.x,k=F[0],T=F[1],S=M.width,M=M.height,Wl.wa(F),C<j.height&&0>L&&(Dl(t,0,-L,A,l-1),El(k,0,-L),El(T,0,-L),L=0)),u.qa.l(P,L),w=Math.max(w,M),b=Math.max(b,x+(0===N?0:g)+j.width),C=M;D++}switch(0<N&&(e?(w+=Math.max(0,n),P<b&&Nl(t,c,b-P,0,A,h-1),0<m&&(f||Dl(t,m,0,0,h-1),b+=m)):(b+=Math.max(0,n),C<w&&Nl(t,c,0,w-C,A,h-1),0<m&&(f||Dl(t,0,m,0,h-1),w+=m))),f=a=0,c){case $p:e?a+=b/2-t.T.x-y/2:f+=w/2-t.T.y-y/2;break;case Jp:0<N?e?a+=b/2-t.T.x-y/2:f+=w/2-t.T.y-y/2:e?(l=s[0].qa.x+s[0].Pa.x,E=s[h-1].qa.x+s[h-1].Pa.x+2*s[h-1].T.x,a+=l+(E-l)/2-t.T.x-y/2):(l=s[0].qa.y+s[0].Pa.y,E=s[h-1].qa.y+s[h-1].Pa.y+2*s[h-1].T.y,f+=l+(E-l)/2-t.T.y-y/2);break;case Xp:e?(a-=y,b+=y):(f-=y,w+=y);break;case Qp:e?(a+=b-t.width+y,b+=y):(f+=w-t.height+y,w+=y);break;case Zp:e?a=1<h?a+(E+v/2-t.T.x):a+(s[0].T.x-t.T.x+s[0].Pa.x):f=1<h?f+(E+v/2-t.T.y):f+(s[0].T.y-t.T.y+s[0].Pa.y);break;case ev:e?a+=b+v/2-t.T.x:f+=w+v/2-t.T.y;break;case nv:break;default:Wl.k("Unhandled alignment value "+c.toString())}for(l=0;l<h;l++)u=s[l],e?u.qa.l(u.qa.x+u.Pa.x-a,u.qa.y+(135<o?(d?-w:-u.jb.height)+u.Pa.y-n:r+n+u.Pa.y)):u.qa.l(u.qa.x+(135<o?(d?-b:-u.jb.width)+u.Pa.x-n:i+n+u.Pa.x),u.qa.y+u.Pa.y-f);if(h=s=0,d?e?(b=Ml(t,b,a),0>a&&(a=0),135<o&&(f+=w+n),w+=r+n,c===nv&&(s+=v/2+t.T.x),h+=r+n):(135<o&&(a+=b+n),b+=i+n,w=Pl(t,w,f),0>f&&(f=0),c===nv&&(h+=v/2+t.T.y),s+=i+n):e?(null===t.comments?i>b&&(c=Cl(c,i-b,0),s=c.x,h=c.y,b=i,a=0):b=Ml(t,b,a),0>a&&(s-=a,a=0),135<o&&(f+=w+n),w=Math.max(Math.max(w,r),w+r+n),h+=r+n):(135<o&&(a+=b+n),b=Math.max(Math.max(b,i),b+i+n),null===t.comments?r>w&&(c=Cl(c,0,r-w),s=c.x,h=c.y,w=r,f=0):w=Pl(t,w,f),0>f&&(h-=f,f=0),s+=i+n),0<N)o=Ll(this,4),c=Ll(this,4),e?(o[2].l(0,r+n),o[3].l(o[2].x,w),c[2].l(b,o[2].y),c[3].l(c[2].x,o[3].y)):(o[2].l(i+n,0),o[3].l(b,o[2].y),c[2].l(o[2].x,w),c[3].l(o[3].x,c[2].y));else{for(o=Ll(this,k.length+2),c=Ll(this,T.length+2),l=0;l<k.length;l++)d=k[l],o[l+2].l(d.x+s,d.y+h);for(l=0;l<T.length;l++)d=T[l],c[l+2].l(d.x+s,d.y+h)}e?(o[0].l(a,0),o[1].l(o[0].x,r),o[2].y<o[1].y&&(o[2].x>o[0].x?o[2].assign(o[1]):o[1].assign(o[2])),o[3].y<o[2].y&&(o[3].x>o[0].x?o[3].assign(o[2]):o[2].assign(o[3])),c[0].l(a+i,0),c[1].l(c[0].x,r),c[2].y<c[1].y&&(c[2].x<c[0].x?c[2].assign(c[1]):c[1].assign(c[2])),c[3].y<c[2].y&&(c[3].x<c[0].x?c[3].assign(c[2]):c[2].assign(c[3])),o[2].y-=n/2,c[2].y-=n/2):(o[0].l(0,f),o[1].l(i,o[0].y),o[2].x<o[1].x&&(o[2].y>o[0].y?o[2].assign(o[1]):o[1].assign(o[2])),o[3].x<o[2].x&&(o[3].y>o[0].y?o[3].assign(o[2]):o[2].assign(o[3])),c[0].l(0,f+r),c[1].l(i,c[0].y),c[2].x<c[1].x&&(c[2].y<c[0].y?c[2].assign(c[1]):c[1].assign(c[2])),c[3].x<c[2].x&&(c[3].y<c[0].y?c[3].assign(c[2]):c[2].assign(c[3])),o[2].x-=n/2,c[2].x-=n/2),Fl(this,k),Fl(this,T),t.gu=o,t.Bu=c,t.Pa.l(a,f),t.jb.l(b,w)}break;default:Wl.k("Unhandled compaction value "+t.compaction.toString())}}},sl.prototype.arrangeTrees=function(){if(this.ld===cv)for(var t=this.rd.i;t.next();){var e=t.value;if(e instanceof Vl){var n=e.Oc;if(null!==n){var i=n.position,n=i.x,i=i.y;isFinite(n)||(n=0),isFinite(i)||(i=0),Ol(this,e,n,i)}}}else{for(n=[],t=this.rd.i;t.next();)(e=t.value)instanceof Vl&&n.push(e);switch(this.sorting){case _p:break;case Wp:n.reverse();break;case Kp:n.sort(this.comparer);break;case Yp:n.sort(this.comparer),n.reverse();break;default:Wl.k("Unhandled sorting value "+this.sorting.toString())}for(e=this.pe,t=e.x,e=e.y,i=0;i<n.length;i++){var r=n[i];switch(Ol(this,r,t+r.Pa.x,e+r.Pa.y),this.ld){case lv:e+=r.jb.height+this.ig.height;break;case uv:t+=r.jb.width+this.ig.width;break;default:Wl.k("Unhandled arrangement value "+this.ld.toString())}}}},sl.prototype.commitLayout=function(){this.bB(),this.commitNodes(),this.Rz(),this.eu&&this.commitLinks()},sl.prototype.commitNodes=function(){for(var t=this.network.vertexes.i;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},sl.prototype.Rz=function(){if(this.xA===pv){for(var t=this.IB,e=[],n=null,i=this.network.vertexes.i;i.next();){var r=i.value;null===n?n=r.kb.copy():n.Hh(r.kb);var o=e[r.level],o=void 0===o?Bl(r):Math.max(o,Bl(r));e[r.level]=o}for(i=0;i<e.length;i++)void 0===e[i]&&(e[i]=0);90===this.angle||270===this.angle?(n.Tf(this.nodeSpacing/2,this.layerSpacing),r=new w(-this.nodeSpacing/2,-this.layerSpacing/2)):(n.Tf(this.layerSpacing,this.nodeSpacing/2),r=new w(-this.layerSpacing/2,-this.nodeSpacing/2));var o=[],n=90===this.angle||270===this.angle?n.width:n.height,a=0;if(180===this.angle||270===this.angle)for(i=0;i<t.length;i++)a+=t[i]+e[i];for(i=0;i<t.length;i++){var s=t[i]+e[i];270===this.angle?(a-=s,o.push(new S(0,a,n,s))):90===this.angle?(o.push(new S(0,a,n,s)),a+=s):180===this.angle?(a-=s,o.push(new S(a,0,s,n))):(o.push(new S(a,0,s,n)),a+=s)}this.commitLayers(o,r)}},sl.prototype.commitLayers=function(){},sl.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},sl.prototype.bB=function(){for(var t=this.rd.i;t.next();){var e=t.value;e instanceof Vl&&Il(this,e)}},sl.prototype.setPortSpots=function(t){var e=t.alignment;if(yl(e)){var n,i=this.If===Hp,r=Rl(t);switch(r){case 0:n=du;break;case 90:n=pu;break;case 180:n=fu;break;default:n=cu}var o=t.children,a=o.length;switch(e){case Zp:case tv:for(e=0;e<a;e++){var s=o[e],s=(i?s.lc:s.ic).first();if(null!==s&&null!==(s=s.link)){var h=90===r||270===r?fu:cu;if(1===a||e===a-1&&1==a%2)switch(r){case 0:h=fu;break;case 90:h=cu;break;case 180:h=du;break;default:h=pu}else 0==e%2&&(h=90===r||270===r?du:pu);i?(t.setsPortSpot&&(s.Ab=n),t.setsChildPortSpot&&(s.Bb=h)):(t.setsPortSpot&&(s.Ab=h),t.setsChildPortSpot&&(s.Bb=n))}}break;case ev:for(h=90===r||270===r?du:pu,r=i?t.ic:t.lc;r.next();)null!==(s=r.value.link)&&(i?(t.setsPortSpot&&(s.Ab=n),t.setsChildPortSpot&&(s.Bb=h)):(t.setsPortSpot&&(s.Ab=h),t.setsChildPortSpot&&(s.Bb=n)));break;case nv:for(h=90===r||270===r?fu:cu,r=i?t.ic:t.lc;r.next();)null!==(s=r.value.link)&&(i?(t.setsPortSpot&&(s.Ab=n),t.setsChildPortSpot&&(s.Bb=h)):(t.setsPortSpot&&(s.Ab=h),t.setsChildPortSpot&&(s.Bb=n)))}}else if(i=Rl(t),this.If===Hp){for(n=t.ic;n.next();)if(null!==(r=n.value.link)){if(t.setsPortSpot)if(t.portSpot.Vc())switch(i){case 0:r.Ab=du;break;case 90:r.Ab=pu;break;case 180:r.Ab=fu;break;default:r.Ab=cu}else r.Ab=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Vc())switch(i){case 0:r.Bb=fu;break;case 90:r.Bb=cu;break;case 180:r.Bb=du;break;default:r.Bb=pu}else r.Bb=t.childPortSpot}}else for(n=t.lc;n.next();)if(null!==(r=n.value.link)){if(t.setsPortSpot)if(t.portSpot.Vc())switch(i){case 0:r.Bb=du;break;case 90:r.Bb=pu;break;case 180:r.Bb=fu;break;default:r.Bb=cu}else r.Bb=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Vc())switch(i){case 0:r.Ab=fu;break;case 90:r.Ab=cu;break;case 180:r.Ab=du;break;default:r.Ab=pu}else r.Ab=t.childPortSpot}},Wl.defineProperty(sl,{CL:"roots"},function(){return this.rd},function(t){this.rd!==t&&(Wl.G(t,d,sl,"roots"),this.rd=t,this.J())}),Wl.defineProperty(sl,{path:"path"},function(){return this.ys},function(t){this.ys!==t&&(Wl.nb(t,sl,sl,"path"),this.ys=t,this.J())}),Wl.defineProperty(sl,{PJ:"treeStyle"},function(){return this.pt},function(t){this.ld!==t&&(Wl.nb(t,sl,sl,"treeStyle"),t===ov||t===sv||t===av||t===hv)&&(this.pt=t,this.J())}),Wl.defineProperty(sl,{xA:"layerStyle"},function(){return this.Sv},function(t){this.ld!==t&&(Wl.nb(t,sl,sl,"layerStyle"),t===fv||t===dv||t===pv)&&(this.Sv=t,this.J())}),Wl.defineProperty(sl,{comments:"comments"},function(){return this.Jh},function(t){this.Jh!==t&&(Wl.j(t,"boolean",sl,"comments"),this.Jh=t,this.J())}),Wl.defineProperty(sl,{Pf:"arrangement"},function(){return this.ld},function(t){this.ld!==t&&(Wl.nb(t,sl,sl,"arrangement"),t===lv||t===uv||t===cv)&&(this.ld=t,this.J())}),Wl.defineProperty(sl,{iE:"arrangementSpacing"},function(){return this.ig},function(t){Wl.G(t,T,sl,"arrangementSpacing"),this.ig.L(t)||(this.ig.assign(t),this.J())}),Wl.defineProperty(sl,{BL:"rootDefaults"},function(){return this.ua},function(t){this.ua!==t&&(Wl.G(t,Vl,sl,"rootDefaults"),this.ua=t,this.J())}),Wl.defineProperty(sl,{fK:"alternateDefaults"},function(){return this.va},function(t){this.va!==t&&(Wl.G(t,Vl,sl,"alternateDefaults"),this.va=t,this.J())}),Wl.defineProperty(sl,{sorting:"sorting"},function(){return this.ua.sorting},function(t){this.ua.sorting!==t&&(Wl.nb(t,sl,sl,"sorting"),t===_p||t===Wp||t===Kp||Yp)&&(this.ua.sorting=t,this.J())}),Wl.defineProperty(sl,{comparer:"comparer"},function(){return this.ua.comparer},function(t){this.ua.comparer!==t&&(Wl.j(t,"function",sl,"comparer"),this.ua.comparer=t,this.J())}),Wl.defineProperty(sl,{angle:"angle"},function(){return this.ua.angle},function(t){this.ua.angle!==t&&(Wl.j(t,"number",sl,"angle"),0===t||90===t||180===t||270===t?(this.ua.angle=t,this.J()):Wl.k("TreeLayout.angle must be 0, 90, 180, or 270"))}),Wl.defineProperty(sl,{alignment:"alignment"},function(){return this.ua.alignment},function(t){this.ua.alignment!==t&&(Wl.nb(t,sl,sl,"alignment"),this.ua.alignment=t,this.J())}),Wl.defineProperty(sl,{nodeIndent:"nodeIndent"},function(){return this.ua.nodeIndent},function(t){this.ua.nodeIndent!==t&&(Wl.j(t,"number",sl,"nodeIndent"),0<=t&&(this.ua.nodeIndent=t,this.J()))}),Wl.defineProperty(sl,{nodeIndentPastParent:"nodeIndentPastParent"},function(){return this.ua.nodeIndentPastParent},function(t){this.ua.nodeIndentPastParent!==t&&(Wl.j(t,"number",sl,"nodeIndentPastParent"),0<=t&&1>=t&&(this.ua.nodeIndentPastParent=t,this.J()))}),Wl.defineProperty(sl,{nodeSpacing:"nodeSpacing"},function(){return this.ua.nodeSpacing},function(t){this.ua.nodeSpacing!==t&&(Wl.j(t,"number",sl,"nodeSpacing"),this.ua.nodeSpacing=t,this.J())}),Wl.defineProperty(sl,{layerSpacing:"layerSpacing"},function(){return this.ua.layerSpacing},function(t){this.ua.layerSpacing!==t&&(Wl.j(t,"number",sl,"layerSpacing"),this.ua.layerSpacing=t,this.J())}),Wl.defineProperty(sl,{layerSpacingParentOverlap:"layerSpacingParentOverlap"},function(){return this.ua.layerSpacingParentOverlap},function(t){this.ua.layerSpacingParentOverlap!==t&&(Wl.j(t,"number",sl,"layerSpacingParentOverlap"),0<=t&&1>=t&&(this.ua.layerSpacingParentOverlap=t,this.J()))}),Wl.defineProperty(sl,{compaction:"compaction"},function(){return this.ua.compaction},function(t){this.ua.compaction!==t&&(Wl.nb(t,sl,sl,"compaction"),t===iv||t===rv)&&(this.ua.compaction=t,this.J())}),Wl.defineProperty(sl,{breadthLimit:"breadthLimit"},function(){return this.ua.breadthLimit},function(t){this.ua.breadthLimit!==t&&(Wl.j(t,"number",sl,"breadthLimit"),0<=t&&(this.ua.breadthLimit=t,this.J()))}),Wl.defineProperty(sl,{rowSpacing:"rowSpacing"},function(){return this.ua.rowSpacing},function(t){this.ua.rowSpacing!==t&&(Wl.j(t,"number",sl,"rowSpacing"),this.ua.rowSpacing=t,this.J())}),Wl.defineProperty(sl,{rowIndent:"rowIndent"},function(){return this.ua.rowIndent},function(t){this.ua.rowIndent!==t&&(Wl.j(t,"number",sl,"rowIndent"),0<=t&&(this.ua.rowIndent=t,this.J()))}),Wl.defineProperty(sl,{commentSpacing:"commentSpacing"},function(){return this.ua.commentSpacing},function(t){this.ua.commentSpacing!==t&&(Wl.j(t,"number",sl,"commentSpacing"),this.ua.commentSpacing=t,this.J())}),Wl.defineProperty(sl,{commentMargin:"commentMargin"},function(){return this.ua.commentMargin},function(t){this.ua.commentMargin!==t&&(Wl.j(t,"number",sl,"commentMargin"),this.ua.commentMargin=t,this.J())}),Wl.defineProperty(sl,{setsPortSpot:"setsPortSpot"},function(){return this.ua.setsPortSpot},function(t){this.ua.setsPortSpot!==t&&(Wl.j(t,"boolean",sl,"setsPortSpot"),this.ua.setsPortSpot=t,this.J())}),Wl.defineProperty(sl,{portSpot:"portSpot"},function(){return this.ua.portSpot},function(t){Wl.G(t,L,sl,"portSpot"),this.ua.portSpot.L(t)||(this.ua.portSpot=t,this.J())}),Wl.defineProperty(sl,{setsChildPortSpot:"setsChildPortSpot"},function(){return this.ua.setsChildPortSpot},function(t){this.ua.setsChildPortSpot!==t&&(Wl.j(t,"boolean",sl,"setsChildPortSpot"),this.ua.setsChildPortSpot=t,this.J())}),Wl.defineProperty(sl,{childPortSpot:"childPortSpot"},function(){return this.ua.childPortSpot},function(t){Wl.G(t,L,sl,"childPortSpot"),this.ua.childPortSpot.L(t)||(this.ua.childPortSpot=t,this.J())}),Wl.defineProperty(sl,{qK:"alternateSorting"},function(){return this.va.sorting},function(t){this.va.sorting!==t&&(Wl.nb(t,sl,sl,"alternateSorting"),t===_p||t===Wp||t===Kp||Yp)&&(this.va.sorting=t,this.J())}),Wl.defineProperty(sl,{eK:"alternateComparer"},function(){return this.va.comparer},function(t){this.va.comparer!==t&&(Wl.j(t,"function",sl,"alternateComparer"),this.va.comparer=t,this.J())}),Wl.defineProperty(sl,{ZJ:"alternateAngle"},function(){return this.va.angle},function(t){this.va.angle!==t&&(Wl.j(t,"number",sl,"alternateAngle"),0===t||90===t||180===t||270===t)&&(this.va.angle=t,this.J())}),Wl.defineProperty(sl,{YJ:"alternateAlignment"},function(){return this.va.alignment},function(t){this.va.alignment!==t&&(Wl.nb(t,sl,sl,"alternateAlignment"),this.va.alignment=t,this.J())}),Wl.defineProperty(sl,{iK:"alternateNodeIndent"},function(){return this.va.nodeIndent},function(t){this.va.nodeIndent!==t&&(Wl.j(t,"number",sl,"alternateNodeIndent"),0<=t&&(this.va.nodeIndent=t,this.J()))}),Wl.defineProperty(sl,{jK:"alternateNodeIndentPastParent"},function(){return this.va.nodeIndentPastParent},function(t){this.va.nodeIndentPastParent!==t&&(Wl.j(t,"number",sl,"alternateNodeIndentPastParent"),0<=t&&1>=t&&(this.va.nodeIndentPastParent=t,this.J()))}),Wl.defineProperty(sl,{kK:"alternateNodeSpacing"},function(){return this.va.nodeSpacing},function(t){this.va.nodeSpacing!==t&&(Wl.j(t,"number",sl,"alternateNodeSpacing"),this.va.nodeSpacing=t,this.J())}),Wl.defineProperty(sl,{gK:"alternateLayerSpacing"},function(){return this.va.layerSpacing},function(t){this.va.layerSpacing!==t&&(Wl.j(t,"number",sl,"alternateLayerSpacing"),this.va.layerSpacing=t,this.J())}),Wl.defineProperty(sl,{hK:"alternateLayerSpacingParentOverlap"},function(){return this.va.layerSpacingParentOverlap},function(t){this.va.layerSpacingParentOverlap!==t&&(Wl.j(t,"number",sl,"alternateLayerSpacingParentOverlap"),0<=t&&1>=t&&(this.va.layerSpacingParentOverlap=t,this.J()))}),Wl.defineProperty(sl,{dK:"alternateCompaction"},function(){return this.va.compaction},function(t){this.va.compaction!==t&&(Wl.nb(t,sl,sl,"alternateCompaction"),t===iv||t===rv)&&(this.va.compaction=t,this.J())}),Wl.defineProperty(sl,{$J:"alternateBreadthLimit"},function(){return this.va.breadthLimit},function(t){this.va.breadthLimit!==t&&(Wl.j(t,"number",sl,"alternateBreadthLimit"),0<=t&&(this.va.breadthLimit=t,this.J()))}),Wl.defineProperty(sl,{nK:"alternateRowSpacing"},function(){return this.va.rowSpacing},function(t){this.va.rowSpacing!==t&&(Wl.j(t,"number",sl,"alternateRowSpacing"),this.va.rowSpacing=t,this.J())}),Wl.defineProperty(sl,{mK:"alternateRowIndent"},function(){return this.va.rowIndent},function(t){this.va.rowIndent!==t&&(Wl.j(t,"number",sl,"alternateRowIndent"),0<=t&&(this.va.rowIndent=t,this.J()))}),Wl.defineProperty(sl,{cK:"alternateCommentSpacing"},function(){return this.va.commentSpacing},function(t){this.va.commentSpacing!==t&&(Wl.j(t,"number",sl,"alternateCommentSpacing"),this.va.commentSpacing=t,this.J())}),Wl.defineProperty(sl,{bK:"alternateCommentMargin"},function(){return this.va.commentMargin},function(t){this.va.commentMargin!==t&&(Wl.j(t,"number",sl,"alternateCommentMargin"),this.va.commentMargin=t,this.J())}),Wl.defineProperty(sl,{pK:"alternateSetsPortSpot"},function(){return this.va.setsPortSpot},function(t){this.va.setsPortSpot!==t&&(Wl.j(t,"boolean",sl,"alternateSetsPortSpot"),this.va.setsPortSpot=t,this.J())}),Wl.defineProperty(sl,{lK:"alternatePortSpot"},function(){return this.va.portSpot},function(t){Wl.G(t,L,sl,"alternatePortSpot"),this.va.portSpot.L(t)||(this.va.portSpot=t,this.J())}),Wl.defineProperty(sl,{oK:"alternateSetsChildPortSpot"},function(){return this.va.setsChildPortSpot},function(t){this.va.setsChildPortSpot!==t&&(Wl.j(t,"boolean",sl,"alternateSetsChildPortSpot"),this.va.setsChildPortSpot=t,this.J())}),Wl.defineProperty(sl,{aK:"alternateChildPortSpot"},function(){return this.va.childPortSpot},function(t){Wl.G(t,L,sl,"alternateChildPortSpot"),this.va.childPortSpot.L(t)||(this.va.childPortSpot=t,this.J())});var Up;sl.PathDefault=Up=Wl.p(sl,"PathDefault",-1);var Hp;sl.PathDestination=Hp=Wl.p(sl,"PathDestination",0);var Gp;sl.PathSource=Gp=Wl.p(sl,"PathSource",1);var _p;sl.SortingForwards=_p=Wl.p(sl,"SortingForwards",10);var Wp;sl.SortingReverse=Wp=Wl.p(sl,"SortingReverse",11);var Kp;sl.SortingAscending=Kp=Wl.p(sl,"SortingAscending",12);var Yp;sl.SortingDescending=Yp=Wl.p(sl,"SortingDescending",13);var $p;sl.AlignmentCenterSubtrees=$p=Wl.p(sl,"AlignmentCenterSubtrees",20);var Jp;sl.AlignmentCenterChildren=Jp=Wl.p(sl,"AlignmentCenterChildren",21);var Xp;sl.AlignmentStart=Xp=Wl.p(sl,"AlignmentStart",22);var Qp;sl.AlignmentEnd=Qp=Wl.p(sl,"AlignmentEnd",23);var Zp;sl.AlignmentBus=Zp=Wl.p(sl,"AlignmentBus",24);var tv;sl.AlignmentBusBranching=tv=Wl.p(sl,"AlignmentBusBranching",25);var ev;sl.AlignmentTopLeftBus=ev=Wl.p(sl,"AlignmentTopLeftBus",26);var nv;sl.AlignmentBottomRightBus=nv=Wl.p(sl,"AlignmentBottomRightBus",27);var iv;sl.CompactionNone=iv=Wl.p(sl,"CompactionNone",30);var rv;sl.CompactionBlock=rv=Wl.p(sl,"CompactionBlock",31);var ov;sl.StyleLayered=ov=Wl.p(sl,"StyleLayered",40);var av;sl.StyleLastParents=av=Wl.p(sl,"StyleLastParents",41);var sv;sl.StyleAlternating=sv=Wl.p(sl,"StyleAlternating",42);var hv;sl.StyleRootOnly=hv=Wl.p(sl,"StyleRootOnly",43);var lv;sl.ArrangementVertical=lv=Wl.p(sl,"ArrangementVertical",50);var uv;sl.ArrangementHorizontal=uv=Wl.p(sl,"ArrangementHorizontal",51);var cv;sl.ArrangementFixedRoots=cv=Wl.p(sl,"ArrangementFixedRoots",52);var fv;sl.LayerIndividual=fv=Wl.p(sl,"LayerIndividual",60);var dv;sl.LayerSiblings=dv=Wl.p(sl,"LayerSiblings",61);var pv;sl.LayerUniform=pv=Wl.p(sl,"LayerUniform",62),Wl.Ma(zl,Bs),Wl.ga("TreeNetwork",zl),zl.prototype.createVertex=function(){return new Vl},zl.prototype.createEdge=function(){return new Ul},Wl.Ma(Vl,Hs),Wl.ga("TreeVertex",Vl),Vl.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.sorting=t.sorting,this.comparer=t.comparer,this.angle=t.angle,this.alignment=t.alignment,this.nodeIndent=t.nodeIndent,this.nodeIndentPastParent=t.nodeIndentPastParent,this.nodeSpacing=t.nodeSpacing,this.layerSpacing=t.layerSpacing,this.layerSpacingParentOverlap=t.layerSpacingParentOverlap,this.compaction=t.compaction,this.breadthLimit=t.breadthLimit,this.rowSpacing=t.rowSpacing,this.rowIndent=t.rowIndent,this.commentSpacing=t.commentSpacing,this.commentMargin=t.commentMargin,this.setsPortSpot=t.setsPortSpot,this.portSpot=t.portSpot,this.setsChildPortSpot=t.setsChildPortSpot,this.childPortSpot=t.childPortSpot)},Wl.u(Vl,{nn:"childrenCount"},function(){return this.children.length}),Wl.defineProperty(Vl,{AL:"relativePosition"},function(){return this.qa},function(t){this.qa.set(t)}),Wl.defineProperty(Vl,{NL:"subtreeSize"},function(){return this.jb},function(t){this.jb.set(t)}),Wl.defineProperty(Vl,{ML:"subtreeOffset"},function(){return this.Pa},function(t){this.Pa.set(t)}),Wl.Ma(Ul,Gs),Wl.ga("TreeEdge",Ul),Ul.prototype.commit=function(){var t=this.link;if(null!==t&&!t.Ek){var e=this.network.Sb,n=null,i=null;switch(e.If){case Hp:n=this.fromVertex,i=this.toVertex;break;case Gp:n=this.toVertex,i=this.fromVertex;break;default:Wl.k("Unhandled path value "+e.If.toString())}if(null!==n&&null!==i)if(e=this.Fs,0!==e.x||0!==e.y||n.sJ){var i=n.kb,r=Rl(n),o=Bl(n),a=n.rowSpacing;t.bo();var s,h,l=t.Ze===Ud,u=t.jc,c=0;if(t.gm(),u||l){for(c=2;4<t.ra;)t.NF(2);s=t.m(1),h=t.m(2)}else{for(c=1;3<t.ra;)t.NF(1);s=t.m(0),h=t.m(t.ra-1)}var f=t.m(t.ra-1),d=0;0===r?(n.alignment===Qp?(d=i.bottom+e.y,0===e.y&&s.y>f.y+n.rowIndent&&(d=Math.min(d,Math.max(s.y,d-ql(n))))):n.alignment===Xp?(d=i.top+e.y,0===e.y&&s.y<f.y-n.rowIndent&&(d=Math.max(d,Math.min(s.y,d+ql(n))))):d=n.pq||n.qq&&1===n.maxGenerationCount?i.top-n.Pa.y+e.y:i.y+i.height/2+e.y,l?(t.w(c,s.x,d),c++,t.w(c,i.right+o,d),c++,t.w(c,i.right+o+(e.x-a)/3,d),c++,t.w(c,i.right+o+2*(e.x-a)/3,d),c++,t.w(c,i.right+o+(e.x-a),d),c++,t.w(c,h.x,d)):(u&&(t.w(c,i.right+o/2,s.y),c++),t.w(c,i.right+o/2,d),c++,t.w(c,i.right+o+e.x-(u?a/2:a),d),c++,u&&t.w(c,t.m(c-1).x,h.y))):90===r?(n.alignment===Qp?(d=i.right+e.x,0===e.x&&s.x>f.x+n.rowIndent&&(d=Math.min(d,Math.max(s.x,d-ql(n))))):n.alignment===Xp?(d=i.left+e.x,0===e.x&&s.x<f.x-n.rowIndent&&(d=Math.max(d,Math.min(s.x,d+ql(n))))):d=n.pq||n.qq&&1===n.maxGenerationCount?i.left-n.Pa.x+e.x:i.x+i.width/2+e.x,l?(t.w(c,d,s.y),c++,t.w(c,d,i.bottom+o),c++,t.w(c,d,i.bottom+o+(e.y-a)/3),c++,t.w(c,d,i.bottom+o+2*(e.y-a)/3),c++,t.w(c,d,i.bottom+o+(e.y-a)),c++,t.w(c,d,h.y)):(u&&(t.w(c,s.x,i.bottom+o/2),c++),t.w(c,d,i.bottom+o/2),c++,t.w(c,d,i.bottom+o+e.y-(u?a/2:a)),c++,u&&t.w(c,h.x,t.m(c-1).y))):180===r?(n.alignment===Qp?(d=i.bottom+e.y,0===e.y&&s.y>f.y+n.rowIndent&&(d=Math.min(d,Math.max(s.y,d-ql(n))))):n.alignment===Xp?(d=i.top+e.y,0===e.y&&s.y<f.y-n.rowIndent&&(d=Math.max(d,Math.min(s.y,d+ql(n))))):d=n.pq||n.qq&&1===n.maxGenerationCount?i.top-n.Pa.y+e.y:i.y+i.height/2+e.y,l?(t.w(c,s.x,d),c++,t.w(c,i.left-o,d),c++,t.w(c,i.left-o+(e.x+a)/3,d),c++,t.w(c,i.left-o+2*(e.x+a)/3,d),c++,t.w(c,i.left-o+(e.x+a),d),c++,t.w(c,h.x,d)):(u&&(t.w(c,i.left-o/2,s.y),c++),t.w(c,i.left-o/2,d),c++,t.w(c,i.left-o+e.x+(u?a/2:a),d),c++,u&&t.w(c,t.m(c-1).x,h.y))):270===r?(n.alignment===Qp?(d=i.right+e.x,0===e.x&&s.x>f.x+n.rowIndent&&(d=Math.min(d,Math.max(s.x,d-ql(n))))):n.alignment===Xp?(d=i.left+e.x,0===e.x&&s.x<f.x-n.rowIndent&&(d=Math.max(d,Math.min(s.x,d+ql(n))))):d=n.pq||n.qq&&1===n.maxGenerationCount?i.left-n.Pa.x+e.x:i.x+i.width/2+e.x,l?(t.w(c,d,s.y),c++,t.w(c,d,i.top-o),c++,t.w(c,d,i.top-o+(e.y+a)/3),c++,t.w(c,d,i.top-o+2*(e.y+a)/3),c++,t.w(c,d,i.top-o+(e.y+a)),c++,t.w(c,d,h.y)):(u&&(t.w(c,s.x,i.top-o/2),c++),t.w(c,d,i.top-o/2),c++,t.w(c,d,i.top-o+e.y+(u?a/2:a)),c++,u&&t.w(c,h.x,t.m(c-1).y))):Wl.k("Invalid angle "+r),t.jj()}else r=n,o=i,t=this.link,(n=Rl(r))!==Rl(o)&&(e=Bl(r),i=r.kb,r=o.kb,0===n&&r.left-i.right<e+1||90===n&&r.top-i.bottom<e+1||180===n&&i.left-r.right<e+1||270===n&&i.top-r.bottom<e+1||(t.bo(),r=t.Ze===Ud,o=t.jc,a=yl(this.fromVertex.alignment),t.gm(),0===n?(n=i.right+e/2,r?4===t.ra&&(e=t.m(3).y,t.fa(1,n-20,t.m(1).y),t.w(2,n-20,e),t.w(3,n,e),t.w(4,n+20,e),t.fa(5,t.m(5).x,e)):o?a?t.fa(3,t.m(2).x,t.m(4).y):6===t.ra&&(t.fa(2,n,t.m(2).y),t.fa(3,n,t.m(3).y)):4===t.ra?t.w(2,n,t.m(2).y):3===t.ra?t.fa(1,n,t.m(2).y):2===t.ra&&t.w(1,n,t.m(1).y)):90===n?(e=i.bottom+e/2,r?4===t.ra&&(n=t.m(3).x,t.fa(1,t.m(1).x,e-20),t.w(2,n,e-20),t.w(3,n,e),t.w(4,n,e+20),t.fa(5,n,t.m(5).y)):o?a?t.fa(3,t.m(2).x,t.m(4).y):6===t.ra&&(t.fa(2,t.m(2).x,e),t.fa(3,t.m(3).x,e)):4===t.ra?t.w(2,t.m(2).x,e):3===t.ra?t.fa(1,t.m(2).x,e):2===t.ra&&t.w(1,t.m(1).x,e)):180===n?(n=i.left-e/2,r?4===t.ra&&(e=t.m(3).y,t.fa(1,n+20,t.m(1).y),t.w(2,n+20,e),t.w(3,n,e),t.w(4,n-20,e),t.fa(5,t.m(5).x,e)):o?a?t.fa(3,t.m(2).x,t.m(4).y):6===t.ra&&(t.fa(2,n,t.m(2).y),t.fa(3,n,t.m(3).y)):4===t.ra?t.w(2,n,t.m(2).y):3===t.ra?t.fa(1,n,t.m(2).y):2===t.ra&&t.w(1,n,t.m(1).y)):270===n&&(e=i.top-e/2,r?4===t.ra&&(n=t.m(3).x,t.fa(1,t.m(1).x,e+20),t.w(2,n,e+20),t.w(3,n,e),t.w(4,n,e-20),t.fa(5,n,t.m(5).y)):o?a?t.fa(3,t.m(2).x,t.m(4).y):6===t.ra&&(t.fa(2,t.m(2).x,e),t.fa(3,t.m(3).x,e)):4===t.ra?t.w(2,t.m(2).x,e):3===t.ra?t.fa(1,t.m(2).x,e):2===t.ra&&t.w(1,t.m(1).x,e)),t.jj()))}},Wl.defineProperty(Ul,{zL:"relativePoint"},function(){return this.Fs},function(t){this.Fs.set(t)}),Wl.Ma(Hl,Tr),Hl.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.element=this.Te.cloneNode(!0)},Hl.prototype.toString=function(){return"HTMLHost("+this.Te.toString()+")#"+Wl.Jd(this)},Hl.prototype.yk=function(t,e){var n=this.Te;if(null!==n){var i=this.Xa(au);i.x-=this.Y.width/2,i.y-=this.Y.height/2,i.x-=this.Y.x,i.y-=this.Y.y;var i=e.sG(i),r=e.lj;null===r||r.contains(n)||r.appendChild(n),r=this.transform,n.style.transform="matrix("+r.m11+","+r.m12+","+r.m21+","+r.m22+","+r.dx+","+r.dy+")",n.style.transformOrigin="0 0",r=i.y,n.style.left=i.x+"px",n.style.top=r+"px"}},Hl.prototype.Mn=function(t,e,n,i){var r=this.Ba;isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height);var r=this.Bf,o=this.Ah;n=Math.max(n,o.width),i=Math.max(i,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(n,t),e=Math.max(i,e),n=this.Te,null!==n&&(e=n.getBoundingClientRect(),t=e.width,e=e.height),M(this.Tc,t,e),Cr(this,0,0,t,e)},Hl.prototype.ij=function(t,e,n,i){Ar(this,t,e,n,i)},Wl.u(Hl,{Ja:"naturalBounds"},function(){return this.Tc}),Wl.defineProperty(Hl,{element:"element"},function(){return this.Te},function(t){var e=this.Te;e!==t&&(t instanceof Element||Wl.k("HTMLHost.element must be an instance of Element."),this.Te=t,t.className="HTMLHost",this.h("element",e,t),this.oa())}),_l.version="1.7.5",e&&(e.module&&"object"==typeof e.module&&"object"==typeof e.module.exports?e.module.exports=_l:e.define&&"function"==typeof e.define&&e.define.amd?(e.go=_l,e.define(_l)):e.go=_l),void 0!==t&&"object"==typeof t.exports&&(t.exports=_l)}(window)},function(t,e,n){(function(i){var r,o,a=n(13);!function(i){var s;window.UIkit&&(s=i(a)),r=[n(13)],void 0!==(o=function(){return s||i(a)}.apply(e,r))&&(t.exports=o)}(function(e){"use strict";var n,i,r=!1;
//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
return e.component("datepicker",{defaults:{mobile:!1,weekstart:1,i18n:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},format:"YYYY-MM-DD",offsettop:5,maxDate:!1,minDate:!1,pos:"auto",template:function(t,n){var i,r="";if(r+='<div class="uk-datepicker-nav">',r+='<a href="" class="uk-datepicker-previous"></a>',r+='<a href="" class="uk-datepicker-next"></a>',e.formSelect){var o,a,s,h,l=(new Date).getFullYear(),u=[];for(i=0;i<n.i18n.months.length;i++)i==t.month?u.push('<option value="'+i+'" selected>'+n.i18n.months[i]+"</option>"):u.push('<option value="'+i+'">'+n.i18n.months[i]+"</option>");for(o='<span class="uk-form-select">'+n.i18n.months[t.month]+'<select class="update-picker-month">'+u.join("")+"</select></span>",u=[],s=t.minDate?t.minDate.year():l-50,h=t.maxDate?t.maxDate.year():l+20,i=s;i<=h;i++)i==t.year?u.push('<option value="'+i+'" selected>'+i+"</option>"):u.push('<option value="'+i+'">'+i+"</option>");a='<span class="uk-form-select">'+t.year+'<select class="update-picker-year">'+u.join("")+"</select></span>",r+='<div class="uk-datepicker-heading">'+o+" "+a+"</div>"}else r+='<div class="uk-datepicker-heading">'+n.i18n.months[t.month]+" "+t.year+"</div>";for(r+="</div>",r+='<table class="uk-datepicker-table">',r+="<thead>",i=0;i<t.weekdays.length;i++)t.weekdays[i]&&(r+="<th>"+t.weekdays[i]+"</th>");for(r+="</thead>",r+="<tbody>",i=0;i<t.days.length;i++)if(t.days[i]&&t.days[i].length){r+="<tr>";for(var c=0;c<t.days[i].length;c++)if(t.days[i][c]){var f=t.days[i][c],d=[];f.inmonth||d.push("uk-datepicker-table-muted"),f.selected&&d.push("uk-active"),f.disabled&&d.push("uk-datepicker-date-disabled uk-datepicker-table-muted"),r+='<td><a href="" class="'+d.join(" ")+'" data-date="'+f.day.format()+'">'+f.day.format("D")+"</a></td>"}r+="</tr>"}return r+="</tbody>",r+="</table>"}},boot:function(){e.$win.on("resize orientationchange",function(){r&&r.hide()}),e.$html.on("focus.datepicker.uikit","[data-uk-datepicker]",function(t){var n=e.$(this);n.data("datepicker")||(t.preventDefault(),e.datepicker(n,e.Utils.options(n.attr("data-uk-datepicker"))),n.trigger("focus"))}),e.$html.on("click focus","*",function(t){var i=e.$(t.target);!r||i[0]==n[0]||i.data("datepicker")||i.parents(".uk-datepicker:first").length||r.hide()})},init:function(){if(!e.support.touch||"date"!=this.element.attr("type")||this.options.mobile){var t=this;this.current=this.element.val()?i(this.element.val(),this.options.format):i(),this.on("click focus",function(){r!==t&&t.pick(this.value?this.value:"")}).on("change",function(){t.element.val()&&!i(t.element.val(),t.options.format).isValid()&&t.element.val(i().format(t.options.format))}),n||(n=e.$('<div class="uk-dropdown uk-datepicker"></div>'),n.on("click",".uk-datepicker-next, .uk-datepicker-previous, [data-date]",function(t){t.stopPropagation(),t.preventDefault();var n=e.$(this);if(n.hasClass("uk-datepicker-date-disabled"))return!1;n.is("[data-date]")?(r.current=i(n.data("date")),r.element.val(r.current.isValid()?r.current.format(r.options.format):null).trigger("change"),r.hide()):r.add(n.hasClass("uk-datepicker-next")?1:-1,"months")}),n.on("change",".update-picker-month, .update-picker-year",function(){var t=e.$(this);r[t.is(".update-picker-year")?"setYear":"setMonth"](Number(t.val()))}),n.appendTo("body"))}},pick:function(t){var o=this.element.offset(),a={left:o.left,right:""};this.current=isNaN(t)?i(t,this.options.format):i(),this.initdate=this.current.format("YYYY-MM-DD"),this.update(),"right"==e.langdirection&&(a.right=window.innerWidth-(a.left+this.element.outerWidth()),a.left="");var s=o.top-this.element.outerHeight()+this.element.height()-this.options.offsettop-n.outerHeight(),h=o.top+this.element.outerHeight()+this.options.offsettop;a.top=h,"top"==this.options.pos?a.top=s:"auto"==this.options.pos&&window.innerHeight-h-n.outerHeight()<0&&s>=0&&(a.top=s),n.css(a).show(),this.trigger("show.uk.datepicker"),r=this},add:function(t,e){this.current.add(t,e),this.update()},setMonth:function(t){this.current.month(t),this.update()},setYear:function(t){this.current.year(t),this.update()},update:function(){var t=this.getRows(this.current.year(),this.current.month()),e=this.options.template(t,this.options);n.html(e),this.trigger("update.uk.datepicker")},getRows:function(t,e){var n=this.options,r=i().format("YYYY-MM-DD"),o=[31,t%4==0&&t%100!=0||t%400==0?29:28,31,30,31,30,31,31,30,31,30,31][e],a=new Date(t,e,1,12).getDay(),s={month:e,year:t,weekdays:[],days:[],maxDate:!1,minDate:!1},h=[];n.maxDate!==!1&&(s.maxDate=isNaN(n.maxDate)?i(n.maxDate,n.format).startOf("day").hours(12):i().add(n.maxDate,"days").startOf("day").hours(12)),n.minDate!==!1&&(s.minDate=isNaN(n.minDate)?i(n.minDate,n.format).startOf("day").hours(12):i().add(n.minDate-1,"days").startOf("day").hours(12)),s.weekdays=function(){for(var t=0,e=[];t<7;t++){for(var i=t+(n.weekstart||0);i>=7;)i-=7;e.push(n.i18n.weekdays[i])}return e}(),n.weekstart&&n.weekstart>0&&(a-=n.weekstart)<0&&(a+=7);for(var l=o+a,u=l;u>7;)u-=7;l+=7-u;for(var c,f,d,p,v,y=0,g=0;y<l;y++)c=new Date(t,e,y-a+1,12),f=s.minDate&&s.minDate>c||s.maxDate&&c>s.maxDate,v=!(y<a||y>=o+a),c=i(c),d=this.initdate==c.format("YYYY-MM-DD"),p=r==c.format("YYYY-MM-DD"),h.push({selected:d,today:p,disabled:f,day:c,inmonth:v}),7==++g&&(s.days.push(h),h=[],g=0);return s},hide:function(){r&&r===this&&(n.hide(),r=!1,this.trigger("hide.uk.datepicker"))}}),i=function(e){function n(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function i(t,e){return bt.call(t,e)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function o(t){yt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function a(t,e){var n=!0;return f(function(){return n&&(o(t),n=!1),e.apply(this,arguments)},e)}function s(t,e){le[t]||(o(e),le[t]=!0)}function h(t,e){return function(n){return v(t.call(this,n),e)}}function l(){}function u(t,e){e!==!1&&A(t),d(this,t),this._d=new Date(+t._d)}function c(t){var e=S(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,h=e.minute||0,l=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*l+6e4*h+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=yt.localeData(),this._bubble()}function f(t,e){for(var n in e)i(e,n)&&(t[n]=e[n]);return i(e,"toString")&&(t.toString=e.toString),i(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e){var n,i,r;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=e._pf),void 0!==e._locale&&(t._locale=e._locale),Nt.length>0)for(n in Nt)i=Nt[n],void 0!==(r=e[i])&&(t[i]=r);return t}function p(t){return t<0?Math.ceil(t):Math.floor(t)}function v(t,e,n){for(var i=""+Math.abs(t),r=t>=0;i.length<e;)i="0"+i;return(r?n?"+":"":"-")+i}function y(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function g(t,e){var n;return e=O(e,t),t.isBefore(e)?n=y(t,e):(n=y(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function m(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(s(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=yt.duration(n,i),b(this,r,t),this}}function b(t,e,n,i){var r=e._milliseconds,o=e._days,a=e._months;i=null==i||i,r&&t._d.setTime(+t._d+r*n),o&&ft(t,"Date",ct(t,"Date")+o*n),a&&ut(t,ct(t,"Month")+a*n),i&&yt.updateOffset(t,o||a)}function w(t){return"[object Array]"===Object.prototype.toString.call(t)}function x(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function k(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&M(t[i])!==M(e[i]))&&a++;return a+o}function T(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ne[t]||ie[e]||e}return t}function S(t){var e,n,r={};for(n in t)i(t,n)&&(e=T(n))&&(r[e]=t[n]);return r}function M(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function P(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function C(t,e,n){return at(yt([t,11,31+e-n]),e,n).week}function N(t){return D(t)?366:365}function D(t){return t%4==0&&t%100!=0||t%400==0}function A(t){var e;t._a&&t._pf.overflow===-2&&(e=t._a[xt]<0||t._a[xt]>11?xt:t._a[kt]<1||t._a[kt]>P(t._a[wt],t._a[xt])?kt:t._a[Tt]<0||t._a[Tt]>23?Tt:t._a[St]<0||t._a[St]>59?St:t._a[Mt]<0||t._a[Mt]>59?Mt:t._a[Pt]<0||t._a[Pt]>999?Pt:-1,t._pf._overflowDayOfYear&&(e<wt||e>kt)&&(e=kt),t._pf.overflow=e)}function E(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function j(t){return t?t.toLowerCase().replace("_","-"):t}function L(t){for(var e,n,i,r,o=0;o<t.length;){for(r=j(t[o]).split("-"),e=r.length,n=j(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=F(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&k(r,n,!0)>=e-1)break;e--}o++}return null}function F(t){var e=null;if(!Ct[t]&&Dt)try{e=yt.locale(),function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),yt.locale(e)}catch(t){}return Ct[t]}function O(t,e){return e._isUTC?yt(t).zone(e._offset||0):yt(t).local()}function I(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function R(t){var e,n,i=t.match(Lt);for(e=0,n=i.length;e<n;e++)he[i[e]]?i[e]=he[i[e]]:i[e]=I(i[e]);return function(r){var o="";for(e=0;e<n;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function B(t,e){return t.isValid()?(e=q(e,t.localeData()),re[e]||(re[e]=R(e)),re[e](t)):t.localeData().invalidDate()}function q(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ft.lastIndex=0;i>=0&&Ft.test(t);)t=t.replace(Ft,n),Ft.lastIndex=0,i-=1;return t}function z(t,e){var n=e._strict;switch(t){case"Q":return _t;case"DDDD":return Kt;case"YYYY":case"GGGG":case"gggg":return n?Yt:Rt;case"Y":case"G":case"g":return Jt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?$t:Bt;case"S":if(n)return _t;case"SS":if(n)return Wt;case"SSS":if(n)return Kt;case"DDD":return It;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return zt;case"a":case"A":return e._locale._meridiemParse;case"X":return Ht;case"Z":case"ZZ":return Vt;case"T":return Ut;case"SSSS":return qt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Wt:Ot;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ot;case"Do":return Gt;default:return new RegExp($(Y(t.replace("\\",""))))}}function V(t){t=t||"";var e=t.match(Vt)||[],n=e[e.length-1]||[],i=(n+"").match(te)||["-",0,0],r=+(60*i[1])+M(i[2]);return"+"===i[0]?-r:r}function U(t,e,n){var i,r=n._a;switch(t){case"Q":null!=e&&(r[xt]=3*(M(e)-1));break;case"M":case"MM":null!=e&&(r[xt]=M(e)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(e),null!=i?r[xt]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(r[kt]=M(e));break;case"Do":null!=e&&(r[kt]=M(parseInt(e,10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=M(e));break;case"YY":r[wt]=yt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":r[wt]=M(e);break;case"a":case"A":n._isPm=n._locale.isPM(e);break;case"H":case"HH":case"h":case"hh":r[Tt]=M(e);break;case"m":case"mm":r[St]=M(e);break;case"s":case"ss":r[Mt]=M(e);break;case"S":case"SS":case"SSS":case"SSSS":r[Pt]=M(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=V(e);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(e),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=M(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=yt.parseTwoDigitYear(e)}}function H(t){var e,i,r,o,a,s,h;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(a=1,s=4,i=n(e.GG,t._a[wt],at(yt(),1,4).year),r=n(e.W,1),o=n(e.E,1)):(a=t._locale._week.dow,s=t._locale._week.doy,i=n(e.gg,t._a[wt],at(yt(),a,s).year),r=n(e.w,1),null!=e.d?(o=e.d)<a&&++r:o=null!=e.e?e.e+a:a),h=st(i,r,o,s,a),t._a[wt]=h.year,t._dayOfYear=h.dayOfYear}function G(t){var e,i,r,o,a=[];if(!t._d){for(r=W(t),t._w&&null==t._a[kt]&&null==t._a[xt]&&H(t),t._dayOfYear&&(o=n(t._a[wt],r[wt]),t._dayOfYear>N(o)&&(t._pf._overflowDayOfYear=!0),i=nt(o,0,t._dayOfYear),t._a[xt]=i.getUTCMonth(),t._a[kt]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];t._d=(t._useUTC?nt:et).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm)}}function _(t){var e;t._d||(e=S(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],G(t))}function W(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function K(t){if(t._f===yt.ISO_8601)return void X(t);t._a=[],t._pf.empty=!0;var e,n,i,r,o,a=""+t._i,s=a.length,h=0;for(i=q(t._f,t._locale).match(Lt)||[],e=0;e<i.length;e++)r=i[e],n=(a.match(z(r,t))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&t._pf.unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),h+=n.length),he[r]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(r),U(r,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=s-h,a.length>0&&t._pf.unusedInput.push(a),t._isPm&&t._a[Tt]<12&&(t._a[Tt]+=12),t._isPm===!1&&12===t._a[Tt]&&(t._a[Tt]=0),G(t),A(t)}function Y(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})}function $(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t){var e,n,i,o,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)a=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=r(),e._f=t._f[o],K(e),E(e)&&(a+=e._pf.charsLeftOver,a+=10*e._pf.unusedTokens.length,e._pf.score=a,(null==i||a<i)&&(i=a,n=e));f(t,n||e)}function X(t){var e,n,i=t._i,r=Xt.exec(i);if(r){for(t._pf.iso=!0,e=0,n=Qt.length;e<n;e++)if(Qt[e][1].exec(i)){t._f=Qt[e][0]+(r[6]||" ");break}for(e=0,n=Zt.length;e<n;e++)if(Zt[e][1].exec(i)){t._f+=Zt[e][0];break}i.match(Vt)&&(t._f+="Z"),K(t)}else t._isValid=!1}function Q(t){X(t),t._isValid===!1&&(delete t._isValid,yt.createFromInputFallback(t))}function Z(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function tt(t){var n,i=t._i;i===e?t._d=new Date:x(i)?t._d=new Date(+i):null!==(n=At.exec(i))?t._d=new Date(+n[1]):"string"==typeof i?Q(t):w(i)?(t._a=Z(i.slice(0),function(t){return parseInt(t,10)}),G(t)):"object"==typeof i?_(t):"number"==typeof i?t._d=new Date(i):yt.createFromInputFallback(t)}function et(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<1970&&s.setFullYear(t),s}function nt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function it(t,e){if("string"==typeof t)if(isNaN(t)){if("number"!=typeof(t=e.weekdaysParse(t)))return null}else t=parseInt(t,10);return t}function rt(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function ot(t,e,n){var i=yt.duration(t).abs(),r=mt(i.as("s")),o=mt(i.as("m")),a=mt(i.as("h")),s=mt(i.as("d")),h=mt(i.as("M")),l=mt(i.as("y")),u=r<oe.s&&["s",r]||1===o&&["m"]||o<oe.m&&["mm",o]||1===a&&["h"]||a<oe.h&&["hh",a]||1===s&&["d"]||s<oe.d&&["dd",s]||1===h&&["M"]||h<oe.M&&["MM",h]||1===l&&["y"]||["yy",l];return u[2]=e,u[3]=+t>0,u[4]=n,rt.apply({},u)}function at(t,e,n){var i,r=n-e,o=n-t.day();return o>r&&(o-=7),o<r-7&&(o+=7),i=yt(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function st(t,e,n,i,r){var o,a,s=nt(t,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:r,o=r-s+(s>i?7:0)-(s<r?7:0),a=7*(e-1)+(n-r)+o+1,{year:a>0?t:t-1,dayOfYear:a>0?a:N(t-1)+a}}function ht(t){var n=t._i,i=t._f;return t._locale=t._locale||yt.localeData(t._l),null===n||i===e&&""===n?yt.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),yt.isMoment(n)?new u(n,!0):(i?w(i)?J(t):K(t):tt(t),new u(t)))}function lt(t,e){var n,i;if(1===e.length&&w(e[0])&&(e=e[0]),!e.length)return yt();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function ut(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))?t:(n=Math.min(t.date(),P(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ct(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function ft(t,e,n){return"Month"===e?ut(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function dt(t,e){return function(n){return null!=n?(ft(this,t,n),yt.updateOffset(this,e),this):ct(this,t)}}function pt(t){return 400*t/146097}function vt(t){return 146097*t/400}for(var yt,gt,mt=Math.round,bt=Object.prototype.hasOwnProperty,wt=0,xt=1,kt=2,Tt=3,St=4,Mt=5,Pt=6,Ct={},Nt=[],Dt=void 0!==t&&t.exports,At=/^\/?Date\((\-?\d+)/i,Et=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,jt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Lt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Ft=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Ot=/\d\d?/,It=/\d{1,3}/,Rt=/\d{1,4}/,Bt=/[+\-]?\d{1,6}/,qt=/\d+/,zt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Vt=/Z|[\+\-]\d\d:?\d\d/gi,Ut=/T/i,Ht=/[\+\-]?\d+(\.\d{1,3})?/,Gt=/\d{1,2}/,_t=/\d/,Wt=/\d\d/,Kt=/\d{3}/,Yt=/\d{4}/,$t=/[+-]?\d{6}/,Jt=/[+-]?\d+/,Xt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Zt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],te=/([\+\-]|\d\d)/gi,ee=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ne={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ie={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},re={},oe={s:45,m:45,h:22,d:26,M:11},ae="DDD w W M D d".split(" "),se="M D H h m s w W".split(" "),he={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year();return(t>=0?"+":"-")+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return M(this.milliseconds()/100)},SS:function(){return v(M(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+v(M(t/60),2)+":"+v(M(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+v(M(t/60),2)+v(M(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},le={},ue=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ae.length;)gt=ae.pop(),he[gt+"o"]=function(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}(he[gt],gt);for(;se.length;)gt=se.pop(),he[gt+gt]=h(he[gt],2);he.DDDD=h(he.DDD,3),f(l.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(n=yt.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=yt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return at(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),yt=function(t,n,i,o){var a;return"boolean"==typeof i&&(o=i,i=e),a={},a._isAMomentObject=!0,a._i=t,a._f=n,a._l=i,a._strict=o,a._isUTC=!1,a._pf=r(),ht(a)},yt.suppressDeprecationWarnings=!1,yt.createFromInputFallback=a("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i)}),yt.min=function(){return lt("isBefore",[].slice.call(arguments,0))},yt.max=function(){return lt("isAfter",[].slice.call(arguments,0))},yt.utc=function(t,n,i,o){var a;return"boolean"==typeof i&&(o=i,i=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=i,a._i=t,a._f=n,a._strict=o,a._pf=r(),ht(a).utc()},yt.unix=function(t){return yt(1e3*t)},yt.duration=function(t,e){var n,r,o,a,s=t,h=null;return yt.isDuration(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(h=Et.exec(t))?(n="-"===h[1]?-1:1,s={y:0,d:M(h[kt])*n,h:M(h[Tt])*n,m:M(h[St])*n,s:M(h[Mt])*n,ms:M(h[Pt])*n}):(h=jt.exec(t))?(n="-"===h[1]?-1:1,o=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},s={y:o(h[2]),M:o(h[3]),d:o(h[4]),h:o(h[5]),m:o(h[6]),s:o(h[7]),w:o(h[8])}):"object"==typeof s&&("from"in s||"to"in s)&&(a=g(yt(s.from),yt(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),r=new c(s),yt.isDuration(t)&&i(t,"_locale")&&(r._locale=t._locale),r},yt.version="2.8.3",yt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",yt.ISO_8601=function(){},yt.momentProperties=Nt,yt.updateOffset=function(){},yt.relativeTimeThreshold=function(t,n){return oe[t]!==e&&(n===e?oe[t]:(oe[t]=n,!0))},yt.lang=a("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return yt.locale(t,e)}),yt.locale=function(t,e){var n;return t&&(n=void 0!==e?yt.defineLocale(t,e):yt.localeData(t))&&(yt.duration._locale=yt._locale=n),yt._locale._abbr},yt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Ct[t]||(Ct[t]=new l),Ct[t].set(e),yt.locale(t),Ct[t]):(delete Ct[t],null)},yt.langData=a("moment.langData is deprecated. Use moment.localeData instead.",function(t){return yt.localeData(t)}),yt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return yt._locale;if(!w(t)){if(e=F(t))return e;t=[t]}return L(t)},yt.isMoment=function(t){return t instanceof u||null!=t&&i(t,"_isAMomentObject")},yt.isDuration=function(t){return t instanceof c};for(gt=ue.length-1;gt>=0;--gt)!function(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}yt[t]=function(r,o){var a,s,h=yt._locale[t],l=[];if("number"==typeof r&&(o=r,r=e),s=function(t){var e=yt().utc().set(i,t);return h.call(yt._locale,e,r||"")},null!=o)return s(o);for(a=0;a<n;a++)l.push(s(a));return l}}(ue[gt]);yt.normalizeUnits=function(t){return T(t)},yt.invalid=function(t){var e=yt.utc(NaN);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},yt.parseZone=function(){return yt.apply(null,arguments).parseZone()},yt.parseTwoDigitYear=function(t){return M(t)+(M(t)>68?1900:2e3)},f(yt.fn=u.prototype,{clone:function(){return yt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=yt(this).utc();return 0<t.year()&&t.year()<=9999?B(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):B(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return E(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&k(this._a,(this._isUTC?yt.utc(this._a):yt(this._a)).toArray())>0)},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.zone(0,t)},local:function(t){return this._isUTC&&(this.zone(0,t),this._isUTC=!1,t&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var e=B(this,t||yt.defaultFormat);return this.localeData().postformat(e)},add:m(1,"add"),subtract:m(-1,"subtract"),diff:function(t,e,n){var i,r,o,a=O(t,this),s=6e4*(this.zone()-a.zone());return e=T(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),o=this-yt(this).startOf("month")-(a-yt(a).startOf("month")),o-=6e4*(this.zone()-yt(this).startOf("month").zone()-(a.zone()-yt(a).startOf("month").zone())),r+=o/i,"year"===e&&(r/=12)):(i=this-a,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:p(r)},from:function(t,e){return yt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(yt(),t)},calendar:function(t){var e=t||yt(),n=O(e,this).startOf("day"),i=this.diff(n,"days",!0),r=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this))},isLeapYear:function(){return D(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=it(t,this.localeData()),this.add(t-e,"d")):e},month:dt("Month",!0),startOf:function(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=T(t),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(t,e){return e=T(void 0!==e?e:"millisecond"),"millisecond"===e?(t=yt.isMoment(t)?t:yt(t),+this>+t):+this.clone().startOf(e)>+yt(t).startOf(e)},isBefore:function(t,e){return e=T(void 0!==e?e:"millisecond"),"millisecond"===e?(t=yt.isMoment(t)?t:yt(t),+this<+t):+this.clone().startOf(e)<+yt(t).startOf(e)},isSame:function(t,e){return e=T(e||"millisecond"),"millisecond"===e?(t=yt.isMoment(t)?t:yt(t),+this==+t):+this.clone().startOf(e)==+O(t,this).startOf(e)},min:a("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=yt.apply(null,arguments),t<this?this:t}),max:a("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=yt.apply(null,arguments),t>this?this:t}),zone:function(t,e){var n,i=this._offset||0;return null==t?this._isUTC?i:this._dateTzOffset():("string"==typeof t&&(t=V(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==t&&(!e||this._changeInProgress?b(this,yt.duration(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,yt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?yt(t).zone():0,(this.zone()-t)%60==0},daysInMonth:function(){return P(this.year(),this.month())},dayOfYear:function(t){var e=mt((yt(this).startOf("day")-yt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=at(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=at(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return C(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return C(this.year(),t.dow,t.doy)},get:function(t){return t=T(t),this[t]()},set:function(t,e){return t=T(t),"function"==typeof this[t]&&this[t](e),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=yt.localeData(t),null!=n&&(this._locale=n),this)},lang:a("moment().lang() is deprecated. Use moment().localeData() instead.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),yt.fn.millisecond=yt.fn.milliseconds=dt("Milliseconds",!1),yt.fn.second=yt.fn.seconds=dt("Seconds",!1),yt.fn.minute=yt.fn.minutes=dt("Minutes",!1),yt.fn.hour=yt.fn.hours=dt("Hours",!0),yt.fn.date=dt("Date",!0),yt.fn.dates=a("dates accessor is deprecated. Use date instead.",dt("Date",!0)),yt.fn.year=dt("FullYear",!0),yt.fn.years=a("years accessor is deprecated. Use year instead.",dt("FullYear",!0)),yt.fn.days=yt.fn.day,yt.fn.months=yt.fn.month,yt.fn.weeks=yt.fn.week,yt.fn.isoWeeks=yt.fn.isoWeek,yt.fn.quarters=yt.fn.quarter,yt.fn.toJSON=yt.fn.toISOString,f(yt.duration.fn=c.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,r=this._days,o=this._months,a=this._data,s=0;a.milliseconds=i%1e3,t=p(i/1e3),a.seconds=t%60,e=p(t/60),a.minutes=e%60,n=p(e/60),a.hours=n%24,r+=p(n/24),s=p(pt(r)),r-=p(vt(s)),o+=p(r/30),r%=30,s+=p(o/12),o%=12,a.days=r,a.months=o,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return p(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12)},humanize:function(t){var e=ot(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=yt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=yt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=T(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if("month"===(t=T(t))||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*pt(e),"month"===t?n:n/12;switch(e=this._days+vt(this._months/12),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:yt.fn.lang,locale:yt.fn.locale,toIsoString:a("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}}),yt.duration.fn.toString=yt.duration.fn.toISOString;for(gt in ee)i(ee,gt)&&function(t){yt.duration.fn[t]=function(){return this._data[t]}}(gt.toLowerCase());return yt.duration.fn.asMilliseconds=function(){return this.as("ms")},yt.duration.fn.asSeconds=function(){return this.as("s")},yt.duration.fn.asMinutes=function(){return this.as("m")},yt.duration.fn.asHours=function(){return this.as("h")},yt.duration.fn.asDays=function(){return this.as("d")},yt.duration.fn.asWeeks=function(){return this.as("weeks")},yt.duration.fn.asMonths=function(){return this.as("M")},yt.duration.fn.asYears=function(){return this.as("y")},yt.locale("en",{ordinal:function(t){var e=t%10;return t+(1===M(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),yt}.call(this),e.Utils.moment=i,e.datepicker})}).call(e,n(14))},function(t,e,n){var i,r,o=n(13);!function(a){var s;window.UIkit&&(s=a(o)),i=[n(13)],void 0!==(r=function(){return s||a(o)}.apply(e,i))&&(t.exports=r)}(function(t){"use strict";return t.component("formSelect",{defaults:{target:">span:first",activeClass:"uk-active"},boot:function(){t.ready(function(e){t.$("[data-uk-form-select]",e).each(function(){var e=t.$(this);e.data("formSelect")||t.formSelect(e,t.Utils.options(e.attr("data-uk-form-select")))})})},init:function(){var t=this;this.target=this.find(this.options.target),this.select=this.find("select"),this.select.on({change:function(){var e=t.select[0],n=function(){try{"input"===t.options.target?t.target.val(e.options[e.selectedIndex].text):t.target.text(e.options[e.selectedIndex].text)}catch(t){}return t.element[t.select.val()?"addClass":"removeClass"](t.options.activeClass),n};return n()}(),focus:function(){t.target.addClass("uk-focus")},blur:function(){t.target.removeClass("uk-focus")},mouseenter:function(){t.target.addClass("uk-hover")},mouseleave:function(){t.target.removeClass("uk-hover")}}),this.element.data("formSelect",this)}}),t.formSelect})},function(t,e,n){var i,r,o=n(13);!function(a){var s;window.UIkit&&(s=a(o)),i=[n(13)],void 0!==(r=function(){return s||a(o)}.apply(e,i))&&(t.exports=r)}(function(t){"use strict";var e,n,i;return t.component("tooltip",{defaults:{offset:5,pos:"top",animation:!1,delay:0,cls:"",activeClass:"uk-active",src:function(t){var e=t.attr("title");return void 0!==e&&t.data("cached-title",e).removeAttr("title"),t.data("cached-title")}},tip:"",boot:function(){t.$html.on("mouseenter.tooltip.uikit focus.tooltip.uikit","[data-uk-tooltip]",function(e){var n=t.$(this);n.data("tooltip")||(t.tooltip(n,t.Utils.options(n.attr("data-uk-tooltip"))),n.trigger("mouseenter"))})},init:function(){var n=this;e||(e=t.$('<div class="uk-tooltip"></div>').appendTo("body")),this.on({focus:function(t){n.show()},blur:function(t){n.hide()},mouseenter:function(t){n.show()},mouseleave:function(t){n.hide()}})},show:function(){if(this.tip="function"==typeof this.options.src?this.options.src(this.element):this.options.src,n&&clearTimeout(n),i&&clearInterval(i),"string"==typeof this.tip&&this.tip.length){e.stop().css({top:-2e3,visibility:"hidden"}).removeClass(this.options.activeClass).show(),e.html('<div class="uk-tooltip-inner">'+this.tip+"</div>");var r=this,o=t.$.extend({},this.element.offset(),{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}),a=e[0].offsetWidth,s=e[0].offsetHeight,h="function"==typeof this.options.offset?this.options.offset.call(this.element):this.options.offset,l="function"==typeof this.options.pos?this.options.pos.call(this.element):this.options.pos,u=l.split("-"),c={display:"none",visibility:"visible",top:o.top+o.height+s,left:o.left};if("fixed"==t.$html.css("position")||"fixed"==t.$body.css("position")){var f=t.$("body").offset(),d=t.$("html").offset(),p={top:d.top+f.top,left:d.left+f.left};o.left-=p.left,o.top-=p.top}"left"!=u[0]&&"right"!=u[0]||"right"!=t.langdirection||(u[0]="left"==u[0]?"right":"left");var v={bottom:{top:o.top+o.height+h,left:o.left+o.width/2-a/2},top:{top:o.top-s-h,left:o.left+o.width/2-a/2},left:{top:o.top+o.height/2-s/2,left:o.left-a-h},right:{top:o.top+o.height/2-s/2,left:o.left+o.width+h}};t.$.extend(c,v[u[0]]),2==u.length&&(c.left="left"==u[1]?o.left:o.left+o.width-a);var y=this.checkBoundary(c.left,c.top,a,s);if(y){switch(y){case"x":l=2==u.length?u[0]+"-"+(c.left<0?"left":"right"):c.left<0?"right":"left";break;case"y":l=2==u.length?(c.top<0?"bottom":"top")+"-"+u[1]:c.top<0?"bottom":"top";break;case"xy":l=2==u.length?(c.top<0?"bottom":"top")+"-"+(c.left<0?"left":"right"):c.left<0?"right":"left"}u=l.split("-"),t.$.extend(c,v[u[0]]),2==u.length&&(c.left="left"==u[1]?o.left:o.left+o.width-a)}c.left-=t.$body.position().left,n=setTimeout(function(){e.css(c).attr("class",["uk-tooltip","uk-tooltip-"+l,r.options.cls].join(" ")),r.options.animation?e.css({opacity:0,display:"block"}).addClass(r.options.activeClass).animate({opacity:1},parseInt(r.options.animation,10)||400):e.show().addClass(r.options.activeClass),n=!1,i=setInterval(function(){r.element.is(":visible")||r.hide()},150)},parseInt(this.options.delay,10)||0)}},hide:function(){if(!this.element.is("input")||this.element[0]!==document.activeElement)if(n&&clearTimeout(n),i&&clearInterval(i),e.stop(),this.options.animation){var t=this;e.fadeOut(parseInt(this.options.animation,10)||400,function(){e.removeClass(t.options.activeClass)})}else e.hide().removeClass(this.options.activeClass)},content:function(){return this.tip},checkBoundary:function(e,n,i,r){var o="";return(e<0||e-t.$win.scrollLeft()+i>window.innerWidth)&&(o+="x"),(n<0||n-t.$win.scrollTop()+r>window.innerHeight)&&(o+="y"),o}}),t.tooltip})},function(t,e,n){var i,r,o;/*!
 * Knockout JavaScript library v3.4.2
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
!function(){!function(a){var s=this||(0,eval)("this"),h=s.document,l=s.navigator,u=s.jQuery,c=s.JSON;!function(s){r=[e,n],i=s,(o="function"==typeof i?i.apply(e,r):i)!==a&&(t.exports=o)}(function(t,e){function n(t,e){return!!(null===t||typeof t in g)&&t===e}function i(t,e){var n;return function(){n||(n=y.utils.setTimeout(function(){n=a,t()},e))}}function r(t,e){var n;return function(){clearTimeout(n),n=y.utils.setTimeout(t,e)}}function o(t){var e=this;return t&&y.utils.objectForEach(t,function(t,n){var i=y.extenders[t];"function"==typeof i&&(e=i(e,n)||e)}),e}function f(t,e){e&&e!==m?"beforeChange"===e?this._limitBeforeChange(t):this._origNotifySubscribers(t,e):this._limitChange(t)}function d(t,e){null!==e&&e.dispose&&e.dispose()}function p(t,e){var n=this.computedObservable,i=n[S];i.isDisposed||(this.disposalCount&&this.disposalCandidates[e]?(n.addDependencyTracking(e,t,this.disposalCandidates[e]),this.disposalCandidates[e]=null,--this.disposalCount):i.dependencyTracking[e]||n.addDependencyTracking(e,t,i.isSleeping?{_target:t}:n.subscribeToDependency(t)),t._notificationIsPending&&t._notifyNextChangeIfValueIsDifferent())}function v(t,e,n,i){y.bindingHandlers[t]={init:function(t,r,o,a,s){var h,l;return y.computed(function(){var o=r(),a=y.utils.unwrapObservable(o),u=!n!=!a,c=!l;(c||e||u!==h)&&(c&&y.computedContext.getDependenciesCount()&&(l=y.utils.cloneNodes(y.virtualElements.childNodes(t),!0)),u?(c||y.virtualElements.setDomNodeChildren(t,y.utils.cloneNodes(l)),y.applyBindingsToDescendants(i?i(s,o):s,t)):y.virtualElements.emptyNode(t),h=u)},null,{disposeWhenNodeIsRemoved:t}),{controlsDescendantBindings:!0}}},y.expressionRewriting.bindingRewriteValidators[t]=!1,y.virtualElements.allowedBindings[t]=!0}var y=void 0!==t?t:{};y.exportSymbol=function(t,e){for(var n=t.split("."),i=y,r=0;r<n.length-1;r++)i=i[n[r]];i[n[n.length-1]]=e},y.exportProperty=function(t,e,n){t[e]=n},y.version="3.4.2",y.exportSymbol("version",y.version),y.options={deferUpdates:!1,useOnlyNativeEvents:!1},y.utils=function(){function t(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function e(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(t,e){return t.__proto__=e,t}function i(t,e){if("input"!==y.utils.tagNameLower(t)||!t.type)return!1;if("click"!=e.toLowerCase())return!1;var n=t.type;return"checkbox"==n||"radio"==n}function r(t,e,n){var i;e&&("object"==typeof t.classList?(i=t.classList[n?"add":"remove"],y.utils.arrayForEach(e.match(w),function(e){i.call(t.classList,e)})):"string"==typeof t.className.baseVal?o(t.className,"baseVal",e,n):o(t,"className",e,n))}function o(t,e,n,i){var r=t[e].match(w)||[];y.utils.arrayForEach(n.match(w),function(t){y.utils.addOrRemoveItem(r,t,i)}),t[e]=r.join(" ")}var f={__proto__:[]}instanceof Array,d={},p={};d[l&&/Firefox\/2/i.test(l.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],d.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],t(d,function(t,e){if(e.length)for(var n=0,i=e.length;n<i;n++)p[e[n]]=t});var v={propertychange:!0},g=h&&function(){for(var t=3,e=h.createElement("div"),n=e.getElementsByTagName("i");e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",n[0];);return t>4?t:a}(),m=6===g,b=7===g,w=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n)},arrayIndexOf:function(t,e){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},arrayFirst:function(t,e,n){for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i))return t[i];return null},arrayRemoveItem:function(t,e){var n=y.utils.arrayIndexOf(t,e);n>0?t.splice(n,1):0===n&&t.shift()},arrayGetDistinctValues:function(t){t=t||[];for(var e=[],n=0,i=t.length;n<i;n++)y.utils.arrayIndexOf(e,t[n])<0&&e.push(t[n]);return e},arrayMap:function(t,e){t=t||[];for(var n=[],i=0,r=t.length;i<r;i++)n.push(e(t[i],i));return n},arrayFilter:function(t,e){t=t||[];for(var n=[],i=0,r=t.length;i<r;i++)e(t[i],i)&&n.push(t[i]);return n},arrayPushAll:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var n=0,i=e.length;n<i;n++)t.push(e[n]);return t},addOrRemoveItem:function(t,e,n){var i=y.utils.arrayIndexOf(y.utils.peekObservable(t),e);i<0?n&&t.push(e):n||t.splice(i,1)},canSetPrototype:f,extend:e,setPrototypeOf:n,setPrototypeOfOrExtend:f?n:e,objectForEach:t,objectMap:function(t,e){if(!t)return t;var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i],i,t));return n},emptyDomNode:function(t){for(;t.firstChild;)y.removeNode(t.firstChild)},moveCleanedNodesToContainerElement:function(t){for(var e=y.utils.makeArray(t),n=e[0]&&e[0].ownerDocument||h,i=n.createElement("div"),r=0,o=e.length;r<o;r++)i.appendChild(y.cleanNode(e[r]));return i},cloneNodes:function(t,e){for(var n=0,i=t.length,r=[];n<i;n++){var o=t[n].cloneNode(!0);r.push(e?y.cleanNode(o):o)}return r},setDomNodeChildren:function(t,e){if(y.utils.emptyDomNode(t),e)for(var n=0,i=e.length;n<i;n++)t.appendChild(e[n])},replaceDomNodes:function(t,e){var n=t.nodeType?[t]:t;if(n.length>0){for(var i=n[0],r=i.parentNode,o=0,a=e.length;o<a;o++)r.insertBefore(e[o],i);for(var o=0,a=n.length;o<a;o++)y.removeNode(n[o])}},fixUpContinuousNodeArray:function(t,e){if(t.length){for(e=8===e.nodeType&&e.parentNode||e;t.length&&t[0].parentNode!==e;)t.splice(0,1);for(;t.length>1&&t[t.length-1].parentNode!==e;)t.length--;if(t.length>1){var n=t[0],i=t[t.length-1];for(t.length=0;n!==i;)t.push(n),n=n.nextSibling;t.push(i)}}return t},setOptionNodeSelectionState:function(t,e){g<7?t.setAttribute("selected",e):t.selected=e},stringTrim:function(t){return null===t||t===a?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(t,e){return t=t||"",!(e.length>t.length)&&t.substring(0,e.length)===e},domNodeIsContainedBy:function(t,e){if(t===e)return!0;if(11===t.nodeType)return!1;if(e.contains)return e.contains(3===t.nodeType?t.parentNode:t);if(e.compareDocumentPosition)return 16==(16&e.compareDocumentPosition(t));for(;t&&t!=e;)t=t.parentNode;return!!t},domNodeIsAttachedToDocument:function(t){return y.utils.domNodeIsContainedBy(t,t.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(t){return!!y.utils.arrayFirst(t,y.utils.domNodeIsAttachedToDocument)},tagNameLower:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},catchFunctionErrors:function(t){return y.onError?function(){try{return t.apply(this,arguments)}catch(t){throw y.onError&&y.onError(t),t}}:t},setTimeout:function(t,e){return setTimeout(y.utils.catchFunctionErrors(t),e)},deferError:function(t){setTimeout(function(){throw y.onError&&y.onError(t),t},0)},registerEventHandler:function(t,e,n){var i=y.utils.catchFunctionErrors(n),r=g&&v[e];if(y.options.useOnlyNativeEvents||r||!u)if(r||"function"!=typeof t.addEventListener){if(void 0===t.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");var o=function(e){i.call(t,e)},a="on"+e;t.attachEvent(a,o),y.utils.domNodeDisposal.addDisposeCallback(t,function(){t.detachEvent(a,o)})}else t.addEventListener(e,i,!1);else u(t).bind(e,i)},triggerEvent:function(t,e){if(!t||!t.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var n=i(t,e);if(y.options.useOnlyNativeEvents||!u||n)if("function"==typeof h.createEvent){if("function"!=typeof t.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var r=p[e]||"HTMLEvents",o=h.createEvent(r);o.initEvent(e,!0,!0,s,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(o)}else if(n&&t.click)t.click();else{if(void 0===t.fireEvent)throw new Error("Browser doesn't support triggering events");t.fireEvent("on"+e)}else u(t).trigger(e)},unwrapObservable:function(t){return y.isObservable(t)?t():t},peekObservable:function(t){return y.isObservable(t)?t.peek():t},toggleDomNodeCssClass:r,setTextContent:function(t,e){var n=y.utils.unwrapObservable(e);null!==n&&n!==a||(n="");var i=y.virtualElements.firstChild(t);!i||3!=i.nodeType||y.virtualElements.nextSibling(i)?y.virtualElements.setDomNodeChildren(t,[t.ownerDocument.createTextNode(n)]):i.data=n,y.utils.forceRefresh(t)},setElementName:function(t,e){if(t.name=e,g<=7)try{t.mergeAttributes(h.createElement("<input name='"+t.name+"'/>"),!1)}catch(t){}},forceRefresh:function(t){if(g>=9){var e=1==t.nodeType?t:t.parentNode;e.style&&(e.style.zoom=e.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(t){if(g){var e=t.style.width;t.style.width=0,t.style.width=e}},range:function(t,e){t=y.utils.unwrapObservable(t),e=y.utils.unwrapObservable(e);for(var n=[],i=t;i<=e;i++)n.push(i);return n},makeArray:function(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(t[n]);return e},createSymbolOrString:function(t){return t},isIe6:m,isIe7:b,ieVersion:g,getFormFields:function(t,e){for(var n=y.utils.makeArray(t.getElementsByTagName("input")).concat(y.utils.makeArray(t.getElementsByTagName("textarea"))),i="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},r=[],o=n.length-1;o>=0;o--)i(n[o])&&r.push(n[o]);return r},parseJson:function(t){return"string"==typeof t&&(t=y.utils.stringTrim(t))?c&&c.parse?c.parse(t):new Function("return "+t)():null},stringifyJson:function(t,e,n){if(!c||!c.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return c.stringify(y.utils.unwrapObservable(t),e,n)},postJson:function(e,n,i){i=i||{};var r=i.params||{},o=i.includeFields||this.fieldsIncludedWithJsonPost,a=e;if("object"==typeof e&&"form"===y.utils.tagNameLower(e)){var s=e;a=s.action;for(var l=o.length-1;l>=0;l--)for(var u=y.utils.getFormFields(s,o[l]),c=u.length-1;c>=0;c--)r[u[c].name]=u[c].value}n=y.utils.unwrapObservable(n);var f=h.createElement("form");f.style.display="none",f.action=a,f.method="post";for(var d in n){var p=h.createElement("input");p.type="hidden",p.name=d,p.value=y.utils.stringifyJson(y.utils.unwrapObservable(n[d])),f.appendChild(p)}t(r,function(t,e){var n=h.createElement("input");n.type="hidden",n.name=t,n.value=e,f.appendChild(n)}),h.body.appendChild(f),i.submitter?i.submitter(f):f.submit(),setTimeout(function(){f.parentNode.removeChild(f)},0)}}}(),y.exportSymbol("utils",y.utils),y.exportSymbol("utils.arrayForEach",y.utils.arrayForEach),y.exportSymbol("utils.arrayFirst",y.utils.arrayFirst),y.exportSymbol("utils.arrayFilter",y.utils.arrayFilter),y.exportSymbol("utils.arrayGetDistinctValues",y.utils.arrayGetDistinctValues),y.exportSymbol("utils.arrayIndexOf",y.utils.arrayIndexOf),y.exportSymbol("utils.arrayMap",y.utils.arrayMap),y.exportSymbol("utils.arrayPushAll",y.utils.arrayPushAll),y.exportSymbol("utils.arrayRemoveItem",y.utils.arrayRemoveItem),y.exportSymbol("utils.extend",y.utils.extend),y.exportSymbol("utils.fieldsIncludedWithJsonPost",y.utils.fieldsIncludedWithJsonPost),y.exportSymbol("utils.getFormFields",y.utils.getFormFields),y.exportSymbol("utils.peekObservable",y.utils.peekObservable),y.exportSymbol("utils.postJson",y.utils.postJson),y.exportSymbol("utils.parseJson",y.utils.parseJson),y.exportSymbol("utils.registerEventHandler",y.utils.registerEventHandler),y.exportSymbol("utils.stringifyJson",y.utils.stringifyJson),y.exportSymbol("utils.range",y.utils.range),y.exportSymbol("utils.toggleDomNodeCssClass",y.utils.toggleDomNodeCssClass),y.exportSymbol("utils.triggerEvent",y.utils.triggerEvent),y.exportSymbol("utils.unwrapObservable",y.utils.unwrapObservable),y.exportSymbol("utils.objectForEach",y.utils.objectForEach),y.exportSymbol("utils.addOrRemoveItem",y.utils.addOrRemoveItem),y.exportSymbol("utils.setTextContent",y.utils.setTextContent),y.exportSymbol("unwrap",y.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if(1===arguments.length)return function(){return e.apply(t,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice(0);return i.push.apply(i,arguments),e.apply(t,i)}}),y.utils.domData=new function(){function t(t,r){var o=t[n];if(!o||"null"===o||!i[o]){if(!r)return a;o=t[n]="ko"+e++,i[o]={}}return i[o]}var e=0,n="__ko__"+(new Date).getTime(),i={};return{get:function(e,n){var i=t(e,!1);return i===a?a:i[n]},set:function(e,n,i){if(i!==a||t(e,!1)!==a){t(e,!0)[n]=i}},clear:function(t){var e=t[n];return!!e&&(delete i[e],t[n]=null,!0)},nextKey:function(){return e+++n}}},y.exportSymbol("utils.domData",y.utils.domData),y.exportSymbol("utils.domData.clear",y.utils.domData.clear),y.utils.domNodeDisposal=new function(){function t(t,e){var n=y.utils.domData.get(t,r);return n===a&&e&&(n=[],y.utils.domData.set(t,r,n)),n}function e(t){y.utils.domData.set(t,r,a)}function n(e){var n=t(e,!1);if(n){n=n.slice(0);for(var r=0;r<n.length;r++)n[r](e)}y.utils.domData.clear(e),y.utils.domNodeDisposal.cleanExternalData(e),s[e.nodeType]&&i(e)}function i(t){for(var e,i=t.firstChild;e=i;)i=e.nextSibling,8===e.nodeType&&n(e)}var r=y.utils.domData.nextKey(),o={1:!0,8:!0,9:!0},s={1:!0,9:!0};return{addDisposeCallback:function(e,n){if("function"!=typeof n)throw new Error("Callback must be a function");t(e,!0).push(n)},removeDisposeCallback:function(n,i){var r=t(n,!1);r&&(y.utils.arrayRemoveItem(r,i),0==r.length&&e(n))},cleanNode:function(t){if(o[t.nodeType]&&(n(t),s[t.nodeType])){var e=[];y.utils.arrayPushAll(e,t.getElementsByTagName("*"));for(var i=0,r=e.length;i<r;i++)n(e[i])}return t},removeNode:function(t){y.cleanNode(t),t.parentNode&&t.parentNode.removeChild(t)},cleanExternalData:function(t){u&&"function"==typeof u.cleanData&&u.cleanData([t])}}},y.cleanNode=y.utils.domNodeDisposal.cleanNode,y.removeNode=y.utils.domNodeDisposal.removeNode,y.exportSymbol("cleanNode",y.cleanNode),y.exportSymbol("removeNode",y.removeNode),y.exportSymbol("utils.domNodeDisposal",y.utils.domNodeDisposal),y.exportSymbol("utils.domNodeDisposal.addDisposeCallback",y.utils.domNodeDisposal.addDisposeCallback),y.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",y.utils.domNodeDisposal.removeDisposeCallback),function(){function t(t){var e=t.match(/^<([a-z]+)[ >]/);return e&&f[e[1]]||i}function e(e,n){n||(n=h);var i=n.parentWindow||n.defaultView||s,r=y.utils.stringTrim(e).toLowerCase(),o=n.createElement("div"),a=t(r),l=a[0],u="ignored<div>"+a[1]+e+a[2]+"</div>";for("function"==typeof i.innerShiv?o.appendChild(i.innerShiv(u)):(d&&n.appendChild(o),o.innerHTML=u,d&&o.parentNode.removeChild(o));l--;)o=o.lastChild;return y.utils.makeArray(o.lastChild.childNodes)}function n(t,e){if(u.parseHTML)return u.parseHTML(t,e)||[];var n=u.clean([t],e);if(n&&n[0]){for(var i=n[0];i.parentNode&&11!==i.parentNode.nodeType;)i=i.parentNode;i.parentNode&&i.parentNode.removeChild(i)}return n}var i=[0,"",""],r=[1,"<table>","</table>"],o=[2,"<table><tbody>","</tbody></table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,"<select multiple='multiple'>","</select>"],f={thead:r,tbody:r,tfoot:r,tr:o,td:l,th:l,option:c,optgroup:c},d=y.utils.ieVersion<=8;y.utils.parseHtmlFragment=function(t,i){return u?n(t,i):e(t,i)},y.utils.setHtml=function(t,e){if(y.utils.emptyDomNode(t),null!==(e=y.utils.unwrapObservable(e))&&e!==a)if("string"!=typeof e&&(e=e.toString()),u)u(t).html(e);else for(var n=y.utils.parseHtmlFragment(e,t.ownerDocument),i=0;i<n.length;i++)t.appendChild(n[i])}}(),y.exportSymbol("utils.parseHtmlFragment",y.utils.parseHtmlFragment),y.exportSymbol("utils.setHtml",y.utils.setHtml),y.memoization=function(){function t(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function e(){return t()+t()}function n(t,e){if(t)if(8==t.nodeType){var i=y.memoization.parseMemoText(t.nodeValue);null!=i&&e.push({domNode:t,memoId:i})}else if(1==t.nodeType)for(var r=0,o=t.childNodes,a=o.length;r<a;r++)n(o[r],e)}var i={};return{memoize:function(t){if("function"!=typeof t)throw new Error("You can only pass a function to ko.memoization.memoize()");var n=e();return i[n]=t,"<!--[ko_memo:"+n+"]-->"},unmemoize:function(t,e){var n=i[t];if(n===a)throw new Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return n.apply(null,e||[]),!0}finally{delete i[t]}},unmemoizeDomNodeAndDescendants:function(t,e){var i=[];n(t,i);for(var r=0,o=i.length;r<o;r++){var a=i[r].domNode,s=[a];e&&y.utils.arrayPushAll(s,e),y.memoization.unmemoize(i[r].memoId,s),a.nodeValue="",a.parentNode&&a.parentNode.removeChild(a)}},parseMemoText:function(t){var e=t.match(/^\[ko_memo\:(.*?)\]$/);return e?e[1]:null}}}(),y.exportSymbol("memoization",y.memoization),y.exportSymbol("memoization.memoize",y.memoization.memoize),y.exportSymbol("memoization.unmemoize",y.memoization.unmemoize),y.exportSymbol("memoization.parseMemoText",y.memoization.parseMemoText),y.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",y.memoization.unmemoizeDomNodeAndDescendants),y.tasks=function(){function t(){if(o)for(var t,e=o,n=0;l<o;)if(t=r[l++]){if(l>e){if(++n>=5e3){l=o,y.utils.deferError(Error("'Too much recursion' after processing "+n+" task groups."));break}e=o}try{t()}catch(t){y.utils.deferError(t)}}}function e(){t(),l=o=r.length=0}function n(){y.tasks.scheduler(e)}var i,r=[],o=0,a=1,l=0;return i=s.MutationObserver?function(t){var e=h.createElement("div");return new MutationObserver(t).observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}}(e):h&&"onreadystatechange"in h.createElement("script")?function(t){var e=h.createElement("script");e.onreadystatechange=function(){e.onreadystatechange=null,h.documentElement.removeChild(e),e=null,t()},h.documentElement.appendChild(e)}:function(t){setTimeout(t,0)},{scheduler:i,schedule:function(t){return o||n(),r[o++]=t,a++},cancel:function(t){var e=t-(a-o);e>=l&&e<o&&(r[e]=null)},resetForTesting:function(){var t=o-l;return l=o=r.length=0,t},runEarly:t}}(),y.exportSymbol("tasks",y.tasks),y.exportSymbol("tasks.schedule",y.tasks.schedule),y.exportSymbol("tasks.runEarly",y.tasks.runEarly),y.extenders={throttle:function(t,e){t.throttleEvaluation=e;var n=null;return y.dependentObservable({read:t,write:function(i){clearTimeout(n),n=y.utils.setTimeout(function(){t(i)},e)}})},rateLimit:function(t,e){var n,o,a;"number"==typeof e?n=e:(n=e.timeout,o=e.method),t._deferUpdates=!1,a="notifyWhenChangesStop"==o?r:i,t.limit(function(t){return a(t,n)})},deferred:function(t,e){if(e!==!0)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");t._deferUpdates||(t._deferUpdates=!0,t.limit(function(e){var n,i=!1;return function(){if(!i){y.tasks.cancel(n),n=y.tasks.schedule(e);try{i=!0,t.notifySubscribers(a,"dirty")}finally{i=!1}}}}))},notify:function(t,e){t.equalityComparer="always"==e?null:n}};var g={undefined:1,boolean:1,number:1,string:1};y.exportSymbol("extenders",y.extenders),y.subscription=function(t,e,n){this._target=t,this.callback=e,this.disposeCallback=n,this.isDisposed=!1,y.exportProperty(this,"dispose",this.dispose)},y.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},y.subscribable=function(){y.utils.setPrototypeOfOrExtend(this,b),b.init(this)};var m="change",b={init:function(t){t._subscriptions={change:[]},t._versionNumber=1},subscribe:function(t,e,n){var i=this;n=n||m;var r=e?t.bind(e):t,o=new y.subscription(i,r,function(){y.utils.arrayRemoveItem(i._subscriptions[n],o),i.afterSubscriptionRemove&&i.afterSubscriptionRemove(n)});return i.beforeSubscriptionAdd&&i.beforeSubscriptionAdd(n),i._subscriptions[n]||(i._subscriptions[n]=[]),i._subscriptions[n].push(o),o},notifySubscribers:function(t,e){if(e=e||m,e===m&&this.updateVersion(),this.hasSubscriptionsForEvent(e)){var n=e===m&&this._changeSubscriptions||this._subscriptions[e].slice(0);try{y.dependencyDetection.begin();for(var i,r=0;i=n[r];++r)i.isDisposed||i.callback(t)}finally{y.dependencyDetection.end()}}},getVersion:function(){return this._versionNumber},hasChanged:function(t){return this.getVersion()!==t},updateVersion:function(){++this._versionNumber},limit:function(t){var e,n,i,r,o=this,a=y.isObservable(o);o._origNotifySubscribers||(o._origNotifySubscribers=o.notifySubscribers,o.notifySubscribers=f);var s=t(function(){o._notificationIsPending=!1,a&&r===o&&(r=o._evalIfChanged?o._evalIfChanged():o());var t=n||o.isDifferent(i,r);n=e=!1,t&&o._origNotifySubscribers(i=r)});o._limitChange=function(t){o._changeSubscriptions=o._subscriptions[m].slice(0),o._notificationIsPending=e=!0,r=t,s()},o._limitBeforeChange=function(t){e||(i=t,o._origNotifySubscribers(t,"beforeChange"))},o._notifyNextChangeIfValueIsDifferent=function(){o.isDifferent(i,o.peek(!0))&&(n=!0)}},hasSubscriptionsForEvent:function(t){return this._subscriptions[t]&&this._subscriptions[t].length},getSubscriptionsCount:function(t){if(t)return this._subscriptions[t]&&this._subscriptions[t].length||0;var e=0;return y.utils.objectForEach(this._subscriptions,function(t,n){"dirty"!==t&&(e+=n.length)}),e},isDifferent:function(t,e){return!this.equalityComparer||!this.equalityComparer(t,e)},extend:o};y.exportProperty(b,"subscribe",b.subscribe),y.exportProperty(b,"extend",b.extend),y.exportProperty(b,"getSubscriptionsCount",b.getSubscriptionsCount),y.utils.canSetPrototype&&y.utils.setPrototypeOf(b,Function.prototype),y.subscribable.fn=b,y.isSubscribable=function(t){return null!=t&&"function"==typeof t.subscribe&&"function"==typeof t.notifySubscribers},y.exportSymbol("subscribable",y.subscribable),y.exportSymbol("isSubscribable",y.isSubscribable),y.computedContext=y.dependencyDetection=function(){function t(){return++o}function e(t){r.push(i),i=t}function n(){i=r.pop()}var i,r=[],o=0;return{begin:e,end:n,registerDependency:function(e){if(i){if(!y.isSubscribable(e))throw new Error("Only subscribable things can act as dependencies");i.callback.call(i.callbackTarget,e,e._id||(e._id=t()))}},ignore:function(t,i,r){try{return e(),t.apply(i,r||[])}finally{n()}},getDependenciesCount:function(){if(i)return i.computed.getDependenciesCount()},isInitial:function(){if(i)return i.isInitial}}}(),y.exportSymbol("computedContext",y.computedContext),y.exportSymbol("computedContext.getDependenciesCount",y.computedContext.getDependenciesCount),y.exportSymbol("computedContext.isInitial",y.computedContext.isInitial),y.exportSymbol("ignoreDependencies",y.ignoreDependencies=y.dependencyDetection.ignore);var w=y.utils.createSymbolOrString("_latestValue");y.observable=function(t){function e(){return arguments.length>0?(e.isDifferent(e[w],arguments[0])&&(e.valueWillMutate(),e[w]=arguments[0],e.valueHasMutated()),this):(y.dependencyDetection.registerDependency(e),e[w])}return e[w]=t,y.utils.canSetPrototype||y.utils.extend(e,y.subscribable.fn),y.subscribable.fn.init(e),y.utils.setPrototypeOfOrExtend(e,x),y.options.deferUpdates&&y.extenders.deferred(e,!0),e};var x={equalityComparer:n,peek:function(){return this[w]},valueHasMutated:function(){this.notifySubscribers(this[w])},valueWillMutate:function(){this.notifySubscribers(this[w],"beforeChange")}};y.utils.canSetPrototype&&y.utils.setPrototypeOf(x,y.subscribable.fn);var k=y.observable.protoProperty="__ko_proto__";x[k]=y.observable,y.hasPrototype=function(t,e){return null!==t&&t!==a&&t[k]!==a&&(t[k]===e||y.hasPrototype(t[k],e))},y.isObservable=function(t){return y.hasPrototype(t,y.observable)},y.isWriteableObservable=function(t){return"function"==typeof t&&t[k]===y.observable||!("function"!=typeof t||t[k]!==y.dependentObservable||!t.hasWriteFunction)},y.exportSymbol("observable",y.observable),y.exportSymbol("isObservable",y.isObservable),y.exportSymbol("isWriteableObservable",y.isWriteableObservable),y.exportSymbol("isWritableObservable",y.isWriteableObservable),y.exportSymbol("observable.fn",x),y.exportProperty(x,"peek",x.peek),y.exportProperty(x,"valueHasMutated",x.valueHasMutated),y.exportProperty(x,"valueWillMutate",x.valueWillMutate),y.observableArray=function(t){if("object"!=typeof(t=t||[])||!("length"in t))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var e=y.observable(t);return y.utils.setPrototypeOfOrExtend(e,y.observableArray.fn),e.extend({trackArrayChanges:!0})},y.observableArray.fn={remove:function(t){for(var e=this.peek(),n=[],i="function"!=typeof t||y.isObservable(t)?function(e){return e===t}:t,r=0;r<e.length;r++){var o=e[r];i(o)&&(0===n.length&&this.valueWillMutate(),n.push(o),e.splice(r,1),r--)}return n.length&&this.valueHasMutated(),n},removeAll:function(t){if(t===a){var e=this.peek(),n=e.slice(0);return this.valueWillMutate(),e.splice(0,e.length),this.valueHasMutated(),n}return t?this.remove(function(e){return y.utils.arrayIndexOf(t,e)>=0}):[]},destroy:function(t){var e=this.peek(),n="function"!=typeof t||y.isObservable(t)?function(e){return e===t}:t;this.valueWillMutate();for(var i=e.length-1;i>=0;i--){n(e[i])&&(e[i]._destroy=!0)}this.valueHasMutated()},destroyAll:function(t){return t===a?this.destroy(function(){return!0}):t?this.destroy(function(e){return y.utils.arrayIndexOf(t,e)>=0}):[]},indexOf:function(t){var e=this();return y.utils.arrayIndexOf(e,t)},replace:function(t,e){var n=this.indexOf(t);n>=0&&(this.valueWillMutate(),this.peek()[n]=e,this.valueHasMutated())}},y.utils.canSetPrototype&&y.utils.setPrototypeOf(y.observableArray.fn,y.observable.fn),y.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(t){y.observableArray.fn[t]=function(){var e=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(e,t,arguments);var n=e[t].apply(e,arguments);return this.valueHasMutated(),n===e?this:n}}),y.utils.arrayForEach(["slice"],function(t){y.observableArray.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),y.exportSymbol("observableArray",y.observableArray);var T="arrayChange";y.extenders.trackArrayChanges=function(t,e){function n(){if(!s){s=!0,o=t.notifySubscribers,t.notifySubscribers=function(t,e){return e&&e!==m||++l,o.apply(this,arguments)};var e=[].concat(t.peek()||[]);h=null,r=t.subscribe(function(n){if(n=[].concat(n||[]),t.hasSubscriptionsForEvent(T))var r=i(e,n);e=n,h=null,l=0,r&&r.length&&t.notifySubscribers(r,T)})}}function i(e,n){return(!h||l>1)&&(h=y.utils.compareArrays(e,n,t.compareArrayOptions)),h}if(t.compareArrayOptions={},e&&"object"==typeof e&&y.utils.extend(t.compareArrayOptions,e),t.compareArrayOptions.sparse=!0,!t.cacheDiffForKnownOperation){var r,o,s=!1,h=null,l=0,u=t.beforeSubscriptionAdd,c=t.afterSubscriptionRemove;t.beforeSubscriptionAdd=function(e){u&&u.call(t,e),e===T&&n()},t.afterSubscriptionRemove=function(e){c&&c.call(t,e),e!==T||t.hasSubscriptionsForEvent(T)||(o&&(t.notifySubscribers=o,o=a),r.dispose(),s=!1)},t.cacheDiffForKnownOperation=function(t,e,n){function i(t,e,n){return r[r.length]={status:t,value:e,index:n}}if(s&&!l){var r=[],o=t.length,a=n.length,u=0;switch(e){case"push":u=o;case"unshift":for(var c=0;c<a;c++)i("added",n[c],u+c);break;case"pop":u=o-1;case"shift":o&&i("deleted",t[u],u);break;case"splice":for(var f=Math.min(Math.max(0,n[0]<0?o+n[0]:n[0]),o),d=1===a?o:Math.min(f+(n[1]||0),o),p=f+a-2,v=Math.max(d,p),g=[],m=[],c=f,b=2;c<v;++c,++b)c<d&&m.push(i("deleted",t[c],c)),c<p&&g.push(i("added",n[b],c));y.utils.findMovesInArrayComparison(m,g);break;default:return}h=r}}}};var S=y.utils.createSymbolOrString("_state");y.computed=y.dependentObservable=function(t,e,n){function i(){if(arguments.length>0){if("function"!=typeof r)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return r.apply(o.evaluatorFunctionTarget,arguments),this}return y.dependencyDetection.registerDependency(i),(o.isDirty||o.isSleeping&&i.haveDependenciesChanged())&&i.evaluateImmediate(),o.latestValue}if("object"==typeof t?n=t:(n=n||{},t&&(n.read=t)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var r=n.write,o={latestValue:a,isStale:!0,isDirty:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:n.read,evaluatorFunctionTarget:e||n.owner,disposeWhenNodeIsRemoved:n.disposeWhenNodeIsRemoved||n.disposeWhenNodeIsRemoved||null,disposeWhen:n.disposeWhen||n.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return i[S]=o,i.hasWriteFunction="function"==typeof r,y.utils.canSetPrototype||y.utils.extend(i,y.subscribable.fn),y.subscribable.fn.init(i),y.utils.setPrototypeOfOrExtend(i,M),n.pure?(o.pure=!0,o.isSleeping=!0,y.utils.extend(i,P)):n.deferEvaluation&&y.utils.extend(i,C),y.options.deferUpdates&&y.extenders.deferred(i,!0),i._options=n,o.disposeWhenNodeIsRemoved&&(o.suppressDisposalUntilDisposeWhenReturnsFalse=!0,o.disposeWhenNodeIsRemoved.nodeType||(o.disposeWhenNodeIsRemoved=null)),o.isSleeping||n.deferEvaluation||i.evaluateImmediate(),o.disposeWhenNodeIsRemoved&&i.isActive()&&y.utils.domNodeDisposal.addDisposeCallback(o.disposeWhenNodeIsRemoved,o.domNodeDisposalCallback=function(){i.dispose()}),i};var M={equalityComparer:n,getDependenciesCount:function(){return this[S].dependenciesCount},addDependencyTracking:function(t,e,n){if(this[S].pure&&e===this)throw Error("A 'pure' computed must not be called recursively");this[S].dependencyTracking[t]=n,n._order=this[S].dependenciesCount++,n._version=e.getVersion()},haveDependenciesChanged:function(){var t,e,n=this[S].dependencyTracking;for(t in n)if(n.hasOwnProperty(t)&&(e=n[t],this._evalDelayed&&e._target._notificationIsPending||e._target.hasChanged(e._version)))return!0},markDirty:function(){this._evalDelayed&&!this[S].isBeingEvaluated&&this._evalDelayed(!1)},isActive:function(){var t=this[S];return t.isDirty||t.dependenciesCount>0},respondToChange:function(){this._notificationIsPending?this[S].isDirty&&(this[S].isStale=!0):this.evaluatePossiblyAsync()},subscribeToDependency:function(t){if(t._deferUpdates&&!this[S].disposeWhenNodeIsRemoved){var e=t.subscribe(this.markDirty,this,"dirty"),n=t.subscribe(this.respondToChange,this);return{_target:t,dispose:function(){e.dispose(),n.dispose()}}}return t.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var t=this,e=t.throttleEvaluation;e&&e>=0?(clearTimeout(this[S].evaluationTimeoutInstance),this[S].evaluationTimeoutInstance=y.utils.setTimeout(function(){t.evaluateImmediate(!0)},e)):t._evalDelayed?t._evalDelayed(!0):t.evaluateImmediate(!0)},evaluateImmediate:function(t){var e=this,n=e[S],i=n.disposeWhen,r=!1;if(!n.isBeingEvaluated&&!n.isDisposed){if(n.disposeWhenNodeIsRemoved&&!y.utils.domNodeIsAttachedToDocument(n.disposeWhenNodeIsRemoved)||i&&i()){if(!n.suppressDisposalUntilDisposeWhenReturnsFalse)return void e.dispose()}else n.suppressDisposalUntilDisposeWhenReturnsFalse=!1;n.isBeingEvaluated=!0;try{r=this.evaluateImmediate_CallReadWithDependencyDetection(t)}finally{n.isBeingEvaluated=!1}return n.dependenciesCount||e.dispose(),r}},evaluateImmediate_CallReadWithDependencyDetection:function(t){var e=this,n=e[S],i=!1,r=n.pure?a:!n.dependenciesCount,o={computedObservable:e,disposalCandidates:n.dependencyTracking,disposalCount:n.dependenciesCount};y.dependencyDetection.begin({callbackTarget:o,callback:p,computed:e,isInitial:r}),n.dependencyTracking={},n.dependenciesCount=0;var s=this.evaluateImmediate_CallReadThenEndDependencyDetection(n,o);return e.isDifferent(n.latestValue,s)&&(n.isSleeping||e.notifySubscribers(n.latestValue,"beforeChange"),n.latestValue=s,e._latestValue=s,n.isSleeping?e.updateVersion():t&&e.notifySubscribers(n.latestValue),i=!0),r&&e.notifySubscribers(n.latestValue,"awake"),i},evaluateImmediate_CallReadThenEndDependencyDetection:function(t,e){try{var n=t.readFunction;return t.evaluatorFunctionTarget?n.call(t.evaluatorFunctionTarget):n()}finally{y.dependencyDetection.end(),e.disposalCount&&!t.isSleeping&&y.utils.objectForEach(e.disposalCandidates,d),t.isStale=t.isDirty=!1}},peek:function(t){var e=this[S];return(e.isDirty&&(t||!e.dependenciesCount)||e.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),e.latestValue},limit:function(t){y.subscribable.fn.limit.call(this,t),this._evalIfChanged=function(){return this[S].isStale?this.evaluateImmediate():this[S].isDirty=!1,this[S].latestValue},this._evalDelayed=function(t){this._limitBeforeChange(this[S].latestValue),this[S].isDirty=!0,t&&(this[S].isStale=!0),this._limitChange(this)}},dispose:function(){var t=this[S];!t.isSleeping&&t.dependencyTracking&&y.utils.objectForEach(t.dependencyTracking,function(t,e){e.dispose&&e.dispose()}),t.disposeWhenNodeIsRemoved&&t.domNodeDisposalCallback&&y.utils.domNodeDisposal.removeDisposeCallback(t.disposeWhenNodeIsRemoved,t.domNodeDisposalCallback),t.dependencyTracking=null,t.dependenciesCount=0,t.isDisposed=!0,t.isStale=!1,t.isDirty=!1,t.isSleeping=!1,t.disposeWhenNodeIsRemoved=null}},P={beforeSubscriptionAdd:function(t){var e=this,n=e[S];if(!n.isDisposed&&n.isSleeping&&"change"==t){if(n.isSleeping=!1,n.isStale||e.haveDependenciesChanged())n.dependencyTracking=null,n.dependenciesCount=0,e.evaluateImmediate()&&e.updateVersion();else{var i=[];y.utils.objectForEach(n.dependencyTracking,function(t,e){i[e._order]=t}),y.utils.arrayForEach(i,function(t,i){var r=n.dependencyTracking[t],o=e.subscribeToDependency(r._target);o._order=i,o._version=r._version,n.dependencyTracking[t]=o})}n.isDisposed||e.notifySubscribers(n.latestValue,"awake")}},afterSubscriptionRemove:function(t){var e=this[S];e.isDisposed||"change"!=t||this.hasSubscriptionsForEvent("change")||(y.utils.objectForEach(e.dependencyTracking,function(t,n){n.dispose&&(e.dependencyTracking[t]={_target:n._target,_order:n._order,_version:n._version},n.dispose())}),e.isSleeping=!0,this.notifySubscribers(a,"asleep"))},getVersion:function(){var t=this[S];return t.isSleeping&&(t.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),y.subscribable.fn.getVersion.call(this)}},C={beforeSubscriptionAdd:function(t){"change"!=t&&"beforeChange"!=t||this.peek()}};y.utils.canSetPrototype&&y.utils.setPrototypeOf(M,y.subscribable.fn);var N=y.observable.protoProperty;y.computed[N]=y.observable,M[N]=y.computed,y.isComputed=function(t){return y.hasPrototype(t,y.computed)},y.isPureComputed=function(t){return y.hasPrototype(t,y.computed)&&t[S]&&t[S].pure},y.exportSymbol("computed",y.computed),y.exportSymbol("dependentObservable",y.computed),y.exportSymbol("isComputed",y.isComputed),y.exportSymbol("isPureComputed",y.isPureComputed),y.exportSymbol("computed.fn",M),y.exportProperty(M,"peek",M.peek),y.exportProperty(M,"dispose",M.dispose),y.exportProperty(M,"isActive",M.isActive),y.exportProperty(M,"getDependenciesCount",M.getDependenciesCount),y.pureComputed=function(t,e){return"function"==typeof t?y.computed(t,e,{pure:!0}):(t=y.utils.extend({},t),t.pure=!0,y.computed(t,e))},y.exportSymbol("pureComputed",y.pureComputed),function(){function t(i,r,o){if(o=o||new n,!!("object"!=typeof(i=r(i))||null===i||i===a||i instanceof RegExp||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean))return i;var s=i instanceof Array?[]:{};return o.save(i,s),e(i,function(e){var n=r(i[e]);switch(typeof n){case"boolean":case"number":case"string":case"function":s[e]=n;break;case"object":case"undefined":var h=o.get(n);s[e]=h!==a?h:t(n,r,o)}}),s}function e(t,e){if(t instanceof Array){for(var n=0;n<t.length;n++)e(n);"function"==typeof t.toJSON&&e("toJSON")}else for(var i in t)e(i)}function n(){this.keys=[],this.values=[]}y.toJS=function(e){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return t(e,function(t){for(var e=0;y.isObservable(t)&&e<10;e++)t=t();return t})},y.toJSON=function(t,e,n){var i=y.toJS(t);return y.utils.stringifyJson(i,e,n)},n.prototype={constructor:n,save:function(t,e){var n=y.utils.arrayIndexOf(this.keys,t);n>=0?this.values[n]=e:(this.keys.push(t),this.values.push(e))},get:function(t){var e=y.utils.arrayIndexOf(this.keys,t);return e>=0?this.values[e]:a}}}(),y.exportSymbol("toJS",y.toJS),y.exportSymbol("toJSON",y.toJSON),function(){y.selectExtensions={readValue:function(t){switch(y.utils.tagNameLower(t)){case"option":return t.__ko__hasDomDataOptionValue__===!0?y.utils.domData.get(t,y.bindingHandlers.options.optionValueDomDataKey):y.utils.ieVersion<=7?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return t.selectedIndex>=0?y.selectExtensions.readValue(t.options[t.selectedIndex]):a;default:return t.value}},writeValue:function(t,e,n){switch(y.utils.tagNameLower(t)){case"option":switch(typeof e){case"string":y.utils.domData.set(t,y.bindingHandlers.options.optionValueDomDataKey,a),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=e;break;default:y.utils.domData.set(t,y.bindingHandlers.options.optionValueDomDataKey,e),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof e?e:""}break;case"select":""!==e&&null!==e||(e=a);for(var i,r=-1,o=0,s=t.options.length;o<s;++o)if((i=y.selectExtensions.readValue(t.options[o]))==e||""==i&&e===a){r=o;break}(n||r>=0||e===a&&t.size>1)&&(t.selectedIndex=r);break;default:null!==e&&e!==a||(e=""),t.value=e}}}}(),y.exportSymbol("selectExtensions",y.selectExtensions),y.exportSymbol("selectExtensions.readValue",y.selectExtensions.readValue),y.exportSymbol("selectExtensions.writeValue",y.selectExtensions.writeValue),y.expressionRewriting=function(){function t(t){if(y.utils.arrayIndexOf(i,t)>=0)return!1;var e=t.match(r);return null!==e&&(e[1]?"Object("+e[1]+")"+e[2]:t)}function e(t){var e=y.utils.stringTrim(t);123===e.charCodeAt(0)&&(e=e.slice(1,-1));var n,i=[],r=e.match(o),h=[],l=0;if(r){r.push(",");for(var u,c=0;u=r[c];++c){var f=u.charCodeAt(0);if(44===f){if(l<=0){i.push(n&&h.length?{key:n,value:h.join("")}:{unknown:n||h.join("")}),n=l=0,h=[];continue}}else if(58===f){if(!l&&!n&&1===h.length){n=h.pop();continue}}else if(47===f&&c&&u.length>1){var d=r[c-1].match(a);d&&!s[d[0]]&&(e=e.substr(e.indexOf(u)+1),r=e.match(o),r.push(","),c=-1,u="/")}else 40===f||123===f||91===f?++l:41===f||125===f||93===f?--l:n||h.length||34!==f&&39!==f||(u=u.slice(1,-1));h.push(u)}}return i}function n(n,i){function r(e,n){var i;if(!l){if(!function(t){return!t||!t.preprocess||(n=t.preprocess(n,e,r))}(y.getBindingHandler(e)))return;h[e]&&(i=t(n))&&a.push("'"+e+"':function(_z){"+i+"=_z}")}s&&(n="function(){return "+n+" }"),o.push("'"+e+"':"+n)}i=i||{};var o=[],a=[],s=i.valueAccessors,l=i.bindingParams,u="string"==typeof n?e(n):n;return y.utils.arrayForEach(u,function(t){r(t.key||t.unknown,t.value)}),a.length&&r("_ko_property_writers","{"+a.join(",")+" }"),o.join(",")}var i=["true","false","null","undefined"],r=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,o=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),a=/[\])"'A-Za-z0-9_$]+$/,s={in:1,return:1,typeof:1},h={};return{bindingRewriteValidators:[],twoWayBindings:h,parseObjectLiteral:e,preProcessBindings:n,keyValueArrayContainsKey:function(t,e){for(var n=0;n<t.length;n++)if(t[n].key==e)return!0;return!1},writeValueToProperty:function(t,e,n,i,r){if(t&&y.isObservable(t))!y.isWriteableObservable(t)||r&&t.peek()===i||t(i);else{var o=e.get("_ko_property_writers");o&&o[n]&&o[n](i)}}}}(),y.exportSymbol("expressionRewriting",y.expressionRewriting),y.exportSymbol("expressionRewriting.bindingRewriteValidators",y.expressionRewriting.bindingRewriteValidators),y.exportSymbol("expressionRewriting.parseObjectLiteral",y.expressionRewriting.parseObjectLiteral),y.exportSymbol("expressionRewriting.preProcessBindings",y.expressionRewriting.preProcessBindings),y.exportSymbol("expressionRewriting._twoWayBindings",y.expressionRewriting.twoWayBindings),y.exportSymbol("jsonExpressionRewriting",y.expressionRewriting),y.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",y.expressionRewriting.preProcessBindings),function(){function t(t){return 8==t.nodeType&&a.test(o?t.text:t.nodeValue)}function e(t){return 8==t.nodeType&&s.test(o?t.text:t.nodeValue)}function n(n,i){for(var r=n,o=1,a=[];r=r.nextSibling;){if(e(r)&&0===--o)return a;a.push(r),t(r)&&o++}if(!i)throw new Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(t,e){var i=n(t,e);return i?i.length>0?i[i.length-1].nextSibling:t.nextSibling:null}function r(n){var r=n.firstChild,o=null;if(r)do{if(o)o.push(r);else if(t(r)){var a=i(r,!0);a?r=a:o=[r]}else e(r)&&(o=[r])}while(r=r.nextSibling);return o}var o=h&&"<!--test-->"===h.createComment("test").text,a=o?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=o?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};y.virtualElements={allowedBindings:{},childNodes:function(e){return t(e)?n(e):e.childNodes},emptyNode:function(e){if(t(e))for(var n=y.virtualElements.childNodes(e),i=0,r=n.length;i<r;i++)y.removeNode(n[i]);else y.utils.emptyDomNode(e)},setDomNodeChildren:function(e,n){if(t(e)){y.virtualElements.emptyNode(e);for(var i=e.nextSibling,r=0,o=n.length;r<o;r++)i.parentNode.insertBefore(n[r],i)}else y.utils.setDomNodeChildren(e,n)},prepend:function(e,n){t(e)?e.parentNode.insertBefore(n,e.nextSibling):e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)},insertAfter:function(e,n,i){i?t(e)?e.parentNode.insertBefore(n,i.nextSibling):i.nextSibling?e.insertBefore(n,i.nextSibling):e.appendChild(n):y.virtualElements.prepend(e,n)},firstChild:function(n){return t(n)?!n.nextSibling||e(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return t(n)&&(n=i(n)),n.nextSibling&&e(n.nextSibling)?null:n.nextSibling},hasBindingValue:t,virtualNodeBindingValue:function(t){var e=(o?t.text:t.nodeValue).match(a);return e?e[1]:null},normaliseVirtualElementDomStructure:function(t){if(l[y.utils.tagNameLower(t)]){var e=t.firstChild;if(e)do{if(1===e.nodeType){var n=r(e);if(n)for(var i=e.nextSibling,o=0;o<n.length;o++)i?t.insertBefore(n[o],i):t.appendChild(n[o])}}while(e=e.nextSibling)}}}}(),y.exportSymbol("virtualElements",y.virtualElements),y.exportSymbol("virtualElements.allowedBindings",y.virtualElements.allowedBindings),y.exportSymbol("virtualElements.emptyNode",y.virtualElements.emptyNode),y.exportSymbol("virtualElements.insertAfter",y.virtualElements.insertAfter),y.exportSymbol("virtualElements.prepend",y.virtualElements.prepend),y.exportSymbol("virtualElements.setDomNodeChildren",y.virtualElements.setDomNodeChildren),function(){function t(t,n,i){var r=t+(i&&i.valueAccessors||"");return n[r]||(n[r]=e(t,i))}function e(t,e){var n=y.expressionRewriting.preProcessBindings(t,e),i="with($context){with($data||{}){return{"+n+"}}}";return new Function("$context","$element",i)}y.bindingProvider=function(){this.bindingCache={}},y.utils.extend(y.bindingProvider.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind")||y.components.getComponentNameForNode(t);case 8:return y.virtualElements.hasBindingValue(t);default:return!1}},getBindings:function(t,e){var n=this.getBindingsString(t,e),i=n?this.parseBindingsString(n,e,t):null;return y.components.addBindingsForCustomElement(i,t,e,!1)},getBindingAccessors:function(t,e){var n=this.getBindingsString(t,e),i=n?this.parseBindingsString(n,e,t,{valueAccessors:!0}):null;return y.components.addBindingsForCustomElement(i,t,e,!0)},getBindingsString:function(t,e){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return y.virtualElements.virtualNodeBindingValue(t);default:return null}},parseBindingsString:function(e,n,i,r){try{return t(e,this.bindingCache,r)(n,i)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),y.bindingProvider.instance=new y.bindingProvider}(),y.exportSymbol("bindingProvider",y.bindingProvider),function(){function t(t){return function(){return t}}function e(t){return t()}function n(t){return y.utils.objectMap(y.dependencyDetection.ignore(t),function(e,n){return function(){return t()[n]}})}function i(e,i,r){return"function"==typeof e?n(e.bind(null,i,r)):y.utils.objectMap(e,t)}function r(t,e){return n(this.getBindings.bind(this,t,e))}function o(t){if(!y.virtualElements.allowedBindings[t])throw new Error("The binding '"+t+"' cannot be used with virtual elements")}function h(t,e,n){var i,r=y.virtualElements.firstChild(e),o=y.bindingProvider.instance,a=o.preprocessNode;if(a){for(;i=r;)r=y.virtualElements.nextSibling(i),a.call(o,i);r=y.virtualElements.firstChild(e)}for(;i=r;)r=y.virtualElements.nextSibling(i),l(t,i,n)}function l(t,e,n){var i=!0,r=1===e.nodeType;r&&y.virtualElements.normaliseVirtualElementDomStructure(e),(r&&n||y.bindingProvider.instance.nodeHasBindings(e))&&(i=f(e,null,t,n).shouldBindDescendants),i&&!p[y.utils.tagNameLower(e)]&&h(t,e,!r)}function c(t){var e=[],n={},i=[];return y.utils.objectForEach(t,function r(o){if(!n[o]){var a=y.getBindingHandler(o);a&&(a.after&&(i.push(o),y.utils.arrayForEach(a.after,function(e){if(t[e]){if(y.utils.arrayIndexOf(i,e)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));r(e)}}),i.length--),e.push({key:o,handler:a})),n[o]=!0}}),e}function f(t,n,i,s){function h(){return y.utils.objectMap(p?p():u,e)}var l=y.utils.domData.get(t,v);if(!n){if(l)throw Error("You cannot apply bindings multiple times to the same element.");y.utils.domData.set(t,v,!0)}!l&&s&&y.storedBindingContextForNode(t,i);var u;if(n&&"function"!=typeof n)u=n;else{var f=y.bindingProvider.instance,d=f.getBindingAccessors||r,p=y.dependentObservable(function(){return u=n?n(i,t):d.call(f,t,i),u&&i._subscribable&&i._subscribable(),u},null,{disposeWhenNodeIsRemoved:t});u&&p.isActive()||(p=null)}var g;if(u){var m=p?function(t){return function(){return e(p()[t])}}:function(t){return u[t]};h.get=function(t){return u[t]&&e(m(t))},h.has=function(t){return t in u};var b=c(u);y.utils.arrayForEach(b,function(e){var n=e.handler.init,r=e.handler.update,s=e.key;8===t.nodeType&&o(s);try{"function"==typeof n&&y.dependencyDetection.ignore(function(){var e=n(t,m(s),h,i.$data,i);if(e&&e.controlsDescendantBindings){if(g!==a)throw new Error("Multiple bindings ("+g+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");g=s}}),"function"==typeof r&&y.dependentObservable(function(){r(t,m(s),h,i.$data,i)},null,{disposeWhenNodeIsRemoved:t})}catch(t){throw t.message='Unable to process binding "'+s+": "+u[s]+'"\nMessage: '+t.message,t}})}return{shouldBindDescendants:g===a}}function d(t){return t&&t instanceof y.bindingContext?t:new y.bindingContext(t)}y.bindingHandlers={};var p={script:!0,textarea:!0,template:!0};y.getBindingHandler=function(t){return y.bindingHandlers[t]},y.bindingContext=function(t,e,n,i,r){function o(){var r=c?t():t,o=y.utils.unwrapObservable(r);return e?(e._subscribable&&e._subscribable(),y.utils.extend(u,e),u._subscribable=l):(u.$parents=[],u.$root=o,u.ko=y),u.$rawData=r,u.$data=o,n&&(u[n]=o),i&&i(u,e,o),u.$data}function s(){return h&&!y.utils.anyDomNodeIsAttachedToDocument(h)}var h,l,u=this,c="function"==typeof t&&!y.isObservable(t);r&&r.exportDependencies?o():(l=y.dependentObservable(o,null,{disposeWhen:s,disposeWhenNodeIsRemoved:!0}),l.isActive()&&(u._subscribable=l,l.equalityComparer=null,h=[],l._addNode=function(t){h.push(t),y.utils.domNodeDisposal.addDisposeCallback(t,function(t){y.utils.arrayRemoveItem(h,t),h.length||(l.dispose(),u._subscribable=l=a)})}))},y.bindingContext.prototype.createChildContext=function(t,e,n,i){return new y.bindingContext(t,this,e,function(t,e){t.$parentContext=e,t.$parent=e.$data,t.$parents=(e.$parents||[]).slice(0),t.$parents.unshift(t.$parent),n&&n(t)},i)},y.bindingContext.prototype.extend=function(t){return new y.bindingContext(this._subscribable||this.$data,this,null,function(e,n){e.$rawData=n.$rawData,y.utils.extend(e,"function"==typeof t?t():t)})},y.bindingContext.prototype.createStaticChildContext=function(t,e){return this.createChildContext(t,e,null,{exportDependencies:!0})};var v=y.utils.domData.nextKey(),g=y.utils.domData.nextKey();y.storedBindingContextForNode=function(t,e){if(2!=arguments.length)return y.utils.domData.get(t,g);y.utils.domData.set(t,g,e),e._subscribable&&e._subscribable._addNode(t)},y.applyBindingAccessorsToNode=function(t,e,n){return 1===t.nodeType&&y.virtualElements.normaliseVirtualElementDomStructure(t),f(t,e,d(n),!0)},y.applyBindingsToNode=function(t,e,n){var r=d(n);return y.applyBindingAccessorsToNode(t,i(e,r,t),r)},y.applyBindingsToDescendants=function(t,e){1!==e.nodeType&&8!==e.nodeType||h(d(t),e,!0)},y.applyBindings=function(t,e){if(!u&&s.jQuery&&(u=s.jQuery),e&&1!==e.nodeType&&8!==e.nodeType)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");e=e||s.document.body,l(d(t),e,!0)},y.contextFor=function(t){switch(t.nodeType){case 1:case 8:var e=y.storedBindingContextForNode(t);if(e)return e;if(t.parentNode)return y.contextFor(t.parentNode)}return a},y.dataFor=function(t){var e=y.contextFor(t);return e?e.$data:a},y.exportSymbol("bindingHandlers",y.bindingHandlers),y.exportSymbol("applyBindings",y.applyBindings),y.exportSymbol("applyBindingsToDescendants",y.applyBindingsToDescendants),y.exportSymbol("applyBindingAccessorsToNode",y.applyBindingAccessorsToNode),y.exportSymbol("applyBindingsToNode",y.applyBindingsToNode),y.exportSymbol("contextFor",y.contextFor),y.exportSymbol("dataFor",y.dataFor)}(),function(t){function e(e,n){return e.hasOwnProperty(n)?e[n]:t}function n(t,n){var r,s=e(o,t);s?s.subscribe(n):(s=o[t]=new y.subscribable,s.subscribe(n),i(t,function(e,n){var i=!(!n||!n.synchronous);a[t]={definition:e,isSynchronousComponent:i},delete o[t],r||i?s.notifySubscribers(e):y.tasks.schedule(function(){s.notifySubscribers(e)})}),r=!0)}function i(t,e){r("getConfig",[t],function(n){n?r("loadComponent",[t,n],function(t){e(t,n)}):e(null,null)})}function r(e,n,i,o){o||(o=y.components.loaders.slice(0));var a=o.shift();if(a){var s=a[e];if(s){var h=!1;if(s.apply(a,n.concat(function(t){h?i(null):null!==t?i(t):r(e,n,i,o)}))!==t&&(h=!0,!a.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else r(e,n,i,o)}else i(null)}var o={},a={};y.components={get:function(t,i){var r=e(a,t);r?r.isSynchronousComponent?y.dependencyDetection.ignore(function(){i(r.definition)}):y.tasks.schedule(function(){i(r.definition)}):n(t,i)},clearCachedDefinition:function(t){delete a[t]},_getFirstResultFromLoaders:r},y.components.loaders=[],y.exportSymbol("components",y.components),y.exportSymbol("components.get",y.components.get),y.exportSymbol("components.clearCachedDefinition",y.components.clearCachedDefinition)}(),function(t){function n(t,e,n,i){var r={},o=2,a=function(){0==--o&&i(r)},s=n.template,h=n.viewModel;s?u(e,s,function(e){y.components._getFirstResultFromLoaders("loadTemplate",[t,e],function(t){r.template=t,a()})}):a(),h?u(e,h,function(e){y.components._getFirstResultFromLoaders("loadViewModel",[t,e],function(t){r[d]=t,a()})}):a()}function i(t,e,n){if("string"==typeof e)n(y.utils.parseHtmlFragment(e));else if(e instanceof Array)n(e);else if(l(e))n(y.utils.makeArray(e.childNodes));else if(e.element){var i=e.element;if(a(i))n(o(i));else if("string"==typeof i){var r=h.getElementById(i);r?n(o(r)):t("Cannot find element with ID "+i)}else t("Unknown element type: "+i)}else t("Unknown template value: "+e)}function r(t,e,n){if("function"==typeof e)n(function(t){return new e(t)});else if("function"==typeof e[d])n(e[d]);else if("instance"in e){var i=e.instance;n(function(t,e){return i})}else"viewModel"in e?r(t,e.viewModel,n):t("Unknown viewModel value: "+e)}function o(t){switch(y.utils.tagNameLower(t)){case"script":return y.utils.parseHtmlFragment(t.text);case"textarea":return y.utils.parseHtmlFragment(t.value);case"template":if(l(t.content))return y.utils.cloneNodes(t.content.childNodes)}return y.utils.cloneNodes(t.childNodes)}function a(t){return s.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType}function l(t){return s.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function u(t,n,i){"string"==typeof n.require?e||s.require?(e||s.require)([n.require],i):t("Uses require, but no AMD loader is present"):i(n)}function c(t){return function(e){throw new Error("Component '"+t+"': "+e)}}var f={};y.components.register=function(t,e){if(!e)throw new Error("Invalid configuration for "+t);if(y.components.isRegistered(t))throw new Error("Component "+t+" is already registered");f[t]=e},y.components.isRegistered=function(t){return f.hasOwnProperty(t)},y.components.unregister=function(t){delete f[t],y.components.clearCachedDefinition(t)},y.components.defaultLoader={getConfig:function(t,e){e(f.hasOwnProperty(t)?f[t]:null)},loadComponent:function(t,e,i){var r=c(t);u(r,e,function(e){n(t,r,e,i)})},loadTemplate:function(t,e,n){i(c(t),e,n)},loadViewModel:function(t,e,n){r(c(t),e,n)}};var d="createViewModel";y.exportSymbol("components.register",y.components.register),y.exportSymbol("components.isRegistered",y.components.isRegistered),y.exportSymbol("components.unregister",y.components.unregister),y.exportSymbol("components.defaultLoader",y.components.defaultLoader),y.components.loaders.push(y.components.defaultLoader),y.components._allRegisteredComponents=f}(),function(t){function e(t,e){var i=t.getAttribute("params");if(i){var r=n.parseBindingsString(i,e,t,{valueAccessors:!0,bindingParams:!0}),o=y.utils.objectMap(r,function(e,n){return y.computed(e,null,{disposeWhenNodeIsRemoved:t})}),a=y.utils.objectMap(o,function(e,n){var i=e.peek();return e.isActive()?y.computed({read:function(){return y.utils.unwrapObservable(e())},write:y.isWriteableObservable(i)&&function(t){e()(t)},disposeWhenNodeIsRemoved:t}):i});return a.hasOwnProperty("$raw")||(a.$raw=o),a}return{$raw:{}}}y.components.getComponentNameForNode=function(t){var e=y.utils.tagNameLower(t);if(y.components.isRegistered(e)&&(e.indexOf("-")!=-1||""+t=="[object HTMLUnknownElement]"||y.utils.ieVersion<=8&&t.tagName===e))return e},y.components.addBindingsForCustomElement=function(t,n,i,r){if(1===n.nodeType){var o=y.components.getComponentNameForNode(n);if(o){if(t=t||{},t.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var a={name:o,params:e(n,i)};t.component=r?function(){return a}:a}}return t};var n=new y.bindingProvider;y.utils.ieVersion<9&&(y.components.register=function(t){return function(e){return h.createElement(e),t.apply(this,arguments)}}(y.components.register),h.createDocumentFragment=function(t){return function(){var e=t(),n=y.components._allRegisteredComponents;for(var i in n)n.hasOwnProperty(i)&&e.createElement(i);return e}}(h.createDocumentFragment))}(),function(t){function e(t,e,n){var i=e.template;if(!i)throw new Error("Component '"+t+"' has no template");var r=y.utils.cloneNodes(i);y.virtualElements.setDomNodeChildren(n,r)}function n(t,e,n,i){var r=t.createViewModel;return r?r.call(t,i,{element:e,templateNodes:n}):i}var i=0;y.bindingHandlers.component={init:function(t,r,o,a,s){var h,l,u=function(){var t=h&&h.dispose;"function"==typeof t&&t.call(h),h=null,l=null},c=y.utils.makeArray(y.virtualElements.childNodes(t));return y.utils.domNodeDisposal.addDisposeCallback(t,u),y.computed(function(){var o,a,f=y.utils.unwrapObservable(r());if("string"==typeof f?o=f:(o=y.utils.unwrapObservable(f.name),a=y.utils.unwrapObservable(f.params)),!o)throw new Error("No component name specified");var d=l=++i;y.components.get(o,function(i){if(l===d){if(u(),!i)throw new Error("Unknown component '"+o+"'");e(o,i,t);var r=n(i,t,c,a),f=s.createChildContext(r,void 0,function(t){t.$component=r,t.$componentTemplateNodes=c});h=r,y.applyBindingsToDescendants(f,t)}})},null,{disposeWhenNodeIsRemoved:t}),{controlsDescendantBindings:!0}}},y.virtualElements.allowedBindings.component=!0}();var D={class:"className",for:"htmlFor"};y.bindingHandlers.attr={update:function(t,e,n){var i=y.utils.unwrapObservable(e())||{};y.utils.objectForEach(i,function(e,n){n=y.utils.unwrapObservable(n);var i=n===!1||null===n||n===a;i&&t.removeAttribute(e),y.utils.ieVersion<=8&&e in D?(e=D[e],i?t.removeAttribute(e):t[e]=n):i||t.setAttribute(e,n.toString()),"name"===e&&y.utils.setElementName(t,i?"":n.toString())})}},function(){y.bindingHandlers.checked={after:["value","attr"],init:function(t,e,n){function i(){var i=t.checked,r=d?o():i;if(!y.computedContext.isInitial()&&(!h||i)){var a=y.dependencyDetection.ignore(e);if(u){var s=c?a.peek():a;f!==r?(i&&(y.utils.addOrRemoveItem(s,r,!0),y.utils.addOrRemoveItem(s,f,!1)),f=r):y.utils.addOrRemoveItem(s,r,i),c&&y.isWriteableObservable(a)&&a(s)}else y.expressionRewriting.writeValueToProperty(a,n,"checked",r,!0)}}function r(){var n=y.utils.unwrapObservable(e());t.checked=u?y.utils.arrayIndexOf(n,o())>=0:s?n:o()===n}var o=y.pureComputed(function(){return n.has("checkedValue")?y.utils.unwrapObservable(n.get("checkedValue")):n.has("value")?y.utils.unwrapObservable(n.get("value")):t.value}),s="checkbox"==t.type,h="radio"==t.type;if(s||h){var l=e(),u=s&&y.utils.unwrapObservable(l)instanceof Array,c=!(u&&l.push&&l.splice),f=u?o():a,d=h||u;h&&!t.name&&y.bindingHandlers.uniqueName.init(t,function(){return!0}),y.computed(i,null,{disposeWhenNodeIsRemoved:t}),y.utils.registerEventHandler(t,"click",i),y.computed(r,null,{disposeWhenNodeIsRemoved:t}),l=a}}},y.expressionRewriting.twoWayBindings.checked=!0,y.bindingHandlers.checkedValue={update:function(t,e){t.value=y.utils.unwrapObservable(e())}}}();y.bindingHandlers.css={update:function(t,e){var n=y.utils.unwrapObservable(e());null!==n&&"object"==typeof n?y.utils.objectForEach(n,function(e,n){n=y.utils.unwrapObservable(n),y.utils.toggleDomNodeCssClass(t,e,n)}):(n=y.utils.stringTrim(String(n||"")),y.utils.toggleDomNodeCssClass(t,t.__ko__cssValue,!1),t.__ko__cssValue=n,y.utils.toggleDomNodeCssClass(t,n,!0))}},y.bindingHandlers.enable={update:function(t,e){var n=y.utils.unwrapObservable(e());n&&t.disabled?t.removeAttribute("disabled"):n||t.disabled||(t.disabled=!0)}},y.bindingHandlers.disable={update:function(t,e){y.bindingHandlers.enable.update(t,function(){return!y.utils.unwrapObservable(e())})}},y.bindingHandlers.event={init:function(t,e,n,i,r){var o=e()||{};y.utils.objectForEach(o,function(o){"string"==typeof o&&y.utils.registerEventHandler(t,o,function(t){var a,s=e()[o];if(s){try{var h=y.utils.makeArray(arguments);i=r.$data,h.unshift(i),a=s.apply(i,h)}finally{a!==!0&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}n.get(o+"Bubble")!==!1||(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},y.bindingHandlers.foreach={makeTemplateValueAccessor:function(t){return function(){var e=t(),n=y.utils.peekObservable(e);return n&&"number"!=typeof n.length?(y.utils.unwrapObservable(e),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:y.nativeTemplateEngine.instance}):{foreach:e,templateEngine:y.nativeTemplateEngine.instance}}},init:function(t,e,n,i,r){return y.bindingHandlers.template.init(t,y.bindingHandlers.foreach.makeTemplateValueAccessor(e))},update:function(t,e,n,i,r){return y.bindingHandlers.template.update(t,y.bindingHandlers.foreach.makeTemplateValueAccessor(e),n,i,r)}},y.expressionRewriting.bindingRewriteValidators.foreach=!1,y.virtualElements.allowedBindings.foreach=!0;y.bindingHandlers.hasfocus={init:function(t,e,n){var i=function(i){t.__ko_hasfocusUpdating=!0;var r=t.ownerDocument;if("activeElement"in r){var o;try{o=r.activeElement}catch(t){o=r.body}i=o===t}var a=e();y.expressionRewriting.writeValueToProperty(a,n,"hasfocus",i,!0),t.__ko_hasfocusLastValue=i,t.__ko_hasfocusUpdating=!1},r=i.bind(null,!0),o=i.bind(null,!1);y.utils.registerEventHandler(t,"focus",r),y.utils.registerEventHandler(t,"focusin",r),y.utils.registerEventHandler(t,"blur",o),y.utils.registerEventHandler(t,"focusout",o)},update:function(t,e){var n=!!y.utils.unwrapObservable(e());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===n||(n?t.focus():t.blur(),!n&&t.__ko_hasfocusLastValue&&t.ownerDocument.body.focus(),y.dependencyDetection.ignore(y.utils.triggerEvent,null,[t,n?"focusin":"focusout"]))}},y.expressionRewriting.twoWayBindings.hasfocus=!0,y.bindingHandlers.hasFocus=y.bindingHandlers.hasfocus,y.expressionRewriting.twoWayBindings.hasFocus=!0,y.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){y.utils.setHtml(t,e())}},v("if"),v("ifnot",!1,!0),v("with",!0,!1,function(t,e){return t.createStaticChildContext(e)});var A={};y.bindingHandlers.options={init:function(t){if("select"!==y.utils.tagNameLower(t))throw new Error("options binding applies only to SELECT elements");for(;t.length>0;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(t,e,n){function i(){return y.utils.arrayFilter(t.options,function(t){return t.selected})}function r(t,e,n){var i=typeof e;return"function"==i?e(t):"string"==i?t[e]:n}function o(e,i,o){o.length&&(m=!p&&o[0].selected?[y.selectExtensions.readValue(o[0])]:[],b=!0);var s=t.ownerDocument.createElement("option");if(e===A)y.utils.setTextContent(s,n.get("optionsCaption")),y.selectExtensions.writeValue(s,a);else{var h=r(e,n.get("optionsValue"),e);y.selectExtensions.writeValue(s,y.utils.unwrapObservable(h));var l=r(e,n.get("optionsText"),h);y.utils.setTextContent(s,l)}return[s]}function s(e,i){if(b&&p)y.selectExtensions.writeValue(t,y.utils.unwrapObservable(n.get("value")),!0);else if(m.length){var r=y.utils.arrayIndexOf(m,y.selectExtensions.readValue(i[0]))>=0;y.utils.setOptionNodeSelectionState(i[0],r),b&&!r&&y.dependencyDetection.ignore(y.utils.triggerEvent,null,[t,"change"])}}var h,l,u=0==t.length,c=t.multiple,f=!u&&c?t.scrollTop:null,d=y.utils.unwrapObservable(e()),p=n.get("valueAllowUnset")&&n.has("value"),v=n.get("optionsIncludeDestroyed"),g={},m=[];p||(c?m=y.utils.arrayMap(i(),y.selectExtensions.readValue):t.selectedIndex>=0&&m.push(y.selectExtensions.readValue(t.options[t.selectedIndex]))),d&&(void 0===d.length&&(d=[d]),l=y.utils.arrayFilter(d,function(t){return v||t===a||null===t||!y.utils.unwrapObservable(t._destroy)}),n.has("optionsCaption")&&null!==(h=y.utils.unwrapObservable(n.get("optionsCaption")))&&h!==a&&l.unshift(A));var b=!1;g.beforeRemove=function(e){t.removeChild(e)};var w=s;n.has("optionsAfterRender")&&"function"==typeof n.get("optionsAfterRender")&&(w=function(t,e){s(t,e),y.dependencyDetection.ignore(n.get("optionsAfterRender"),null,[e[0],t!==A?t:a])}),y.utils.setDomNodeChildrenFromArrayMapping(t,l,o,g,w),y.dependencyDetection.ignore(function(){if(p)y.selectExtensions.writeValue(t,y.utils.unwrapObservable(n.get("value")),!0);else{var e;e=c?m.length&&i().length<m.length:m.length&&t.selectedIndex>=0?y.selectExtensions.readValue(t.options[t.selectedIndex])!==m[0]:m.length||t.selectedIndex>=0,e&&y.utils.triggerEvent(t,"change")}}),y.utils.ensureSelectElementIsRenderedCorrectly(t),f&&Math.abs(f-t.scrollTop)>20&&(t.scrollTop=f)}},y.bindingHandlers.options.optionValueDomDataKey=y.utils.domData.nextKey(),y.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(t,e,n){y.utils.registerEventHandler(t,"change",function(){var i=e(),r=[];y.utils.arrayForEach(t.getElementsByTagName("option"),function(t){t.selected&&r.push(y.selectExtensions.readValue(t))}),y.expressionRewriting.writeValueToProperty(i,n,"selectedOptions",r)})},update:function(t,e){if("select"!=y.utils.tagNameLower(t))throw new Error("values binding applies only to SELECT elements");var n=y.utils.unwrapObservable(e()),i=t.scrollTop;n&&"number"==typeof n.length&&y.utils.arrayForEach(t.getElementsByTagName("option"),function(t){var e=y.utils.arrayIndexOf(n,y.selectExtensions.readValue(t))>=0;t.selected!=e&&y.utils.setOptionNodeSelectionState(t,e)}),t.scrollTop=i}},y.expressionRewriting.twoWayBindings.selectedOptions=!0,y.bindingHandlers.style={update:function(t,e){var n=y.utils.unwrapObservable(e()||{});y.utils.objectForEach(n,function(e,n){n=y.utils.unwrapObservable(n),null!==n&&n!==a&&n!==!1||(n=""),t.style[e]=n})}},y.bindingHandlers.submit={init:function(t,e,n,i,r){if("function"!=typeof e())throw new Error("The value for a submit binding must be a function");y.utils.registerEventHandler(t,"submit",function(n){var i,o=e();try{i=o.call(r.$data,t)}finally{i!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},y.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){y.utils.setTextContent(t,e())}},y.virtualElements.allowedBindings.text=!0,function(){if(s&&s.navigator)var t=function(t){if(t)return parseFloat(t[1])},e=s.opera&&s.opera.version&&parseInt(s.opera.version()),n=s.navigator.userAgent,i=t(n.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),r=t(n.match(/Firefox\/([^ ]*)/));if(y.utils.ieVersion<10)var o=y.utils.domData.nextKey(),h=y.utils.domData.nextKey(),l=function(t){var e=this.activeElement,n=e&&y.utils.domData.get(e,h);n&&n(t)},u=function(t,e){var n=t.ownerDocument;y.utils.domData.get(n,o)||(y.utils.domData.set(n,o,!0),y.utils.registerEventHandler(n,"selectionchange",l)),y.utils.domData.set(t,h,e)};y.bindingHandlers.textInput={init:function(t,n,o){var s,h,l=t.value,c=function(e){clearTimeout(s),h=s=a;var i=t.value;l!==i&&(e&&(t._ko_textInputProcessedEvent=e.type),l=i,y.expressionRewriting.writeValueToProperty(n(),o,"textInput",i))},f=function(e){if(!s){h=t.value;var n=c.bind(t,{type:e.type});s=y.utils.setTimeout(n,4)}},d=9==y.utils.ieVersion?f:c,p=function(){var e=y.utils.unwrapObservable(n());if(null!==e&&e!==a||(e=""),h!==a&&e===h)return void y.utils.setTimeout(p,4);t.value!==e&&(l=e,t.value=e)},v=function(e,n){y.utils.registerEventHandler(t,e,n)};y.bindingHandlers.textInput._forceUpdateOn?y.utils.arrayForEach(y.bindingHandlers.textInput._forceUpdateOn,function(t){"after"==t.slice(0,5)?v(t.slice(5),f):v(t,c)}):y.utils.ieVersion<10?(v("propertychange",function(t){"value"===t.propertyName&&d(t)}),8==y.utils.ieVersion&&(v("keyup",c),v("keydown",c)),y.utils.ieVersion>=8&&(u(t,d),v("dragend",f))):(v("input",c),i<5&&"textarea"===y.utils.tagNameLower(t)?(v("keydown",f),v("paste",f),v("cut",f)):e<11?v("keydown",f):r<4&&(v("DOMAutoComplete",c),v("dragdrop",c),v("drop",c))),v("change",c),y.computed(p,null,{disposeWhenNodeIsRemoved:t})}},y.expressionRewriting.twoWayBindings.textInput=!0,y.bindingHandlers.textinput={preprocess:function(t,e,n){n("textInput",t)}}}(),y.bindingHandlers.uniqueName={init:function(t,e){if(e()){var n="ko_unique_"+ ++y.bindingHandlers.uniqueName.currentIndex;y.utils.setElementName(t,n)}}},y.bindingHandlers.uniqueName.currentIndex=0,y.bindingHandlers.value={after:["options","foreach"],init:function(t,e,n){if("input"==t.tagName.toLowerCase()&&("checkbox"==t.type||"radio"==t.type))return void y.applyBindingAccessorsToNode(t,{checkedValue:e});var i=["change"],r=n.get("valueUpdate"),o=!1,a=null;r&&("string"==typeof r&&(r=[r]),y.utils.arrayPushAll(i,r),i=y.utils.arrayGetDistinctValues(i));var s=function(){a=null,o=!1;var i=e(),r=y.selectExtensions.readValue(t);y.expressionRewriting.writeValueToProperty(i,n,"value",r)};y.utils.ieVersion&&"input"==t.tagName.toLowerCase()&&"text"==t.type&&"off"!=t.autocomplete&&(!t.form||"off"!=t.form.autocomplete)&&y.utils.arrayIndexOf(i,"propertychange")==-1&&(y.utils.registerEventHandler(t,"propertychange",function(){o=!0}),y.utils.registerEventHandler(t,"focus",function(){o=!1}),y.utils.registerEventHandler(t,"blur",function(){o&&s()})),y.utils.arrayForEach(i,function(e){var n=s;y.utils.stringStartsWith(e,"after")&&(n=function(){a=y.selectExtensions.readValue(t),y.utils.setTimeout(s,0)},e=e.substring("after".length)),y.utils.registerEventHandler(t,e,n)});var h=function(){var i=y.utils.unwrapObservable(e()),r=y.selectExtensions.readValue(t);if(null!==a&&i===a)return void y.utils.setTimeout(h,0);if(i!==r)if("select"===y.utils.tagNameLower(t)){var o=n.get("valueAllowUnset"),s=function(){y.selectExtensions.writeValue(t,i,o)};s(),o||i===y.selectExtensions.readValue(t)?y.utils.setTimeout(s,0):y.dependencyDetection.ignore(y.utils.triggerEvent,null,[t,"change"])}else y.selectExtensions.writeValue(t,i)};y.computed(h,null,{disposeWhenNodeIsRemoved:t})},update:function(){}},y.expressionRewriting.twoWayBindings.value=!0,y.bindingHandlers.visible={update:function(t,e){var n=y.utils.unwrapObservable(e()),i=!("none"==t.style.display);n&&!i?t.style.display="":!n&&i&&(t.style.display="none")}},function(t){y.bindingHandlers[t]={init:function(e,n,i,r,o){var a=function(){var e={};return e[t]=n(),e};return y.bindingHandlers.event.init.call(this,e,a,i,r,o)}}}("click"),y.templateEngine=function(){},y.templateEngine.prototype.renderTemplateSource=function(t,e,n,i){throw new Error("Override renderTemplateSource")},y.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(t){throw new Error("Override createJavaScriptEvaluatorBlock")},y.templateEngine.prototype.makeTemplateSource=function(t,e){if("string"==typeof t){e=e||h;var n=e.getElementById(t);if(!n)throw new Error("Cannot find template with ID "+t);return new y.templateSources.domElement(n)}if(1==t.nodeType||8==t.nodeType)return new y.templateSources.anonymousTemplate(t);throw new Error("Unknown template type: "+t)},y.templateEngine.prototype.renderTemplate=function(t,e,n,i){var r=this.makeTemplateSource(t,i);return this.renderTemplateSource(r,e,n,i)},y.templateEngine.prototype.isTemplateRewritten=function(t,e){return this.allowTemplateRewriting===!1||this.makeTemplateSource(t,e).data("isRewritten")},y.templateEngine.prototype.rewriteTemplate=function(t,e,n){var i=this.makeTemplateSource(t,n),r=e(i.text());i.text(r),i.data("isRewritten",!0)},y.exportSymbol("templateEngine",y.templateEngine),y.templateRewriting=function(){function t(t){for(var e=y.expressionRewriting.bindingRewriteValidators,n=0;n<t.length;n++){var i=t[n].key;if(e.hasOwnProperty(i)){var r=e[i];if("function"==typeof r){var o=r(t[n].value);if(o)throw new Error(o)}else if(!r)throw new Error("This template engine does not support the '"+i+"' binding within its templates")}}}function e(e,n,i,r){var o=y.expressionRewriting.parseObjectLiteral(e);t(o);var a=y.expressionRewriting.preProcessBindings(o,{valueAccessors:!0}),s="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a+" } })()},'"+i.toLowerCase()+"')";return r.createJavaScriptEvaluatorBlock(s)+n}return{ensureTemplateIsRewritten:function(t,e,n){e.isTemplateRewritten(t,n)||e.rewriteTemplate(t,function(t){return y.templateRewriting.memoizeBindingAttributeSyntax(t,e)},n)},memoizeBindingAttributeSyntax:function(t,n){return t.replace(/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,function(){return e(arguments[4],arguments[1],arguments[2],n)}).replace(/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g,function(){return e(arguments[1],"<!-- ko -->","#comment",n)})},applyMemoizedBindingsToNextSibling:function(t,e){return y.memoization.memoize(function(n,i){var r=n.nextSibling;r&&r.nodeName.toLowerCase()===e&&y.applyBindingAccessorsToNode(r,t,i)})}}}(),y.exportSymbol("__tr_ambtns",y.templateRewriting.applyMemoizedBindingsToNextSibling),function(){function t(t){return y.utils.domData.get(t,i)||{}}function e(t,e){y.utils.domData.set(t,i,e)}y.templateSources={};y.templateSources.domElement=function(t){if(this.domElement=t,t){var e=y.utils.tagNameLower(t);this.templateType="script"===e?1:"textarea"===e?2:"template"==e&&t.content&&11===t.content.nodeType?3:4}},y.templateSources.domElement.prototype.text=function(){var t=1===this.templateType?"text":2===this.templateType?"value":"innerHTML";if(0==arguments.length)return this.domElement[t];var e=arguments[0];"innerHTML"===t?y.utils.setHtml(this.domElement,e):this.domElement[t]=e};var n=y.utils.domData.nextKey()+"_";y.templateSources.domElement.prototype.data=function(t){if(1===arguments.length)return y.utils.domData.get(this.domElement,n+t);y.utils.domData.set(this.domElement,n+t,arguments[1])};var i=y.utils.domData.nextKey();y.templateSources.domElement.prototype.nodes=function(){var n=this.domElement;if(0==arguments.length){return t(n).containerData||(3===this.templateType?n.content:4===this.templateType?n:a)}e(n,{containerData:arguments[0]})},y.templateSources.anonymousTemplate=function(t){this.domElement=t},y.templateSources.anonymousTemplate.prototype=new y.templateSources.domElement,y.templateSources.anonymousTemplate.prototype.constructor=y.templateSources.anonymousTemplate,y.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var n=t(this.domElement);return n.textData===a&&n.containerData&&(n.textData=n.containerData.innerHTML),n.textData}var i=arguments[0];e(this.domElement,{textData:i})},y.exportSymbol("templateSources",y.templateSources),y.exportSymbol("templateSources.domElement",y.templateSources.domElement),y.exportSymbol("templateSources.anonymousTemplate",y.templateSources.anonymousTemplate)}(),function(){function t(t,e,n){for(var i,r=t,o=y.virtualElements.nextSibling(e);r&&(i=r)!==o;)r=y.virtualElements.nextSibling(i),n(i,r)}function e(e,n){if(e.length){var i=e[0],r=e[e.length-1],o=i.parentNode,a=y.bindingProvider.instance,s=a.preprocessNode;if(s){if(t(i,r,function(t,e){var n=t.previousSibling,o=s.call(a,t);o&&(t===i&&(i=o[0]||e),t===r&&(r=o[o.length-1]||n))}),e.length=0,!i)return;i===r?e.push(i):(e.push(i,r),y.utils.fixUpContinuousNodeArray(e,o))}t(i,r,function(t){1!==t.nodeType&&8!==t.nodeType||y.applyBindings(n,t)}),t(i,r,function(t){1!==t.nodeType&&8!==t.nodeType||y.memoization.unmemoizeDomNodeAndDescendants(t,[n])}),y.utils.fixUpContinuousNodeArray(e,o)}}function n(t){return t.nodeType?t:t.length>0?t[0]:null}function i(t,i,r,o,a){a=a||{};var h=t&&n(t),l=(h||r||{}).ownerDocument,u=a.templateEngine||s;y.templateRewriting.ensureTemplateIsRewritten(r,u,l);var c=u.renderTemplate(r,o,a,l);if("number"!=typeof c.length||c.length>0&&"number"!=typeof c[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var f=!1;switch(i){case"replaceChildren":y.virtualElements.setDomNodeChildren(t,c),f=!0;break;case"replaceNode":y.utils.replaceDomNodes(t,c),f=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+i)}return f&&(e(c,o),a.afterRender&&y.dependencyDetection.ignore(a.afterRender,null,[c,o.$data])),c}function r(t,e,n){return y.isObservable(t)?t():"function"==typeof t?t(e,n):t}function o(t,e){var n=y.utils.domData.get(t,h);n&&"function"==typeof n.dispose&&n.dispose(),y.utils.domData.set(t,h,e&&e.isActive()?e:a)}var s;y.setTemplateEngine=function(t){if(t!=a&&!(t instanceof y.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");s=t},y.renderTemplate=function(t,e,o,h,l){if(o=o||{},(o.templateEngine||s)==a)throw new Error("Set a template engine before calling renderTemplate");if(l=l||"replaceChildren",h){var u=n(h),c=function(){return!u||!y.utils.domNodeIsAttachedToDocument(u)},f=u&&"replaceNode"==l?u.parentNode:u;return y.dependentObservable(function(){var a=e&&e instanceof y.bindingContext?e:new y.bindingContext(e,null,null,null,{exportDependencies:!0}),s=r(t,a.$data,a),c=i(h,l,s,a,o);"replaceNode"==l&&(h=c,u=n(h))},null,{disposeWhen:c,disposeWhenNodeIsRemoved:f})}return y.memoization.memoize(function(n){y.renderTemplate(t,e,o,n,"replaceNode")})},y.renderTemplateForEach=function(t,n,o,s,h){var l,u=function(e,n){return l=h.createChildContext(e,o.as,function(t){t.$index=n}),i(null,"ignoreTargetNode",r(t,e,l),l,o)},c=function(t,n,i){e(n,l),o.afterRender&&o.afterRender(n,t),l=null};return y.dependentObservable(function(){var t=y.utils.unwrapObservable(n)||[];void 0===t.length&&(t=[t]);var e=y.utils.arrayFilter(t,function(t){return o.includeDestroyed||t===a||null===t||!y.utils.unwrapObservable(t._destroy)});y.dependencyDetection.ignore(y.utils.setDomNodeChildrenFromArrayMapping,null,[s,e,u,o,c])},null,{disposeWhenNodeIsRemoved:s})};var h=y.utils.domData.nextKey();y.bindingHandlers.template={init:function(t,e){var n=y.utils.unwrapObservable(e());if("string"==typeof n||n.name)y.virtualElements.emptyNode(t);else if("nodes"in n){var i=n.nodes||[];if(y.isObservable(i))throw new Error('The "nodes" option must be a plain, non-observable array.');var r=y.utils.moveCleanedNodesToContainerElement(i);new y.templateSources.anonymousTemplate(t).nodes(r)}else{var o=y.virtualElements.childNodes(t),r=y.utils.moveCleanedNodesToContainerElement(o);new y.templateSources.anonymousTemplate(t).nodes(r)}return{controlsDescendantBindings:!0}},update:function(t,e,n,i,r){var a,s=e(),h=y.utils.unwrapObservable(s),l=!0,u=null;if("string"==typeof h?(a=s,h={}):(a=h.name,"if"in h&&(l=y.utils.unwrapObservable(h.if)),l&&"ifnot"in h&&(l=!y.utils.unwrapObservable(h.ifnot))),"foreach"in h){var c=l&&h.foreach||[];u=y.renderTemplateForEach(a||t,c,h,t,r)}else if(l){var f="data"in h?r.createStaticChildContext(h.data,h.as):r;u=y.renderTemplate(a||t,f,h,t)}else y.virtualElements.emptyNode(t);o(t,u)}},y.expressionRewriting.bindingRewriteValidators.template=function(t){var e=y.expressionRewriting.parseObjectLiteral(t);return 1==e.length&&e[0].unknown?null:y.expressionRewriting.keyValueArrayContainsKey(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},y.virtualElements.allowedBindings.template=!0}(),y.exportSymbol("setTemplateEngine",y.setTemplateEngine),y.exportSymbol("renderTemplate",y.renderTemplate),y.utils.findMovesInArrayComparison=function(t,e,n){if(t.length&&e.length){var i,r,o,a,s;for(i=r=0;(!n||i<n)&&(a=t[r]);++r){for(o=0;s=e[o];++o)if(a.value===s.value){a.moved=s.index,s.moved=a.index,e.splice(o,1),i=o=0;break}i+=o}}},y.utils.compareArrays=function(){function t(t,r,o){return o="boolean"==typeof o?{dontLimitMoves:o}:o||{},t=t||[],r=r||[],t.length<r.length?e(t,r,n,i,o):e(r,t,i,n,o)}function e(t,e,n,i,r){var o,a,s,h,l,u,c=Math.min,f=Math.max,d=[],p=t.length,v=e.length,g=v-p||1,m=p+v+1;for(o=0;o<=p;o++)for(h=s,d.push(s=[]),l=c(v,o+g),u=f(0,o-1),a=u;a<=l;a++)if(a)if(o)if(t[o-1]===e[a-1])s[a]=h[a-1];else{var b=h[a]||m,w=s[a-1]||m;s[a]=c(b,w)+1}else s[a]=a+1;else s[a]=o+1;var x,k=[],T=[],S=[];for(o=p,a=v;o||a;)x=d[o][a]-1,a&&x===d[o][a-1]?T.push(k[k.length]={status:n,value:e[--a],index:a}):o&&x===d[o-1][a]?S.push(k[k.length]={status:i,value:t[--o],index:o}):(--a,--o,r.sparse||k.push({status:"retained",value:e[a]}));return y.utils.findMovesInArrayComparison(S,T,!r.dontLimitMoves&&10*p),k.reverse()}var n="added",i="deleted";return t}(),y.exportSymbol("utils.compareArrays",y.utils.compareArrays),function(){function t(t,e,n,i,r){var o=[],s=y.dependentObservable(function(){var a=e(n,r,y.utils.fixUpContinuousNodeArray(o,t))||[];o.length>0&&(y.utils.replaceDomNodes(o,a),i&&y.dependencyDetection.ignore(i,null,[n,a,r])),o.length=0,y.utils.arrayPushAll(o,a)},null,{disposeWhenNodeIsRemoved:t,disposeWhen:function(){return!y.utils.anyDomNodeIsAttachedToDocument(o)}});return{mappedNodes:o,dependentObservable:s.isActive()?s:a}}var e=y.utils.domData.nextKey(),n=y.utils.domData.nextKey();y.utils.setDomNodeChildrenFromArrayMapping=function(i,r,o,s,h){function l(t,e){c=v[e],x!==e&&(M[t]=c),c.indexObservable(x++),y.utils.fixUpContinuousNodeArray(c.mappedNodes,i),b.push(c),T.push(c)}function u(t,e){if(t)for(var n=0,i=e.length;n<i;n++)e[n]&&y.utils.arrayForEach(e[n].mappedNodes,function(i){t(i,n,e[n].arrayEntry)})}r=r||[],s=s||{};for(var c,f,d,p=y.utils.domData.get(i,e)===a,v=y.utils.domData.get(i,e)||[],g=y.utils.arrayMap(v,function(t){return t.arrayEntry}),m=y.utils.compareArrays(g,r,s.dontLimitMoves),b=[],w=0,x=0,k=[],T=[],S=[],M=[],P=[],C=0;f=m[C];C++)switch(d=f.moved,f.status){case"deleted":d===a&&(c=v[w],c.dependentObservable&&(c.dependentObservable.dispose(),c.dependentObservable=a),y.utils.fixUpContinuousNodeArray(c.mappedNodes,i).length&&(s.beforeRemove&&(b.push(c),T.push(c),c.arrayEntry===n?c=null:S[C]=c),c&&k.push.apply(k,c.mappedNodes))),w++;break;case"retained":l(C,w++);break;case"added":d!==a?l(C,d):(c={arrayEntry:f.value,indexObservable:y.observable(x++)},b.push(c),T.push(c),p||(P[C]=c))}y.utils.domData.set(i,e,b),u(s.beforeMove,M),y.utils.arrayForEach(k,s.beforeRemove?y.cleanNode:y.removeNode);for(var N,D,C=0,A=y.virtualElements.firstChild(i);c=T[C];C++){c.mappedNodes||y.utils.extend(c,t(i,o,c.arrayEntry,h,c.indexObservable));for(var E=0;D=c.mappedNodes[E];A=D.nextSibling,N=D,E++)D!==A&&y.virtualElements.insertAfter(i,D,N);!c.initialized&&h&&(h(c.arrayEntry,c.mappedNodes,c.indexObservable),c.initialized=!0)}for(u(s.beforeRemove,S),C=0;C<S.length;++C)S[C]&&(S[C].arrayEntry=n);u(s.afterMove,M),u(s.afterAdd,P)}}(),y.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",y.utils.setDomNodeChildrenFromArrayMapping),y.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},y.nativeTemplateEngine.prototype=new y.templateEngine,y.nativeTemplateEngine.prototype.constructor=y.nativeTemplateEngine,y.nativeTemplateEngine.prototype.renderTemplateSource=function(t,e,n,i){var r=!(y.utils.ieVersion<9),o=r?t.nodes:null,a=o?t.nodes():null;if(a)return y.utils.makeArray(a.cloneNode(!0).childNodes);var s=t.text();return y.utils.parseHtmlFragment(s,i)},y.nativeTemplateEngine.instance=new y.nativeTemplateEngine,y.setTemplateEngine(y.nativeTemplateEngine.instance),y.exportSymbol("nativeTemplateEngine",y.nativeTemplateEngine),function(){y.jqueryTmplTemplateEngine=function(){function t(){if(n<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function e(t,e,n){return u.tmpl(t,e,n)}var n=this.jQueryTmplVersion=function(){if(!u||!u.tmpl)return 0;try{if(u.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(t){}return 1}();this.renderTemplateSource=function(n,i,r,o){o=o||h,r=r||{},t();var a=n.data("precompiled");if(!a){var s=n.text()||"";s="{{ko_with $item.koBindingContext}}"+s+"{{/ko_with}}",a=u.template(null,s),n.data("precompiled",a)}var l=[i.$data],c=u.extend({koBindingContext:i},r.templateOptions),f=e(a,l,c);return f.appendTo(o.createElement("div")),u.fragments={},f},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,e){h.write("<script type='text/html' id='"+t+"'>"+e+"</script>")},n>0&&(u.tmpl.tag.ko_code={open:"__.push($1 || '');"},u.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},y.jqueryTmplTemplateEngine.prototype=new y.templateEngine,y.jqueryTmplTemplateEngine.prototype.constructor=y.jqueryTmplTemplateEngine;var t=new y.jqueryTmplTemplateEngine;t.jQueryTmplVersion>0&&y.setTemplateEngine(t),y.exportSymbol("jqueryTmplTemplateEngine",y.jqueryTmplTemplateEngine)}()})}()}()},function(t,e){t.exports=function(t){function e(){t.LayeredDigraphLayout.call(this),this.initializeOption=t.LayeredDigraphLayout.InitDepthFirstIn,this.spouseSpacing=30}return t.Diagram.inherit(e,t.LayeredDigraphLayout),e.prototype.makeNetwork=function(e){var n=this.createNetwork();return e instanceof t.Diagram?(this.add(n,e.nodes,!0),this.add(n,e.links,!0)):e instanceof t.Group?this.add(n,e.memberParts,!1):e.iterator&&this.add(n,e.iterator,!1),n},e.prototype.add=function(e,n,i){for(var r=new t.Set,o=n.iterator;o.next();){var a=o.value;if(a instanceof t.Node&&(a.isLayoutPositioned&&a.isVisible()&&(!i||null===a.containingGroup)))if(a.isLinkLabel){var s=a.labeledLink,h=s.fromNode,l=s.toNode,u=e.addNode(a);u.width=h.actualBounds.width+3*this.spouseSpacing+l.actualBounds.width,u.height=Math.max(h.actualBounds.height,l.actualBounds.height),u.focus=new t.Point(h.actualBounds.width+this.spouseSpacing/2,u.height/2)}else{var c=0;if(a.linksConnected.each(function(t){t.isLabeledLink&&c++}),0===c)var u=e.addNode(a);else c>1&&r.add(a)}}for(o.reset();o.next();){var s=o.value;if(s instanceof t.Link&&(s.isLayoutPositioned&&s.isVisible()&&!(i&&null!==s.containingGroup||s.isLabeledLink))){var f=e.findVertex(s.fromNode),d=e.findVertex(s.toNode);null!==d?e.linkVertexes(f,d,s):s.toNode.linksConnected.each(function(t){if(t.isLabeledLink){var n=t.labelNodes.first(),i=e.findVertex(n);null!==i&&e.linkVertexes(f,i,s)}})}}for(;r.count>0;){var a=r.first(),p=new t.Set;this.extendCohort(p,a);var v=e.createVertex();e.addVertex(v);var c=new t.Set;p.each(function(t){t.linksConnected.each(function(t){c.add(t)})}),c.each(function(t){var n=t.labelNodes.first(),i=e.findVertex(n);null!==i&&e.linkVertexes(v,i,null)}),r.removeAll(p)}},e.prototype.extendCohort=function(t,e){if(!t.contains(e)){t.add(e);var n=this;e.linksConnected.each(function(e){e.isLabeledLink&&(n.extendCohort(t,e.fromNode),n.extendCohort(t,e.toNode))})}},e.prototype.assignLayers=function(){t.LayeredDigraphLayout.prototype.assignLayers.call(this);var e=0===this.direction||180===this.direction,n=[];this.network.vertexes.each(function(t){var i=t.layer,r=n[i];void 0===r&&(r=0);var o=e?t.width:t.height;o>r&&(n[i]=o)}),this.network.vertexes.each(function(i){var r=i.layer,o=n[r];e?(i.focus=new t.Point(0,i.height/2),i.width=o):(i.focus=new t.Point(i.width/2,0),i.height=o)})},e.prototype.commitNodes=function(){t.LayeredDigraphLayout.prototype.commitNodes.call(this),this.network.vertexes.each(function(e){null===e.node||e.node.isLinkLabel||(e.node.position=new t.Point(e.x,e.y))});var e=this;this.network.vertexes.each(function(n){if(null!==n.node&&n.node.isLinkLabel){var i=n.node,r=i.labeledLink;r.invalidateRoute();var o=r.fromNode,a=r.toNode;if("F"===o.data.s){var s=o;o=a,a=s}var h=e.findParentsMarriageLabelNode(o),l=e.findParentsMarriageLabelNode(a);if(null!==h&&null!==l&&h.position.x>l.position.x){var s=o;o=a,a=s}if(o.position=new t.Point(n.x,n.y),a.position=new t.Point(n.x+o.actualBounds.width+e.spouseSpacing,n.y),0===o.opacity){var u=new t.Point(n.centerX-o.actualBounds.width/2,n.y);o.position=u,a.position=u}else if(0===a.opacity){var u=new t.Point(n.centerX-a.actualBounds.width/2,n.y);o.position=u,a.position=u}}}),this.network.vertexes.each(function(t){if(!(null===t.node||t.node.linksConnected.count>1)){var n=e.findParentsMarriageLabelNode(t.node);if(null!==n&&1===n.linksConnected.count){var i=e.network.findVertex(n),r=t.node.actualBounds.copy();r.x=i.centerX-t.node.actualBounds.width/2;0===e.diagram.findObjectsIn(r,function(t){return t.part},function(e){return e!==t.node},!0).count&&t.node.move(r.position)}}})},e.prototype.findParentsMarriageLabelNode=function(t){for(var e=t.findNodesInto();e.next();){var n=e.value;if(n.isLinkLabel)return n}return null},e}},function(t,e,n){(function(e){t.exports=function(t,n){var i=t.GraphObject.make;diagram=i(t.Diagram,"diagram",{initialContentAlignment:t.Spot.Center,layout:i(n,{columnSpacing:10,layerSpacing:50,direction:90}),isReadOnly:!0});var r=function(){return i(t.Node,"Vertical",{locationSpot:t.Spot.Center},i(t.Panel,{margin:new t.Margin(0,0,5,0)},i(t.Picture,{background:"lightblue",height:70,width:70},new t.Binding("source")),i(t.Shape,{geometry:t.Geometry.parse("F M68 0 L70 0 70 2 2 70 0 70 0 68z"),strokeWidth:0,stroke:null,fill:"red"},new t.Binding("visible","d",function(t){return""!==t}))),i(t.Panel,"Vertical",{margin:new t.Margin(0,0,5,0)},i(t.TextBlock,{maxSize:new t.Size(40,NaN),wrap:t.TextBlock.None,textAlign:"center"},new t.Binding("text","fn")),i(t.TextBlock,{maxSize:new t.Size(40,NaN),wrap:t.TextBlock.None,textAlign:"center"},new t.Binding("text","ln")),i(t.TextBlock,{maxSize:new t.Size(40,NaN),wrap:t.TextBlock.None,textAlign:"center"},new t.Binding("text","b")),i(t.TextBlock,{maxSize:new t.Size(40,NaN),wrap:t.TextBlock.None,textAlign:"center"},new t.Binding("text","d"))))};diagram.nodeTemplateMap.add("F",r()),diagram.nodeTemplateMap.add("M",r()),diagram.nodeTemplateMap.add("LinkLabel",i(t.Node,{fromEndSegmentLength:20,selectable:!1,height:1,width:1})),diagram.linkTemplate=i(t.Link,{routing:t.Link.Orthogonal,selectable:!1},i(t.Shape,{strokeWidth:2})),diagram.linkTemplateMap.add("Marriage",i(t.Link,{selectable:!1},i(t.Shape,{strokeWidth:2,stroke:"blue"}))),diagram.model=i(t.GraphLinksModel,{linkLabelKeysProperty:"labelKeys",nodeCategoryProperty:"s"});var o=function(t,e,n){var i=t.findNodeForKey(e),r=t.findNodeForKey(n);if(null!==i&&null!==r)for(var o=i.findLinksBetween(r);o.next();){var a=o.value;if(null!==a.data&&"Marriage"===a.data.category)return a}return null};return function(t){diagram.clear(),e.map(t,function(t){diagram.model.addNodeData(t)}),e.map(t,function(t){var e=t.p;if(void 0!==e){"number"==typeof e&&(e=[e]);for(var n=0;n<e.length;n++){var i=e[n];if(t.key!==i){if(null===o(diagram,t.key,i)){var r={s:"LinkLabel"};diagram.model.addNodeData(r),diagram.model.addLinkData({from:t.key,to:i,labelKeys:[r.key],category:"Marriage"})}}}}}),e.map(t,function(e){if(void 0!==e.m&&void 0!==e.f){var n=o(diagram,e.m,e.f);if(null===n)return t;diagram.model.addLinkData({from:n.data.labelKeys[0],to:e.key})}})}}}).call(e,n(0))},function(t,e,n){(function(e){t.exports=function(t,n){return function(i){function r(){var r=this;r.gender=t.observableArray([{v:"M",t:"Male"},{v:"F",t:"Female"}]),r.persons=t.observableArray(i),r.mothers=t.computed(function(){return r.persons().filter(function(t){return"F"===t.s})}),r.fathers=t.computed(function(){return r.persons().filter(function(t){return"M"===t.s})}),r.id=t.observable(""),r.key=t.observable(""),r.first=t.observable(""),r.last=t.observable(""),r.sex=t.observable(""),r.mother=t.observable(""),r.father=t.observable(""),r.spouse=t.observable(""),r.dob=t.observable(""),r.dead=t.observable(!1),r.dod=t.observable(""),r.id.subscribe(function(t){if(void 0===t)r.reset();else for(var e=0;e<r.persons().length;e++)r.persons()[e].id===t&&(r.key(r.persons()[e].key),r.first(r.persons()[e].fn),r.last(r.persons()[e].ln),r.sex(r.persons()[e].s),r.mother(r.persons()[e].m),r.father(r.persons()[e].f),r.spouse(r.persons()[e].p),r.dob(r.persons()[e].b),r.dead(""!==r.persons()[e].d),r.dod(r.persons()[e].d))}),r.reset=function(){r.id(""),r.key(""),r.first(""),r.last(""),r.sex(""),r.mother(""),r.father(""),r.spouse(""),r.dob(""),r.dead(!1),r.dod("")},r.save=function(t){var n={};n.key=r.key(),n.fn=r.first(),n.ln=r.last(),n.s=r.sex(),void 0!==r.mother()&&void 0!==r.father()&&(n.m=r.mother(),n.f=r.father()),void 0!==r.spouse()&&(n.p=r.spouse()),n.b=e(t).find("#input-birth").val(),n.d=e(t).find("#input-death").val(),r.dead()&&""===n.d&&(n.d=" ")},r.push=function(t){var e=r.id();if(void 0===e||""===e)e=n.database().ref(r.db()).push().key,t.key=(new Date).getTime();else for(var i=0;i<r.persons().length;i++)r.persons()[i].key===t.key&&r.persons.replace(r.persons()[i],t);n.database().ref(r.db()+"/"+e).set(t),r.reset()}}t.applyBindings(new r)}}}).call(e,n(0))},,function(t,e,n){(function(i,r){var o;/*! UIkit 2.27.2 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */
!function(i){if(void 0!==(o=function(){var t=window.UIkit||i(window,r,window.document);return t.load=function(e,n,i,r){var o,a=e.split(","),s=[],h=(r.config&&r.config.uikit&&r.config.uikit.base?r.config.uikit.base:"").replace(/\/+$/g,"");if(!h)throw new Error("Please define base path to UIkit in the requirejs config.");for(o=0;o<a.length;o+=1){var l=a[o].replace(/\./g,"/");s.push(h+"/components/"+l)}n(s,function(){i(t)})},t}.call(e,n,e,t))&&(t.exports=o),!r)throw new Error("UIkit requires jQuery");window&&r&&i(window,r,window.document)}(function(t,e,n){"use strict";var r={},o=t.UIkit?Object.create(t.UIkit):void 0;if(r.version="2.27.2",r.noConflict=function(){return o&&(t.UIkit=o,e.UIkit=o,e.fn.uk=o.fn),r},r.prefix=function(t){return t},r.$=e,r.$doc=r.$(document),r.$win=r.$(window),r.$html=r.$("html"),r.support={},r.support.transition=function(){var t=function(){var t,e=n.body||n.documentElement,i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}(),r.support.animation=function(){var t=function(){var t,e=n.body||n.documentElement,i={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}(),function(){Date.now=Date.now||function(){return(new Date).getTime()};for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var n=t[e];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var i=0;window.requestAnimationFrame=function(t){var e=Date.now(),n=Math.max(i+16,e);return setTimeout(function(){t(i=n)},n-e)},window.cancelAnimationFrame=clearTimeout}}(),r.support.touch="ontouchstart"in document||t.DocumentTouch&&document instanceof t.DocumentTouch||t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints>0||t.navigator.pointerEnabled&&t.navigator.maxTouchPoints>0||!1,r.support.mutationobserver=t.MutationObserver||t.WebKitMutationObserver||null,r.Utils={},r.Utils.isFullscreen=function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||!1},r.Utils.str2json=function(t,e){try{return e?JSON.parse(t.replace(/([\$\w]+)\s*:/g,function(t,e){return'"'+e+'":'}).replace(/'([^']+)'/g,function(t,e){return'"'+e+'"'})):new Function("","var json = "+t+"; return JSON.parse(JSON.stringify(json));")()}catch(t){return!1}},r.Utils.debounce=function(t,e,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||t.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,e),s&&t.apply(r,o)}},r.Utils.throttle=function(t,e){var n=!1;return function(){n||(t.call(),n=!0,setTimeout(function(){n=!1},e))}},r.Utils.removeCssRules=function(t){var e,n,i,r,o,a,s,h,l,u;t&&setTimeout(function(){try{for(u=document.styleSheets,r=0,s=u.length;r<s;r++){for(i=u[r],n=[],i.cssRules=i.cssRules,e=o=0,h=i.cssRules.length;o<h;e=++o)i.cssRules[e].type===CSSRule.STYLE_RULE&&t.test(i.cssRules[e].selectorText)&&n.unshift(e);for(a=0,l=n.length;a<l;a++)i.deleteRule(n[a])}}catch(t){}},0)},r.Utils.isInView=function(t,n){var i=e(t);if(!i.is(":visible"))return!1;var o=r.$win.scrollLeft(),a=r.$win.scrollTop(),s=i.offset(),h=s.left,l=s.top;return n=e.extend({topoffset:0,leftoffset:0},n),l+i.height()>=a&&l-n.topoffset<=a+r.$win.height()&&h+i.width()>=o&&h-n.leftoffset<=o+r.$win.width()},r.Utils.checkDisplay=function(t,n){var i=r.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",t||document);return t&&!i.length&&(i=e(t)),i.trigger("display.uk.check"),n&&("string"!=typeof n&&(n='[class*="uk-animation-"]'),i.find(n).each(function(){var t=r.$(this),e=t.attr("class"),n=e.match(/uk-animation-(.+)/);t.removeClass(n[0]).width(),t.addClass(n[0])})),i},r.Utils.options=function(t){if("string"!=e.type(t))return t;t.indexOf(":")!=-1&&"}"!=t.trim().substr(-1)&&(t="{"+t+"}");var n=t?t.indexOf("{"):-1,i={};if(n!=-1)try{i=r.Utils.str2json(t.substr(n))}catch(t){}return i},r.Utils.animate=function(t,n){var i=e.Deferred();return t=r.$(t),t.css("display","none").addClass(n).one(r.support.animation.end,function(){t.removeClass(n),i.resolve()}),t.css("display",""),i.promise()},r.Utils.uid=function(t){return(t||"id")+(new Date).getTime()+"RAND"+Math.ceil(1e5*Math.random())},r.Utils.template=function(t,e){for(var n,i,r,o,a=t.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),s=0,h=[],l=0;s<a.length;){if(n=a[s],n.match(/\{\{\s*(.+?)\s*\}\}/))switch(s+=1,n=a[s],i=n[0],r=n.substring(n.match(/^(\^|\#|\!|\~|\:)/)?1:0),i){case"~":h.push("for(var $i=0;$i<"+r+".length;$i++) { var $item = "+r+"[$i];"),l++;break;case":":h.push("for(var $key in "+r+") { var $val = "+r+"[$key];"),l++;break;case"#":h.push("if("+r+") {"),l++;break;case"^":h.push("if(!"+r+") {"),l++;break;case"/":h.push("}"),l--;break;case"!":h.push("__ret.push("+r+");");break;default:h.push("__ret.push(escape("+r+"));")}else h.push("__ret.push('"+n.replace(/\'/g,"\\'")+"');");s+=1}return o=new Function("$data",["var __ret = [];","try {","with($data){",l?'__ret = ["Not all blocks are closed correctly."]':h.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',"function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}"].join("\n")),e?o(e):o},r.Utils.focus=function(t,n){if(t=e(t),!t.length)return t;var i,r=t.find("[autofocus]:first");return r.length?r.focus():(r=t.find(":input"+(n&&","+n||"")).first(),r.length?r.focus():(t.attr("tabindex")||(i=1e3,t.attr("tabindex",i)),t[0].focus(),i&&t.attr("tabindex",""),t))},r.Utils.events={},r.Utils.events.click=r.support.touch?"tap":"click",t.UIkit=r,r.fn=function(t,n){var i=arguments,o=t.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),a=o[1],s=o[2];return r[a]?this.each(function(){var t=e(this),o=t.data(a);o||t.data(a,o=r[a](this,s?void 0:n)),s&&o[s].apply(o,Array.prototype.slice.call(i,1))}):(e.error("UIkit component ["+a+"] does not exist."),this)},e.UIkit=r,e.fn.uk=r.fn,r.langdirection="rtl"==r.$html.attr("dir")?"right":"left",r.components={},r.component=function(t,n){var o=function(n,i){var a=this;return this.UIkit=r,this.element=n?r.$(n):null,this.options=e.extend(!0,{},this.defaults,i),this.plugins={},this.element&&this.element.data(t,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(o.plugins)).forEach(function(t){o.plugins[t].init&&(o.plugins[t].init(a),a.plugins[t]=!0)}),this.trigger("init.uk.component",[t,this]),this};return o.plugins={},e.extend(!0,o.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(t,e,n){return r.$(this.element||this).on(t,e,n)},one:function(t,e,n){return r.$(this.element||this).one(t,e,n)},off:function(t){return r.$(this.element||this).off(t)},trigger:function(t,e){return r.$(this.element||this).trigger(t,e)},find:function(t){return r.$(this.element?this.element:[]).find(t)},proxy:function(t,e){var n=this;e.split(" ").forEach(function(e){n[e]||(n[e]=function(){return t[e].apply(t,arguments)})})},mixin:function(t,e){var n=this;e.split(" ").forEach(function(e){n[e]||(n[e]=t[e].bind(n))})},option:function(){if(1==arguments.length)return this.options[arguments[0]]||void 0;2==arguments.length&&(this.options[arguments[0]]=arguments[1])}},n),this.components[t]=o,this[t]=function(){var n,o;if(arguments.length)switch(arguments.length){case 1:"string"==typeof arguments[0]||arguments[0].nodeType||arguments[0]instanceof i?n=e(arguments[0]):o=arguments[0];break;case 2:n=e(arguments[0]),o=arguments[1]}return n&&n.data(t)?n.data(t):new r.components[t](n,o)},r.domready&&r.component.boot(t),o},r.plugin=function(t,e,n){this.components[t].plugins[e]=n},r.component.boot=function(t){r.components[t].prototype&&r.components[t].prototype.boot&&!r.components[t].booted&&(r.components[t].prototype.boot.apply(r,[]),r.components[t].booted=!0)},r.component.bootComponents=function(){for(var t in r.components)r.component.boot(t)},r.domObservers=[],r.domready=!1,r.ready=function(t){r.domObservers.push(t),r.domready&&t(document)},r.on=function(t,e,n){return t&&t.indexOf("ready.uk.dom")>-1&&r.domready&&e.apply(r.$doc),r.$doc.on(t,e,n)},r.one=function(t,e,n){return t&&t.indexOf("ready.uk.dom")>-1&&r.domready?(e.apply(r.$doc),r.$doc):r.$doc.one(t,e,n)},r.trigger=function(t,e){return r.$doc.trigger(t,e)},r.domObserve=function(t,e){r.support.mutationobserver&&(e=e||function(){},r.$(t).each(function(){var t=this,n=r.$(t);if(!n.data("observer"))try{var i=new r.support.mutationobserver(r.Utils.debounce(function(i){e.apply(t,[n]),n.trigger("changed.uk.dom")},50),{childList:!0,subtree:!0});i.observe(t,{childList:!0,subtree:!0}),n.data("observer",i)}catch(t){}}))},r.init=function(t){t=t||document,r.domObservers.forEach(function(e){e(t)})},r.on("domready.uk.dom",function(){r.init(),r.domready&&r.Utils.checkDisplay()}),document.addEventListener("DOMContentLoaded",function(){var t=function(){r.$body=r.$("body"),r.trigger("beforeready.uk.dom"),r.component.bootComponents();var t=requestAnimationFrame(function(){var e={dir:{x:0,y:0},x:window.pageXOffset,y:window.pageYOffset},n=function(){var i=window.pageXOffset,o=window.pageYOffset;e.x==i&&e.y==o||(i!=e.x?e.dir.x=i>e.x?1:-1:e.dir.x=0,o!=e.y?e.dir.y=o>e.y?1:-1:e.dir.y=0,e.x=i,e.y=o,r.$doc.trigger("scrolling.uk.document",[{dir:{x:e.dir.x,y:e.dir.y},x:i,y:o}])),cancelAnimationFrame(t),t=requestAnimationFrame(n)};return r.support.touch&&r.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",n),(e.x||e.y)&&n(),n}());if(r.trigger("domready.uk.dom"),r.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&r.$win.on("load orientationchange resize",r.Utils.debounce(function(){var t=function(){return e(".uk-height-viewport").css("height",window.innerHeight),t};return t()}(),100)),r.trigger("afterready.uk.dom"),r.domready=!0,r.support.mutationobserver){var n=r.Utils.debounce(function(){requestAnimationFrame(function(){r.init(document.body)})},10);new r.support.mutationobserver(function(t){var e=!1;t.every(function(t){if("childList"!=t.type)return!0;for(var n,i=0;i<t.addedNodes.length;++i)if(n=t.addedNodes[i],n.outerHTML&&n.outerHTML.indexOf("data-uk-")!==-1)return(e=!0)&&!1;return!0}),e&&n()}).observe(document.body,{childList:!0,subtree:!0})}};return"complete"!=document.readyState&&"interactive"!=document.readyState||setTimeout(t),t}()),r.$html.addClass(r.support.touch?"uk-touch":"uk-notouch"),r.support.touch){var a,s=!1,h=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";r.$html.on("mouseenter touchstart MSPointerDown pointerdown",h,function(){s&&e(".uk-hover").removeClass("uk-hover"),s=e(this).addClass("uk-hover")}).on("mouseleave touchend MSPointerUp pointerup",function(t){a=e(t.target).parents(h),s&&s.not(a).removeClass("uk-hover")})}return r}),function(t){function e(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function n(){l=null,c.last&&(void 0!==c.el&&c.el.trigger("longTap"),c={})}function i(){l&&clearTimeout(l),l=null}function r(){a&&clearTimeout(a),s&&clearTimeout(s),h&&clearTimeout(h),l&&clearTimeout(l),a=s=h=l=null,c={}}function o(t){return t.pointerType==t.MSPOINTER_TYPE_TOUCH&&t.isPrimary}if(!t.fn.swipeLeft){var a,s,h,l,u,c={};t(function(){var f,d,p,v=0,y=0;"MSGesture"in window&&(u=new MSGesture,u.target=document.body),t(document).on("MSGestureEnd gestureend",function(t){var e=t.originalEvent.velocityX>1?"Right":t.originalEvent.velocityX<-1?"Left":t.originalEvent.velocityY>1?"Down":t.originalEvent.velocityY<-1?"Up":null;e&&void 0!==c.el&&(c.el.trigger("swipe"),c.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(e){("MSPointerDown"!=e.type||o(e.originalEvent))&&(p="MSPointerDown"==e.type||"pointerdown"==e.type?e:e.originalEvent.touches[0],f=Date.now(),d=f-(c.last||f),c.el=t("tagName"in p.target?p.target:p.target.parentNode),a&&clearTimeout(a),c.x1=p.pageX,c.y1=p.pageY,d>0&&d<=250&&(c.isDoubleTap=!0),c.last=f,l=setTimeout(n,750),e.originalEvent&&e.originalEvent.pointerId&&u&&("MSPointerDown"==e.type||"pointerdown"==e.type||"touchstart"==e.type)&&u.addPointer(e.originalEvent.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){("MSPointerMove"!=t.type||o(t.originalEvent))&&(p="MSPointerMove"==t.type||"pointermove"==t.type?t:t.originalEvent.touches[0],i(),c.x2=p.pageX,c.y2=p.pageY,v+=Math.abs(c.x1-c.x2),y+=Math.abs(c.y1-c.y2))}).on("touchend MSPointerUp pointerup",function(n){("MSPointerUp"!=n.type||o(n.originalEvent))&&(i(),c.x2&&Math.abs(c.x1-c.x2)>30||c.y2&&Math.abs(c.y1-c.y2)>30?h=setTimeout(function(){void 0!==c.el&&(c.el.trigger("swipe"),c.el.trigger("swipe"+e(c.x1,c.x2,c.y1,c.y2))),c={}},0):"last"in c&&(isNaN(v)||v<30&&y<30?s=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=r,void 0!==c.el&&c.el.trigger(e),c.isDoubleTap?(void 0!==c.el&&c.el.trigger("doubleTap"),c={}):a=setTimeout(function(){a=null,void 0!==c.el&&c.el.trigger("singleTap"),c={}},250)},0):c={},v=y=0))}).on("touchcancel MSPointerCancel pointercancel",r),t(window).on("scroll",r)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(n){return t(this).on(e,n)}})}}(i),function(t){"use strict";var e=[];t.component("stackMargin",{defaults:{cls:"uk-margin-small-top",rowfirst:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-margin]",e).each(function(){var e=t.$(this);e.data("stackMargin")||t.stackMargin(e,t.Utils.options(e.attr("data-uk-margin")))})})},init:function(){var n=this;t.$win.on("resize orientationchange",function(){var e=function(){n.process()};return t.$(function(){e(),t.$win.on("load",e)}),t.Utils.debounce(e,20)}()),this.on("display.uk.check",function(t){this.element.is(":visible")&&this.process()}.bind(this)),this.options.observe&&t.domObserve(this.element,function(t){n.element.is(":visible")&&n.process()}),e.push(this)},process:function(){var e=this.element.children();if(t.Utils.stackMargin(e,this.options),!this.options.rowfirst||!e.length)return this;var n={},i=!1;return e.removeClass(this.options.rowfirst).each(function(e,r){r=t.$(this),"none"!=this.style.display&&(e=r.offset().left,((n[e]=n[e]||[])&&n[e]).push(this),i=i===!1?e:Math.min(i,e))}),t.$(n[i]).addClass(this.options.rowfirst),this}}),function(){var e=[],n=function(t){if(t.is(":visible")){var e=t.parent().width(),n=t.data("width"),i=e/n,r=Math.floor(i*t.data("height"));t.css({height:e<n?r:t.data("height")})}};t.component("responsiveElement",{defaults:{},boot:function(){t.ready(function(e){t.$("iframe.uk-responsive-width, [data-uk-responsive]",e).each(function(){var e=t.$(this);e.data("responsiveElement")||t.responsiveElement(e,{})})})},init:function(){var t=this.element;t.attr("width")&&t.attr("height")&&(t.data({width:t.attr("width"),height:t.attr("height")}).on("display.uk.check",function(){n(t)}),n(t),e.push(t))}}),t.$win.on("resize load",t.Utils.debounce(function(){e.forEach(function(t){n(t)})},15))}(),t.Utils.stackMargin=function(e,n){n=t.$.extend({cls:"uk-margin-small-top"},n),e=t.$(e).removeClass(n.cls);var i=!1;e.each(function(e,n,r,o){o=t.$(this),"none"!=o.css("display")&&(e=o.offset(),n=o.outerHeight(),r=e.top+n,o.data({ukMarginPos:r,ukMarginTop:e.top}),(i===!1||e.top<i.top)&&(i={top:e.top,left:e.left,pos:r}))}).each(function(e){e=t.$(this),"none"!=e.css("display")&&e.data("ukMarginTop")>i.top&&e.data("ukMarginPos")>i.pos&&e.addClass(n.cls)})},t.Utils.matchHeights=function(e,n){e=t.$(e).css("min-height",""),n=t.$.extend({row:!0},n);var i=function(e){if(!(e.length<2)){var n=0;e.each(function(){n=Math.max(n,t.$(this).outerHeight())}).each(function(){var e=t.$(this),i=n-("border-box"==e.css("box-sizing")?0:e.outerHeight()-e.height());e.css("min-height",i+"px")})}};n.row?(e.first().width(),setTimeout(function(){var n=!1,r=[];e.each(function(){var e=t.$(this),o=e.offset().top;o!=n&&r.length&&(i(t.$(r)),r=[],o=e.offset().top),r.push(e),n=o}),r.length&&i(t.$(r))},0)):i(e)},function(e){t.Utils.inlineSvg=function(n,i){t.$(n||'img[src$=".svg"]',i||document).each(function(){var n=t.$(this),i=n.attr("src");if(!e[i]){var r=t.$.Deferred();t.$.get(i,{nc:Math.random()},function(e){r.resolve(t.$(e).find("svg"))}),e[i]=r.promise()}e[i].then(function(e){var i=t.$(e).clone();n.attr("id")&&i.attr("id",n.attr("id")),n.attr("class")&&i.attr("class",n.attr("class")),n.attr("style")&&i.attr("style",n.attr("style")),n.attr("width")&&(i.attr("width",n.attr("width")),n.attr("height")||i.removeAttr("height")),n.attr("height")&&(i.attr("height",n.attr("height")),n.attr("width")||i.removeAttr("width")),n.replaceWith(i)})})},t.ready(function(e){t.Utils.inlineSvg("[data-uk-svg]",e)})}({}),t.Utils.getCssVar=function(t){var e,n=document.documentElement,i=n.appendChild(document.createElement("div"));i.classList.add("var-"+t);try{e=JSON.parse(e=getComputedStyle(i,":before").content.replace(/^["'](.*)["']$/,"$1"))}catch(t){e=void 0}return n.removeChild(i),e}}(UIkit),function(t){"use strict";function e(e,n){n=t.$.extend({duration:1e3,transition:"easeOutExpo",offset:0,complete:function(){}},n);var i=e.offset().top-n.offset,r=t.$doc.height(),o=window.innerHeight;i+o>r&&(i=r-o),t.$("html,body").stop().animate({scrollTop:i},n.duration,n.transition).promise().done(n.complete)}t.component("smoothScroll",{boot:function(){t.$html.on("click.smooth-scroll.uikit","[data-uk-smooth-scroll]",function(e){var n=t.$(this);if(!n.data("smoothScroll")){t.smoothScroll(n,t.Utils.options(n.attr("data-uk-smooth-scroll")));n.trigger("click")}return!1})},init:function(){var n=this;this.on("click",function(i){i.preventDefault(),e(t.$(this.hash).length?t.$(this.hash):t.$("body"),n.options)})}}),t.Utils.scrollToElement=e,t.$.easing.easeOutExpo||(t.$.easing.easeOutExpo=function(t,e,n,i,r){return e==r?n+i:i*(1-Math.pow(2,-10*e/r))+n})}(UIkit),function(t){"use strict";var e=t.$win,n=t.$doc,i=[],r=function(){for(var t=0;t<i.length;t++)window.requestAnimationFrame.apply(window,[i[t].check])};t.component("scrollspy",{defaults:{target:!1,cls:"uk-scrollspy-inview",initcls:"uk-scrollspy-init-inview",topoffset:0,leftoffset:0,repeat:!1,delay:0},boot:function(){n.on("scrolling.uk.document",r),e.on("load resize orientationchange",t.Utils.debounce(r,50)),t.ready(function(e){t.$("[data-uk-scrollspy]",e).each(function(){var e=t.$(this);if(!e.data("scrollspy")){t.scrollspy(e,t.Utils.options(e.attr("data-uk-scrollspy")))}})})},init:function(){var e,n=this,r=this.options.cls.split(/,/),o=function(){var i=n.options.target?n.element.find(n.options.target):n.element,o=1===i.length?1:0,a=0;i.each(function(i){var s=t.$(this),h=s.data("inviewstate"),l=t.Utils.isInView(s,n.options),u=s.data("ukScrollspyCls")||r[a].trim();!l||h||s.data("scrollspy-idle")||(e||(s.addClass(n.options.initcls),n.offset=s.offset(),e=!0,s.trigger("init.uk.scrollspy")),s.data("scrollspy-idle",setTimeout(function(){s.addClass("uk-scrollspy-inview").toggleClass(u).width(),s.trigger("inview.uk.scrollspy"),s.data("scrollspy-idle",!1),s.data("inviewstate",!0)},n.options.delay*o)),o++),!l&&h&&n.options.repeat&&(s.data("scrollspy-idle")&&(clearTimeout(s.data("scrollspy-idle")),s.data("scrollspy-idle",!1)),s.removeClass("uk-scrollspy-inview").toggleClass(u),s.data("inviewstate",!1),s.trigger("outview.uk.scrollspy")),a=r[a+1]?a+1:0})};o(),this.check=o,i.push(this)}});var o=[],a=function(){for(var t=0;t<o.length;t++)window.requestAnimationFrame.apply(window,[o[t].check])};t.component("scrollspynav",{defaults:{cls:"uk-active",closest:!1,topoffset:0,leftoffset:0,smoothscroll:!1},boot:function(){n.on("scrolling.uk.document",a),e.on("resize orientationchange",t.Utils.debounce(a,50)),t.ready(function(e){t.$("[data-uk-scrollspy-nav]",e).each(function(){var e=t.$(this);if(!e.data("scrollspynav")){t.scrollspynav(e,t.Utils.options(e.attr("data-uk-scrollspy-nav")))}})})},init:function(){var n,i=[],r=this.find("a[href^='#']").each(function(){"#"!==this.getAttribute("href").trim()&&i.push(this.getAttribute("href"))}),a=t.$(i.join(",")),s=this.options.cls,h=this.options.closest||this.options.closest,l=this,u=function(){n=[];for(var i=0;i<a.length;i++)t.Utils.isInView(a.eq(i),l.options)&&n.push(a.eq(i));if(n.length){var o,u=e.scrollTop(),c=function(){for(var t=0;t<n.length;t++)if(n[t].offset().top-l.options.topoffset>=u)return n[t]}();if(!c)return;l.options.closest?(r.blur().closest(h).removeClass(s),o=r.filter("a[href='#"+c.attr("id")+"']").closest(h).addClass(s)):o=r.removeClass(s).filter("a[href='#"+c.attr("id")+"']").addClass(s),l.element.trigger("inview.uk.scrollspynav",[c,o])}};this.options.smoothscroll&&t.smoothScroll&&r.each(function(){t.smoothScroll(this,l.options.smoothscroll)}),u(),this.element.data("scrollspynav",this),this.check=u,o.push(this)}})}(UIkit),function(t){"use strict";var e=[];t.component("toggle",{defaults:{target:!1,cls:"uk-hidden",animation:!1,duration:200},boot:function(){t.ready(function(n){t.$("[data-uk-toggle]",n).each(function(){var e=t.$(this);if(!e.data("toggle")){t.toggle(e,t.Utils.options(e.attr("data-uk-toggle")))}}),setTimeout(function(){e.forEach(function(t){t.getToggles()})},0)})},init:function(){var t=this;this.aria=this.options.cls.indexOf("uk-hidden")!==-1,this.on("click",function(e){t.element.is('a[href="#"]')&&e.preventDefault(),t.toggle()}),e.push(this)},toggle:function(){if(this.getToggles(),this.totoggle.length){if(this.options.animation&&t.support.animation){var e=this,n=this.options.animation.split(",");1==n.length&&(n[1]=n[0]),n[0]=n[0].trim(),n[1]=n[1].trim(),this.totoggle.css("animation-duration",this.options.duration+"ms"),this.totoggle.each(function(){var i=t.$(this);i.hasClass(e.options.cls)?(i.toggleClass(e.options.cls),t.Utils.animate(i,n[0]).then(function(){i.css("animation-duration",""),t.Utils.checkDisplay(i)})):t.Utils.animate(this,n[1]+" uk-animation-reverse").then(function(){i.toggleClass(e.options.cls).css("animation-duration",""),t.Utils.checkDisplay(i)})})}else this.totoggle.toggleClass(this.options.cls),t.Utils.checkDisplay(this.totoggle);this.updateAria()}},getToggles:function(){this.totoggle=this.options.target?t.$(this.options.target):[],this.updateAria()},updateAria:function(){this.aria&&this.totoggle.length&&this.totoggle.not("[aria-hidden]").each(function(){t.$(this).attr("aria-hidden",t.$(this).hasClass("uk-hidden"))})}})}(UIkit),function(t){"use strict";t.component("alert",{defaults:{fade:!0,duration:200,trigger:".uk-alert-close"},boot:function(){t.$html.on("click.alert.uikit","[data-uk-alert]",function(e){var n=t.$(this);if(!n.data("alert")){var i=t.alert(n,t.Utils.options(n.attr("data-uk-alert")));t.$(e.target).is(i.options.trigger)&&(e.preventDefault(),i.close())}})},init:function(){var t=this;this.on("click",this.options.trigger,function(e){e.preventDefault(),t.close()})},close:function(){var t=this.trigger("close.uk.alert"),e=function(){this.trigger("closed.uk.alert").remove()}.bind(this);this.options.fade?t.css("overflow","hidden").css("max-height",t.height()).animate({height:0,opacity:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},this.options.duration,e):e()}})}(UIkit),function(t){"use strict";t.component("buttonRadio",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttonradio.uikit","[data-uk-button-radio]",function(e){var n=t.$(this);if(!n.data("buttonRadio")){var i=t.buttonRadio(n,t.Utils.options(n.attr("data-uk-button-radio"))),r=t.$(e.target);r.is(i.options.target)&&r.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(n){var i=t.$(this);i.is('a[href="#"]')&&n.preventDefault(),e.find(e.options.target).not(i).removeClass(e.options.activeClass).blur(),i.addClass(e.options.activeClass),e.find(e.options.target).not(i).attr("aria-checked","false"),i.attr("aria-checked","true"),e.trigger("change.uk.button",[i])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("buttonCheckbox",{defaults:{activeClass:"uk-active",target:".uk-button"},boot:function(){t.$html.on("click.buttoncheckbox.uikit","[data-uk-button-checkbox]",function(e){var n=t.$(this);if(!n.data("buttonCheckbox")){var i=t.buttonCheckbox(n,t.Utils.options(n.attr("data-uk-button-checkbox"))),r=t.$(e.target);r.is(i.options.target)&&r.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter("."+e.options.activeClass).attr("aria-checked","true"),this.on("click",this.options.target,function(n){var i=t.$(this);i.is('a[href="#"]')&&n.preventDefault(),i.toggleClass(e.options.activeClass).blur(),i.attr("aria-checked",i.hasClass(e.options.activeClass)),e.trigger("change.uk.button",[i])})},getSelected:function(){return this.find("."+this.options.activeClass)}}),t.component("button",{defaults:{},boot:function(){t.$html.on("click.button.uikit","[data-uk-button]",function(e){var n=t.$(this);if(!n.data("button")){t.button(n,t.Utils.options(n.attr("data-uk-button")));n.trigger("click")}})},init:function(){var t=this;this.element.attr("aria-pressed",this.element.hasClass("uk-active")),this.on("click",function(e){t.element.is('a[href="#"]')&&e.preventDefault(),t.toggle(),t.trigger("change.uk.button",[t.element.blur().hasClass("uk-active")])})},toggle:function(){this.element.toggleClass("uk-active"),this.element.attr("aria-pressed",this.element.hasClass("uk-active"))}})}(UIkit),function(t){"use strict";function e(e,n,i,r){if(e=t.$(e),n=t.$(n),i=i||window.innerWidth,r=r||e.offset(),n.length){var o=n.outerWidth();if(e.css("min-width",o),"right"==t.langdirection){var a=i-(n.offset().left+o),s=i-(e.offset().left+e.outerWidth());e.css("margin-right",a-s)}else e.css("margin-left",n.offset().left-r.left)}}var n,i=!1,r={x:{"bottom-left":"bottom-right","bottom-right":"bottom-left","bottom-center":"bottom-center","top-left":"top-right","top-right":"top-left","top-center":"top-center","left-top":"right-top","left-bottom":"right-bottom","left-center":"right-center","right-top":"left-top","right-bottom":"left-bottom","right-center":"left-center"},y:{"bottom-left":"top-left","bottom-right":"top-right","bottom-center":"top-center","top-left":"bottom-left","top-right":"bottom-right","top-center":"bottom-center","left-top":"left-bottom","left-bottom":"left-top","left-center":"left-center","right-top":"right-bottom","right-bottom":"right-top","right-center":"right-center"},xy:{"bottom-left":"top-right","bottom-right":"top-left","bottom-center":"top-center","top-left":"bottom-right","top-right":"bottom-left","top-center":"bottom-center","left-top":"right-bottom","left-bottom":"right-top","left-center":"right-center","right-top":"left-bottom","right-bottom":"left-top","right-center":"left-center"}};t.component("dropdown",{defaults:{mode:"hover",pos:"bottom-left",offset:0,remaintime:800,justify:!1,boundary:t.$win,delay:0,dropdownSelector:".uk-dropdown,.uk-dropdown-blank",hoverDelayIdle:250,preventflip:!1},remainIdle:!1,boot:function(){var e=t.support.touch?"click":"mouseenter";t.$html.on(e+".dropdown.uikit focus pointerdown","[data-uk-dropdown]",function(n){var i=t.$(this);if(!i.data("dropdown")){var r=t.dropdown(i,t.Utils.options(i.attr("data-uk-dropdown")));("click"==n.type||"mouseenter"==n.type&&"hover"==r.options.mode)&&r.element.trigger(e),r.dropdown.length&&n.preventDefault()}})},init:function(){var e=this;this.dropdown=this.find(this.options.dropdownSelector),this.offsetParent=this.dropdown.parents().filter(function(){return t.$.inArray(t.$(this).css("position"),["relative","fixed","absolute"])!==-1}).slice(0,1),this.offsetParent.length||(this.offsetParent=this.element),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=!!this.options.justify&&t.$(this.options.justify),this.boundary=t.$(this.options.boundary),this.boundary.length||(this.boundary=t.$win),this.dropdown.hasClass("uk-dropdown-up")&&(this.options.pos="top-left"),this.dropdown.hasClass("uk-dropdown-flip")&&(this.options.pos=this.options.pos.replace("left","right")),this.dropdown.hasClass("uk-dropdown-center")&&(this.options.pos=this.options.pos.replace(/(left|right)/,"center")),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),this.dropdown.attr("aria-hidden","true"),"click"==this.options.mode||t.support.touch?this.on("click.uk.dropdown",function(n){var i=t.$(n.target);i.parents(e.options.dropdownSelector).length||((i.is("a[href='#']")||i.parent().is("a[href='#']")||e.dropdown.length&&!e.dropdown.is(":visible"))&&n.preventDefault(),i.blur()),e.element.hasClass("uk-open")?(!e.dropdown.find(n.target).length||i.is(".uk-dropdown-close")||i.parents(".uk-dropdown-close").length)&&e.hide():e.show()}):this.on("mouseenter",function(t){e.trigger("pointerenter.uk.dropdown",[e]),e.remainIdle&&clearTimeout(e.remainIdle),n&&clearTimeout(n),i&&i==e||(n=i&&i!=e?setTimeout(function(){n=setTimeout(e.show.bind(e),e.options.delay)},e.options.hoverDelayIdle):setTimeout(e.show.bind(e),e.options.delay))}).on("mouseleave",function(){n&&clearTimeout(n),e.remainIdle=setTimeout(function(){i&&i==e&&e.hide()},e.options.remaintime),e.trigger("pointerleave.uk.dropdown",[e])}).on("click",function(n){var r=t.$(n.target);if(e.remainIdle&&clearTimeout(e.remainIdle),i&&i==e)return void((!e.dropdown.find(n.target).length||r.is(".uk-dropdown-close")||r.parents(".uk-dropdown-close").length)&&e.hide());(r.is("a[href='#']")||r.parent().is("a[href='#']"))&&n.preventDefault(),e.show()})},show:function(){t.$html.off("click.outer.dropdown"),i&&i!=this&&i.hide(!0),n&&clearTimeout(n),this.trigger("beforeshow.uk.dropdown",[this]),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.dropdown.attr("aria-hidden","false"),this.trigger("show.uk.dropdown",[this]),t.Utils.checkDisplay(this.dropdown,!0),t.Utils.focus(this.dropdown),i=this,this.registerOuterClick()},hide:function(t){this.trigger("beforehide.uk.dropdown",[this,t]),this.element.removeClass("uk-open"),this.remainIdle&&clearTimeout(this.remainIdle),this.remainIdle=!1,this.element.attr("aria-expanded","false"),this.dropdown.attr("aria-hidden","true"),this.trigger("hide.uk.dropdown",[this,t]),i==this&&(i=!1)},registerOuterClick:function(){var e=this;t.$html.off("click.outer.dropdown"),setTimeout(function(){t.$html.on("click.outer.dropdown",function(r){n&&clearTimeout(n);t.$(r.target);i!=e||e.element.find(r.target).length||(e.hide(!0),t.$html.off("click.outer.dropdown"))})},10)},checkDimensions:function(){if(this.dropdown.length){this.dropdown.removeClass("uk-dropdown-top uk-dropdown-bottom uk-dropdown-left uk-dropdown-right uk-dropdown-stack uk-dropdown-autoflip").css({topLeft:"",left:"",marginLeft:"",marginRight:""}),this.justified&&this.justified.length&&this.dropdown.css("min-width","");var n,i=t.$.extend({},this.offsetParent.offset(),{width:this.offsetParent[0].offsetWidth,height:this.offsetParent[0].offsetHeight}),o=this.options.offset,a=this.dropdown,s=(a.show().offset(),a.outerWidth()),h=a.outerHeight(),l=this.boundary.width(),u=(this.boundary[0]!==window&&this.boundary.offset()&&this.boundary.offset(),this.options.pos),c={"bottom-left":{top:0+i.height+o,left:0},"bottom-right":{top:0+i.height+o,left:0+i.width-s},"bottom-center":{top:0+i.height+o,left:0+i.width/2-s/2},"top-left":{top:0-h-o,left:0},"top-right":{top:0-h-o,left:0+i.width-s},"top-center":{top:0-h-o,left:0+i.width/2-s/2},"left-top":{top:0,left:0-s-o},"left-bottom":{top:0+i.height-h,left:0-s-o},"left-center":{top:0+i.height/2-h/2,left:0-s-o},"right-top":{top:0,left:0+i.width+o},"right-bottom":{top:0+i.height-h,left:0+i.width+o},"right-center":{top:0+i.height/2-h/2,left:0+i.width+o}},f={};if(n=u.split("-"),f=c[u]?c[u]:c["bottom-left"],this.justified&&this.justified.length)e(a.css({left:0}),this.justified,l);else if(this.options.preventflip!==!0){var d;switch(this.checkBoundary(i.left+f.left,i.top+f.top,s,h,l)){case"x":"x"!==this.options.preventflip&&(d=r.x[u]||"right-top");break;case"y":"y"!==this.options.preventflip&&(d=r.y[u]||"top-left");break;case"xy":this.options.preventflip||(d=r.xy[u]||"right-bottom")}d&&(n=d.split("-"),f=c[d]?c[d]:c["bottom-left"],a.addClass("uk-dropdown-autoflip"),this.checkBoundary(i.left+f.left,i.top+f.top,s,h,l)&&(n=u.split("-"),f=c[u]?c[u]:c["bottom-left"]))}s>l&&(a.addClass("uk-dropdown-stack"),this.trigger("stack.uk.dropdown",[this])),a.css(f).css("display","").addClass("uk-dropdown-"+n[0])}},checkBoundary:function(e,n,i,r,o){var a="";return(e<0||e-t.$win.scrollLeft()+i>o)&&(a+="x"),(n-t.$win.scrollTop()<0||n-t.$win.scrollTop()+r>window.innerHeight)&&(a+="y"),a}}),t.component("dropdownOverlay",{defaults:{justify:!1,cls:"",duration:200},boot:function(){t.ready(function(e){t.$("[data-uk-dropdown-overlay]",e).each(function(){var e=t.$(this);e.data("dropdownOverlay")||t.dropdownOverlay(e,t.Utils.options(e.attr("data-uk-dropdown-overlay")))})})},init:function(){var n=this;this.justified=!!this.options.justify&&t.$(this.options.justify),this.overlay=this.element.find("uk-dropdown-overlay"),this.overlay.length||(this.overlay=t.$('<div class="uk-dropdown-overlay"></div>').appendTo(this.element)),this.overlay.addClass(this.options.cls),this.on({"beforeshow.uk.dropdown":function(t,i){n.dropdown=i,n.justified&&n.justified.length&&e(n.overlay.css({display:"block",marginLeft:"",marginRight:""}),n.justified,n.justified.outerWidth())},"show.uk.dropdown":function(e,i){var r=n.dropdown.dropdown.outerHeight(!0);n.dropdown.element.removeClass("uk-open"),n.overlay.stop().css("display","block").animate({height:r},n.options.duration,function(){n.dropdown.dropdown.css("visibility",""),n.dropdown.element.addClass("uk-open"),t.Utils.checkDisplay(n.dropdown.dropdown,!0)}),n.pointerleave=!1},"hide.uk.dropdown":function(){n.overlay.stop().animate({height:0},n.options.duration)},"pointerenter.uk.dropdown":function(t,e){clearTimeout(n.remainIdle)},"pointerleave.uk.dropdown":function(t,e){n.pointerleave=!0}}),this.overlay.on({mouseenter:function(){n.remainIdle&&(clearTimeout(n.dropdown.remainIdle),clearTimeout(n.remainIdle))},mouseleave:function(){n.pointerleave&&i&&(n.remainIdle=setTimeout(function(){i&&i.hide()},i.options.remaintime))}})}})}(UIkit),function(t){"use strict";var e=[];t.component("gridMatchHeight",{defaults:{target:!1,row:!0,ignorestacked:!1,observe:!1},boot:function(){t.ready(function(e){t.$("[data-uk-grid-match]",e).each(function(){var e=t.$(this);e.data("gridMatchHeight")||t.gridMatchHeight(e,t.Utils.options(e.attr("data-uk-grid-match")))})})},init:function(){var n=this;this.columns=this.element.children(),this.elements=this.options.target?this.find(this.options.target):this.columns,this.columns.length&&(t.$win.on("load resize orientationchange",function(){var e=function(){n.element.is(":visible")&&n.match()};return t.$(function(){e()}),t.Utils.debounce(e,50)}()),this.options.observe&&t.domObserve(this.element,function(t){n.element.is(":visible")&&n.match()}),this.on("display.uk.check",function(t){this.element.is(":visible")&&this.match()}.bind(this)),e.push(this))},match:function(){var e=this.columns.filter(":visible:first");if(e.length){return Math.ceil(100*parseFloat(e.css("width"))/parseFloat(e.parent().css("width")))>=100&&!this.options.ignorestacked?this.revert():t.Utils.matchHeights(this.elements,this.options),this}},revert:function(){return this.elements.css("min-height",""),this}}),t.component("gridMargin",{defaults:{cls:"uk-grid-margin",rowfirst:"uk-row-first"},boot:function(){t.ready(function(e){t.$("[data-uk-grid-margin]",e).each(function(){var e=t.$(this);e.data("gridMargin")||t.gridMargin(e,t.Utils.options(e.attr("data-uk-grid-margin")))})})},init:function(){t.stackMargin(this.element,this.options)}})}(UIkit),function(t){"use strict";function e(e,n){if(n)return"object"==typeof e?(e=e instanceof i?e:t.$(e),e.parent().length&&(n.persist=e,n.persist.data("modalPersistParent",e.parent()))):e="string"==typeof e||"number"==typeof e?t.$("<div></div>").html(e):t.$("<div></div>").html("UIkit.modal Error: Unsupported data type: "+typeof e),e.appendTo(n.element.find(".uk-modal-dialog")),n}var n,r=!1,o=0,a=t.$html;t.$win.on("resize orientationchange",t.Utils.debounce(function(){t.$(".uk-modal.uk-open").each(function(){return t.$(this).data("modal")&&t.$(this).data("modal").resize()})},150)),t.component("modal",{defaults:{keyboard:!0,bgclose:!0,minScrollHeight:150,center:!1,modal:!0},scrollable:!1,transition:!1,hasTransitioned:!0,init:function(){if(n||(n=t.$("body")),this.element.length){var e=this;this.paddingdir="padding-"+("left"==t.langdirection?"right":"left"),this.dialog=this.find(".uk-modal-dialog"),this.active=!1,this.element.attr("aria-hidden",this.element.hasClass("uk-open")),this.on("click",".uk-modal-close",function(t){t.preventDefault(),e.hide()}).on("click",function(n){t.$(n.target)[0]==e.element[0]&&e.options.bgclose&&e.hide()}),t.domObserve(this.element,function(t){e.resize()})}},toggle:function(){return this[this.isActive()?"hide":"show"]()},show:function(){if(this.element.length){var e=this;if(!this.isActive())return this.options.modal&&r&&r.hide(!0),this.element.removeClass("uk-open").show(),this.resize(!0),this.options.modal&&(r=this),this.active=!0,o++,t.support.transition?(this.hasTransitioned=!1,this.element.one(t.support.transition.end,function(){e.hasTransitioned=!0,t.Utils.focus(e.dialog,"a[href]")}).addClass("uk-open")):(this.element.addClass("uk-open"),t.Utils.focus(this.dialog,"a[href]")),a.addClass("uk-modal-page").height(),this.element.attr("aria-hidden","false"),this.element.trigger("show.uk.modal"),t.Utils.checkDisplay(this.dialog,!0),this}},hide:function(e){if(!e&&t.support.transition&&this.hasTransitioned){var n=this;this.one(t.support.transition.end,function(){n._hide()}).removeClass("uk-open")}else this._hide();return this},resize:function(t){if(this.isActive()||t){var e=n.width();if(this.scrollbarwidth=window.innerWidth-e,n.css(this.paddingdir,this.scrollbarwidth),this.element.css("overflow-y",this.scrollbarwidth?"scroll":"auto"),!this.updateScrollable()&&this.options.center){var i=this.dialog.outerHeight(),r=parseInt(this.dialog.css("margin-top"),10)+parseInt(this.dialog.css("margin-bottom"),10);i+r<window.innerHeight?this.dialog.css({top:window.innerHeight/2-i/2-r}):this.dialog.css({top:""})}}},updateScrollable:function(){var t=this.dialog.find(".uk-overflow-container:visible:first");if(t.length){t.css("height",0);var e=Math.abs(parseInt(this.dialog.css("margin-top"),10)),n=this.dialog.outerHeight(),i=window.innerHeight,r=i-2*(e<20?20:e)-n;return t.css({maxHeight:r<this.options.minScrollHeight?"":r,height:""}),!0}return!1},_hide:function(){this.active=!1,o>0?o--:o=0,this.element.hide().removeClass("uk-open"),this.element.attr("aria-hidden","true"),o||(a.removeClass("uk-modal-page"),n.css(this.paddingdir,"")),r===this&&(r=!1),this.trigger("hide.uk.modal")},isActive:function(){return this.element.hasClass("uk-open")}}),t.component("modalTrigger",{boot:function(){t.$html.on("click.modal.uikit","[data-uk-modal]",function(e){var n=t.$(this);if(n.is("a")&&e.preventDefault(),!n.data("modalTrigger")){t.modalTrigger(n,t.Utils.options(n.attr("data-uk-modal"))).show()}}),t.$html.on("keydown.modal.uikit",function(t){r&&27===t.keyCode&&r.options.keyboard&&(t.preventDefault(),r.hide())})},init:function(){var e=this;this.options=t.$.extend({target:!!e.element.is("a")&&e.element.attr("href")},this.options),this.modal=t.modal(this.options.target,this.options),this.on("click",function(t){t.preventDefault(),e.show()}),this.proxy(this.modal,"show hide isActive")}}),t.modal.dialog=function(n,i){var r=t.modal(t.$(t.modal.dialog.template).appendTo("body"),i);return r.on("hide.uk.modal",function(){r.persist&&(r.persist.appendTo(r.persist.data("modalPersistParent")),r.persist=!1),r.element.remove()}),e(n,r),r},t.modal.dialog.template='<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>',t.modal.alert=function(e,n){n=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},n);var i=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(e)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">'+n.labels.Ok+"</button></div>"].join(""),n);return i.on("show.uk.modal",function(){setTimeout(function(){i.element.find("button:first").focus()},50)}),i.show()},t.modal.confirm=function(e,n,i){var r=arguments.length>1&&arguments[arguments.length-1]?arguments[arguments.length-1]:{};n=t.$.isFunction(n)?n:function(){},i=t.$.isFunction(i)?i:function(){},r=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},t.$.isFunction(r)?{}:r);var o=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(e)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button js-modal-confirm-cancel">'+r.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-confirm">'+r.labels.Ok+"</button></div>"].join(""),r);return o.element.find(".js-modal-confirm, .js-modal-confirm-cancel").on("click",function(){t.$(this).is(".js-modal-confirm")?n():i(),o.hide()}),o.on("show.uk.modal",function(){setTimeout(function(){o.element.find(".js-modal-confirm").focus()},50)}),o.show()},t.modal.prompt=function(e,n,i,r){i=t.$.isFunction(i)?i:function(t){},r=t.$.extend(!0,{bgclose:!1,keyboard:!1,modal:!1,labels:t.modal.labels},r);var o=t.modal.dialog([e?'<div class="uk-modal-content uk-form">'+String(e)+"</div>":"",'<div class="uk-margin-small-top uk-modal-content uk-form"><p><input type="text" class="uk-width-1-1"></p></div>','<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-modal-close">'+r.labels.Cancel+'</button> <button class="uk-button uk-button-primary js-modal-ok">'+r.labels.Ok+"</button></div>"].join(""),r),a=o.element.find("input[type='text']").val(n||"").on("keyup",function(t){13==t.keyCode&&o.element.find(".js-modal-ok").trigger("click")});return o.element.find(".js-modal-ok").on("click",function(){i(a.val())!==!1&&o.hide()}),o.show()},t.modal.blockUI=function(e,n){var i=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(e||'<div class="uk-text-center">...</div>')+"</div>"].join(""),t.$.extend({bgclose:!1,keyboard:!1,modal:!1},n));return i.content=i.element.find(".uk-modal-content:first"),i.show()},t.modal.labels={Ok:"Ok",Cancel:"Cancel"}}(UIkit),function(t){"use strict";function e(e){var n=t.$(e),i="auto";if(n.is(":visible"))i=n.outerHeight();else{var r={position:n.css("position"),visibility:n.css("visibility"),display:n.css("display")};i=n.css({position:"absolute",visibility:"hidden",display:"block"}).outerHeight(),n.css(r)}return i}t.component("nav",{defaults:{toggle:'>li.uk-parent > a[href="#"]',lists:">li.uk-parent > ul",multiple:!1},boot:function(){t.ready(function(e){t.$("[data-uk-nav]",e).each(function(){var e=t.$(this);if(!e.data("nav")){t.nav(e,t.Utils.options(e.attr("data-uk-nav")))}})})},init:function(){var e=this;this.on("click.uk.nav",this.options.toggle,function(n){n.preventDefault();var i=t.$(this);e.open(i.parent()[0]==e.element[0]?i:i.parent("li"))}),this.update(),t.domObserve(this.element,function(t){e.element.find(e.options.lists).not("[role]").length&&e.update()})},update:function(){var e=this;this.find(this.options.lists).each(function(){var n=t.$(this).attr("role","menu"),i=n.closest("li"),r=i.hasClass("uk-active");i.data("list-container")||(n.wrap('<div style="overflow:hidden;height:0;position:relative;"></div>'),i.data("list-container",n.parent()[r?"removeClass":"addClass"]("uk-hidden"))),i.attr("aria-expanded",i.hasClass("uk-open")),r&&e.open(i,!0)})},open:function(n,i){var r=this,o=this.element,a=t.$(n),s=a.data("list-container");this.options.multiple||o.children(".uk-open").not(n).each(function(){var e=t.$(this);e.data("list-container")&&e.data("list-container").stop().animate({height:0},function(){t.$(this).parent().removeClass("uk-open").end().addClass("uk-hidden")})}),a.toggleClass("uk-open"),a.attr("aria-expanded",a.hasClass("uk-open")),s&&(a.hasClass("uk-open")&&s.removeClass("uk-hidden"),i?(s.stop().height(a.hasClass("uk-open")?"auto":0),a.hasClass("uk-open")||s.addClass("uk-hidden"),this.trigger("display.uk.check")):s.stop().animate({height:a.hasClass("uk-open")?e(s.find("ul:first")):0},function(){a.hasClass("uk-open")?s.css("height",""):s.addClass("uk-hidden"),r.trigger("display.uk.check")}))}})}(UIkit),function(t){"use strict";var e={x:window.scrollX,y:window.scrollY},n=(t.$win,t.$doc,t.$html),i={show:function(i,r){if(i=t.$(i),i.length){r=t.$.extend({mode:"push"},r);var o=t.$("body"),a=i.find(".uk-offcanvas-bar:first"),s="right"==t.langdirection,h=a.hasClass("uk-offcanvas-bar-flip")?-1:1,l=h*(s?-1:1),u=window.innerWidth-o.width();e={x:window.pageXOffset,y:window.pageYOffset},a.attr("mode",r.mode),i.addClass("uk-active"),o.css({width:window.innerWidth-u,height:window.innerHeight}).addClass("uk-offcanvas-page"),"push"!=r.mode&&"reveal"!=r.mode||o.css(s?"margin-right":"margin-left",(s?-1:1)*(a.outerWidth()*l)),"reveal"==r.mode&&a.css("clip","rect(0, "+a.outerWidth()+"px, 100vh, 0)"),n.css("margin-top",e.y*-1).width(),a.addClass("uk-offcanvas-bar-show"),this._initElement(i),a.trigger("show.uk.offcanvas",[i,a]),i.attr("aria-hidden","false")}},hide:function(i){var r=t.$("body"),o=t.$(".uk-offcanvas.uk-active"),a="right"==t.langdirection,s=o.find(".uk-offcanvas-bar:first"),h=function(){r.removeClass("uk-offcanvas-page").css({width:"",height:"",marginLeft:"",marginRight:""}),o.removeClass("uk-active"),s.removeClass("uk-offcanvas-bar-show"),n.css("margin-top",""),window.scrollTo(e.x,e.y),s.trigger("hide.uk.offcanvas",[o,s]),o.attr("aria-hidden","true")};o.length&&("none"==s.attr("mode")&&(i=!0),t.support.transition&&!i?(r.one(t.support.transition.end,function(){h()}).css(a?"margin-right":"margin-left",""),"reveal"==s.attr("mode")&&s.css("clip",""),setTimeout(function(){s.removeClass("uk-offcanvas-bar-show")},0)):h())},_initElement:function(e){e.data("OffcanvasInit")||(e.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas",function(e){var n=t.$(e.target);if(!e.type.match(/swipe/)&&!n.hasClass("uk-offcanvas-close")){if(n.hasClass("uk-offcanvas-bar"))return;if(n.parents(".uk-offcanvas-bar:first").length)return}e.stopImmediatePropagation(),i.hide()}),e.on("click",'a[href*="#"]',function(e){var n=t.$(this),r=n.attr("href");"#"!=r&&(t.$doc.one("hide.uk.offcanvas",function(){var e;try{e=t.$(n[0].hash)}catch(t){e=""}e.length||(e=t.$('[name="'+n[0].hash.replace("#","")+'"]')),e.length&&t.Utils.scrollToElement?t.Utils.scrollToElement(e,t.Utils.options(n.attr("data-uk-smooth-scroll")||"{}")):window.location.href=r}),i.hide())}),e.data("OffcanvasInit",!0))}};t.component("offcanvasTrigger",{boot:function(){n.on("click.offcanvas.uikit","[data-uk-offcanvas]",function(e){e.preventDefault();var n=t.$(this);if(!n.data("offcanvasTrigger")){t.offcanvasTrigger(n,t.Utils.options(n.attr("data-uk-offcanvas")));n.trigger("click")}}),n.on("keydown.uk.offcanvas",function(t){27===t.keyCode&&i.hide()})},init:function(){var e=this;this.options=t.$.extend({target:!!e.element.is("a")&&e.element.attr("href"),mode:"push"},this.options),this.on("click",function(t){t.preventDefault(),i.show(e.options.target,e.options)})}}),t.offcanvas=i}(UIkit),function(t){"use strict";function e(e,n,i){var r,o=t.$.Deferred(),a=e,s=e;return i[0]===n[0]?(o.resolve(),o.promise()):("object"==typeof e&&(a=e[0],s=e[1]||e[0]),t.$body.css("overflow-x","hidden"),r=function(){n&&n.hide().removeClass("uk-active "+s+" uk-animation-reverse"),i.addClass(a).one(t.support.animation.end,function(){setTimeout(function(){i.removeClass(""+a).css({opacity:"",display:""})},0),o.resolve(),t.$body.css("overflow-x",""),n&&n.css({opacity:"",display:""})}.bind(this)).show()},i.css("animation-duration",this.options.duration+"ms"),n&&n.length?(n.css("animation-duration",this.options.duration+"ms"),n.css("display","none").addClass(s+" uk-animation-reverse").one(t.support.animation.end,function(){r()}.bind(this)).css("display","")):(i.addClass("uk-active"),r()),o.promise())}var n;t.component("switcher",{defaults:{connect:!1,toggle:">*",active:0,animation:!1,duration:200,swiping:!0},animating:!1,boot:function(){t.ready(function(e){t.$("[data-uk-switcher]",e).each(function(){var e=t.$(this);if(!e.data("switcher")){t.switcher(e,t.Utils.options(e.attr("data-uk-switcher")))}})})},init:function(){var e=this;this.on("click.uk.switcher",this.options.toggle,function(t){t.preventDefault(),e.show(this)}),this.options.connect&&(this.connect=t.$(this.options.connect),this.connect.length&&(this.connect.on("click.uk.switcher","[data-uk-switcher-item]",function(n){n.preventDefault();var i=t.$(this).attr("data-uk-switcher-item");if(e.index!=i)switch(i){case"next":case"previous":e.show(e.index+("next"==i?1:-1));break;default:e.show(parseInt(i,10))}}),this.options.swiping&&this.connect.on("swipeRight swipeLeft",function(t){t.preventDefault(),window.getSelection().toString()||e.show(e.index+("swipeLeft"==t.type?1:-1))}),this.update()))},update:function(){this.connect.children().removeClass("uk-active").attr("aria-hidden","true");var t=this.find(this.options.toggle),e=t.filter(".uk-active");if(e.length)this.show(e,!1);else{if(this.options.active===!1)return;e=t.eq(this.options.active),this.show(e.length?e:t.eq(0),!1)}t.not(e).attr("aria-expanded","false"),e.attr("aria-expanded","true")},show:function(i,r){if(!this.animating){var o=this.find(this.options.toggle);isNaN(i)?i=t.$(i):(i=i<0?o.length-1:i,i=o.eq(o[i]?i:0));var a=this,s=t.$(i),h=n[this.options.animation]||function(t,i){if(!a.options.animation)return n.none.apply(a);var r=a.options.animation.split(",");return 1==r.length&&(r[1]=r[0]),r[0]=r[0].trim(),r[1]=r[1].trim(),e.apply(a,[r,t,i])};r!==!1&&t.support.animation||(h=n.none),s.hasClass("uk-disabled")||(o.attr("aria-expanded","false"),s.attr("aria-expanded","true"),o.filter(".uk-active").removeClass("uk-active"),s.addClass("uk-active"),this.options.connect&&this.connect.length&&(this.index=this.find(this.options.toggle).index(s),this.index==-1&&(this.index=0),this.connect.each(function(){var e=t.$(this),n=t.$(e.children()),i=t.$(n.filter(".uk-active")),r=t.$(n.eq(a.index));a.animating=!0,h.apply(a,[i,r]).then(function(){i.removeClass("uk-active"),r.addClass("uk-active"),i.attr("aria-hidden","true"),r.attr("aria-hidden","false"),t.Utils.checkDisplay(r,!0),a.animating=!1})})),this.trigger("show.uk.switcher",[s]))}}}),n={none:function(){var e=t.$.Deferred();return e.resolve(),e.promise()},fade:function(t,n){return e.apply(this,["uk-animation-fade",t,n])},"slide-bottom":function(t,n){return e.apply(this,["uk-animation-slide-bottom",t,n])},"slide-top":function(t,n){return e.apply(this,["uk-animation-slide-top",t,n])},"slide-vertical":function(t,n,i){var r=["uk-animation-slide-top","uk-animation-slide-bottom"];return t&&t.index()>n.index()&&r.reverse(),e.apply(this,[r,t,n])},"slide-left":function(t,n){return e.apply(this,["uk-animation-slide-left",t,n])},"slide-right":function(t,n){return e.apply(this,["uk-animation-slide-right",t,n])},"slide-horizontal":function(t,n,i){var r=["uk-animation-slide-right","uk-animation-slide-left"];return t&&t.index()>n.index()&&r.reverse(),e.apply(this,[r,t,n])},scale:function(t,n){return e.apply(this,["uk-animation-scale-up",t,n])}},t.switcher.animations=n}(UIkit),function(t){"use strict";t.component("tab",{defaults:{target:">li:not(.uk-tab-responsive, .uk-disabled)",connect:!1,active:0,animation:!1,duration:200,swiping:!0},boot:function(){t.ready(function(e){t.$("[data-uk-tab]",e).each(function(){var e=t.$(this);if(!e.data("tab")){t.tab(e,t.Utils.options(e.attr("data-uk-tab")))}})})},init:function(){var e=this;this.current=!1,this.on("click.uk.tab",this.options.target,function(n){if(n.preventDefault(),!e.switcher||!e.switcher.animating){var i=e.find(e.options.target).not(this);i.removeClass("uk-active").blur(),e.trigger("change.uk.tab",[t.$(this).addClass("uk-active"),e.current]),e.current=t.$(this),e.options.connect||(i.attr("aria-expanded","false"),t.$(this).attr("aria-expanded","true"))}}),this.options.connect&&(this.connect=t.$(this.options.connect)),this.responsivetab=t.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'),this.responsivetab.dropdown=this.responsivetab.find(".uk-dropdown"),this.responsivetab.lst=this.responsivetab.dropdown.find("ul"),this.responsivetab.caption=this.responsivetab.find("a:first"),this.element.hasClass("uk-tab-bottom")&&this.responsivetab.dropdown.addClass("uk-dropdown-up"),this.responsivetab.lst.on("click.uk.tab","a",function(n){n.preventDefault(),n.stopPropagation();var i=t.$(this);e.element.children("li:not(.uk-tab-responsive)").eq(i.data("index")).trigger("click")}),this.on("show.uk.switcher change.uk.tab",function(t,n){e.responsivetab.caption.html(n.text())}),this.element.append(this.responsivetab),this.options.connect&&(this.switcher=t.switcher(this.element,{toggle:">li:not(.uk-tab-responsive)",connect:this.options.connect,active:this.options.active,animation:this.options.animation,duration:this.options.duration,swiping:this.options.swiping})),t.dropdown(this.responsivetab,{mode:"click",preventflip:"y"}),e.trigger("change.uk.tab",[this.element.find(this.options.target).not(".uk-tab-responsive").filter(".uk-active")]),this.check(),t.$win.on("resize orientationchange",t.Utils.debounce(function(){e.element.is(":visible")&&e.check()},100)),this.on("display.uk.check",function(){e.element.is(":visible")&&e.check()})},check:function(){var e=this.element.children("li:not(.uk-tab-responsive)").removeClass("uk-hidden");if(!e.length)return void this.responsivetab.addClass("uk-hidden");var n,i,r=e.eq(0).offset().top+Math.ceil(e.eq(0).height()/2),o=!1;if(this.responsivetab.lst.empty(),e.each(function(){t.$(this).offset().top>r&&(o=!0)}),o)for(var a=0;a<e.length;a++)n=t.$(e.eq(a)),n.find("a"),"none"==n.css("float")||n.attr("uk-dropdown")||(n.hasClass("uk-disabled")||(i=t.$(n[0].outerHTML),i.find("a").data("index",a),this.responsivetab.lst.append(i)),n.addClass("uk-hidden"));this.responsivetab[this.responsivetab.lst.children("li").length?"removeClass":"addClass"]("uk-hidden")}})}(UIkit),function(t){"use strict";t.component("cover",{defaults:{automute:!0},boot:function(){t.ready(function(e){t.$("[data-uk-cover]",e).each(function(){var e=t.$(this);if(!e.data("cover")){t.cover(e,t.Utils.options(e.attr("data-uk-cover")))}})})},init:function(){if(this.parent=this.element.parent(),t.$win.on("load resize orientationchange",t.Utils.debounce(function(){this.check()}.bind(this),100)),this.on("display.uk.check",function(t){this.element.is(":visible")&&this.check()}.bind(this)),this.check(),this.element.is("iframe")&&this.options.automute){var e=this.element.attr("src");this.element.attr("src","").on("load",function(){this.contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}',"*")}).attr("src",[e,e.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1"].join(""))}},check:function(){this.element.css({width:"",height:""}),this.dimension={w:this.element.width(),h:this.element.height()},this.element.attr("width")&&!isNaN(this.element.attr("width"))&&(this.dimension.w=this.element.attr("width")),this.element.attr("height")&&!isNaN(this.element.attr("height"))&&(this.dimension.h=this.element.attr("height")),this.ratio=this.dimension.w/this.dimension.h;var t,e,n=this.parent.width(),i=this.parent.height();n/this.ratio<i?(t=Math.ceil(i*this.ratio),e=i):(t=n,e=Math.ceil(n/this.ratio)),this.element.css({width:t,height:e})}})}(UIkit)}).call(e,n(0),n(0))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){var n=function(){/*! @license Firebase v3.7.3
    Build: 3.7.3-rc.1
    Terms: https://firebase.google.com/terms/ */
var t=null;return function(){function n(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)e.hasOwnProperty(i)&&(t[i]=n(t[i],e[i]));return t}function i(t,e){return t=new bt(t,e),t.subscribe.bind(t)}function r(t){if("object"!=typeof t||null===t)return!1;var e;e=["next","error","complete"],p();var n=e[Symbol.iterator];for(e=n?n.call(e):v(e),n=e.next();!n.done;n=e.next())if((n=n.value)in t&&"function"==typeof t[n])return!0;return!1}function o(){}function a(){function t(t){t=t||"[DEFAULT]";var e=o[t];return void 0===e&&s("no-app",{name:t}),e}function e(t,e){Object.keys(h).forEach(function(n){null!==(n=r(t,n))&&l[n]&&l[n](e,t)})}function r(t,e){if("serverAuth"===e)return null;var n=e;return t=t.options,"auth"===e&&(t.serviceAccount||t.credential)&&(n="serverAuth","serverAuth"in h||s("sa-not-supported")),n}var o={},h={},l={},u={__esModule:!0,initializeApp:function(t,i){return void 0===i?i="[DEFAULT]":"string"==typeof i&&""!==i||s("bad-app-name",{name:i+""}),void 0!==o[i]&&s("duplicate-app",{name:i}),t=new Pt(t,i,u),o[i]=t,e(t,"create"),void 0!=t.INTERNAL&&void 0!=t.INTERNAL.getToken||n(t,{INTERNAL:{getUid:function(){return null},getToken:function(){return Mt.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}}),t},app:t,apps:null,Promise:Mt,SDK_VERSION:"0.0.0",INTERNAL:{registerService:function(e,i,r,o,a){return h[e]&&s("duplicate-service",{name:e}),h[e]=a?i:function(t,e){return i(t,e,"[DEFAULT]")},o&&(l[e]=o),o=function(n){return void 0===n&&(n=t()),"function"!=typeof n[e]&&s("invalid-app-argument",{name:e}),n[e]()},void 0!==r&&n(o,r),u[e]=o},createFirebaseNamespace:a,extendNamespace:function(t){n(u,t)},createSubscribe:i,ErrorFactory:St,removeApp:function(t){e(o[t],"delete"),delete o[t]},factories:h,useAsService:r,Promise:nt,deepExtend:n}};return u.default=u,Object.defineProperty(u,"apps",{get:function(){return Object.keys(o).map(function(t){return o[t]})}}),t.App=Pt,u}function s(t,e){throw Nt.create(t,e)}var h,l="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},u="undefined"!=typeof window&&window===this?this:void 0!==e&&null!=e?e:this,c=function(){c=function(){},u.Symbol||(u.Symbol=d)},f=0,d=function(t){return"jscomp_symbol_"+(t||"")+f++},p=function(){c();var t=u.Symbol.iterator;t||(t=u.Symbol.iterator=u.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&l(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return v(this)}}),p=function(){}},v=function(t){var e=0;return y(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},y=function(t){return p(),t={next:t},t[u.Symbol.iterator]=function(){return this},t},g=this,m=function(){},b=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},w=function(t){return"function"==b(t)},x=function(t,e,n){return t.call.apply(t.bind,arguments)},k=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}},T=function(t,e,n){return T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?x:k,T.apply(null,arguments)},S=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},M=function(t,e){function n(){}n.prototype=e.prototype,t.ha=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}};h="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var P=function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},C=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},N=function(t,e){var n,i={};for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)0>e.indexOf(n[r])&&(i[n[r]]=t[n[r]])}return i},D=function(t,e,n,i){var r,o=arguments.length,a=3>o?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof(r=h.Reflect)&&"function"==typeof r.decorate)a=r.decorate(t,e,n,i);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(a=(3>o?r(a):3<o?r(e,n,a):r(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},A=function(t,e){var n=h.Reflect;if("object"==typeof n&&"function"==typeof n.metadata)return n.metadata(t,e)},E=function(t,e){return function(n,i){e(n,i,t)}},j=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{h(i.next(t))}catch(t){o(t)}}function s(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}h((i=i.apply(t,e)).next())})},L=function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.G.pop(),s.I.pop();continue;default:if(a=s.I,!(a=0<a.length&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3]))s.label=n[1];else if(6===n[0]&&s.label<a[1])s.label=a[1],a=n;else{if(!(a&&s.label<a[2])){a[2]&&s.G.pop(),s.I.pop();continue}s.label=a[2],s.G.push(n)}}n=e.call(t,s)}catch(t){n=[6,t],o=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,a,s={label:0,ga:function(){if(1&a[0])throw a[1];return a[1]},I:[],G:[]};return{next:n(0),throw:n(1),return:n(2)}};void 0!==h.S&&h.S||(h.__extends=P,h.__assign=C,h.__rest=N,h.__extends=P,h.__decorate=D,h.__metadata=A,h.__param=E,h.__awaiter=j,h.__generator=L);var F=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,F);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};M(F,Error),F.prototype.name="CustomError";var O=function(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")},I=function(t,e){e.unshift(t),F.call(this,O.apply(null,e)),e.shift()};M(I,F),I.prototype.name="AssertionError";var R=function(t,e,n,i){var r="Assertion failed";if(n)var r=r+": "+n,o=i;else t&&(r+=": "+t,o=e);throw new I(""+r,o||[])},B=function(t,e,n){t||R("",null,e,Array.prototype.slice.call(arguments,2))},q=function(t,e,n){w(t)||R("Expected function but got %s: %s.",[b(t),t],e,Array.prototype.slice.call(arguments,2))},z=function(t,e,n){this.Y=n,this.T=t,this.Z=e,this.s=0,this.o=null};z.prototype.get=function(){var t;return 0<this.s?(this.s--,t=this.o,this.o=t.next,t.next=null):t=this.T(),t},z.prototype.put=function(t){this.Z(t),this.s<this.Y&&(this.s++,t.next=this.o,this.o=t)};var V;t:{var U=g.navigator;if(U){var H=U.userAgent;if(H){V=H;break t}}V=""}var G,_=function(t){g.setTimeout(function(){throw t},0)},W=function(){var t=g.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==V.indexOf("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=T(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&-1==V.indexOf("Trident")&&-1==V.indexOf("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.J;n.J=null,t()}},function(t){i.next={J:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){g.setTimeout(t,0)}},K=function(){this.v=this.g=null},Y=new z(function(){return new $},function(t){t.reset()},100);K.prototype.add=function(t,e){var n=Y.get();n.set(t,e),this.v?this.v.next=n:(B(!this.g),this.g=n),this.v=n},K.prototype.remove=function(){var t=null;return this.g&&(t=this.g,this.g=this.g.next,this.g||(this.v=null),t.next=null),t};var $=function(){this.next=this.scope=this.B=null};$.prototype.set=function(t,e){this.B=t,this.scope=e,this.next=null},$.prototype.reset=function(){this.next=this.scope=this.B=null};var J,X=function(t,e){J||Q(),Z||(J(),Z=!0),tt.add(t,e)},Q=function(){if(-1!=String(g.Promise).indexOf("[native code]")){var t=g.Promise.resolve(void 0);J=function(){t.then(et)}}else J=function(){var t=et;!w(g.setImmediate)||g.Window&&g.Window.prototype&&-1==V.indexOf("Edge")&&g.Window.prototype.setImmediate==g.setImmediate?(G||(G=W()),G(t)):g.setImmediate(t)}},Z=!1,tt=new K,et=function(){for(var t;t=tt.remove();){try{t.B.call(t.scope)}catch(t){_(t)}Y.put(t)}Z=!1},nt=function(t,e){if(this.b=0,this.R=void 0,this.j=this.h=this.u=null,this.m=this.A=!1,t!=m)try{var n=this;t.call(e,function(t){lt(n,2,t)},function(t){try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}lt(n,3,t)})}catch(t){lt(this,3,t)}},it=function(){this.next=this.context=this.i=this.f=this.child=null,this.w=!1};it.prototype.reset=function(){this.context=this.i=this.f=this.child=null,this.w=!1};var rt=new z(function(){return new it},function(t){t.reset()},100),ot=function(t,e,n){var i=rt.get();return i.f=t,i.i=e,i.context=n,i},at=function(t,e,n){ut(t,e,n,null)||X(S(e,t))};nt.prototype.then=function(t,e,n){return null!=t&&q(t,"opt_onFulfilled should be a function."),null!=e&&q(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),ht(this,w(t)?t:null,w(e)?e:null,n)},nt.prototype.then=nt.prototype.then,nt.prototype.$goog_Thenable=!0,nt.prototype.ba=function(t,e){return ht(this,null,t,e)};var st=function(t,e){t.h||2!=t.b&&3!=t.b||ft(t),B(null!=e.f),t.j?t.j.next=e:t.h=e,t.j=e},ht=function(t,e,n,i){var r=ot(null,null,null);return r.child=new nt(function(t,o){r.f=e?function(n){try{var r=e.call(i,n);t(r)}catch(t){o(t)}}:t,r.i=n?function(e){try{var r=n.call(i,e);t(r)}catch(t){o(t)}}:o}),r.child.u=t,st(t,r),r.child};nt.prototype.da=function(t){B(1==this.b),this.b=0,lt(this,2,t)},nt.prototype.ea=function(t){B(1==this.b),this.b=0,lt(this,3,t)};var lt=function(t,e,n){0==t.b&&(t===n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.b=1,ut(n,t.da,t.ea,t)||(t.R=n,t.b=e,t.u=null,ft(t),3!=e||vt(t,n)))},ut=function(t,e,n,i){if(t instanceof nt)return null!=e&&q(e,"opt_onFulfilled should be a function."),null!=n&&q(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),st(t,ot(e||m,n||null,i)),!0;var r;if(t)try{r=!!t.$goog_Thenable}catch(t){r=!1}else r=!1;if(r)return t.then(e,n,i),!0;if("object"==(r=typeof t)&&null!=t||"function"==r)try{var o=t.then;if(w(o))return ct(t,o,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1},ct=function(t,e,n,i,r){var o=!1,a=function(t){o||(o=!0,n.call(r,t))},s=function(t){o||(o=!0,i.call(r,t))};try{e.call(t,a,s)}catch(t){s(t)}},ft=function(t){t.A||(t.A=!0,X(t.V,t))},dt=function(t){var e=null;return t.h&&(e=t.h,t.h=e.next,e.next=null),t.h||(t.j=null),null!=e&&B(null!=e.f),e};nt.prototype.V=function(){for(var t;t=dt(this);){var e=this.b,n=this.R;if(3==e&&t.i&&!t.w){var i;for(i=this;i&&i.m;i=i.u)i.m=!1}if(t.child)t.child.u=null,pt(t,e,n);else try{t.w?t.f.call(t.context):pt(t,e,n)}catch(t){yt.call(null,t)}rt.put(t)}this.A=!1};var pt=function(t,e,n){2==e?t.f.call(t.context,n):t.i&&t.i.call(t.context,n)},vt=function(t,e){t.m=!0,X(function(){t.m&&yt.call(null,e)})},yt=_;nt.all=function(t){return new nt(function(e,n){var i=t.length,r=[];if(i)for(var o,a=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},h=0;h<t.length;h++)o=t[h],at(o,S(a,h),s);else e(r)})},nt.resolve=function(t){if(t instanceof nt)return t;var e=new nt(m);return lt(e,2,t),e},nt.reject=function(t){return new nt(function(e,n){n(t)})},nt.prototype.catch=nt.prototype.ba;var gt=nt;"undefined"!=typeof Promise&&(gt=Promise);var mt=gt,bt=function(t,e){var n=this;this.a=[],this.P=0,this.task=mt.resolve(),this.l=!1,this.F=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})};bt.prototype.next=function(t){wt(this,function(e){e.next(t)})},bt.prototype.error=function(t){wt(this,function(e){e.error(t)}),this.close(t)},bt.prototype.complete=function(){wt(this,function(t){t.complete()}),this.close()},bt.prototype.subscribe=function(t,e,n){var i,a=this;if(void 0===t&&void 0===e&&void 0===n)throw Error("Missing Observer.");return i=r(t)?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=o),void 0===i.error&&(i.error=o),void 0===i.complete&&(i.complete=o),t=this.fa.bind(this,this.a.length),this.l&&this.task.then(function(){try{a.K?i.error(a.K):i.complete()}catch(t){}}),this.a.push(i),t},bt.prototype.fa=function(t){void 0!==this.a&&void 0!==this.a[t]&&(delete this.a[t],0===--this.P&&void 0!==this.F&&this.F(this))};var wt=function(t,e){if(!t.l)for(var n=0;n<t.a.length;n++)xt(t,n,e)},xt=function(t,e,n){t.task.then(function(){if(void 0!==t.a&&void 0!==t.a[e])try{n(t.a[e])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})};bt.prototype.close=function(t){var e=this;this.l||(this.l=!0,void 0!==t&&(this.K=t),this.task.then(function(){e.a=void 0,e.F=void 0}))};var kt=Error.captureStackTrace,Tt=function(t,e){if(this.code=t,this.message=e,kt)kt(this,St.prototype.create);else{var n=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}};Tt.prototype=Object.create(Error.prototype),Tt.prototype.constructor=Tt,Tt.prototype.name="FirebaseError";var St=function(t,e,n){this.$=t,this.aa=e,this.U=n,this.pattern=/\{\$([^}]+)}/g};St.prototype.create=function(t,e){void 0===e&&(e={});var n=this.U[t];t=this.$+"/"+t;var i,n=void 0===n?"Error":n.replace(this.pattern,function(t,n){return t=e[n],void 0!==t?t.toString():"<"+n+"?>"}),n=this.aa+": "+n+" ("+t+").",n=new Tt(t,n);for(i in e)e.hasOwnProperty(i)&&"_"!==i.slice(-1)&&(n[i]=e[i]);return n};var Mt=gt,Pt=function(t,e,i){var r=this;this.M=i,this.N=!1,this.c={},this.D=e,this.H=n(void 0,t),t="serviceAccount"in this.H,("credential"in this.H||t)&&"undefined"!=typeof console&&console.log("The '"+(t?"serviceAccount":"credential")+"' property specified in the first argument to initializeApp() is deprecated and will be removed in the next major version. You should instead use the 'firebase-admin' package. See https://firebase.google.com/docs/admin/setup for details on how to get started."),Object.keys(i.INTERNAL.factories).forEach(function(t){var e=i.INTERNAL.useAsService(r,t);null!==e&&(e=r.X.bind(r,e),r[t]=e)})};Pt.prototype.delete=function(){var t=this;return new Mt(function(e){Ct(t),e()}).then(function(){t.M.INTERNAL.removeApp(t.D);var e=[];return Object.keys(t.c).forEach(function(n){Object.keys(t.c[n]).forEach(function(i){e.push(t.c[n][i])})}),Mt.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.N=!0,t.c={}})},Pt.prototype.X=function(t,e){Ct(this),void 0===this.c[t]&&(this.c[t]={});var n=e||"[DEFAULT]";return void 0===this.c[t][n]?(e=this.M.INTERNAL.factories[t](this,this.W.bind(this),e),this.c[t][n]=e):this.c[t][n]},Pt.prototype.W=function(t){n(this,t)};var Ct=function(t){t.N&&s("app-deleted",{name:t.D})};u.Object.defineProperties(Pt.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return Ct(this),this.D}},options:{configurable:!0,enumerable:!0,get:function(){return Ct(this),this.H}}}),Pt.prototype.name&&Pt.prototype.options||Pt.prototype.delete||console.log("dc");var Nt=new St("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."});void 0!==t&&(t=a())}.call(this),t.SDK_VERSION="3.7.3",t}.call(void 0!==typeof e?e:void 0!==typeof self?self:void 0!==typeof window?window:{});t.exports=n}).call(e,n(14))},function(t,e,n){(function(e){var i=n(15);(function(){/*! @license Firebase v3.7.3
    Build: 3.7.3-rc.1
    Terms: https://firebase.google.com/terms/ */
(function(){var t,e=e||{},n=this,r=function(){},o=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},a=function(t){return null===t},s=function(t){return"array"==o(t)},h=function(t){var e=o(t);return"array"==e||"object"==e&&"number"==typeof t.length},l=function(t){return"string"==typeof t},u=function(t){return"number"==typeof t},c=function(t){return"function"==o(t)},f=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},d=function(t,e,n){return t.call.apply(t.bind,arguments)},p=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}},v=function(t,e,n){return v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:p,v.apply(null,arguments)},y=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},g=Date.now||function(){return+new Date},m=function(t,e){function n(){}n.prototype=e.prototype,t.ud=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ag=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}},b=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};m(b,Error),b.prototype.name="CustomError";var w=function(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")},x=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},k=/[\x00&<>"']/,T=function(t,e){return-1!=t.indexOf(e)},S=function(t,e){return t<e?-1:t>e?1:0},M=function(t,e){e.unshift(t),b.call(this,w.apply(null,e)),e.shift()};m(M,b),M.prototype.name="AssertionError";var P,C=function(t,e,n,i){var r="Assertion failed";if(n)var r=r+": "+n,o=i;else t&&(r+=": "+t,o=e);throw new M(""+r,o||[])},N=function(t,e,n){t||C("",null,e,Array.prototype.slice.call(arguments,2))},D=function(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))},A=function(t,e,n){return u(t)||C("Expected number but got %s: %s.",[o(t),t],e,Array.prototype.slice.call(arguments,2)),t},E=function(t,e,n){l(t)||C("Expected string but got %s: %s.",[o(t),t],e,Array.prototype.slice.call(arguments,2))},j=function(t,e,n){c(t)||C("Expected function but got %s: %s.",[o(t),t],e,Array.prototype.slice.call(arguments,2))},L=Array.prototype.indexOf?function(t,e,n){return N(null!=t.length),Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,l(t))return l(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F=Array.prototype.forEach?function(t,e,n){N(null!=t.length),Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=l(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},O=function(t,e){for(var n=l(t)?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)},I=Array.prototype.map?function(t,e,n){return N(null!=t.length),Array.prototype.map.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=Array(i),o=l(t)?t.split(""):t,a=0;a<i;a++)a in o&&(r[a]=e.call(n,o[a],a,t));return r},R=Array.prototype.some?function(t,e,n){return N(null!=t.length),Array.prototype.some.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=l(t)?t.split(""):t,o=0;o<i;o++)if(o in r&&e.call(n,r[o],o,t))return!0;return!1},B=function(t){var e;t:{e=Oi;for(var n=t.length,i=l(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]},q=function(t,e){return 0<=L(t,e)},z=function(t,e){e=L(t,e);var n;return(n=0<=e)&&V(t,e),n},V=function(t,e){return N(null!=t.length),1==Array.prototype.splice.call(t,e,1).length},U=function(t,e){var n=0;O(t,function(i,r){e.call(void 0,i,r,t)&&V(t,r)&&n++})},H=function(t){return Array.prototype.concat.apply([],arguments)},G=function(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]},_=function(t,e){for(var n in t)e.call(void 0,t[n],n,t)},W=function(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n},K=function(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n},Y=function(t){for(var e in t)return!1;return!0},$=function(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0},J=function(t){var e,n={};for(e in t)n[e]=t[e];return n},X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Q=function(t,e){for(var n,i,r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(var o=0;o<X.length;o++)n=X[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}};t:{var Z=n.navigator;if(Z){var tt=Z.userAgent;if(tt){P=tt;break t}}P=""}var et=function(t){return T(P,t)},nt=function(t){return nt[" "](t),t};nt[" "]=r;var it,rt=function(t,e){var n=gt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)},ot=et("Opera"),at=et("Trident")||et("MSIE"),st=et("Edge"),ht=st||at,lt=et("Gecko")&&!(T(P.toLowerCase(),"webkit")&&!et("Edge"))&&!(et("Trident")||et("MSIE"))&&!et("Edge"),ut=T(P.toLowerCase(),"webkit")&&!et("Edge"),ct=function(){var t=n.document;return t?t.documentMode:void 0};t:{var ft="",dt=function(){var t=P;return lt?/rv\:([^\);]+)(\)|;)/.exec(t):st?/Edge\/([\d\.]+)/.exec(t):at?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ut?/WebKit\/(\S+)/.exec(t):ot?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(dt&&(ft=dt?dt[1]:""),at){var pt=ct();if(null!=pt&&pt>parseFloat(ft)){it=String(pt);break t}}it=ft}var vt,yt=it,gt={},mt=function(t){return rt(t,function(){for(var e=0,n=x(String(yt)).split("."),i=x(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=S(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||S(0==a[2].length,0==s[2].length)||S(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})},bt=n.document;vt=bt&&at?ct()||("CSS1Compat"==bt.compatMode?parseInt(yt,10):5):void 0;var wt,xt=function(t){return I(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")},kt=null,Tt=null,St=function(t){var e="";return Mt(t,function(t){e+=String.fromCharCode(t)}),e},Mt=function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Tt[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Pt();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;e(r<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}},Pt=function(){if(!kt){kt={},Tt={};for(var t=0;65>t;t++)kt[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Tt[kt[t]]=t,62<=t&&(Tt["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}},Ct=function(){this.Ba=-1},Nt=function(t,e){this.Ba=64,this.Zb=n.Uint8Array?new Uint8Array(this.Ba):Array(this.Ba),this.Dc=this.eb=0,this.h=[],this.nf=t,this.Rd=e,this.Uf=n.Int32Array?new Int32Array(64):Array(64),void 0!==wt||(wt=n.Int32Array?new Int32Array(Lt):Lt),this.reset()};m(Nt,Ct);for(var Dt=[],At=0;63>At;At++)Dt[At]=0;var Et=H(128,Dt);Nt.prototype.reset=function(){this.Dc=this.eb=0,this.h=n.Int32Array?new Int32Array(this.Rd):G(this.Rd)};var jt=function(t){var e=t.Zb;N(e.length==t.Ba);for(var n=t.Uf,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var r=0|n[e-15],i=0|n[e-2],o=(0|n[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}for(var i=0|t.h[0],r=0|t.h[1],s=0|t.h[2],h=0|t.h[3],l=0|t.h[4],u=0|t.h[5],c=0|t.h[6],o=0|t.h[7],e=0;64>e;e++)var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0,a=l&u^~l&c,o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0,a=a+(0|wt[e])|0,a=o+(a+(0|n[e])|0)|0,o=c,c=u,u=l,l=h+a|0,h=s,s=r,r=i,i=a+f|0;t.h[0]=t.h[0]+i|0,t.h[1]=t.h[1]+r|0,t.h[2]=t.h[2]+s|0,t.h[3]=t.h[3]+h|0,t.h[4]=t.h[4]+l|0,t.h[5]=t.h[5]+u|0,t.h[6]=t.h[6]+c|0,t.h[7]=t.h[7]+o|0};Nt.prototype.update=function(t,e){void 0===e&&(e=t.length);var n=0,i=this.eb;if(l(t))for(;n<e;)this.Zb[i++]=t.charCodeAt(n++),i==this.Ba&&(jt(this),i=0);else{if(!h(t))throw Error("message must be string or array");for(;n<e;){var r=t[n++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");this.Zb[i++]=r,i==this.Ba&&(jt(this),i=0)}}this.eb=i,this.Dc+=e},Nt.prototype.digest=function(){var t=[],e=8*this.Dc;56>this.eb?this.update(Et,56-this.eb):this.update(Et,this.Ba-(this.eb-56));for(var n=63;56<=n;n--)this.Zb[n]=255&e,e/=256;for(jt(this),n=e=0;n<this.nf;n++)for(var i=24;0<=i;i-=8)t[e++]=this.h[n]>>i&255;return t};var Lt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Ft=function(){Nt.call(this,8,Ot)};m(Ft,Nt);var Ot=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],It=function(){this.Ac="",this.ze=Bt};It.prototype.lc=!0,It.prototype.fc=function(){return this.Ac},It.prototype.toString=function(){return"Const{"+this.Ac+"}"};var Rt=function(t){return t instanceof It&&t.constructor===It&&t.ze===Bt?t.Ac:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")},Bt={},qt=function(t){var e=new It;return e.Ac=t,e};qt("");var zt=function(){this.uc="",this.Ae=Vt};zt.prototype.lc=!0,zt.prototype.fc=function(){return this.uc},zt.prototype.toString=function(){return"TrustedResourceUrl{"+this.uc+"}"};var Vt={},Ut=function(){this.na="",this.ye=Wt};Ut.prototype.lc=!0,Ut.prototype.fc=function(){return this.na},Ut.prototype.toString=function(){return"SafeUrl{"+this.na+"}"};var Ht=function(t){return t instanceof Ut&&t.constructor===Ut&&t.ye===Wt?t.na:(D("expected object of type SafeUrl, got '"+t+"' of type "+o(t)),"type_error:SafeUrl")},Gt=/^(?:(?:https?|mailto|ftp):|[^&:\/?#]*(?:[\/?#]|$))/i,_t=function(t){return t instanceof Ut?t:(t=t.lc?t.fc():String(t),Gt.test(t)||(t="about:invalid#zClosurez"),Kt(t))},Wt={},Kt=function(t){var e=new Ut;return e.na=t,e};Kt("about:blank");var Yt=function(){this.na="",this.xe=Jt};Yt.prototype.lc=!0,Yt.prototype.fc=function(){return this.na},Yt.prototype.toString=function(){return"SafeHtml{"+this.na+"}"};var $t=function(t){return t instanceof Yt&&t.constructor===Yt&&t.xe===Jt?t.na:(D("expected object of type SafeHtml, got '"+t+"' of type "+o(t)),"type_error:SafeHtml")},Jt={};Yt.prototype.df=function(t){return this.na=t,this};var Xt="StopIteration"in n?n.StopIteration:{message:"StopIteration",stack:""},Qt=function(){};Qt.prototype.next=function(){throw Xt},Qt.prototype.Be=function(){return this};var Zt=function(t,e){this.ea={},this.w=[],this.ub=this.o=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else t&&this.addAll(t)};Zt.prototype.X=function(){te(this);for(var t=[],e=0;e<this.w.length;e++)t.push(this.ea[this.w[e]]);return t},Zt.prototype.ma=function(){return te(this),this.w.concat()},Zt.prototype.wb=function(t){return ee(this.ea,t)},Zt.prototype.remove=function(t){return!!ee(this.ea,t)&&(delete this.ea[t],this.o--,this.ub++,this.w.length>2*this.o&&te(this),!0)};var te=function(t){if(t.o!=t.w.length){for(var e=0,n=0;e<t.w.length;){var i=t.w[e];ee(t.ea,i)&&(t.w[n++]=i),e++}t.w.length=n}if(t.o!=t.w.length){for(var r={},n=e=0;e<t.w.length;)i=t.w[e],ee(r,i)||(t.w[n++]=i,r[i]=1),e++;t.w.length=n}};t=Zt.prototype,t.get=function(t,e){return ee(this.ea,t)?this.ea[t]:e},t.set=function(t,e){ee(this.ea,t)||(this.o++,this.w.push(t),this.ub++),this.ea[t]=e},t.addAll=function(t){var e;t instanceof Zt?(e=t.ma(),t=t.X()):(e=K(t),t=W(t));for(var n=0;n<e.length;n++)this.set(e[n],t[n])},t.forEach=function(t,e){for(var n=this.ma(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}},t.clone=function(){return new Zt(this)},t.Be=function(t){te(this);var e=0,n=this.ub,i=this,r=new Qt;return r.next=function(){if(n!=i.ub)throw Error("The map has changed since the iterator was created");if(e>=i.w.length)throw Xt;var r=i.w[e++];return t?r:i.ea[r]},r};var ee=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},ne=function(t){if(t.X&&"function"==typeof t.X)return t.X();if(l(t))return t.split("");if(h(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}return W(t)},ie=function(t){if(t.ma&&"function"==typeof t.ma)return t.ma();if(!t.X||"function"!=typeof t.X){if(h(t)||l(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}return K(t)}},re=function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||l(t))F(t,e,void 0);else for(var n=ie(t),i=ne(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)},oe=function(t,e,n,i,r){this.reset(t,e,n,i,r)};oe.prototype.Pc=null;var ae=0;oe.prototype.reset=function(t,e,n,i,r){"number"==typeof r||ae++,this.qe=i||g(),this.Ja=t,this.Zd=e,this.Yd=n,delete this.Pc},oe.prototype.je=function(t){this.Ja=t};var se=function(t){this.lf=t,this.zb=this.Mc=this.Ja=this.s=null},he=function(t,e){this.name=t,this.value=e};he.prototype.toString=function(){return this.name};var le=new he("SHOUT",1200),ue=new he("SEVERE",1e3),ce=new he("WARNING",900),fe=new he("CONFIG",700),de=new he("FINE",500);se.prototype.getParent=function(){return this.s},se.prototype.je=function(t){this.Ja=t};var pe=function(t){return t.Ja?t.Ja:t.s?pe(t.s):(D("Root logger has no level set."),null)};se.prototype.log=function(t,e,i){if(t.value>=pe(this).value)for(c(e)&&(e=e()),t=new oe(t,String(e),this.lf),i&&(t.Pc=i),i="log:"+t.Zd,n.console&&(n.console.timeStamp?n.console.timeStamp(i):n.console.markTimeline&&n.console.markTimeline(i)),n.msWriteProfilerMark&&n.msWriteProfilerMark(i),i=this;i;){var r=i,o=t;if(r.zb)for(var a=0;e=r.zb[a];a++)e(o);i=i.getParent()}},se.prototype.xd=function(t,e){this.log(ce,t,e)};var ve={},ye=null,ge=function(){ye||(ye=new se(""),ve[""]=ye,ye.je(fe))},me=function(t){ge();var e;if(!(e=ve[t])){e=new se(t);var n=t.lastIndexOf("."),i=t.substr(n+1),n=me(t.substr(0,n));n.Mc||(n.Mc={}),n.Mc[i]=e,e.s=n,ve[t]=e}return e},be=function(){this.de=g()},we=new be;be.prototype.set=function(t){this.de=t},be.prototype.reset=function(){this.set(g())},be.prototype.get=function(){return this.de};var xe=function(t){this.uf=t||"",this.Nf=we};t=xe.prototype,t.yd=!0,t.me=!0,t.Lf=!0,t.Kf=!0,t.ne=!1,t.Mf=!1;var ke=function(t){return 10>t?"0"+t:String(t)},Te=function(t,e){t=(t.qe-e)/1e3,e=t.toFixed(3);var n=0;if(1>t)n=2;else for(;100>t;)n++,t*=10;for(;0<n--;)e=" "+e;return e},Se=function(t){xe.call(this,t)};m(Se,xe);var Me=function(){this.wf=v(this.Ee,this),this.bc=new Se,this.bc.me=!1,this.bc.ne=!1,this.Td=this.bc.yd=!1,this.Me={}};Me.prototype.Ee=function(t){if(!this.Me[t.Yd]){var e;e=this.bc;var n=[];if(n.push(e.uf," "),e.me){var i=new Date(t.qe);n.push("[",ke(i.getFullYear()-2e3)+ke(i.getMonth()+1)+ke(i.getDate())+" "+ke(i.getHours())+":"+ke(i.getMinutes())+":"+ke(i.getSeconds())+"."+ke(Math.floor(i.getMilliseconds()/10)),"] ")}if(e.Lf&&n.push("[",Te(t,e.Nf.get()),"s] "),e.Kf&&n.push("[",t.Yd,"] "),e.Mf&&n.push("[",t.Ja.name,"] "),n.push(t.Zd),e.ne&&(i=t.Pc)&&n.push("\n",i instanceof Error?i.message:i.toString()),e.yd&&n.push("\n"),e=n.join(""),n=Pe)switch(t.Ja){case le:Ce(n,"info",e);break;case ue:Ce(n,"error",e);break;case ce:Ce(n,"warn",e);break;default:Ce(n,"debug",e)}}};var Pe=n.console,Ce=function(t,e,n){t[e]?t[e](n):t.log(n)},Ne=!at||9<=Number(vt),De=at&&!mt("9");!ut||mt("528"),lt&&mt("1.9b")||at&&mt("8")||ot&&mt("9.5")||ut&&mt("528"),lt&&!mt("8")||at&&mt("9");var Ae=function(){this.Da=this.Da,this.rc=this.rc};Ae.prototype.Da=!1,Ae.prototype.isDisposed=function(){return this.Da},Ae.prototype.$a=function(){if(this.rc)for(;this.rc.length;)this.rc.shift()()};var Ee=function(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.kb=!1,this.fe=!0};Ee.prototype.preventDefault=function(){this.defaultPrevented=!0,this.fe=!1};var je=function(t,e){Ee.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.ab=this.state=null,t&&this.init(t,e)};m(je,Ee),je.prototype.init=function(t,e){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.currentTarget=e,e=t.relatedTarget){if(lt){var r;t:{try{nt(e.nodeName),r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===i?(this.offsetX=ut||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=ut||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.charCode=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.state=t.state,this.ab=t,t.defaultPrevented&&this.preventDefault()},je.prototype.preventDefault=function(){je.ud.preventDefault.call(this);var t=this.ab;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,De)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},je.prototype.Se=function(){return this.ab};var Le="closure_listenable_"+(1e6*Math.random()|0),Fe=0,Oe=function(t,e,n,i,r){this.listener=t,this.vc=null,this.src=e,this.type=n,this.capture=!!i,this.hc=r,this.key=++Fe,this.ob=this.Yb=!1},Ie=function(t){t.ob=!0,t.listener=null,t.vc=null,t.src=null,t.hc=null},Re=function(t){this.src=t,this.F={},this.Ub=0};Re.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.F[o])||(t=this.F[o]=[],this.Ub++);var a=qe(t,e,i,r);return-1<a?(e=t[a],n||(e.Yb=!1)):(e=new Oe(e,this.src,o,!!i,r),e.Yb=n,t.push(e)),e},Re.prototype.remove=function(t,e,n,i){if(!((t=t.toString())in this.F))return!1;var r=this.F[t];return-1<(e=qe(r,e,n,i))&&(Ie(r[e]),V(r,e),0==r.length&&(delete this.F[t],this.Ub--),!0)};var Be=function(t,e){var n=e.type;n in t.F&&z(t.F[n],e)&&(Ie(e),0==t.F[n].length&&(delete t.F[n],t.Ub--))};Re.prototype.Sc=function(t,e,n,i){t=this.F[t.toString()];var r=-1;return t&&(r=qe(t,e,n,i)),-1<r?t[r]:null};var qe=function(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ob&&o.listener==e&&o.capture==!!n&&o.hc==i)return r}return-1},ze="closure_lm_"+(1e6*Math.random()|0),Ve={},Ue=0,He=function(t,e,n,i,r){if(s(e))for(var o=0;o<e.length;o++)He(t,e[o],n,i,r);else n=en(n),t&&t[Le]?t.listen(e,n,i,r):Ge(t,e,n,!1,i,r)},Ge=function(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=!!r,s=Ze(t);if(s||(t[ze]=s=new Re(t)),n=s.add(e,n,i,r,o),!n.vc){if(i=_e(),n.vc=i,i.src=t,i.listener=n,t.addEventListener)t.addEventListener(e.toString(),i,a);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent($e(e.toString()),i)}Ue++}},_e=function(){var t=Qe,e=Ne?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e},We=function(t,e,n,i,r){if(s(e))for(var o=0;o<e.length;o++)We(t,e[o],n,i,r);else n=en(n),t&&t[Le]?Ti(t,e,n,i,r):Ge(t,e,n,!0,i,r)},Ke=function(t,e,n,i,r){if(s(e))for(var o=0;o<e.length;o++)Ke(t,e[o],n,i,r);else n=en(n),t&&t[Le]?t.da.remove(String(e),n,i,r):t&&(t=Ze(t))&&(e=t.Sc(e,n,!!i,r))&&Ye(e)},Ye=function(t){if(!u(t)&&t&&!t.ob){var e=t.src;if(e&&e[Le])Be(e.da,t);else{var n=t.type,i=t.vc;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent&&e.detachEvent($e(n),i),Ue--,(n=Ze(e))?(Be(n,t),0==n.Ub&&(n.src=null,e[ze]=null)):Ie(t)}}},$e=function(t){return t in Ve?Ve[t]:Ve[t]="on"+t},Je=function(t,e,n,i){var r=!0;if((t=Ze(t))&&(e=t.F[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ob&&(o=Xe(o,i),r=r&&!1!==o)}return r},Xe=function(t,e){var n=t.listener,i=t.hc||t.src;return t.Yb&&Ye(t),n.call(i,e)},Qe=function(t,e){if(t.ob)return!0;if(!Ne){if(!e)t:{e=["window","event"];for(var i,r=n;i=e.shift();){if(null==r[i]){e=null;break t}r=r[i]}e=r}if(i=e,e=new je(i,this),r=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.currentTarget;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;!e.kb&&0<=o;o--){e.currentTarget=i[o];var a=Je(i[o],t,!0,e),r=r&&a}for(o=0;!e.kb&&o<i.length;o++)e.currentTarget=i[o],a=Je(i[o],t,!1,e),r=r&&a}return r}return Xe(t,new je(e,this))},Ze=function(t){return t=t[ze],t instanceof Re?t:null},tn="__closure_events_fn_"+(1e9*Math.random()>>>0),en=function(t){return N(t,"Listener can not be null."),c(t)?t:(N(t.handleEvent,"An object listener must have handleEvent method."),t[tn]||(t[tn]=function(e){return t.handleEvent(e)}),t[tn])},nn=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,rn=function(t){var e=[];return an(new on,t,e),e.join("")},on=function(){this.wc=void 0},an=function(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(s(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;o<e;o++)n.push(r),r=i[o],an(t,t.wc?t.wc.call(i,String(o),r):r,n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),o="";for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(r=e[i])&&(n.push(o),ln(i,n),n.push(":"),an(t,t.wc?t.wc.call(e,i,r):r,n),o=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ln(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}},sn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},hn=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,ln=function(t,e){e.push('"',t.replace(hn,function(t){var e=sn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sn[t]=e),e}),'"')},un=function(){};un.prototype.Ad=null;var cn,fn=function(t){return t.Ad||(t.Ad=t.Zc())},dn=function(){};m(dn,un),dn.prototype.$b=function(){var t=pn(this);return t?new ActiveXObject(t):new XMLHttpRequest},dn.prototype.Zc=function(){var t={};return pn(this)&&(t[0]=!0,t[1]=!0),t};var pn=function(t){if(!t.Qd&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.Qd=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.Qd};cn=new dn;var vn=function(){};m(vn,un),vn.prototype.$b=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new yn;throw Error("Unsupported browser")},vn.prototype.Zc=function(){return{}};var yn=function(){this.qa=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.qa.onload=v(this.Ve,this),this.qa.onerror=v(this.Od,this),this.qa.onprogress=v(this.We,this),this.qa.ontimeout=v(this.Xe,this)};t=yn.prototype,t.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.qa.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.qa.send(t)}else this.qa.send()},t.abort=function(){this.qa.abort()},t.setRequestHeader=function(){},t.Ve=function(){this.status=200,this.responseText=this.qa.responseText,gn(this,4)},t.Od=function(){this.status=500,this.responseText="",gn(this,4)},t.Xe=function(){this.Od()},t.We=function(){this.status=200,gn(this,1)};var gn=function(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()};!lt&&!at||at&&9<=Number(vt)||lt&&mt("1.9.1"),at&&mt("9");var mn=function(t,e){_(e,function(e,n){"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:bn.hasOwnProperty(n)?t.setAttribute(bn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})},bn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},wn=function(t,e,n){this.hf=n,this.Ie=t,this.Af=e,this.qc=0,this.ic=null};wn.prototype.get=function(){var t;return 0<this.qc?(this.qc--,t=this.ic,this.ic=t.next,t.next=null):t=this.Ie(),t},wn.prototype.put=function(t){this.Af(t),this.qc<this.hf&&(this.qc++,t.next=this.ic,this.ic=t)};var xn,kn=function(t){n.setTimeout(function(){throw t},0)},Tn=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!et("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=v(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!et("Trident")&&!et("MSIE")){var e=new t,i={},r=i;return e.port1.onmessage=function(){if(void 0!==i.next){i=i.next;var t=i.Dd;i.Dd=null,t()}},function(t){r.next={Dd:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}},Sn=function(){this.Gc=this.Va=null},Mn=new wn(function(){return new Pn},function(t){t.reset()},100);Sn.prototype.add=function(t,e){var n=Mn.get();n.set(t,e),this.Gc?this.Gc.next=n:(N(!this.Va),this.Va=n),this.Gc=n},Sn.prototype.remove=function(){var t=null;return this.Va&&(t=this.Va,this.Va=this.Va.next,this.Va||(this.Gc=null),t.next=null),t};var Pn=function(){this.next=this.scope=this.Rc=null};Pn.prototype.set=function(t,e){this.Rc=t,this.scope=e,this.next=null},Pn.prototype.reset=function(){this.next=this.scope=this.Rc=null};var Cn,Nn=function(t,e){Cn||Dn(),An||(Cn(),An=!0),En.add(t,e)},Dn=function(){if(-1!=String(n.Promise).indexOf("[native code]")){var t=n.Promise.resolve(void 0);Cn=function(){t.then(jn)}}else Cn=function(){var t=jn;!c(n.setImmediate)||n.Window&&n.Window.prototype&&!et("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(xn||(xn=Tn()),xn(t)):n.setImmediate(t)}},An=!1,En=new Sn,jn=function(){for(var t;t=En.remove();){try{t.Rc.call(t.scope)}catch(t){kn(t)}Mn.put(t)}An=!1},Ln=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},Fn=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}},On=function(t,e){if(this.N=0,this.oa=void 0,this.Ya=this.la=this.s=null,this.gc=this.Qc=!1,t!=r)try{var n=this;t.call(e,function(t){Kn(n,2,t)},function(t){if(!(t instanceof ni))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Kn(n,3,t)})}catch(t){Kn(this,3,t)}},In=function(){this.next=this.context=this.gb=this.Ma=this.child=null,this.vb=!1};In.prototype.reset=function(){this.context=this.gb=this.Ma=this.child=null,this.vb=!1};var Rn=new wn(function(){return new In},function(t){t.reset()},100),Bn=function(t,e,n){var i=Rn.get();return i.Ma=t,i.gb=e,i.context=n,i},qn=function(t){if(t instanceof On)return t;var e=new On(r);return Kn(e,2,t),e},zn=function(t){return new On(function(e,n){n(t)})},Vn=function(t,e,n){Yn(t,e,n,null)||Nn(y(e,t))},Un=function(t){return new On(function(e){var n=t.length,i=[];if(n)for(var r,o=function(t,r,o){n--,i[t]=r?{Qe:!0,value:o}:{Qe:!1,reason:o},0==n&&e(i)},a=0;a<t.length;a++)r=t[a],Vn(r,y(o,a,!0),y(o,a,!1));else e(i)})};On.prototype.then=function(t,e,n){return null!=t&&j(t,"opt_onFulfilled should be a function."),null!=e&&j(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Wn(this,c(t)?t:null,c(e)?e:null,n)},Ln(On);var Hn=function(t,e){return e=Bn(e,e,void 0),e.vb=!0,_n(t,e),t};On.prototype.f=function(t,e){return Wn(this,null,t,e)},On.prototype.cancel=function(t){0==this.N&&Nn(function(){var e=new ni(t);Gn(this,e)},this)};var Gn=function(t,e){if(0==t.N)if(t.s){var n=t.s;if(n.la){for(var i=0,r=null,o=null,a=n.la;a&&(a.vb||(i++,a.child==t&&(r=a),!(r&&1<i)));a=a.next)r||(o=a);r&&(0==n.N&&1==i?Gn(n,e):(o?(i=o,N(n.la),N(null!=i),i.next==n.Ya&&(n.Ya=i),i.next=i.next.next):Xn(n),Qn(n,r,3,e)))}t.s=null}else Kn(t,3,e)},_n=function(t,e){t.la||2!=t.N&&3!=t.N||Jn(t),N(null!=e.Ma),t.Ya?t.Ya.next=e:t.la=e,t.Ya=e},Wn=function(t,e,n,i){var r=Bn(null,null,null);return r.child=new On(function(t,o){r.Ma=e?function(n){try{var r=e.call(i,n);t(r)}catch(t){o(t)}}:t,r.gb=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof ni?o(e):t(r)}catch(t){o(t)}}:o}),r.child.s=t,_n(t,r),r.child};On.prototype.Rf=function(t){N(1==this.N),this.N=0,Kn(this,2,t)},On.prototype.Sf=function(t){N(1==this.N),this.N=0,Kn(this,3,t)};var Kn=function(t,e,n){0==t.N&&(t===n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.N=1,Yn(n,t.Rf,t.Sf,t)||(t.oa=n,t.N=e,t.s=null,Jn(t),3!=e||n instanceof ni||ti(t,n)))},Yn=function(t,e,n,i){if(t instanceof On)return null!=e&&j(e,"opt_onFulfilled should be a function."),null!=n&&j(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),_n(t,Bn(e||r,n||null,i)),!0;if(Fn(t))return t.then(e,n,i),!0;if(f(t))try{var o=t.then;if(c(o))return $n(t,o,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1},$n=function(t,e,n,i,r){var o=!1,a=function(t){o||(o=!0,n.call(r,t))},s=function(t){o||(o=!0,i.call(r,t))};try{e.call(t,a,s)}catch(t){s(t)}},Jn=function(t){t.Qc||(t.Qc=!0,Nn(t.Le,t))},Xn=function(t){var e=null;return t.la&&(e=t.la,t.la=e.next,e.next=null),t.la||(t.Ya=null),null!=e&&N(null!=e.Ma),e};On.prototype.Le=function(){for(var t;t=Xn(this);)Qn(this,t,this.N,this.oa);this.Qc=!1};var Qn=function(t,e,n,i){if(3==n&&e.gb&&!e.vb)for(;t&&t.gc;t=t.s)t.gc=!1;if(e.child)e.child.s=null,Zn(e,n,i);else try{e.vb?e.Ma.call(e.context):Zn(e,n,i)}catch(t){ei.call(null,t)}Rn.put(e)},Zn=function(t,e,n){2==e?t.Ma.call(t.context,n):t.gb&&t.gb.call(t.context,n)},ti=function(t,e){t.gc=!0,Nn(function(){t.gc&&ei.call(null,e)})},ei=kn,ni=function(t){b.call(this,t)};m(ni,b),ni.prototype.name="cancel";var ii=function(t,e){this.xc=[],this.$d=t,this.Gd=e||null,this.yb=this.bb=!1,this.oa=void 0,this.rd=this.zd=this.Kc=!1,this.Ec=0,this.s=null,this.Lc=0};ii.prototype.cancel=function(t){if(this.bb)this.oa instanceof ii&&this.oa.cancel();else{if(this.s){var e=this.s;delete this.s,t?e.cancel(t):0>=--e.Lc&&e.cancel()}this.$d?this.$d.call(this.Gd,this):this.rd=!0,this.bb||ai(this,new di)}},ii.prototype.Ed=function(t,e){this.Kc=!1,ri(this,t,e)};var ri=function(t,e,n){t.bb=!0,t.oa=n,t.yb=!e,ci(t)},oi=function(t){if(t.bb){if(!t.rd)throw new fi;t.rd=!1}};ii.prototype.callback=function(t){oi(this),si(t),ri(this,!0,t)};var ai=function(t,e){oi(t),si(e),ri(t,!1,e)},si=function(t){N(!(t instanceof ii),"An execution sequence may not be initiated with a blocking Deferred.")},hi=function(t){var e=yi("https://apis.google.com/js/client.js?onload="+Go);li(e,null,t,void 0)},li=function(t,e,n,i){N(!t.zd,"Blocking Deferreds can not be re-used"),t.xc.push([e,n,i]),t.bb&&ci(t)};ii.prototype.then=function(t,e,n){var i,r,o=new On(function(t,e){i=t,r=e});return li(this,i,function(t){t instanceof di?o.cancel():r(t)}),o.then(t,e,n)},Ln(ii);var ui=function(t){return R(t.xc,function(t){return c(t[1])})},ci=function(t){if(t.Ec&&t.bb&&ui(t)){var e=t.Ec,i=vi[e];i&&(n.clearTimeout(i.Ab),delete vi[e]),t.Ec=0}t.s&&(t.s.Lc--,delete t.s);for(var e=t.oa,r=i=!1;t.xc.length&&!t.Kc;){var o=t.xc.shift(),a=o[0],s=o[1],o=o[2];if(a=t.yb?s:a)try{var h=a.call(o||t.Gd,e);void 0!==h&&(t.yb=t.yb&&(h==e||h instanceof Error),t.oa=e=h),(Fn(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(r=!0,t.Kc=!0)}catch(n){e=n,t.yb=!0,ui(t)||(i=!0)}}t.oa=e,r&&(h=v(t.Ed,t,!0),r=v(t.Ed,t,!1),e instanceof ii?(li(e,h,r),e.zd=!0):e.then(h,r)),i&&(e=new pi(e),vi[e.Ab]=e,t.Ec=e.Ab)},fi=function(){b.call(this)};m(fi,b),fi.prototype.message="Deferred has already fired",fi.prototype.name="AlreadyCalledError";var di=function(){b.call(this)};m(di,b),di.prototype.message="Deferred was canceled",di.prototype.name="CanceledError";var pi=function(t){this.Ab=n.setTimeout(v(this.Qf,this),0),this.P=t};pi.prototype.Qf=function(){throw N(vi[this.Ab],"Cannot throw an error that is not scheduled."),delete vi[this.Ab],this.P};var vi={},yi=function(t){var e=new zt;return e.uc=t,gi(e)},gi=function(t){var e,n={},i=n.document||document;t instanceof zt&&t.constructor===zt&&t.Ae===Vt?e=t.uc:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+o(t)),e="type_error:TrustedResourceUrl");var r=document.createElement("SCRIPT");t={ge:r,Tb:void 0};var a=new ii(bi,t),s=null,h=null!=n.timeout?n.timeout:5e3;return 0<h&&(s=window.setTimeout(function(){wi(r,!0),ai(a,new xi(1,"Timeout reached for loading script "+e))},h),t.Tb=s),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(wi(r,n.bg||!1,s),a.callback(null))},r.onerror=function(){wi(r,!0,s),ai(a,new xi(0,"Error while loading script "+e))},t=n.attributes||{},Q(t,{type:"text/javascript",charset:"UTF-8",src:e}),mn(r,t),mi(i).appendChild(r),a},mi=function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement},bi=function(){if(this&&this.ge){var t=this.ge;t&&"SCRIPT"==t.tagName&&wi(t,!0,this.Tb)}},wi=function(t,e,i){null!=i&&n.clearTimeout(i),t.onload=r,t.onerror=r,t.onreadystatechange=r,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)},xi=function(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),b.call(this,n),this.code=t};m(xi,b);var ki=function(){Ae.call(this),this.da=new Re(this),this.Ce=this,this.ed=null};m(ki,Ae),ki.prototype[Le]=!0,t=ki.prototype,t.addEventListener=function(t,e,n,i){He(this,t,e,n,i)},t.removeEventListener=function(t,e,n,i){Ke(this,t,e,n,i)},t.dispatchEvent=function(t){Mi(this);var e,n=this.ed;if(n){e=[];for(var i=1;n;n=n.ed)e.push(n),N(1e3>++i,"infinite loop")}if(n=this.Ce,i=t.type||t,l(t))t=new Ee(t,n);else if(t instanceof Ee)t.target=t.target||n;else{var r=t;t=new Ee(i,n),Q(t,r)}var o,r=!0;if(e)for(var a=e.length-1;!t.kb&&0<=a;a--)o=t.currentTarget=e[a],r=Si(o,i,!0,t)&&r;if(t.kb||(o=t.currentTarget=n,r=Si(o,i,!0,t)&&r,t.kb||(r=Si(o,i,!1,t)&&r)),e)for(a=0;!t.kb&&a<e.length;a++)o=t.currentTarget=e[a],r=Si(o,i,!1,t)&&r;return r},t.$a=function(){if(ki.ud.$a.call(this),this.da){var t,e=this.da,n=0;for(t in e.F){for(var i=e.F[t],r=0;r<i.length;r++)++n,Ie(i[r]);delete e.F[t],e.Ub--}}this.ed=null},t.listen=function(t,e,n,i){return Mi(this),this.da.add(String(t),e,!1,n,i)};var Ti=function(t,e,n,i,r){t.da.add(String(e),n,!0,i,r)},Si=function(t,e,n,i){if(!(e=t.da.F[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ob&&a.capture==n){var s=a.listener,h=a.hc||a.src;a.Yb&&Be(t.da,a),r=!1!==s.call(h,i)&&r}}return r&&0!=i.fe};ki.prototype.Sc=function(t,e,n,i){return this.da.Sc(String(t),e,n,i)};var Mi=function(t){N(t.da,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},Pi=function(t,e){t&&t.log(de,e,void 0)},Ci=function(t,e,i){if(c(t))i&&(t=v(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)},Ni=function(t){var e=null;return new On(function(n,i){-1==(e=Ci(function(){n(void 0)},t))&&i(Error("Failed to schedule timer."))}).f(function(t){throw n.clearTimeout(e),t})},Di=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Ai=function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i,r=t[n].indexOf("="),o=null;0<=r?(i=t[n].substring(0,r),o=t[n].substring(r+1)):i=t[n],e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}},Ei=function(t){ki.call(this),this.headers=new Zt,this.Ic=t||null,this.ra=!1,this.Hc=this.b=null,this.Db=this.Vd=this.oc="",this.Ha=this.Wc=this.mc=this.Oc=!1,this.rb=0,this.Cc=null,this.ee="",this.Fc=this.vf=this.we=!1};m(Ei,ki),Ei.prototype.G=me("goog.net.XhrIo");var ji=/^https?$/i,Li=["POST","PUT"];Ei.prototype.send=function(t,e,i,r){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.oc+"; newUri="+t);e=e?e.toUpperCase():"GET",this.oc=t,this.Db="",this.Vd=e,this.Oc=!1,this.ra=!0,this.b=this.Ic?this.Ic.$b():cn.$b(),this.Hc=fn(this.Ic?this.Ic:cn),this.b.onreadystatechange=v(this.be,this),this.vf&&"onprogress"in this.b&&(this.b.onprogress=v(function(t){this.ae(t,!0)},this),this.b.upload&&(this.b.upload.onprogress=v(this.ae,this)));try{Pi(this.G,Gi(this,"Opening Xhr")),this.Wc=!0,this.b.open(e,String(t),!0),this.Wc=!1}catch(t){return Pi(this.G,Gi(this,"Error opening Xhr: "+t.message)),void this.P(5,t)}t=i||"";var o=this.headers.clone();r&&re(r,function(t,e){o.set(e,t)}),r=B(o.ma()),i=n.FormData&&t instanceof n.FormData,!q(Li,e)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.b.setRequestHeader(e,t)},this),this.ee&&(this.b.responseType=this.ee),"withCredentials"in this.b&&this.b.withCredentials!==this.we&&(this.b.withCredentials=this.we);try{zi(this),0<this.rb&&(this.Fc=Fi(this.b),Pi(this.G,Gi(this,"Will abort after "+this.rb+"ms if incomplete, xhr2 "+this.Fc)),this.Fc?(this.b.timeout=this.rb,this.b.ontimeout=v(this.Tb,this)):this.Cc=Ci(this.Tb,this.rb,this)),Pi(this.G,Gi(this,"Sending request")),this.mc=!0,this.b.send(t),this.mc=!1}catch(t){Pi(this.G,Gi(this,"Send error: "+t.message)),this.P(5,t)}};var Fi=function(t){return at&&mt(9)&&u(t.timeout)&&void 0!==t.ontimeout},Oi=function(t){return"content-type"==t.toLowerCase()};Ei.prototype.Tb=function(){void 0!==e&&this.b&&(this.Db="Timed out after "+this.rb+"ms, aborting",Pi(this.G,Gi(this,this.Db)),this.dispatchEvent("timeout"),this.abort(8))},Ei.prototype.P=function(t,e){this.ra=!1,this.b&&(this.Ha=!0,this.b.abort(),this.Ha=!1),this.Db=e,Ii(this),qi(this)};var Ii=function(t){t.Oc||(t.Oc=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))};Ei.prototype.abort=function(){this.b&&this.ra&&(Pi(this.G,Gi(this,"Aborting")),this.ra=!1,this.Ha=!0,this.b.abort(),this.Ha=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),qi(this))},Ei.prototype.$a=function(){this.b&&(this.ra&&(this.ra=!1,this.Ha=!0,this.b.abort(),this.Ha=!1),qi(this,!0)),Ei.ud.$a.call(this)},Ei.prototype.be=function(){this.isDisposed()||(this.Wc||this.mc||this.Ha?Ri(this):this.qf())},Ei.prototype.qf=function(){Ri(this)};var Ri=function(t){if(t.ra&&void 0!==e)if(t.Hc[1]&&4==Vi(t)&&2==Ui(t))Pi(t.G,Gi(t,"Local request error detected and ignored"));else if(t.mc&&4==Vi(t))Ci(t.be,0,t);else if(t.dispatchEvent("readystatechange"),4==Vi(t)){Pi(t.G,Gi(t,"Request complete")),t.ra=!1;try{var i,r=Ui(t);t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:i=!0;break t;default:i=!1}var o;if(!(o=i)){var a;if(a=0===r){var s=String(t.oc).match(Di)[1]||null;if(!s&&n.self&&n.self.location)var h=n.self.location.protocol,s=h.substr(0,h.length-1);a=!ji.test(s?s.toLowerCase():"")}o=a}if(o)t.dispatchEvent("complete"),t.dispatchEvent("success");else{var l;try{l=2<Vi(t)?t.b.statusText:""}catch(e){Pi(t.G,"Can not get status: "+e.message),l=""}t.Db=l+" ["+Ui(t)+"]",Ii(t)}}finally{qi(t)}}};Ei.prototype.ae=function(t,e){N("progress"===t.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(Bi(t,"progress")),this.dispatchEvent(Bi(t,e?"downloadprogress":"uploadprogress"))};var Bi=function(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}},qi=function(t,e){if(t.b){zi(t);var n=t.b,i=t.Hc[0]?r:null;t.b=null,t.Hc=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){(t=t.G)&&t.log(ue,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},zi=function(t){t.b&&t.Fc&&(t.b.ontimeout=null),u(t.Cc)&&(n.clearTimeout(t.Cc),t.Cc=null)},Vi=function(t){return t.b?t.b.readyState:0},Ui=function(t){try{return 2<Vi(t)?t.b.status:-1}catch(t){return-1}},Hi=function(t){try{return t.b?t.b.responseText:""}catch(e){return Pi(t.G,"Can not get responseText: "+e.message),""}},Gi=function(t,e){return e+" ["+t.Vd+" "+t.oc+" "+Ui(t)+"]"},_i=function(t,e){this.ca=this.Ta=this.fa="",this.ib=null,this.Ga=this.ta="",this.S=this.gf=!1;var n;t instanceof _i?(this.S=void 0!==e?e:t.S,Wi(this,t.fa),n=t.Ta,tr(this),this.Ta=n,Ki(this,t.ca),Yi(this,t.ib),$i(this,t.ta),Ji(this,t.V.clone()),t=t.Ga,tr(this),this.Ga=t):t&&(n=String(t).match(Di))?(this.S=!!e,Wi(this,n[1]||"",!0),t=n[2]||"",tr(this),this.Ta=ir(t),Ki(this,n[3]||"",!0),Yi(this,n[4]),$i(this,n[5]||"",!0),Ji(this,n[6]||"",!0),t=n[7]||"",tr(this),this.Ga=ir(t)):(this.S=!!e,this.V=new cr(null,0,this.S))};_i.prototype.toString=function(){var t=[],e=this.fa;e&&t.push(rr(e,ar,!0),":");var n=this.ca;return(n||"file"==e)&&(t.push("//"),(e=this.Ta)&&t.push(rr(e,ar,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.ib)&&t.push(":",String(n))),(n=this.ta)&&(this.ca&&"/"!=n.charAt(0)&&t.push("/"),t.push(rr(n,"/"==n.charAt(0)?hr:sr,!0))),(n=this.V.toString())&&t.push("?",n),(n=this.Ga)&&t.push("#",rr(n,ur)),t.join("")},_i.prototype.resolve=function(t){var e=this.clone(),n=!!t.fa;if(n?Wi(e,t.fa):n=!!t.Ta,n){var i=t.Ta;tr(e),e.Ta=i}else n=!!t.ca;if(n?Ki(e,t.ca):n=null!=t.ib,i=t.ta,n)Yi(e,t.ib);else if(n=!!t.ta){if("/"!=i.charAt(0))if(this.ca&&!this.ta)i="/"+i;else{var r=e.ta.lastIndexOf("/");-1!=r&&(i=e.ta.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(T(r,"./")||T(r,"/.")){for(var i=0==r.lastIndexOf("/",0),r=r.split("/"),o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?$i(e,i):n=""!==t.V.toString(),n?Ji(e,t.V.clone()):n=!!t.Ga,n&&(t=t.Ga,tr(e),e.Ga=t),e},_i.prototype.clone=function(){return new _i(this)};var Wi=function(t,e,n){tr(t),t.fa=n?ir(e,!0):e,t.fa&&(t.fa=t.fa.replace(/:$/,""))},Ki=function(t,e,n){tr(t),t.ca=n?ir(e,!0):e},Yi=function(t,e){if(tr(t),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.ib=e}else t.ib=null},$i=function(t,e,n){tr(t),t.ta=n?ir(e,!0):e},Ji=function(t,e,n){tr(t),e instanceof cr?(t.V=e,t.V.qd(t.S)):(n||(e=rr(e,lr)),t.V=new cr(e,0,t.S))},Xi=function(t,e,n){tr(t),t.V.set(e,n)},Qi=function(t,e){return t.V.get(e)},Zi=function(t,e){tr(t),t.V.remove(e)},tr=function(t){if(t.gf)throw Error("Tried to modify a read-only Uri")};_i.prototype.qd=function(t){return this.S=t,this.V&&this.V.qd(t),this};var er=function(t){return t instanceof _i?t.clone():new _i(t,void 0)},nr=function(t,e){var n=new _i(null,void 0);return Wi(n,"https"),t&&Ki(n,t),e&&$i(n,e),n},ir=function(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""},rr=function(t,e,n){return l(t)?(t=encodeURI(t).replace(e,or),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null},or=function(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)},ar=/[#\/\?@]/g,sr=/[\#\?:]/g,hr=/[\#\?]/g,lr=/[\#\?@]/g,ur=/#/g,cr=function(t,e,n){this.o=this.l=null,this.O=t||null,this.S=!!n},fr=function(t){t.l||(t.l=new Zt,t.o=0,t.O&&Ai(t.O,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))},dr=function(t){var e=ie(t);if(void 0===e)throw Error("Keys are undefined");var n=new cr(null,0,void 0);t=ne(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];s(o)?pr(n,r,o):n.add(r,o)}return n};t=cr.prototype,t.add=function(t,e){fr(this),this.O=null,t=this.R(t);var n=this.l.get(t);return n||this.l.set(t,n=[]),n.push(e),this.o=A(this.o)+1,this},t.remove=function(t){return fr(this),t=this.R(t),!!this.l.wb(t)&&(this.O=null,this.o=A(this.o)-this.l.get(t).length,this.l.remove(t))},t.wb=function(t){return fr(this),t=this.R(t),this.l.wb(t)},t.ma=function(){fr(this);for(var t=this.l.X(),e=this.l.ma(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.X=function(t){fr(this);var e=[];if(l(t))this.wb(t)&&(e=H(e,this.l.get(this.R(t))));else{t=this.l.X();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},t.set=function(t,e){return fr(this),this.O=null,t=this.R(t),this.wb(t)&&(this.o=A(this.o)-this.l.get(t).length),this.l.set(t,[e]),this.o=A(this.o)+1,this},t.get=function(t,e){return t=t?this.X(t):[],0<t.length?String(t[0]):e};var pr=function(t,e,n){t.remove(e),0<n.length&&(t.O=null,t.l.set(t.R(e),G(n)),t.o=A(t.o)+n.length)};cr.prototype.toString=function(){if(this.O)return this.O;if(!this.l)return"";for(var t=[],e=this.l.ma(),n=0;n<e.length;n++)for(var i=e[n],r=encodeURIComponent(String(i)),i=this.X(i),o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}return this.O=t.join("&")},cr.prototype.clone=function(){var t=new cr;return t.O=this.O,this.l&&(t.l=this.l.clone(),t.o=this.o),t},cr.prototype.R=function(t){return t=String(t),this.S&&(t=t.toLowerCase()),t},cr.prototype.qd=function(t){t&&!this.S&&(fr(this),this.O=null,this.l.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),pr(this,n,t))},this)),this.S=t};var vr=function(){var t=Lr();return at&&!!vt&&11==vt||/Edge\/\d+/.test(t)},yr=function(){return n.window&&n.window.location.href||""},gr=function(t,e){e=e||n.window;var i="about:blank";t&&(i=Ht(_t(t))),e.location.href=i},mr=function(t,e){var n,i=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?i.push(n):s(t[n])?$(t[n],e[n])||i.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<mr(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n):i.push(n);for(n in e)n in t||i.push(n);return i},br=function(){var t;return t=Lr(),!((t="Chrome"!=Er(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!at||!vt||9<vt)},wr=function(t){return t=(t||Lr()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))},xr=function(t){t=t||n.window;try{t.close()}catch(t){}},kr=function(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Lr().toLowerCase(),i&&(e.target=i,T(n,"crios/")&&(e.target="_blank")),"Firefox"==Er(Lr())&&(t=t||"http://localhost",e.scrollbars=!0);var a;n=t||"about:blank",(i=e)||(i={}),t=window,e=n instanceof Ut?n:_t(void 0!==n.href?n.href:String(n)),n=i.target||n.target,r=[];for(a in i)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+i[a]);break;case"target":case"noreferrer":break;default:r.push(a+"="+(i[a]?1:0))}if(a=r.join(","),(et("iPhone")&&!et("iPod")&&!et("iPad")||et("iPad")||et("iPod"))&&t.navigator&&t.navigator.standalone&&n&&"_self"!=n?(a=t.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&(r=a&&(a instanceof HTMLAnchorElement||!(a instanceof Location||a instanceof Element)),o=f(a)?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):void 0===a?"undefined":null===a?"null":typeof a,N(r,"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",o)),e=e instanceof Ut?e:_t(e),a.href=Ht(e),a.setAttribute("target",n),i.noreferrer&&a.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,t,1),a.dispatchEvent(i),a={}):i.noreferrer?(a=t.open("",n,a),i=Ht(e),a&&(ht&&T(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),a.opener=null,t=qt("b/12014412, meta tag with sanitized URL"),k.test(i)&&(-1!=i.indexOf("&")&&(i=i.replace(/&/g,"&amp;")),-1!=i.indexOf("<")&&(i=i.replace(/</g,"&lt;")),-1!=i.indexOf(">")&&(i=i.replace(/>/g,"&gt;")),-1!=i.indexOf('"')&&(i=i.replace(/"/g,"&quot;")),-1!=i.indexOf("'")&&(i=i.replace(/'/g,"&#39;")),-1!=i.indexOf("\0")&&(i=i.replace(/\x00/g,"&#0;"))),i='<META HTTP-EQUIV="refresh" content="0; url='+i+'">',E(Rt(t),"must provide justification"),N(!/^[\s\xa0]*$/.test(Rt(t)),"must provide non-empty justification"),a.document.write($t((new Yt).df(i))),a.document.close())):a=t.open(Ht(e),n,a),a)try{a.focus()}catch(t){}return a},Tr=function(t){return new On(function(e){var n=function(){Ni(2e3).then(function(){if(t&&!t.closed)return n();e()})};return n()})},Sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mr=function(){var t=null;return new On(function(e){"complete"==n.document.readyState?e():(t=function(){e()},We(window,"load",t))}).f(function(e){throw Ke(window,"load",t),e})},Pr=function(){return Cr(void 0)?Mr().then(function(){return new On(function(t,e){var i=n.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);i.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):zn(Error("Cordova must run in an Android or iOS file scheme."))},Cr=function(t){return t=t||Lr(),!("file:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))},Nr=function(){var t=n.window;try{return!(!t||t==t.top)}catch(t){return!1}},Dr=function(){return i.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},Ar=function(){var t=Dr();return"ReactNative"===t||"Node"===t},Er=function(t){var e=t.toLowerCase();return T(e,"opera/")||T(e,"opr/")||T(e,"opios/")?"Opera":T(e,"iemobile")?"IEMobile":T(e,"msie")||T(e,"trident/")?"IE":T(e,"edge/")?"Edge":T(e,"firefox/")?"Firefox":T(e,"silk/")?"Silk":T(e,"blackberry")?"Blackberry":T(e,"webos")?"Webos":!T(e,"safari/")||T(e,"chrome/")||T(e,"crios/")||T(e,"android")?!T(e,"chrome/")&&!T(e,"crios/")||T(e,"edge/")?T(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"},jr=function(t){var e=Dr();return("Browser"===e?Er(Lr()):e)+"/JsCore/"+t},Lr=function(){return n.navigator&&n.navigator.userAgent||""},Fr=function(t,e){t=t.split("."),e=e||n;for(var i=0;i<t.length&&"object"==typeof e&&null!=e;i++)e=e[t[i]];return i!=t.length&&(e=void 0),e},Or=function(){var t;if(t=(Ir()||"chrome-extension:"===Rr()||Cr()&&!1)&&!Ar())t:{try{var e=n.localStorage,i=Ur();if(e){e.setItem(i,"1"),e.removeItem(i),t=!vr()||!!n.indexedDB;break t}}catch(t){}t=!1}return t},Ir=function(){return"http:"===Rr()||"https:"===Rr()},Rr=function(){return n.location&&n.location.protocol||null},Br=function(t){return t=t||Lr(),!wr(t)&&"Firefox"!=Er(t)},qr=function(t){return void 0===t?null:rn(t)},zr=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n},Vr=function(t){if(null!==t)return JSON.parse(t)},Ur=function(t){return t?t:""+Math.floor(1e9*Math.random()).toString()},Hr=function(t){return t=t||Lr(),"Safari"!=Er(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)},Gr=function(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var i=0;i<t.CP.length;i++)t.CP[i]=null},_r=function(){return!n.navigator||"boolean"!=typeof n.navigator.onLine||n.navigator.onLine},Wr=function(t,e,n,i){if(t>e)throw Error("Short delay should be less than long delay!");this.Jf=t,this.kf=e,t=n||Lr(),i=i||Dr(),this.ff=wr(t)||"ReactNative"===i};Wr.prototype.get=function(){return this.ff?this.kf:this.Jf};var Kr=function(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState},Yr=function(){var t=n.document,e=null;return Kr()||!t?qn():new On(function(n){e=function(){Kr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).f(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})},$r=function(t){var e=this.jf=new Me;if(1!=e.Td){ge();var n=ye,i=e.wf;n.zb||(n.zb=[]),n.zb.push(i),e.Td=!0}this.G=t||me("firebase-auth")};$r.Yc=void 0,$r.Te=function(){return $r.Yc?$r.Yc:$r.Yc=new $r},$r.prototype.xd=function(t,e){var n=this.G;n&&n.xd(t,e)},$r.prototype.error=function(t,e){var n=this.G;n&&n.log(ue,t,e)};var Jr,Xr={};try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Jr=2==Qr.abcd}catch(t){Jr=!1}var Zr=function(t,e,n){Jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n},to=function(t){Jr?Object.defineProperty(t,"provider",{configurable:!0,enumerable:!0,get:function(){return Xr["firebase.auth.AuthCredential.provider is deprecated. Please use the providerId field instead."]||(Xr["firebase.auth.AuthCredential.provider is deprecated. Please use the providerId field instead."]=!0,$r.Te().xd("firebase.auth.AuthCredential.provider is deprecated. Please use the providerId field instead.")),"password"}}):t.provider="password"},eo=function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Zr(t,n,e[n])},no=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},io=function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(void 0===i||null===i||""===i)return!1}return!0},ro=function(t){var e=t;if("object"==typeof t&&null!=t){var n,e="length"in t?[]:{};for(n in t)Zr(e,n,ro(t[n]))}return e},oo="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ao=["client_id","response_type","scope","redirect_uri","state"],so={Xf:{Hb:500,Gb:600,providerId:"facebook.com",nd:ao},Yf:{Hb:500,Gb:620,providerId:"github.com",nd:ao},Zf:{Hb:515,Gb:680,providerId:"google.com",nd:ao},$f:{Hb:485,Gb:705,providerId:"twitter.com",nd:oo}},ho=function(t){for(var e in so)if(so[e].providerId==t)return so[e];return null},lo=function(t,e){this.code="auth/"+t,this.message=e||co[t]||""};m(lo,Error),lo.prototype.D=function(){return{code:this.code,message:this.message}},lo.prototype.toJSON=function(){return this.D()};var uo=function(t){var e=t&&t.code;return e?new lo(e.substring(5),t.message):null},co={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},fo=function(t,e,n,i,r){if(this.ba=t,this.I=e||null,this.sb=n||null,this.pd=i||null,this.P=r||null,!this.sb&&!this.P)throw new lo("invalid-auth-event");if(this.sb&&this.P)throw new lo("invalid-auth-event");if(this.sb&&!this.pd)throw new lo("invalid-auth-event")};fo.prototype.ec=function(){return this.pd},fo.prototype.getError=function(){return this.P},fo.prototype.D=function(){return{type:this.ba,eventId:this.I,urlResponse:this.sb,sessionId:this.pd,error:this.P&&this.P.D()}};var po=function(t){return t=t||{},t.type?new fo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&uo(t.error)):null},vo=function(t){var e="unauthorized-domain",n=void 0,i=er(t);t=i.ca,i=i.fa,"chrome-extension"==i?n=w("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=w("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",lo.call(this,e,n)};m(vo,lo);var yo=function(t){this.Xd=t.sub,g(),this.ac=t.email||null},go=function(t){if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{var i=JSON.parse(St(t));if(i.sub&&i.iss&&i.aud&&i.exp)return new yo(i)}catch(t){}return null},mo=function(t,e){if(e.idToken||e.accessToken)e.idToken&&Zr(this,"idToken",e.idToken),e.accessToken&&Zr(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new lo("internal-error","failed to construct a credential");Zr(this,"accessToken",e.oauthToken),Zr(this,"secret",e.oauthTokenSecret)}Zr(this,"provider",t),Zr(this,"providerId",t)};mo.prototype.dc=function(t){return ia(t,bo(this))},mo.prototype.Wd=function(t,e){var n=bo(this);return n.idToken=e,ra(t,n)};var bo=function(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:dr(e).toString(),requestUri:"http://localhost"}};mo.prototype.D=function(){var t={providerId:this.providerId};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t};var wo=function(t,e){this.zf=e||[],eo(this,{providerId:t,isOAuthProvider:!0}),this.Fd={}};wo.prototype.setCustomParameters=function(t){return this.Fd=J(t),this};var xo=function(t){wo.call(this,t,ao),this.od=[]};m(xo,wo),xo.prototype.addScope=function(t){return q(this.od,t)||this.od.push(t),this},xo.prototype.Nd=function(){return G(this.od)},xo.prototype.credential=function(t,e){if(!t&&!e)throw new lo("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,{idToken:t||null,accessToken:e||null})};var ko=function(){xo.call(this,"facebook.com")};m(ko,xo),Zr(ko,"PROVIDER_ID","facebook.com");var To=function(t){if(!t)throw new lo("argument-error","credential failed: expected 1 argument (the OAuth access token).");return(new ko).credential(null,t)},So=function(){xo.call(this,"github.com")};m(So,xo),Zr(So,"PROVIDER_ID","github.com");var Mo=function(t){if(!t)throw new lo("argument-error","credential failed: expected 1 argument (the OAuth access token).");return(new So).credential(null,t)},Po=function(){xo.call(this,"google.com"),this.addScope("profile")};m(Po,xo),Zr(Po,"PROVIDER_ID","google.com");var Co=function(t,e){return(new Po).credential(t,e)},No=function(){wo.call(this,"twitter.com",oo)};m(No,wo),Zr(No,"PROVIDER_ID","twitter.com");var Do=function(t,e){if(!t||!e)throw new lo("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",{oauthToken:t,oauthTokenSecret:e})},Ao=function(t,e){this.ac=t,this.fd=e,to(this),Zr(this,"providerId","password")};Ao.prototype.dc=function(t){return Sa(t,Ta,{email:this.ac,password:this.fd})},Ao.prototype.Wd=function(t,e){return Sa(t,ma,{idToken:e,email:this.ac,password:this.fd})},Ao.prototype.D=function(){return{email:this.ac,password:this.fd}};var Eo=function(){eo(this,{providerId:"password",isOAuthProvider:!1})};eo(Eo,{PROVIDER_ID:"password"});var jo=function(t){var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return Co(t,n);case"facebook.com":return To(n);case"github.com":return Mo(n);case"twitter.com":return Do(n,i);default:return new xo(e).credential(t,n)}}catch(t){return null}},Lo=function(t){if(!t.isOAuthProvider)throw new lo("invalid-oauth-provider")},Fo=function(t,e,n,i){lo.call(this,t,i),Zr(this,"email",e),Zr(this,"credential",n)};m(Fo,lo),Fo.prototype.D=function(){var t={code:this.code,message:this.message,email:this.email},e=this.credential&&this.credential.D();return e&&Q(t,e),t},Fo.prototype.toJSON=function(){return this.D()};var Oo=function(t){if(t.code){var e=t.code||"";return 0==e.indexOf("auth/")&&(e=e.substring(5)),t.email?new Fo(e,t.email,jo(t),t.message):new lo(e,t.message||void 0)}return null},Io=function(t){this.Wf=t};m(Io,un),Io.prototype.$b=function(){return new this.Wf},Io.prototype.Zc=function(){return{}};var Ro,Bo=function(t,e,r){var o;if(o="Node"==Dr(),!(o=n.XMLHttpRequest||o&&i.INTERNAL.node&&i.INTERNAL.node.XMLHttpRequest))throw new lo("internal-error","The XMLHttpRequest compatibility library was not found.");this.j=t,t=e||{},this.Ff=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.Gf=t.secureTokenTimeout||qo,this.he=J(t.secureTokenHeaders||zo),this.Oe=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.Pe=t.firebaseTimeout||Vo,this.Ld=J(t.firebaseHeaders||Uo),r&&(this.Ld["X-Client-Version"]=r,this.he["X-Client-Version"]=r),this.He=new vn,this.Vf=new Io(o)},qo=new Wr(3e4,6e4),zo={"Content-Type":"application/x-www-form-urlencoded"},Vo=new Wr(3e4,6e4),Uo={"Content-Type":"application/json"},Ho=function(t,e,n,i,r,o,a){_r()?(br()?t=v(t.If,t):(Ro||(Ro=new On(function(t,e){_o(t,e)})),t=v(t.Hf,t)),t(e,n,i,r,o,a)):n&&n(null)};Bo.prototype.If=function(t,e,n,i,r,o){var a,s="Node"==Dr(),h=Ar()?s?new Ei(this.Vf):new Ei:new Ei(this.He);o&&(h.rb=Math.max(0,o),a=setTimeout(function(){h.dispatchEvent("timeout")},o)),h.listen("complete",function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(Hi(this))||null}catch(e){t=null}e&&e(t)}),Ti(h,"ready",function(){a&&clearTimeout(a),this.Da||(this.Da=!0,this.$a())}),Ti(h,"timeout",function(){a&&clearTimeout(a),this.Da||(this.Da=!0,this.$a()),e&&e(null)}),h.send(t,n,i,r)};var Go="__fcb"+Math.floor(1e6*Math.random()).toString(),_o=function(t,e){((window.gapi||{}).client||{}).request?t():(n[Go]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},hi(function(){e(Error("CORS_UNSUPPORTED"))}))};Bo.prototype.Hf=function(t,e,n,i,r){var o=this;Ro.then(function(){window.gapi.client.setApiKey(o.j);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).f(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})};var Wo=function(t,e){return new On(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ho(t,t.Ff+"?key="+encodeURIComponent(t.j),function(t){t?t.error?i(Ma(t)):t.access_token&&t.refresh_token?n(t):i(new lo("internal-error")):i(new lo("network-request-failed"))},"POST",dr(e).toString(),t.he,t.Gf.get()):i(new lo("internal-error"))})},Ko=function(t,e,n,i,r){var o=er(t.Oe+e);Xi(o,"key",t.j),r&&Xi(o,"cb",g().toString());var a="GET"==n;if(a)for(var s in i)i.hasOwnProperty(s)&&Xi(o,s,i[s]);return new On(function(e,r){Ho(t,o.toString(),function(t){t?t.error?r(Ma(t)):e(t):r(new lo("network-request-failed"))},n,a?void 0:rn(zr(i)),t.Ld,t.Pe.get())})},Yo=function(t){if(!nn.test(t.email))throw new lo("invalid-email")},$o=function(t){"email"in t&&Yo(t)},Jo=function(t,e){return Sa(t,la,{identifier:e,continueUri:Ir()?yr():"http://localhost"}).then(function(t){return t.allProviders||[]})},Xo=function(t){return Sa(t,va,{}).then(function(t){return t.authorizedDomains||[]})},Qo=function(t){if(!t.idToken)throw new lo("internal-error")};Bo.prototype.signInAnonymously=function(){return Sa(this,ba,{})},Bo.prototype.updateEmail=function(t,e){return Sa(this,ga,{idToken:t,email:e})},Bo.prototype.updatePassword=function(t,e){return Sa(this,ma,{idToken:t,password:e})};var Zo={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};Bo.prototype.updateProfile=function(t,e){var n={idToken:t},i=[];return _(Zo,function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),Sa(this,ga,n)},Bo.prototype.sendPasswordResetEmail=function(t){return Sa(this,pa,{requestType:"PASSWORD_RESET",email:t})},Bo.prototype.sendEmailVerification=function(t){return Sa(this,da,{requestType:"VERIFY_EMAIL",idToken:t})};var ta=function(t,e,n){return Sa(t,ca,{idToken:e,deleteProvider:n})},ea=function(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new lo("internal-error")},na=function(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Oo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Oo(t)):"EMAIL_EXISTS"==t.errorMessage&&(t.code="email-already-in-use",e=Oo(t)),e)throw e;if(!t.idToken)throw new lo("internal-error")},ia=function(t,e){return e.returnIdpCredential=!0,Sa(t,wa,e)},ra=function(t,e){return e.returnIdpCredential=!0,Sa(t,xa,e)},oa=function(t){if(!t.oobCode)throw new lo("invalid-action-code")};Bo.prototype.confirmPasswordReset=function(t,e){return Sa(this,ya,{oobCode:t,newPassword:e})},Bo.prototype.checkActionCode=function(t){return Sa(this,sa,{oobCode:t})},Bo.prototype.applyActionCode=function(t){return Sa(this,aa,{oobCode:t})};var aa={endpoint:"setAccountInfo",M:oa,qb:"email"},sa={endpoint:"resetPassword",M:oa,wa:function(t){if(!t.email||!t.requestType)throw new lo("internal-error")}},ha={endpoint:"signupNewUser",M:function(t){if(Yo(t),!t.password)throw new lo("weak-password")},wa:Qo,xa:!0},la={endpoint:"createAuthUri"},ua={endpoint:"deleteAccount",pb:["idToken"]},ca={endpoint:"setAccountInfo",pb:["idToken","deleteProvider"],M:function(t){if(!s(t.deleteProvider))throw new lo("internal-error")}},fa={endpoint:"getAccountInfo"},da={endpoint:"getOobConfirmationCode",pb:["idToken","requestType"],M:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new lo("internal-error")},qb:"email"},pa={endpoint:"getOobConfirmationCode",pb:["requestType"],M:function(t){if("PASSWORD_RESET"!=t.requestType)throw new lo("internal-error");Yo(t)},qb:"email"},va={Ge:!0,endpoint:"getProjectConfig",$e:"GET"},ya={endpoint:"resetPassword",M:oa,qb:"email"},ga={endpoint:"setAccountInfo",pb:["idToken"],M:$o,xa:!0},ma={endpoint:"setAccountInfo",pb:["idToken"],M:function(t){if($o(t),!t.password)throw new lo("weak-password")},wa:Qo,xa:!0},ba={endpoint:"signupNewUser",wa:Qo,xa:!0},wa={endpoint:"verifyAssertion",M:ea,wa:na,xa:!0},xa={endpoint:"verifyAssertion",M:function(t){if(ea(t),!t.idToken)throw new lo("internal-error")},wa:na,xa:!0},ka={endpoint:"verifyCustomToken",M:function(t){if(!t.token)throw new lo("invalid-custom-token")},wa:Qo,xa:!0},Ta={endpoint:"verifyPassword",M:function(t){if(Yo(t),!t.password)throw new lo("wrong-password")},wa:Qo,xa:!0},Sa=function(t,e,n){if(!io(n,e.pb))return zn(new lo("internal-error"));var i,r=e.$e||"POST";return qn(n).then(e.M).then(function(){return e.xa&&(n.returnSecureToken=!0),Ko(t,e.endpoint,r,n,e.Ge||!1)}).then(function(t){return i=t}).then(e.wa).then(function(){if(!e.qb)return i;if(!(e.qb in i))throw new lo("internal-error");return i[e.qb]})},Ma=function(t){var e,n;n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"";var i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new lo(i[n]):null)return n;n=t.error&&t.error.message||"",i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled"},e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var r in i)if(0===n.indexOf(r))return new lo(i[r],e);return!e&&t&&(e=qr(t)),new lo("internal-error",e)},Pa=function(t){this.U=t};Pa.prototype.value=function(){return this.U},Pa.prototype.ke=function(t){return this.U.style=t,this};var Ca=function(t){this.U=t||{}};Ca.prototype.value=function(){return this.U},Ca.prototype.ke=function(t){return this.U.style=t,this};var Na=function(t){this.Tf=t,this.kc=null,this.dd=Aa(this)},Da=function(t){var e=new Ca;return e.U.where=document.body,e.U.url=t.Tf,e.U.messageHandlersFilter=Fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),e.U.attributes=e.U.attributes||{},new Pa(e.U.attributes).ke({position:"absolute",top:"-100px",width:"1px",height:"1px"}),e.U.dontclear=!0,e},Aa=function(t){return Fa().then(function(){return new On(function(e,n){Fr("gapi.iframes.getContext")().open(Da(t).value(),function(i){t.kc=i,t.kc.restyle({setHideOnLeave:!1});var r=setTimeout(function(){n(Error("Network Error"))},La.get()),o=function(){clearTimeout(r),e()};i.ping(o).then(o,function(){n(Error("Network Error"))})})})})};Na.prototype.sendMessage=function(t){var e=this;return this.dd.then(function(){return new On(function(n){e.kc.send(t.type,t,n,Fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var Ea=function(t,e){t.dd.then(function(){t.kc.register("authEvent",e,Fr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},ja=new Wr(3e4,6e4),La=new Wr(5e3,15e3),Fa=function(){return new On(function(t,e){if(_r()){var i=function(){Gr(),Fr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Gr(),e(Error("Network Error"))},timeout:ja.get()})};if(Fr("gapi.iframes.Iframe"))t();else if(Fr("gapi.load"))i();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[r]=function(){Fr("gapi.load")?i():e(Error("Network Error"))},qn(yi("https://apis.google.com/js/api.js?onload="+r)).f(function(){e(Error("Network Error"))})}}else e(Error("Network Error"))})},Oa=function(t,e,n){this.v=t,this.j=e,this.B=n,this.Ua=null,this.Vb=nr(this.v,"/__/auth/iframe"),Xi(this.Vb,"apiKey",this.j),Xi(this.Vb,"appName",this.B)};Oa.prototype.setVersion=function(t){return this.Ua=t,this},Oa.prototype.toString=function(){return this.Ua?Xi(this.Vb,"v",this.Ua):Zi(this.Vb,"v"),this.Vb.toString()};var Ia=function(t,e,n,i,r){this.v=t,this.j=e,this.B=n,this.Fe=i,this.Ua=this.I=this.md=null,this.Kb=r};Ia.prototype.setVersion=function(t){return this.Ua=t,this},Ia.prototype.toString=function(){var t=nr(this.v,"/__/auth/handler");if(Xi(t,"apiKey",this.j),Xi(t,"appName",this.B),Xi(t,"authType",this.Fe),this.Kb.isOAuthProvider){Xi(t,"providerId",this.Kb.providerId);var e,n=this.Kb,i=zr(n.Fd);for(e in i)i[e]=i[e].toString();for(n=n.zf,i=J(i),e=0;e<n.length;e++){var r=n[e];r in i&&delete i[r]}Y(i)||Xi(t,"customParameters",qr(i))}if("function"==typeof this.Kb.Nd&&(n=this.Kb.Nd(),n.length&&Xi(t,"scopes",n.join(","))),this.md?Xi(t,"redirectUrl",this.md):Zi(t,"redirectUrl"),this.I?Xi(t,"eventId",this.I):Zi(t,"eventId"),this.Ua?Xi(t,"v",this.Ua):Zi(t,"v"),this.Wb)for(var o in this.Wb)this.Wb.hasOwnProperty(o)&&!Qi(t,o)&&Xi(t,o,this.Wb[o]);return t.toString()};var Ra=function(t,e,n,i){this.v=t,this.j=e,this.B=n,this.Re=(this.Ca=i||null)?jr(this.Ca):null,i=this.Ca,this.af=new Oa(t,e,n).setVersion(i).toString(),this.ka=[],this.g=new Bo(e,null,this.Re),this.nc=this.sa=null},Ba=function(t){var e=yr();return Xo(t).then(function(t){t:{for(var n=er(e),i=n.fa,n=n.ca,r=0;r<t.length;r++){var o,a=t[r];o=n;var s=i;if(0==a.indexOf("chrome-extension://")?o=er(a).ca==o&&"chrome-extension"==s:"http"!=s&&"https"!=s?o=!1:Sr.test(a)?o=o==a:(a=a.split(".").join("\\."),o=new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new vo(yr())})};t=Ra.prototype,t.Cb=function(){if(this.nc)return this.nc;var t=this;return this.nc=Mr().then(function(){t.jc=new Na(t.af),za(t)})},t.Qb=function(t,e,n){var i=new lo("popup-closed-by-user"),r=new lo("web-storage-unsupported"),o=this,a=!1;return this.Ia().then(function(){Va(o).then(function(n){n||(t&&xr(t),e(r),a=!0)})}).f(function(){}).then(function(){if(!a)return Tr(t)}).then(function(){if(!a)return Ni(n).then(function(){e(i)})})},t.le=function(){var t=Lr();return!Br(t)&&!Hr(t)},t.Pd=function(){return!1},t.Ib=function(t,e,n,i,r,o,a){if(!t)return zn(new lo("popup-blocked"));if(a&&!Br())return this.Ia().f(function(e){xr(t),r(e)}),i(),qn();this.sa||(this.sa=Ba(this.g));var s=this;return this.sa.then(function(){var e=s.Ia().f(function(e){throw xr(t),r(e),e});return i(),e}).then(function(){if(Lo(n),!a){var i=qa(s.v,s.j,s.B,e,n,null,o,s.Ca);gr(i,t)}}).f(function(t){throw"auth/network-request-failed"==t.code&&(s.sa=null),t})},t.Jb=function(t,e,n){this.sa||(this.sa=Ba(this.g));var i=this;return this.sa.then(function(){Lo(e);var r=qa(i.v,i.j,i.B,t,e,yr(),n,i.Ca);gr(r)})},t.Ia=function(){var t=this;return this.Cb().then(function(){return t.jc.dd}).f(function(){throw t.sa=null,new lo("network-request-failed")})},t.re=function(){return!0};var qa=function(t,e,n,i,r,o,a,s,h){return t=new Ia(t,e,n,i,r),t.md=o,t.I=a,o=t.setVersion(s),o.Wb=J(h||null),o.toString()},za=function(t){if(!t.jc)throw Error("IfcHandler must be initialized!");Ea(t.jc,function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=po(e.authEvent),n=0;n<t.ka.length;n++)i=t.ka[n](e)||i;return n={},n.status=i?"ACK":"ERROR",qn(n)}return n.status="ERROR",qn(n)})},Va=function(t){var e={type:"webStorageSupport"};return t.Cb().then(function(){return t.jc.sendMessage(e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})};Ra.prototype.Wa=function(t){this.ka.push(t)},Ra.prototype.Ob=function(t){U(this.ka,function(e){return e==t})};var Ua=function(t){if(this.A=t||i.INTERNAL.reactNative&&i.INTERNAL.reactNative.AsyncStorage,!this.A)throw new lo("internal-error","The React Native compatibility library was not found.")};t=Ua.prototype,t.get=function(t){return qn(this.A.getItem(t)).then(function(t){return t&&Vr(t)})},t.set=function(t,e){return qn(this.A.setItem(t,qr(e)))},t.remove=function(t){return qn(this.A.removeItem(t))},t.Xa=function(){},t.Ra=function(){};var Ha=function(){this.A={}};t=Ha.prototype,t.get=function(t){return qn(this.A[t])},t.set=function(t,e){return this.A[t]=e,qn()},t.remove=function(t){return delete this.A[t],qn()},t.Xa=function(){},t.Ra=function(){};var Ga=function(){if(!_a()){if("Node"==Dr())throw new lo("internal-error","The LocalStorage compatibility library was not found.");throw new lo("web-storage-unsupported")}this.A=n.localStorage||i.INTERNAL.node.localStorage},_a=function(){var t="Node"==Dr(),t=n.localStorage||t&&i.INTERNAL.node&&i.INTERNAL.node.localStorage;if(!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};t=Ga.prototype,t.get=function(t){var e=this;return qn().then(function(){var n=e.A.getItem(t);return Vr(n)})},t.set=function(t,e){var n=this;return qn().then(function(){var i=qr(e);null===i?n.remove(t):n.A.setItem(t,i)})},t.remove=function(t){var e=this;return qn().then(function(){e.A.removeItem(t)})},t.Xa=function(t){n.window&&He(n.window,"storage",t)},t.Ra=function(t){n.window&&Ke(n.window,"storage",t)};var Wa=function(){this.A={}};t=Wa.prototype,t.get=function(){return qn(null)},t.set=function(){return qn()},t.remove=function(){return qn()},t.Xa=function(){},t.Ra=function(){};var Ka=function(){if(!Ya()){if("Node"==Dr())throw new lo("internal-error","The SessionStorage compatibility library was not found.");throw new lo("web-storage-unsupported")}this.A=n.sessionStorage||i.INTERNAL.node.sessionStorage},Ya=function(){var t="Node"==Dr(),t=n.sessionStorage||t&&i.INTERNAL.node&&i.INTERNAL.node.sessionStorage;if(!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};t=Ka.prototype,t.get=function(t){var e=this;return qn().then(function(){var n=e.A.getItem(t);return Vr(n)})},t.set=function(t,e){var n=this;return qn().then(function(){var i=qr(e);null===i?n.remove(t):n.A.setItem(t,i)})},t.remove=function(t){var e=this;return qn().then(function(){e.A.removeItem(t)})},t.Xa=function(){},t.Ra=function(){};var $a,Ja=function(t,e,i,r,o,a){if(!window.indexedDB)throw new lo("web-storage-unsupported");this.Je=t,this.cd=e,this.Nc=i,this.ve=r,this.ub=o,this.Y={},this.Rb=[],this.Eb=0,this.bf=a||n.indexedDB},Xa=function(t){return new On(function(e,n){var i=t.bf.open(t.Je,t.ub);i.onerror=function(t){n(Error(t.target.errorCode))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore(t.cd,{keyPath:t.Nc})}catch(t){n(t)}},i.onsuccess=function(t){e(t.target.result)}})},Qa=function(t){return t.Sd||(t.Sd=Xa(t)),t.Sd},Za=function(t,e){return e.objectStore(t.cd)},ts=function(t,e,n){return e.transaction([t.cd],n?"readwrite":"readonly")},es=function(t){return new On(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})};t=Ja.prototype,t.set=function(t,e){var n,i=!1,r=this;return Hn(Qa(this).then(function(e){return n=e,e=Za(r,ts(r,n,!0)),es(e.get(t))}).then(function(o){var a=Za(r,ts(r,n,!0));return o?(o.value=e,es(a.put(o))):(r.Eb++,i=!0,o={},o[r.Nc]=t,o[r.ve]=e,es(a.add(o)))}).then(function(){r.Y[t]=e}),function(){i&&r.Eb--})},t.get=function(t){var e=this;return Qa(this).then(function(n){return es(Za(e,ts(e,n,!1)).get(t))}).then(function(t){return t&&t.value})},t.remove=function(t){var e=!1,n=this;return Hn(Qa(this).then(function(i){return e=!0,n.Eb++,es(Za(n,ts(n,i,!0)).delete(t))}).then(function(){delete n.Y[t]}),function(){e&&n.Eb--})},t.Pf=function(){var t=this;return Qa(this).then(function(e){var n=Za(t,ts(t,e,!1));return n.getAll?es(n.getAll()):new On(function(t,e){var i=[],r=n.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){e(Error(t.target.errorCode))}})}).then(function(e){var n={},i=[];if(0==t.Eb){for(i=0;i<e.length;i++)n[e[i][t.Nc]]=e[i][t.ve];i=mr(t.Y,n),t.Y=n}return i})},t.Xa=function(t){0==this.Rb.length&&this.sd(),this.Rb.push(t)},t.Ra=function(t){U(this.Rb,function(e){return e==t}),0==this.Rb.length&&this.zc()},t.sd=function(){var t=this;this.zc();var e=function(){return t.gd=Ni(800).then(v(t.Pf,t)).then(function(e){0<e.length&&F(t.Rb,function(t){t(e)})}).then(e).f(function(t){"STOP_EVENT"!=t.message&&e()}),t.gd};e()},t.zc=function(){this.gd&&this.gd.cancel("STOP_EVENT")};var ns,is=function(){this.Id={Browser:rs,Node:os,ReactNative:as}[Dr()]},rs={K:Ga,vd:Ka},os={K:Ga,vd:Ka},as={K:Ua,vd:Wa},ss=function(t){var e={},n=t.email,i=t.newEmail;if(t=t.requestType,!n||!t)throw Error("Invalid provider user info!");e.fromEmail=i||null,e.email=n,Zr(this,"operation",t),Zr(this,"data",ro(e))},hs="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),ls=function(t,e){return{name:t||"",ha:"a valid string",optional:!!e,ja:l}},us=function(t){return{name:t||"",ha:"a valid object",optional:!1,ja:f}},cs=function(t,e){return{name:t||"",ha:"a function",optional:!!e,ja:c}},fs=function(){return{name:"",ha:"null",optional:!1,ja:a}},ds=function(){return{name:"credential",ha:"a valid credential",optional:!1,ja:function(t){return!(!t||!t.dc)}}},ps=function(){return{name:"authProvider",ha:"a valid Auth provider",optional:!1,ja:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}},vs=function(t,e,n,i){return{name:n||"",ha:t.ha+" or "+e.ha,optional:!!i,ja:function(n){return t.ja(n)||e.ja(n)}}},ys=function(t,e,n,i,r,o){if(this.rf=t,this.Bf=e,this.Ue=n,this.pc=i,this.wd=r,this.Cf=!!o,this.hb=null,this.Ka=this.pc,this.wd<this.pc)throw Error("Proactive refresh lower bound greater than upper bound!")};ys.prototype.start=function(){this.Ka=this.pc,ms(this,!0)};var gs=function(t,e){return e?(t.Ka=t.pc,t.Ue()):(e=t.Ka,t.Ka*=2,t.Ka>t.wd&&(t.Ka=t.wd),e)},ms=function(t,e){t.stop(),t.hb=Ni(gs(t,e)).then(function(){return t.Cf?qn():Yr()}).then(function(){return t.rf()}).then(function(){ms(t,!0)}).f(function(e){t.Bf(e)&&ms(t,!1)})};ys.prototype.stop=function(){this.hb&&(this.hb.cancel(),this.hb=null)};var bs=function(t){var e={};e["facebook.com"]=xs,e["google.com"]=Ts,e["github.com"]=ks,e["twitter.com"]=Ss;var n=t&&t.providerId;return n?e[n]?new e[n](t):new ws(t):null},ws=function(t){var e=Vr(t.rawUserInfo||"{}");if(!(t=t.providerId))throw Error("Invalid additional user info!");Zr(this,"profile",ro(e||{})),Zr(this,"providerId",t)},xs=function(t){if(ws.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider id!")};m(xs,ws);var ks=function(t){if(ws.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider id!");Zr(this,"username",this.profile&&this.profile.login||null)};m(ks,ws);var Ts=function(t){if(ws.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider id!")};m(Ts,ws);var Ss=function(t){if(ws.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider id!");Zr(this,"username",t.screenName||null)};m(Ss,ws);var Ms,Ps=function(t,e){for(var n in e){var i=e[n].name;t[i]=Ns(i,t[n],e[n].a)}},Cs=function(t,e,n,i){t[e]=Ns(e,n,i)},Ns=function(t,e,n){if(!n)return e;var i=Ds(t);t=function(){var t,r=Array.prototype.slice.call(arguments);t:{t=Array.prototype.slice.call(r);var o;o=0;for(var a=!1,s=0;s<n.length;s++)if(n[s].optional)a=!0;else{if(a)throw new lo("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(a=n.length,t.length<o||a<t.length)t="Expected "+(o==a?1==o?"1 argument":o+" arguments":o+"-"+a+" arguments")+" but got "+t.length+".";else{for(o=0;o<t.length;o++)if(a=n[o].optional&&void 0===t[o],!n[o].ja(t[o])&&!a){if(t=n[o],0>o||o>=hs.length)throw new lo("internal-error","Argument validator received an unsupported number of arguments.");t=hs[o]+" argument "+(t.name?'"'+t.name+'" ':"")+"must be "+t.ha+".";break t}t=null}}if(t)throw new lo("argument-error",i+" failed: "+t);return e.apply(this,r)};for(var r in e)t[r]=e[r];for(r in e.prototype)t.prototype[r]=e.prototype[r];return t},Ds=function(t){return t=t.split("."),t[t.length-1]},As=function(t,e,n,i){this.mf=t,this.ie=e,this.Df=n,this.Pb=i,this.T={},ns||(ns=new is),t=ns;try{var r;vr()?($a||($a=new Ja("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1)),r=$a):r=new t.Id.K,this.Oa=r}catch(t){this.Oa=new Ha,this.Pb=!0}try{this.Bc=new t.Id.vd}catch(t){this.Bc=new Ha}this.td=v(this.oe,this),this.Y={}},Es=function(){return Ms||(Ms=new As("firebase",":",!(Hr(Lr())||!Nr()),Br())),Ms};t=As.prototype,t.R=function(t,e){return this.mf+this.ie+t.name+(e?this.ie+e:"")},t.get=function(t,e){return(t.K?this.Oa:this.Bc).get(this.R(t,e))},t.remove=function(t,e){return e=this.R(t,e),t.K&&!this.Pb&&(this.Y[e]=null),(t.K?this.Oa:this.Bc).remove(e)},t.set=function(t,e,n){var i=this.R(t,n),r=this,o=t.K?this.Oa:this.Bc;return o.set(i,e).then(function(){return o.get(i)}).then(function(e){t.K&&!this.Pb&&(r.Y[i]=e)})},t.addListener=function(t,e,i){t=this.R(t,e),this.Pb||(this.Y[t]=n.localStorage.getItem(t)),Y(this.T)&&this.sd(),this.T[t]||(this.T[t]=[]),this.T[t].push(i)},t.removeListener=function(t,e,n){t=this.R(t,e),this.T[t]&&(U(this.T[t],function(t){return t==n}),0==this.T[t].length&&delete this.T[t]),Y(this.T)&&this.zc()},t.sd=function(){this.Oa.Xa(this.td),this.Pb||vr()||js(this)};var js=function(t){Ls(t),t.bd=setInterval(function(){for(var e in t.T){var i=n.localStorage.getItem(e),r=t.Y[e];i!=r&&(t.Y[e]=i,i=new je({type:"storage",key:e,target:window,oldValue:r,newValue:i,tf:!0}),t.oe(i))}},1e3)},Ls=function(t){t.bd&&(clearInterval(t.bd),t.bd=null)};As.prototype.zc=function(){this.Oa.Ra(this.td),Ls(this)},As.prototype.oe=function(t){if(t&&t.Se){var e=t.ab.key;if(void 0!==t.ab.tf?this.Oa.Ra(this.td):Ls(this),this.Df){var i=n.localStorage.getItem(e);t=t.ab.newValue,t!=i&&(t?n.localStorage.setItem(e,t):t||n.localStorage.removeItem(e))}this.Y[e]=n.localStorage.getItem(e),this.Bd(e)}else F(t,v(this.Bd,this))},As.prototype.Bd=function(t){this.T[t]&&F(this.T[t],function(t){t()})};var Fs=function(t,e){this.u=t,this.i=e||Es()},Os={name:"authEvent",K:!0},Is=function(t){return t.i.get(Os,t.u).then(function(t){return po(t)})};Fs.prototype.Wa=function(t){this.i.addListener(Os,this.u,t)},Fs.prototype.Ob=function(t){this.i.removeListener(Os,this.u,t)};var Rs=function(t){this.i=t||Es()},Bs={name:"sessionId",K:!1};Rs.prototype.ec=function(t){return this.i.get(Bs,t)};var qs=function(t,e,n,i,r,o){this.v=t,this.j=e,this.B=n,this.Ca=i||null,this.pe=e+":"+n,this.Ef=new Rs,this.Md=new Fs(this.pe),this.Xc=null,this.ka=[],this.ef=r||500,this.xf=o||2e3,this.Bb=this.sc=null},zs=function(t){return new lo("invalid-cordova-configuration",t)};qs.prototype.Ia=function(){return this.$c?this.$c:this.$c=Pr().then(function(){if("function"!=typeof Fr("universalLinks.subscribe",n))throw zs("cordova-universal-links-plugin is not installed");if(void 0===Fr("BuildInfo.packageName",n))throw zs("cordova-plugin-buildinfo is not installed");if("function"!=typeof Fr("cordova.plugins.browsertab.openUrl",n))throw zs("cordova-plugin-browsertab is not installed");if("function"!=typeof Fr("cordova.InAppBrowser.open",n))throw zs("cordova-plugin-inappbrowser is not installed")},function(){throw new lo("cordova-not-ready")})};var Vs=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")},Us=function(t){var e=new Ft;return e.update(t),xt(e.digest())};t=qs.prototype,t.Qb=function(t,e){return e(new lo("operation-not-supported-in-this-environment")),qn()},t.Ib=function(){return zn(new lo("operation-not-supported-in-this-environment"))},t.re=function(){return!1},t.le=function(){return!0},t.Pd=function(){return!0},t.Jb=function(t,e,i){if(this.sc)return zn(new lo("redirect-operation-pending"));var r=this,o=n.document,a=null,s=null,h=null,l=null;return this.sc=Hn(qn().then(function(){return Lo(e),_s(r)}).then(function(){return Hs(r,t,e,i)}).then(function(){return new On(function(t,e){s=function(){var e=Fr("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),r.Bb&&"function"==typeof r.Bb.close&&(r.Bb.close(),r.Bb=null),!1},r.Wa(s),h=function(){a||(a=Ni(r.xf).then(function(){e(new lo("redirect-cancelled-by-user"))}))},l=function(){Kr()&&h()},o.addEventListener("resume",h,!1),Lr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).f(function(t){return Ws(r).then(function(){throw t})})}),function(){h&&o.removeEventListener("resume",h,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&r.Ob(s),r.sc=null})};var Hs=function(t,e,i,r){var o=Vs(),a=new fo(e,r,null,o,new lo("no-auth-event")),s=Fr("BuildInfo.packageName",n);if("string"!=typeof s)throw new lo("invalid-cordova-configuration");var h=Fr("BuildInfo.displayName",n),l={};if(Lr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Lr().toLowerCase().match(/android/))return zn(new lo("operation-not-supported-in-this-environment"));l.apn=s}h&&(l.appDisplayName=h),o=Us(o),l.sessionId=o;var u=qa(t.v,t.j,t.B,e,i,null,r,t.Ca,l);return t.Ia().then(function(){var e=t.pe;return t.Ef.i.set(Os,a.D(),e)}).then(function(){var e=Fr("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new lo("invalid-cordova-configuration");var i=null;e(function(e){if(e){if("function"!=typeof(i=Fr("cordova.plugins.browsertab.openUrl",n)))throw new lo("invalid-cordova-configuration");i(u)}else{if("function"!=typeof(i=Fr("cordova.InAppBrowser.open",n)))throw new lo("invalid-cordova-configuration");e=i;var r;r=Lr(),r=!(!r.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!r.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.Bb=e(u,r?"_blank":"_system","location=yes")}})})},Gs=function(t,e){for(var n=0;n<t.ka.length;n++)try{t.ka[n](e)}catch(t){}},_s=function(t){return t.Xc||(t.Xc=t.Ia().then(function(){return new On(function(e){var n=function(i){return e(i),t.Ob(n),!1};t.Wa(n),Ks(t)})})),t.Xc},Ws=function(t){var e=null;return Is(t.Md).then(function(n){return e=n,n=t.Md,n.i.remove(Os,n.u)}).then(function(){return e})},Ks=function(t){var e=Fr("universalLinks.subscribe",n);if("function"!=typeof e)throw new lo("invalid-cordova-configuration");var i=new fo("unknown",null,null,null,new lo("no-auth-event")),r=!1,o=Ni(t.ef).then(function(){return Ws(t).then(function(){r||Gs(t,i)})}),a=function(e){r=!0,o&&o.cancel(),Ws(t).then(function(n){var r=i;if(n&&e&&e.url){var o,r=null;o=e.url;var a=er(o),s=Qi(a,"link"),h=Qi(er(s),"link"),a=Qi(a,"deep_link_id");o=Qi(er(a),"link")||a||h||s||o,-1!=o.indexOf("/__/auth/callback")&&(r=er(o),r=Vr(Qi(r,"firebaseError")||null),r=(r="object"==typeof r?uo(r):null)?new fo(n.ba,n.I,null,null,r):new fo(n.ba,n.I,o,n.ec())),r=r||i}Gs(t,r)})},s=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.indexOf(Fr("BuildInfo.packageName",n)+"://")&&a({url:t}),"function"==typeof s)try{s(t)}catch(t){console.error(t)}},e(null,a)};qs.prototype.Wa=function(t){this.ka.push(t),_s(this).f(function(){})},qs.prototype.Ob=function(t){U(this.ka,function(e){return e==t})};var Ys=function(t){this.u=t,this.i=Es()},$s={name:"pendingRedirect",K:!1},Js=function(t){return t.i.set($s,"pending",t.u)},Xs=function(t){return t.i.remove($s,t.u)},Qs=function(t){return t.i.get($s,t.u).then(function(t){return"pending"==t})},Zs=function(t,e,n){this.v=t,this.j=e,this.B=n,this.Sb=[],this.fb=!1,this.Jc=v(this.Uc,this),this.Pa=new sh(this),this.hd=new dh(this),this.Fb=new Ys(this.j+":"+this.B),this.ya={},this.ya.unknown=this.Pa,this.ya.signInViaRedirect=this.Pa,this.ya.linkViaRedirect=this.Pa,this.ya.reauthViaRedirect=this.Pa,this.ya.signInViaPopup=this.hd,this.ya.linkViaPopup=this.hd,this.ya.reauthViaPopup=this.hd,this.J=th(this.v,this.j,this.B)},th=function(t,e,n){var r=i.SDK_VERSION||null;return Cr()?new qs(t,e,n,r):new Ra(t,e,n,r)};Zs.prototype.reset=function(){this.fb=!1,this.J.Ob(this.Jc),this.J=th(this.v,this.j,this.B)},Zs.prototype.Cb=function(){var t=this;this.fb||(this.fb=!0,this.J.Wa(this.Jc));var e=this.J;return this.J.Ia().f(function(n){throw t.J==e&&t.reset(),n})};var eh=function(t){t.J.le()&&t.Cb().f(function(e){var n=new fo("unknown",null,null,null,new lo("operation-not-supported-in-this-environment"));rh(e)&&t.Uc(n)}),t.J.Pd()||hh(t.Pa)};Zs.prototype.subscribe=function(t){if(q(this.Sb,t)||this.Sb.push(t),!this.fb){var e=this;Qs(this.Fb).then(function(t){t?Xs(e.Fb).then(function(){e.Cb().f(function(t){var n=new fo("unknown",null,null,null,new lo("operation-not-supported-in-this-environment"));rh(t)&&e.Uc(n)})}):eh(e)}).f(function(){eh(e)})}},Zs.prototype.unsubscribe=function(t){U(this.Sb,function(e){return e==t})},Zs.prototype.Uc=function(t){if(!t)throw new lo("invalid-auth-event");for(var e=!1,n=0;n<this.Sb.length;n++){var i=this.Sb[n];if(i.Cd(t.ba,t.I)){(e=this.ya[t.ba])&&e.ce(t,i),e=!0;break}}return hh(this.Pa),e};var nh=new Wr(2e3,1e4),ih=new Wr(3e4,6e4);Zs.prototype.getRedirectResult=function(){return this.Pa.getRedirectResult()},Zs.prototype.Ib=function(t,e,n,i,r){var o=this;return this.J.Ib(t,e,n,function(){o.fb||(o.fb=!0,o.J.Wa(o.Jc))},function(){o.reset()},i,r)};var rh=function(t){return!(!t||"auth/cordova-not-ready"!=t.code)};Zs.prototype.Jb=function(t,e,n){var i,r=this;return Js(this.Fb).then(function(){return r.J.Jb(t,e,n).f(function(t){if(rh(t))throw new lo("operation-not-supported-in-this-environment");return i=t,Xs(r.Fb).then(function(){throw i})}).then(function(){return r.J.re()?new On(function(){}):Xs(r.Fb).then(function(){return r.getRedirectResult()}).then(function(){}).f(function(){})})})},Zs.prototype.Qb=function(t,e,n,i){return this.J.Qb(n,function(n){t.Sa(e,null,n,i)},nh.get())};var oh={},ah=function(t,e,n){var i=e+":"+n;return oh[i]||(oh[i]=new Zs(t,e,n)),oh[i]},sh=function(t){this.i=t,this.nb=null,this.Mb=[],this.Lb=[],this.lb=null,this.ld=!1};sh.prototype.reset=function(){this.nb=null,this.lb&&(this.lb.cancel(),this.lb=null)},sh.prototype.ce=function(t,e){if(!t)return zn(new lo("invalid-auth-event"));this.reset(),this.ld=!0;var n=t.ba,i=t.I,r=t.getError()&&"auth/web-storage-unsupported"==t.getError().code,o=t.getError()&&"auth/operation-not-supported-in-this-environment"==t.getError().code;return"unknown"!=n||r||o?t=t.P?this.jd(t,e):e.xb(n,i)?this.kd(t,e):zn(new lo("invalid-auth-event")):(ch(this,!1,null,null),t=qn()),t};var hh=function(t){t.ld||(t.ld=!0,ch(t,!1,null,null))};sh.prototype.jd=function(t){return ch(this,!0,null,t.getError()),qn()},sh.prototype.kd=function(t,e){var n=this;e=e.xb(t.ba,t.I);var i=t.sb,r=t.ec(),o=!!t.ba.match(/Redirect$/);return e(i,r).then(function(t){ch(n,o,t,null)}).f(function(t){ch(n,o,null,t)})};var lh=function(t,e){if(t.nb=function(){return zn(e)},t.Lb.length)for(var n=0;n<t.Lb.length;n++)t.Lb[n](e)},uh=function(t,e){if(t.nb=function(){return qn(e)},t.Mb.length)for(var n=0;n<t.Mb.length;n++)t.Mb[n](e)},ch=function(t,e,n,i){e?i?lh(t,i):uh(t,n):uh(t,{user:null}),t.Mb=[],t.Lb=[]};sh.prototype.getRedirectResult=function(){var t=this;return new On(function(e,n){t.nb?t.nb().then(e,n):(t.Mb.push(e),t.Lb.push(n),fh(t))})};var fh=function(t){var e=new lo("timeout");t.lb&&t.lb.cancel(),t.lb=Ni(ih.get()).then(function(){t.nb||ch(t,!0,null,e)})},dh=function(t){this.i=t};dh.prototype.ce=function(t,e){if(!t)return zn(new lo("invalid-auth-event"));var n=t.ba,i=t.I;return t.P?this.jd(t,e):e.xb(n,i)?this.kd(t,e):zn(new lo("invalid-auth-event"))},dh.prototype.jd=function(t,e){return e.Sa(t.ba,null,t.getError(),t.I),qn()},dh.prototype.kd=function(t,e){var n=t.I,i=t.ba,r=e.xb(i,n),o=t.sb;return t=t.ec(),r(o,t).then(function(t){e.Sa(i,t,null,n)}).f(function(t){e.Sa(i,null,t,n)})};var ph=function(t){this.g=t,this.za=this.W=null,this.Ea=0};ph.prototype.D=function(){return{apiKey:this.g.j,refreshToken:this.W,accessToken:this.za,expirationTime:this.Ea}};var vh=function(t,e){var n=e.idToken,i=e.refreshToken;e=yh(e.expiresIn),t.za=n,t.Ea=e,t.W=i},yh=function(t){return g()+1e3*parseInt(t,10)},gh=function(t,e){return Wo(t.g,e).then(function(e){return t.za=e.access_token,t.Ea=yh(e.expires_in),t.W=e.refresh_token,{accessToken:t.za,expirationTime:t.Ea,refreshToken:t.W}}).f(function(e){throw"auth/user-token-expired"==e.code&&(t.W=null),e})};ph.prototype.getToken=function(t){return t=!!t,this.za&&!this.W?zn(new lo("user-token-expired")):t||!this.za||g()>this.Ea-3e4?this.W?gh(this,{grant_type:"refresh_token",refresh_token:this.W}):qn(null):qn({accessToken:this.za,expirationTime:this.Ea,refreshToken:this.W})};var mh=function(t,e,n,i,r){eo(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,providerId:e})},bh=function(t,e){Ee.call(this,t);for(var n in e)this[n]=e[n]};m(bh,Ee);var wh=function(t,e,n){this.$=[],this.j=t.apiKey,this.B=t.appName,this.v=t.authDomain||null,t=i.SDK_VERSION?jr(i.SDK_VERSION):null,this.g=new Bo(this.j,null,t),this.ga=new ph(this.g),Sh(this,e.idToken),vh(this.ga,e),Zr(this,"refreshToken",this.ga.W),Nh(this,n||{}),ki.call(this),this.tc=!1,this.v&&Or()&&(this.m=ah(this.v,this.j,this.B)),this.yc=[],this.ia=null,this.jb=xh(this),this.tb=v(this.Vc,this)};m(wh,ki),wh.prototype.Vc=function(){this.jb.hb&&(this.jb.stop(),this.jb.start())};var xh=function(t){return new ys(function(){return t.getToken(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.ga.Ea-g()-3e5;return 0<e?e:0},3e4,96e4,!1)},kh=function(t){t.Hd||t.jb.hb||(t.jb.start(),Ke(t,"tokenChanged",t.tb),He(t,"tokenChanged",t.tb))},Th=function(t){Ke(t,"tokenChanged",t.tb),t.jb.stop()},Sh=function(t,e){t.Ud=e,Zr(t,"_lat",e)},Mh=function(t,e){U(t.yc,function(t){return t==e})},Ph=function(t){for(var e=[],n=0;n<t.yc.length;n++)e.push(t.yc[n](t));return Un(e).then(function(){return t})},Ch=function(t){t.m&&!t.tc&&(t.tc=!0,t.m.subscribe(t))},Nh=function(t,e){eo(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,isAnonymous:e.isAnonymous||!1,providerData:[]})};Zr(wh.prototype,"providerId","firebase");var Dh=function(){},Ah=function(t){return qn().then(function(){if(t.Hd)throw new lo("app-deleted")})},Eh=function(t){return I(t.providerData,function(t){return t.providerId})},jh=function(t,e){e&&(Lh(t,e.providerId),t.providerData.push(e))},Lh=function(t,e){U(t.providerData,function(t){return t.providerId==e})},Fh=function(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Zr(t,e,n)};wh.prototype.copy=function(t){var e=this;e!=t&&(eo(this,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,isAnonymous:t.isAnonymous,providerData:[]}),F(t.providerData,function(t){jh(e,t)}),this.ga=t.ga,Zr(this,"refreshToken",this.ga.W))},wh.prototype.reload=function(){var t=this;return this.c(Ah(this).then(function(){return Oh(t).then(function(){return Ph(t)}).then(Dh)}))};var Oh=function(t){return t.getToken().then(function(e){var n=t.isAnonymous;return Rh(t,e).then(function(){return n||Fh(t,"isAnonymous",!1),e})})};wh.prototype.getToken=function(t){var e=this;return this.c(Ah(this).then(function(){return e.ga.getToken(t)}).then(function(t){if(!t)throw new lo("internal-error");return t.accessToken!=e.Ud&&(Sh(e,t.accessToken),e.La()),Fh(e,"refreshToken",t.refreshToken),t.accessToken}))};var Ih=function(t,e){e.idToken&&t.Ud!=e.idToken&&(vh(t.ga,e),t.La(),Sh(t,e.idToken),Fh(t,"refreshToken",t.ga.W))};wh.prototype.La=function(){this.dispatchEvent(new bh("tokenChanged"))};var Rh=function(t,e){return Sa(t.g,fa,{idToken:e}).then(v(t.sf,t))};wh.prototype.sf=function(t){if(!(t=t.users)||!t.length)throw new lo("internal-error");t=t[0],Nh(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified});for(var e=Bh(t),n=0;n<e.length;n++)jh(this,e[n]);Fh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))};var Bh=function(t){return(t=t.providerUserInfo)&&t.length?I(t,function(t){return new mh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl)}):[]},qh=function(t,e){var n=null;return t.c(e.dc(t.g).then(function(e){var i=go(e.idToken);if(!i||t.uid!=i.Xd)throw new lo("user-mismatch");return Ih(t,e),n=Uh(t,e),t.ia=null,t.reload()}).then(function(){return n}),!0)};wh.prototype.reauthenticate=function(t){return qh(this,t).then(function(t){return t.user})};var zh=function(t,e){return Oh(t).then(function(){if(q(Eh(t),e))return Ph(t).then(function(){throw new lo("provider-already-linked")})})},Vh=function(t,e){var n=null;return t.c(zh(t,e.providerId).then(function(){return t.getToken()}).then(function(n){return e.Wd(t.g,n)}).then(function(e){return n=Uh(t,e),Hh(t,e)}).then(function(){return n}))};wh.prototype.link=function(t){return Vh(this,t).then(function(t){return t.user})};var Uh=function(t,e){var n=jo(e);return e=bs(e),{user:t,credential:n,additionalUserInfo:e}},Hh=function(t,e){return Ih(t,e),t.reload().then(function(){return t})};t=wh.prototype,t.updateEmail=function(t){var e=this;return this.c(this.getToken().then(function(n){return e.g.updateEmail(n,t)}).then(function(t){return Ih(e,t),e.reload()}))},t.updatePassword=function(t){var e=this;return this.c(this.getToken().then(function(n){return e.g.updatePassword(n,t)}).then(function(t){return Ih(e,t),e.reload()}))},t.updateProfile=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ah(this);var e=this;return this.c(this.getToken().then(function(n){return e.g.updateProfile(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ih(e,t),Fh(e,"displayName",t.displayName||null),Fh(e,"photoURL",t.photoUrl||null),Ph(e)}).then(Dh))},t.unlink=function(t){var e=this;return this.c(Oh(this).then(function(n){return q(Eh(e),t)?ta(e.g,n,[t]).then(function(t){var n={};return F(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),F(Eh(e),function(t){n[t]||Lh(e,t)}),Ph(e)}):Ph(e).then(function(){throw new lo("no-such-provider")})}))},t.delete=function(){var t=this;return this.c(this.getToken().then(function(e){return Sa(t.g,ua,{idToken:e})}).then(function(){t.dispatchEvent(new bh("userDeleted"))})).then(function(){for(var e=0;e<t.$.length;e++)t.$[e].cancel("app-deleted");t.$=[],t.Hd=!0,Th(t),Zr(t,"refreshToken",null),t.m&&t.m.unsubscribe(t)})},t.Cd=function(t,e){return!!("linkViaPopup"==t&&(this.aa||null)==e&&this.Z||"reauthViaPopup"==t&&(this.aa||null)==e&&this.Z||"linkViaRedirect"==t&&(this.ua||null)==e||"reauthViaRedirect"==t&&(this.ua||null)==e)},t.Sa=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.aa||null)||(n&&this.Na?this.Na(n):e&&!n&&this.Z&&this.Z(e),this.C&&(this.C.cancel(),this.C=null),delete this.Z,delete this.Na)},t.xb=function(t,e){return"linkViaPopup"==t&&e==(this.aa||null)?v(this.Jd,this):"reauthViaPopup"==t&&e==(this.aa||null)?v(this.Kd,this):"linkViaRedirect"==t&&(this.ua||null)==e?v(this.Jd,this):"reauthViaRedirect"==t&&(this.ua||null)==e?v(this.Kd,this):null},t.cc=function(){return Ur(this.uid+":::")},t.linkWithPopup=function(t){var e=this;return Gh(this,t,function(){return zh(e,t.providerId).then(function(){return Ph(e)})})};var Gh=function(t,e,n){if(!Or())return zn(new lo("operation-not-supported-in-this-environment"));if(t.ia)return zn(t.ia);var r=ho(e.providerId),o=t.cc(),a=null;(!Br()||Nr())&&t.v&&e.isOAuthProvider&&(a=qa(t.v,t.j,t.B,"linkViaPopup",e,null,o,i.SDK_VERSION||null));var s=kr(a,r&&r.Hb,r&&r.Gb);return n=n().then(function(){return Wh(t),t.getToken().then(function(){})}).then(function(){return t.m.Ib(s,"linkViaPopup",e,o,!!a)}).then(function(){return new On(function(e,n){t.Sa("linkViaPopup",null,new lo("cancelled-popup-request"),t.aa||null),t.Z=e,t.Na=n,t.aa=o,t.C=t.m.Qb(t,"linkViaPopup",s,o)})}).then(function(t){return s&&xr(s),t}).f(function(t){throw s&&xr(s),t}),t.c(n,!1)};wh.prototype.linkWithRedirect=function(t){var e=this;return _h(this,t,function(){return zh(e,t.providerId)})};var _h=function(t,e,n){if(!Or())return zn(new lo("operation-not-supported-in-this-environment"));if(t.ia)return zn(t.ia);var i=null,r=t.cc();return n=n().then(function(){return Wh(t),t.getToken().then(function(){})}).then(function(){return t.ua=r,Ph(t)}).then(function(e){return t.Qa&&(e=t.Qa,e=e.i.set(Xh,t.D(),e.u)),e}).then(function(){return t.m.Jb("linkViaRedirect",e,r)}).f(function(e){if(i=e,t.Qa)return Qh(t.Qa);throw i}).then(function(){if(i)throw i}),t.c(n,!1)},Wh=function(t){if(!t.m||!t.tc){if(t.m&&!t.tc)throw new lo("internal-error");throw new lo("auth-domain-config-required")}};wh.prototype.Jd=function(t,e){var n=this;this.C&&(this.C.cancel(),this.C=null);var i=null,r=this.getToken().then(function(i){return ra(n.g,{requestUri:t,sessionId:e,idToken:i})}).then(function(t){return i=jo(t),Hh(n,t)}).then(function(t){return{user:t,credential:i}});return this.c(r)},wh.prototype.Kd=function(t,e){var n=this;this.C&&(this.C.cancel(),this.C=null);var i=null,r=qn().then(function(){return ia(n.g,{requestUri:t,sessionId:e})}).then(function(t){i=jo(t);var e=go(t.idToken);if(!e||n.uid!=e.Xd)throw new lo("user-mismatch");return Ih(n,t),n.ia=null,n.reload()}).then(function(){return{user:n,credential:i}});return this.c(r,!0)},wh.prototype.sendEmailVerification=function(){var t=this;return this.c(this.getToken().then(function(e){return t.g.sendEmailVerification(e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},wh.prototype.c=function(t,e){var n=this,i=Kh(this,t,e);return this.$.push(i),Hn(i,function(){z(n.$,i)}),i};var Kh=function(t,e,n){return t.ia&&!n?(e.cancel(),zn(t.ia)):e.f(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.ia||t.dispatchEvent(new bh("userInvalidated")),t.ia=e),e})};wh.prototype.toJSON=function(){return this.D()},wh.prototype.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.j,appName:this.B,authDomain:this.v,stsTokenManager:this.ga.D(),redirectEventId:this.ua||null};return F(this.providerData,function(e){t.providerData.push(no(e))}),t};var Yh=function(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n.idToken=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-g())/1e3;var i=new wh(e,n,t);return t.providerData&&F(t.providerData,function(t){if(t){var e={};eo(e,t),jh(i,e)}}),t.redirectEventId&&(i.ua=t.redirectEventId),i},$h=function(t,e,n){var i=new wh(t,e);return n&&(i.Qa=n),i.reload().then(function(){return i})},Jh=function(t){this.u=t,this.i=Es()},Xh={name:"redirectUser",K:!1},Qh=function(t){return t.i.remove(Xh,t.u)},Zh=function(t,e){return t.i.get(Xh,t.u).then(function(t){return t&&e&&(t.authDomain=e),Yh(t||{})})},tl=function(t){this.u=t,this.i=Es()},el={name:"authUser",K:!0},nl=function(t,e){return t.i.set(el,e.D(),t.u)},il=function(t){return t.i.remove(el,t.u)},rl=function(t,e){return t.i.get(el,t.u).then(function(t){return t&&e&&(t.authDomain=e),Yh(t||{})})},ol=function(t){if(this.Za=!1,Zr(this,"app",t),!vl(this).options||!vl(this).options.apiKey)throw new lo("invalid-api-key");t=i.SDK_VERSION?jr(i.SDK_VERSION):null,this.g=new Bo(vl(this).options&&vl(this).options.apiKey,null,t),this.$=[],this.Aa=[],this.pf=i.INTERNAL.createSubscribe(v(this.cf,this)),ll(this,null),this.pa=new tl(vl(this).options.apiKey+":"+vl(this).name),this.mb=new Jh(vl(this).options.apiKey+":"+vl(this).name),this.Xb=this.c(cl(this)),this.va=this.c(fl(this)),this.ad=!1,this.Tc=v(this.Of,this),this.ue=v(this.cb,this),this.tb=v(this.Vc,this),this.se=v(this.Ye,this),this.te=v(this.Ze,this),sl(this),this.INTERNAL={},this.INTERNAL.delete=v(this.delete,this),this.Fa=0};ol.prototype.toJSON=function(){return{apiKey:vl(this).options.apiKey,authDomain:vl(this).options.authDomain,appName:vl(this).name,currentUser:yl(this)&&yl(this).D()}};var al=function(t){return t.Ke||zn(new lo("auth-domain-config-required"))},sl=function(t){var e=vl(t).options.authDomain,n=vl(t).options.apiKey;e&&Or()&&(t.Ke=t.Xb.then(function(){if(!t.Za)return t.m=ah(e,n,vl(t).name),t.m.subscribe(t),yl(t)&&Ch(yl(t)),t.Nb&&(Ch(t.Nb),t.Nb=null),t.m}))};t=ol.prototype,t.Cd=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.aa==e&&!!this.Z;default:return!1}},t.Sa=function(t,e,n,i){"signInViaPopup"==t&&this.aa==i&&(n&&this.Na?this.Na(n):e&&!n&&this.Z&&this.Z(e),this.C&&(this.C.cancel(),this.C=null),delete this.Z,delete this.Na)},t.xb=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.aa==e&&this.Z?v(this.Ne,this):null},t.Ne=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.C&&(this.C.cancel(),this.C=null);var i=null,r=ia(n.g,t).then(function(t){return i=jo(t),t});return t=n.Xb.then(function(){return r}).then(function(t){return hl(n,t)}).then(function(){return{user:yl(n),credential:i}}),this.c(t)},t.cc=function(){return Ur()},t.signInWithPopup=function(t){if(!Or())return zn(new lo("operation-not-supported-in-this-environment"));var e=this,n=ho(t.providerId),r=this.cc(),o=null;(!Br()||Nr())&&vl(this).options.authDomain&&t.isOAuthProvider&&(o=qa(vl(this).options.authDomain,vl(this).options.apiKey,vl(this).name,"signInViaPopup",t,null,r,i.SDK_VERSION||null));var a=kr(o,n&&n.Hb,n&&n.Gb),n=al(this).then(function(e){return e.Ib(a,"signInViaPopup",t,r,!!o)}).then(function(){return new On(function(t,n){e.Sa("signInViaPopup",null,new lo("cancelled-popup-request"),e.aa),e.Z=t,e.Na=n,e.aa=r,e.C=e.m.Qb(e,"signInViaPopup",a,r)})}).then(function(t){return a&&xr(a),t}).f(function(t){throw a&&xr(a),t});return this.c(n)},t.signInWithRedirect=function(t){if(!Or())return zn(new lo("operation-not-supported-in-this-environment"));var e=this,n=al(this).then(function(){return e.m.Jb("signInViaRedirect",t)});return this.c(n)},t.getRedirectResult=function(){if(!Or())return zn(new lo("operation-not-supported-in-this-environment"));var t=this,e=al(this).then(function(){return t.m.getRedirectResult()});return this.c(e)};var hl=function(t,e){var n={};return n.apiKey=vl(t).options.apiKey,n.authDomain=vl(t).options.authDomain,n.appName=vl(t).name,t.Xb.then(function(){return $h(n,e,t.mb)}).then(function(e){return yl(t)&&e.uid==yl(t).uid?(yl(t).copy(e),t.cb(e)):(ll(t,e),Ch(e),t.cb(e))}).then(function(){t.La()})},ll=function(t,e){yl(t)&&(Mh(yl(t),t.ue),Ke(yl(t),"tokenChanged",t.tb),Ke(yl(t),"userDeleted",t.se),Ke(yl(t),"userInvalidated",t.te),Th(yl(t))),e&&(e.yc.push(t.ue),He(e,"tokenChanged",t.tb),He(e,"userDeleted",t.se),He(e,"userInvalidated",t.te),0<t.Fa&&kh(e)),Zr(t,"currentUser",e)};ol.prototype.signOut=function(){var t=this,e=this.va.then(function(){return yl(t)?(ll(t,null),il(t.pa).then(function(){t.La()})):qn()});return this.c(e)};var ul=function(t){var e=Zh(t.mb,vl(t).options.authDomain).then(function(e){return(t.Nb=e)&&(e.Qa=t.mb),Qh(t.mb)});return t.c(e)},cl=function(t){var e=vl(t).options.authDomain,n=ul(t).then(function(){return rl(t.pa,e)}).then(function(e){return e?(e.Qa=t.mb,t.Nb&&(t.Nb.ua||null)==(e.ua||null)?e:e.reload().then(function(){return nl(t.pa,e).then(function(){return e})}).f(function(n){return"auth/network-request-failed"==n.code?e:il(t.pa)})):null}).then(function(e){ll(t,e||null)});return t.c(n)},fl=function(t){return t.Xb.then(function(){return t.getRedirectResult()}).f(function(){}).then(function(){if(!t.Za)return t.Tc()}).f(function(){}).then(function(){if(!t.Za){t.ad=!0;var e=t.pa;e.i.addListener(el,e.u,t.Tc)}})};t=ol.prototype,t.Of=function(){var t=this;return rl(this.pa,vl(this).options.authDomain).then(function(e){if(!t.Za){var n;if(n=yl(t)&&e){n=yl(t).uid;var i=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==i&&null!==i&&""!==i&&n==i}if(n)return yl(t).copy(e),yl(t).getToken();(yl(t)||e)&&(ll(t,e),e&&(Ch(e),e.Qa=t.mb),t.m&&t.m.subscribe(t),t.La())}})},t.cb=function(t){return nl(this.pa,t)},t.Vc=function(){this.La(),this.cb(yl(this))},t.Ye=function(){this.signOut()},t.Ze=function(){this.signOut()};var dl=function(t,e){var n=null,i=null;return t.c(e.then(function(e){return n=jo(e),i=bs(e),hl(t,e)}).then(function(){return{user:yl(t),credential:n,additionalUserInfo:i}}))};t=ol.prototype,t.cf=function(t){var e=this;this.addAuthTokenListener(function(){t.next(yl(e))})},t.onAuthStateChanged=function(t,e,n){var r=this;return this.ad&&i.Promise.resolve().then(function(){c(t)?t(yl(r)):c(t.next)&&t.next(yl(r))}),this.pf(t,e,n)},t.getToken=function(t){var e=this,n=this.va.then(function(){return yl(e)?yl(e).getToken(t).then(function(t){return{accessToken:t}}):null});return this.c(n)},t.signInWithCustomToken=function(t){var e=this;return this.va.then(function(){return dl(e,Sa(e.g,ka,{token:t}))}).then(function(t){return t=t.user,Fh(t,"isAnonymous",!1),e.cb(t)}).then(function(){return yl(e)})},t.signInWithEmailAndPassword=function(t,e){var n=this;return this.va.then(function(){return dl(n,Sa(n.g,Ta,{email:t,password:e}))}).then(function(t){return t.user})},t.createUserWithEmailAndPassword=function(t,e){var n=this;return this.va.then(function(){return dl(n,Sa(n.g,ha,{email:t,password:e}))}).then(function(t){return t.user})},t.signInWithCredential=function(t){return pl(this,t).then(function(t){return t.user})};var pl=function(t,e){return t.va.then(function(){return dl(t,e.dc(t.g))})};ol.prototype.signInAnonymously=function(){var t=yl(this),e=this;return t&&t.isAnonymous?qn(t):this.va.then(function(){return dl(e,e.g.signInAnonymously())}).then(function(t){return t=t.user,Fh(t,"isAnonymous",!0),e.cb(t)}).then(function(){return yl(e)})};var vl=function(t){return t.app},yl=function(t){return t.currentUser};t=ol.prototype,t.getUid=function(){return yl(this)&&yl(this).uid||null},t.La=function(){if(this.ad)for(var t=0;t<this.Aa.length;t++)this.Aa[t]&&this.Aa[t](yl(this)&&yl(this)._lat||null)},t.De=function(t){this.addAuthTokenListener(t),0<++this.Fa&&yl(this)&&kh(yl(this))},t.yf=function(t){var e=this;F(this.Aa,function(n){n==t&&e.Fa--}),0>this.Fa&&(this.Fa=0),0==this.Fa&&yl(this)&&Th(yl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.Aa.push(t),this.c(this.va.then(function(){e.Za||q(e.Aa,t)&&t(yl(e)&&yl(e)._lat||null)}))},t.removeAuthTokenListener=function(t){U(this.Aa,function(e){return e==t})},t.delete=function(){this.Za=!0;for(var t=0;t<this.$.length;t++)this.$[t].cancel("app-deleted");return this.$=[],this.pa&&(t=this.pa,t.i.removeListener(el,t.u,this.Tc)),this.m&&this.m.unsubscribe(this),i.Promise.resolve()},t.c=function(t){var e=this;return this.$.push(t),Hn(t,function(){z(e.$,t)}),t},t.fetchProvidersForEmail=function(t){return this.c(Jo(this.g,t))},t.verifyPasswordResetCode=function(t){return this.checkActionCode(t).then(function(t){return t.data.email})},t.confirmPasswordReset=function(t,e){return this.c(this.g.confirmPasswordReset(t,e).then(function(){}))},t.checkActionCode=function(t){return this.c(this.g.checkActionCode(t).then(function(t){return new ss(t)}))},t.applyActionCode=function(t){return this.c(this.g.applyActionCode(t).then(function(){}))},t.sendPasswordResetEmail=function(t){return this.c(this.g.sendPasswordResetEmail(t).then(function(){}))},Ps(ol.prototype,{applyActionCode:{name:"applyActionCode",a:[ls("code")]},checkActionCode:{name:"checkActionCode",a:[ls("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[ls("code"),ls("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[ls("email"),ls("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[ls("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[vs(us(),cs(),"nextOrObserver"),cs("opt_error",!0),cs("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[ls("email")]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[ds()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[ls("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[ls("email"),ls("password")]},signInWithPopup:{name:"signInWithPopup",a:[ps()]},signInWithRedirect:{name:"signInWithRedirect",a:[ps()]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[ls(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[ls("code")]}}),Ps(wh.prototype,{delete:{name:"delete",a:[]},getToken:{name:"getToken",a:[{name:"opt_forceRefresh",ha:"a boolean",optional:!0,ja:function(t){return"boolean"==typeof t}}]},link:{name:"link",a:[ds()]},linkWithPopup:{name:"linkWithPopup",a:[ps()]},linkWithRedirect:{name:"linkWithRedirect",a:[ps()]},reauthenticate:{name:"reauthenticate",a:[ds()]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[]},toJSON:{name:"toJSON",a:[ls(null,!0)]},unlink:{name:"unlink",a:[ls("provider")]},updateEmail:{name:"updateEmail",a:[ls("email")]},updatePassword:{name:"updatePassword",a:[ls("password")]},updateProfile:{name:"updateProfile",a:[us("profile")]}}),Ps(On.prototype,{f:{name:"catch"},then:{name:"then"}}),Cs(Eo,"credential",function(t,e){return new Ao(t,e)},[ls("email"),ls("password")]),Ps(ko.prototype,{addScope:{name:"addScope",a:[ls("scope")]},setCustomParameters:{name:"setCustomParameters",a:[us("customOAuthParameters")]}}),Cs(ko,"credential",To,[vs(ls(),us(),"token")]),Ps(So.prototype,{addScope:{name:"addScope",a:[ls("scope")]},setCustomParameters:{name:"setCustomParameters",a:[us("customOAuthParameters")]}}),Cs(So,"credential",Mo,[vs(ls(),us(),"token")]),Ps(Po.prototype,{addScope:{name:"addScope",a:[ls("scope")]},setCustomParameters:{name:"setCustomParameters",a:[us("customOAuthParameters")]}}),Cs(Po,"credential",Co,[vs(ls(),fs(),"idToken",!0),vs(ls(),fs(),"accessToken",!0)]),Ps(No.prototype,{setCustomParameters:{name:"setCustomParameters",a:[us("customOAuthParameters")]}}),Cs(No,"credential",Do,[vs(ls(),us(),"token"),ls("secret",!0)]),Ps(lo.prototype,{toJSON:{name:"toJSON",a:[ls(null,!0)]}}),Ps(Fo.prototype,{toJSON:{name:"toJSON",a:[ls(null,!0)]}}),Ps(vo.prototype,{toJSON:{name:"toJSON",a:[ls(null,!0)]}}),function(){if(void 0===i||!i.INTERNAL||!i.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:ol,Error:lo};Cs(t,"EmailAuthProvider",Eo,[]),Cs(t,"FacebookAuthProvider",ko,[]),Cs(t,"GithubAuthProvider",So,[]),Cs(t,"GoogleAuthProvider",Po,[]),Cs(t,"TwitterAuthProvider",No,[]),i.INTERNAL.registerService("auth",function(t,e){return t=new ol(t),e({INTERNAL:{getUid:v(t.getUid,t),getToken:v(t.getToken,t),addAuthTokenListener:v(t.De,t),removeAuthTokenListener:v(t.yf,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),i.INTERNAL.extendNamespace({User:wh})}()}).call(this)}).call(void 0!==typeof e?e:void 0!==typeof self?self:void 0!==typeof window?window:{}),t.exports=i.auth}).call(e,n(14))},function(module,exports,__webpack_require__){(function(global){var firebase=__webpack_require__(15);(function(){/*! @license Firebase v3.7.3
    Build: 3.7.3-rc.1
    Terms: https://firebase.google.com/terms/

    ---

    typedarray.js
    Copyright (c) 2010, Linden Research, Inc.

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in
    all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    THE SOFTWARE. */
!function(){function n(t){return void 0!==t}function ba(){}function ca(t){t.Vb=function(){return t.Ye?t.Ye:t.Ye=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){return"function"==da(t)}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ja(t,e,n){return t.call.apply(t.bind,arguments)}function ka(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function q(t,e,n){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function la(t,e){function n(){}n.prototype=e.prototype,t.wg=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.sg=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function ma(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function na(){this.Fd=void 0}function oa(t,e,n){switch(typeof e){case"string":pa(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(ea(e)){var i=e.length;n.push("[");for(var r="",o=0;o<i;o++)n.push(r),r=e[o],oa(t,t.Fd?t.Fd.call(e,String(o),r):r,n),r=",";n.push("]");break}n.push("{"),i="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&"function"!=typeof(r=e[o])&&(n.push(i),pa(o,n),n.push(":"),oa(t,t.Fd?t.Fd.call(e,o,r):r,n),i=",");n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function pa(t,e){e.push('"',t.replace(ra,function(t){if(t in qa)return qa[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),qa[t]=n+e.toString(16)}),'"')}function sa(){this.Wa=-1}function ta(){this.Wa=-1,this.Wa=64,this.M=[],this.Wd=[],this.Af=[],this.zd=[],this.zd[0]=128;for(var t=1;t<this.Wa;++t)this.zd[t]=0;this.Pd=this.$b=0,this.reset()}function ua(t,e,n){n||(n=0);var i=t.Af;if(p(e))for(var r=0;16>r;r++)i[r]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(r=0;16>r;r++)i[r]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(r=16;80>r;r++){var o=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=4294967295&(o<<1|o>>>31)}e=t.M[0],n=t.M[1];for(var a,s=t.M[2],h=t.M[3],l=t.M[4],r=0;80>r;r++)40>r?20>r?(o=h^n&(s^h),a=1518500249):(o=n^s^h,a=1859775393):60>r?(o=n&s|h&(n|s),a=2400959708):(o=n^s^h,a=3395469782),o=(e<<5|e>>>27)+o+l+a+i[r]&4294967295,l=h,h=s,s=4294967295&(n<<30|n>>>2),n=e,e=o;t.M[0]=t.M[0]+e&4294967295,t.M[1]=t.M[1]+n&4294967295,t.M[2]=t.M[2]+s&4294967295,t.M[3]=t.M[3]+h&4294967295,t.M[4]=t.M[4]+l&4294967295}function Da(t,e){var n=Ea(t,e,void 0);return 0>n?null:p(t)?t.charAt(n):t[n]}function Ea(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;o<i;o++)if(o in r&&e.call(n,r[o],o,t))return o;return-1}function Fa(e,n){var i=xa(e,n);0<=i&&t.splice.call(e,i,1)}function Ga(e,n,i){return 2>=arguments.length?t.slice.call(e,n):t.slice.call(e,n,i)}function Ha(t,e){t.sort(e||Ia)}function Ia(t,e){return t>e?1:t<e?-1:0}function v(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function Ja(t,e){var n,i={};for(n in t)i[n]=e.call(void 0,t[n],n,t);return i}function Ka(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function La(t){var e,n=0;for(e in t)n++;return n}function Ma(t){for(var e in t)return e}function Na(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n}function Oa(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n}function Pa(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function Qa(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i}function Ra(t,e){var n=Qa(t,e,void 0);return n&&t[n]}function Sa(t){for(var e in t)return!1;return!0}function Ta(t){var e,n={};for(e in t)n[e]=t[e];return n}function ab(t,e){if(!fa(t))throw Error("encodeByteArray takes an array as a parameter");bb();for(var n=e?Za:Ya,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,h=r+2<t.length,l=h?t[r+2]:0,u=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|l>>6,l=63&l;h||(l=64,a||(s=64)),i.push(n[u],n[o],n[s],n[l])}return i.join("")}function bb(){if(!Ya){Ya={},Za={},$a={};for(var t=0;65>t;t++)Ya[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Za[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),$a[Za[t]]=t,62<=t&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function cb(t,e){if(!t)throw db(e)}function db(t){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}function eb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function fb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gb(t){var e=[];return fb(t,function(t,n){ea(n)?ya(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function ib(){var t=this;this.reject=this.resolve=null,this.ra=new hb(function(e,n){t.resolve=e,t.reject=n})}function jb(t,e){return function(n,i){n?t.reject(n):t.resolve(i),ha(e)&&(kb(t.ra),1===e.length?e(n):e(n,i))}}function kb(t){t.then(void 0,ba)}function lb(t){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(t):ma(t)}function x(t){if("undefined"!=typeof JSON&&n(JSON.stringify))t=JSON.stringify(t);else{var e=[];oa(new na,t,e),t=e.join("")}return t}function mb(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);55296<=r&&56319>=r&&(r-=55296,i++,cb(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(r<<10)+(t.charCodeAt(i)-56320)),128>r?e[n++]=r:(2048>r?e[n++]=r>>6|192:(65536>r?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return e}function nb(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e++:2048>i?e+=2:55296<=i&&56319>=i?(e+=4,n++):e+=3}return e}function y(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")}function A(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+i+" argument "}function B(t,e,i,r){if((!r||n(i))&&!ha(i))throw Error(A(t,e,r)+"must be a valid function.")}function ob(t,e,i){if(n(i)&&(!ia(i)||null===i))throw Error(A(t,e,!0)+"must be a valid context object.")}function pb(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function C(t,e){this.name=t,this.R=e}function qb(t,e){return new C(t,e)}function rb(t,e){return sb(t.name,e.name)}function tb(t,e){return sb(t,e)}function ub(t){this.uc=t,this.Cd="firebase:"}function vb(){this.pc={}}function wb(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ub(e)}}catch(t){}return new vb}function zb(t,e,n,i,r){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Sc=e,this.pe=n,this.qg=i,this.gf=r||"",this.$a=xb.get("host:"+t)||this.host}function Ab(t,e){e!==t.$a&&(t.$a=e,"s-"===t.$a.substr(0,2)&&xb.set("host:"+t.host,t.$a))}function Bb(t,e,n){if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),e===Cb)e=(t.Sc?"wss://":"ws://")+t.$a+"/.ws?";else{if(e!==Db)throw Error("Unknown connection type: "+e);e=(t.Sc?"https://":"http://")+t.$a+"/.lp?"}t.host!==t.$a&&(n.ns=t.pe);var i=[];return v(n,function(t,e){i.push(e+"="+t)}),e+i.join("&")}function Eb(t,e){return t&&"object"==typeof t?(D(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function Fb(t,e){var n=new Gb;return Hb(t,new E(""),function(t,i){Ib(n,t,Jb(i,e))}),n}function Jb(t,e){var n,i=t.C().H(),i=Eb(i,e);if(t.J()){var r=Eb(t.Ca(),e);return r!==t.Ca()||i!==t.C().H()?new Kb(r,G(i)):t}return n=t,i!==t.C().H()&&(n=n.fa(new Kb(i))),t.O(H,function(t,i){var r=Jb(i,e);r!==i&&(n=n.T(t,r))}),n}function Nb(t){try{var e;bb();for(var n=$a,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;var s=r<t.length?n[t.charAt(r)]:64;++r;var h=r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==h)throw Error();i.push(o<<2|a>>4),64!=s&&(i.push(a<<4&240|s>>2),64!=h&&i.push(s<<6&192|h))}if(8192>i.length)e=String.fromCharCode.apply(null,i);else{for(t="",n=0;n<i.length;n+=8192)t+=String.fromCharCode.apply(null,Ga(i,n,n+8192));e=t}return e}catch(t){I("base64Decode failed: ",t)}return null}function Ob(t){var e=mb(t);t=new ta,t.update(e);var e=[],n=8*t.Pd;56>t.$b?t.update(t.zd,56-t.$b):t.update(t.zd,t.Wa-(t.$b-56));for(var i=t.Wa-1;56<=i;i--)t.Wd[i]=255&n,n/=256;for(ua(t,t.Wd),i=n=0;5>i;i++)for(var r=24;0<=r;r-=8)e[n]=t.M[i]>>r&255,++n;return ab(e)}function Pb(t){for(var e="",n=0;n<arguments.length;n++)e=fa(arguments[n])?e+Pb.apply(null,arguments[n]):"object"==typeof arguments[n]?e+x(arguments[n]):e+arguments[n],e+=" ";return e}function Sb(t,e){cb(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?Qb=q(console.log,console):"object"==typeof console.log&&(Qb=function(t){console.log(t)})),e&&yb.set("logging_enabled",!0)):ha(t)?Qb=t:(Qb=null,yb.remove("logging_enabled"))}function I(t){if(!0===Rb&&(Rb=!1,null===Qb&&!0===yb.get("logging_enabled")&&Sb(!0)),Qb){var e=Pb.apply(null,arguments);Qb(e)}}function Tb(t){return function(){I(t,arguments)}}function Ub(t){if("undefined"!=typeof console){var e="FIREBASE INTERNAL ERROR: "+Pb.apply(null,arguments);void 0!==console.error?console.error(e):console.log(e)}}function Vb(t){var e=Pb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+e)}function J(t){if("undefined"!=typeof console){var e="FIREBASE WARNING: "+Pb.apply(null,arguments);void 0!==console.warn?console.warn(e):console.log(e)}}function Wb(t){var e,n,i,r,o,a=t;if(o=n=t=e="",i=!0,r="https",p(a)){var s=a.indexOf("//");for(0<=s&&(r=a.substring(0,s-1),a=a.substring(s+2)),s=a.indexOf("/"),-1===s&&(s=a.length),e=a.substring(0,s),o="",a=a.substring(s).split("/"),s=0;s<a.length;s++)if(0<a[s].length){var h=a[s];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch(t){}o+="/"+h}a=e.split("."),3===a.length?(t=a[1],n=a[0].toLowerCase()):2===a.length&&(t=a[0]),s=e.indexOf(":"),0<=s&&(i="https"===r||"wss"===r)}return"firebase"===t&&Vb(e+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||Vb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&J("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{jc:new zb(e,i,n,"ws"===r||"wss"===r),path:new E(o)}}function Xb(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Yb(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function sb(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=Zb(t),i=Zb(e);return null!==n?null!==i?0==n-i?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}function $b(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+x(e))}function ac(t){if("object"!=typeof t||null===t)return x(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var i=0;i<n.length;i++)0!==i&&(e+=","),e+=x(n[i]),e+=":",e+=ac(t[n[i]]);return e+"}"}function bc(t,e){if(t.length<=e)return[t];for(var n=[],i=0;i<t.length;i+=e)i+e>t?n.push(t.substring(i,t.length)):n.push(t.substring(i,i+e));return n}function cc(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else v(t,e)}function dc(t){D(!Xb(t),"Invalid JSON number");var e,n,i,r;for(0===t?(i=n=0,e=-(1/0)==1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,i=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),r=[],t=52;t;--t)r.push(i%2?1:0),i=Math.floor(i/2);for(t=11;t;--t)r.push(n%2?1:0),n=Math.floor(n/2);for(r.push(e?1:0),r.reverse(),e=r.join(""),n="",t=0;64>t;t+=8)i=parseInt(e.substr(t,8),2).toString(16),1===i.length&&(i="0"+i),n+=i;return n.toLowerCase()}function Zb(t){return ec.test(t)&&-2147483648<=(t=Number(t))&&2147483647>=t?t:null}function fc(t){try{t()}catch(t){setTimeout(function(){throw J("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function gc(t,e,n){Object.defineProperty(t,e,{get:n})}function hc(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n}function ic(t){var e={},n={},i={},r="";try{var o=t.split("."),e=lb(Nb(o[0])||""),n=lb(Nb(o[1])||""),r=o[2],i=n.d||{};delete n.d}catch(t){}return{tg:e,Je:n,data:i,mg:r}}function jc(t){t=ic(t);var e=t.Je;return!!t.mg&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function kc(t){return"object"==typeof(t=ic(t).Je)&&!0===w(t,"admin")}function lc(){}function nc(t){return q(t.compare,t)}function pc(t){D(!t.e()&&".priority"!==K(t),"Can't create PathIndex with empty path or .priority key"),this.bc=t}function rc(){}function sc(){}function uc(){}function xc(t,e){this.od=t,this.cc=e}function yc(t,e,n){return new xc(Ja(t.od,function(i,r){var o=w(t.cc,r);if(D(o,"Missing index implementation for "+r),i===mc){if(o.xc(e.R)){for(var a=[],s=n.Wb(qb),h=M(s);h;)h.name!=e.name&&a.push(h),h=M(s);return a.push(e),zc(a,nc(o))}return mc}return o=n.get(e.name),a=i,o&&(a=a.remove(new C(e.name,o))),a.Oa(e,e.R)}),t.cc)}function Ac(t,e,n){return new xc(Ja(t.od,function(t){if(t===mc)return t;var i=n.get(e.name);return i?t.remove(new C(e.name,i)):t}),t.cc)}function Kb(t,e){this.B=t,D(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=e||L,Cc(this.aa),this.Db=null}function Gc(){this.set={}}function Hc(t,e){v(t.set,function(t,n){e(n,t)})}function Ic(t){D(ea(t)&&0<t.length,"Requires a non-empty array"),this.Bf=t,this.Dc={}}function Jc(t,e){D(Da(t.Bf,function(t){return t===e}),"Unknown event: "+e)}function Lc(){if(Ic.call(this,["online"]),this.hc=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!pb()){var t=this;window.addEventListener("online",function(){t.hc||(t.hc=!0,t.Ge("online",!0))},!1),window.addEventListener("offline",function(){t.hc&&(t.hc=!1,t.Ge("online",!1))},!1)}}function Mc(){Ic.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.Mb=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.Mb&&(n.Mb=e,n.Ge("visible",e))},!1)}}function E(t,e){if(1==arguments.length){this.o=t.split("/");for(var n=0,i=0;i<this.o.length;i++)0<this.o[i].length&&(this.o[n]=this.o[i],n++);this.o.length=n,this.Y=0}else this.o=t,this.Y=e}function P(t,e){var n=K(t);if(null===n)return e;if(n===K(e))return P(N(t),N(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Nc(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var o=sb(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1}function K(t){return t.Y>=t.o.length?null:t.o[t.Y]}function Ec(t){return t.o.length-t.Y}function N(t){var e=t.Y;return e<t.o.length&&e++,new E(t.o,e)}function Oc(t){return t.Y<t.o.length?t.o[t.o.length-1]:null}function Pc(t,e){this.Qa=t.slice(),this.Ha=Math.max(1,this.Qa.length),this.Qe=e;for(var n=0;n<this.Qa.length;n++)this.Ha+=nb(this.Qa[n]);Qc(this)}function Qc(t){if(768<t.Ha)throw Error(t.Qe+"has a key path longer than 768 bytes ("+t.Ha+").");if(32<t.Qa.length)throw Error(t.Qe+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rc(t))}function Rc(t){return 0==t.Qa.length?"":"in property '"+t.Qa.join(".")+"'"}function Sc(){this.children={},this.bd=0,this.value=null}function Tc(t,e,n){this.ud=t?t:"",this.Pc=e?e:null,this.A=n?n:new Sc}function Uc(t,e){for(var n,i=e instanceof E?e:new E(e),r=t;null!==(n=K(i));)r=new Tc(n,r,w(r.A.children,n)||new Sc),i=N(i);return r}function Vc(t,e){D(void 0!==e,"Cannot set value to undefined"),t.A.value=e,Wc(t)}function Xc(t,e,n,i){n&&!i&&e(t),t.O(function(t){Xc(t,e,!0,i)}),n&&i&&e(t)}function Yc(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function Wc(t){if(null!==t.Pc){var e=t.Pc,n=t.ud,i=t.e(),r=eb(e.A.children,n);i&&r?(delete e.A.children[n],e.A.bd--,Wc(e)):i||r||(e.A.children[n]=t.A,e.A.bd++,Wc(e))}}function Zc(t,e){this.La=t,this.ba=e?e:$c}function ad(t,e){for(var n,i=t.ba,r=null;!i.e();){if(0===(n=t.La(e,i.key))){if(i.left.e())return r?r.key:null;for(i=i.left;!i.right.e();)i=i.right;return i.key}0>n?i=i.left:0<n&&(r=i,i=i.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function bd(t,e,n,i,r){for(this.Hd=r||null,this.le=i,this.Pa=[],r=1;!t.e();)if(r=e?n(t.key,e):1,i&&(r*=-1),0>r)t=this.le?t.left:t.right;else{if(0===r){this.Pa.push(t);break}this.Pa.push(t),t=this.le?t.right:t.left}}function M(t){if(0===t.Pa.length)return null;var e,n=t.Pa.pop();if(e=t.Hd?t.Hd(n.key,n.value):{key:n.key,value:n.value},t.le)for(n=n.left;!n.e();)t.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)t.Pa.push(n),n=n.left;return e}function cd(t){if(0===t.Pa.length)return null;var e;return e=t.Pa,e=e[e.length-1],t.Hd?t.Hd(e.key,e.value):{key:e.key,value:e.value}}function dd(t,e,n,i,r){this.key=t,this.value=e,this.color=null==n||n,this.left=null!=i?i:$c,this.right=null!=r?r:$c}function ed(t){return t.left.e()?t:ed(t.left)}function hd(t){return t.left.e()?$c:(t.left.ea()||t.left.left.ea()||(t=id(t)),t=t.X(null,null,null,hd(t.left),null),gd(t))}function gd(t){return t.right.ea()&&!t.left.ea()&&(t=ld(t)),t.left.ea()&&t.left.left.ea()&&(t=jd(t)),t.left.ea()&&t.right.ea()&&(t=kd(t)),t}function id(t){return t=kd(t),t.right.left.ea()&&(t=t.X(null,null,null,null,jd(t.right)),t=ld(t),t=kd(t)),t}function ld(t){return t.right.X(null,null,t.color,t.X(null,null,!0,null,t.right.left),null)}function jd(t){return t.left.X(null,null,t.color,null,t.X(null,null,!0,t.left.right,null))}function kd(t){return t.X(null,null,!t.color,t.left.X(null,null,!t.left.color,null,null),t.right.X(null,null,!t.right.color,null,null))}function md(){}function O(t,e,n){this.k=t,(this.aa=e)&&Cc(this.aa),t.e()&&D(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.yb=n,this.Db=null}function pd(t,e){var n;return n=(n=od(t,e))?(n=n.Gc())&&n.name:t.k.Gc(),n?new C(n,t.k.get(n)):null}function qd(t,e){var n;return n=(n=od(t,e))?(n=n.ec())&&n.name:t.k.ec(),n?new C(n,t.k.get(n)):null}function od(t,e){return e===tc?null:t.yb.get(e.toString())}function G(t,e){if(null===t)return L;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:void 0!==e&&(n=e),D(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Kb(t,G(n));if(t instanceof Array){var i=L,r=t;return v(r,function(t,e){if(eb(r,e)&&"."!==e.substring(0,1)){var n=G(t);!n.J()&&n.e()||(i=i.T(e,n))}}),i.fa(G(n))}var o=[],a=!1,s=t;if(fb(s,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=G(s[t]);e.e()||(a=a||!e.C().e(),o.push(new C(t,e)))}}),0==o.length)return L;var h=zc(o,rb,function(t){return t.name},tb);if(a){var l=zc(o,nc(H));return new O(h,G(n),new xc({".priority":l},{".priority":H}))}return new O(h,G(n),Bc)}function sd(t){this.count=parseInt(Math.log(t+1)/rd,10),this.Oe=this.count-1,this.Cf=t+1&parseInt(Array(this.count+1).join("1"),2)}function td(t){var e=!(t.Cf&1<<t.Oe);return t.Oe--,e}function zc(t,e,n,i){function r(e,i){var o=i-e;if(0==o)return null;if(1==o){var a=t[e],s=n?n(a):a;return new dd(s,a.R,!1,null,null)}var a=parseInt(o/2,10)+e,o=r(e,a),h=r(a+1,i),a=t[a],s=n?n(a):a;return new dd(s,a.R,!1,o,h)}t.sort(e);var o=function(e){function i(e,i){var h=s-e,l=s;s-=e;var l=r(h+1,l),h=t[h],u=n?n(h):h,l=new dd(u,h.R,i,null,l);o?o.left=l:a=l,o=l}for(var o=null,a=null,s=t.length,h=0;h<e.count;++h){var l=td(e),u=Math.pow(2,e.count-(h+1));l?i(u,!1):(i(u,!1),i(u,!0))}return a}(new sd(t.length));return null!==o?new Zc(i||e,o):new Zc(i||e)}function Fc(t){return"number"==typeof t?"number:"+dc(t):"string:"+t}function Cc(t){if(t.J()){var e=t.H();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&eb(e,".sv"),"Priority must be a string or number.")}else D(t===qc||t.e(),"priority of unexpected type.");D(t===qc||t.C().e(),"Priority nodes can't have a priority of their own.")}function ud(){O.call(this,new Zc(tb),L,Bc)}function vd(t,e){this.value=t,this.children=e||wd}function xd(t){var e=R;return v(t,function(t,n){e=e.set(new E(n),t)}),e}function yd(t,e,n){if(null!=t.value&&n(t.value))return{path:Q,value:t.value};if(e.e())return null;var i=K(e);return t=t.children.get(i),null!==t?(e=yd(t,N(e),n),null!=e?{path:new E(i).n(e.path),value:e.value}:null):null}function zd(t,e){return yd(t,e,function(){return!0})}function Ad(t,e,n){if(e.e())return n;var i=K(e);return e=Ad(t.children.get(i)||R,N(e),n),i=e.e()?t.children.remove(i):t.children.Oa(i,e),new vd(t.value,i)}function Bd(t,e){return Cd(t,Q,e)}function Cd(t,e,n){var i={};return t.children.ha(function(t,r){i[t]=Cd(r,e.n(t),n)}),n(e,t.value,i)}function Dd(t,e,n){return Ed(t,e,Q,n)}function Ed(t,e,n,i){var r=!!t.value&&i(n,t.value);return r?r:e.e()?null:(r=K(e),(t=t.children.get(r))?Ed(t,N(e),n.n(r),i):null)}function Fd(t,e,n){Gd(t,e,Q,n)}function Gd(t,e,n,i){if(e.e())return t;t.value&&i(n,t.value);var r=K(e);return(t=t.children.get(r))?Gd(t,N(e),n.n(r),i):R}function Hd(t,e){Id(t,Q,e)}function Id(t,e,n){t.children.ha(function(t,i){Id(i,e.n(t),n)}),t.value&&n(e,t.value)}function Jd(t,e){t.children.ha(function(t,n){n.value&&e(t,n.value)})}function Md(t){return p(t)&&0!==t.length&&!Kd.test(t)}function Nd(t){return null===t||p(t)||ga(t)&&!Xb(t)||ia(t)&&eb(t,".sv")}function Od(t,e,i,r){r&&!n(e)||Pd(A(t,1,r),e,i)}function Pd(t,e,i){if(i instanceof E&&(i=new Pc(i,t)),!n(e))throw Error(t+"contains undefined "+Rc(i));if(ha(e))throw Error(t+"contains a function "+Rc(i)+" with contents: "+e.toString());if(Xb(e))throw Error(t+"contains "+e.toString()+" "+Rc(i));if(p(e)&&e.length>10485760/3&&10485760<nb(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+Rc(i)+" ('"+e.substring(0,50)+"...')");if(ia(e)){var r=!1,o=!1;if(fb(e,function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Md(e)))throw Error(t+" contains an invalid key ("+e+") "+Rc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),Pd(t,n,i),i.pop()}),r&&o)throw Error(t+' contains ".value" child '+Rc(i)+" in addition to actual children.")}}function Qd(t,e){var n,i;for(n=0;n<e.length;n++){i=e[n];for(var r=i.slice(),o=0;o<r.length;o++)if((".priority"!==r[o]||o!==r.length-1)&&!Md(r[o]))throw Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(e.sort(Nc),r=null,n=0;n<e.length;n++){if(i=e[n],null!==r&&r.contains(i))throw Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}function Rd(t,e,n){var i=A(t,1,!1);if(!ia(e)||ea(e))throw Error(i+" must be an object containing the children to replace.");var r=[];fb(e,function(t,e){var o=new E(t);if(Pd(i,e,n.n(o)),".priority"===Oc(o)&&!Nd(e))throw Error(i+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(o)}),Qd(i,r)}function Sd(t,e,n){if(Xb(n))throw Error(A(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nd(n))throw Error(A(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Td(t,e,i){if(!i||n(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(A(t,1,i)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Ud(t,e){if(n(e)&&!Md(e))throw Error(A(t,2,!0)+'was an invalid key: "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Vd(t,e){if(!p(e)||0===e.length||Ld.test(e))throw Error(A(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Wd(t,e){if(".info"===K(e))throw Error(t+" failed: Can't modify data under /.info/")}function Xd(t,e){var n,i=e.path.toString();if(!(n=!p(e.jc.host)||0===e.jc.host.length||!Md(e.jc.pe))&&(n=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),n=!(p(i)&&0!==i.length&&!Ld.test(i))),n)throw Error(A(t,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}function Gb(){this.k=this.B=null}function Ib(t,e,n){if(e.e())t.B=n,t.k=null;else if(null!==t.B)t.B=t.B.F(e,n);else{null==t.k&&(t.k=new Gc);var i=K(e);t.k.contains(i)||t.k.add(i,new Gb),t=t.k.get(i),e=N(e),Ib(t,e,n)}}function Yd(t,e){if(e.e())return t.B=null,t.k=null,!0;if(null!==t.B){if(t.B.J())return!1;var n=t.B;return t.B=null,n.O(H,function(e,n){Ib(t,new E(e),n)}),Yd(t,e)}return null===t.k||(n=K(e),e=N(e),t.k.contains(n)&&Yd(t.k.get(n),e)&&t.k.remove(n),!!t.k.e()&&(t.k=null,!0))}function Hb(t,e,n){null!==t.B?n(e,t.B):t.O(function(t,i){Hb(i,new E(e.toString()+"/"+t),n)})}function Zd(t,e){this.type=$d,this.source=t,this.path=e}function ae(t,e,n){this.type=be,this.source=t,this.path=e,this.children=n}function de(t,e,n){this.type=ee,this.source=fe,this.path=t,this.Ob=e,this.Id=n}function ce(t,e,n){this.type=ge,this.source=t,this.path=e,this.Ga=n}function he(t,e,n,i){this.ee=t,this.Se=e,this.Hb=n,this.Ee=i,D(!i||e,"Tagged queries must be from server.")}function je(t,e,n){this.A=t,this.da=e,this.Sb=n}function ke(t){return t.da}function le(t){return t.Sb}function me(t,e){return e.e()?t.da&&!t.Sb:ne(t,K(e))}function ne(t,e){return t.da&&!t.Sb||t.A.Da(e)}function oe(t,e){this.N=t,this.Ld=e}function pe(t,e,n,i){return new oe(new je(e,n,i),t.Ld)}function qe(t){return t.N.da?t.N.j():null}function re(t){return t.Ld.da?t.Ld.j():null}function se(){}function ue(t,e,n){this.xf=t,this.Ka=e,this.yd=n}function ve(t,e){this.Sd=t,this.Df=e}function we(t){this.U=t}function De(t,e,n,i,r,o){var a=e.N;if(null!=i.lc(n))return e;var s;if(n.e())D(ke(e.w()),"If change path is empty, we must have complete server data"),le(e.w())?(r=re(e),i=i.rc(r instanceof O?r:L)):i=i.Aa(re(e)),o=t.U.ya(e.N.j(),i,o);else{var h=K(n);if(".priority"==h)D(1==Ec(n),"Can't have a priority with additional path components"),o=a.j(),s=e.w().j(),i=i.ad(n,o,s),o=null!=i?t.U.fa(o,i):a.j();else{var l=N(n);ne(a,h)?(s=e.w().j(),i=i.ad(n,a.j(),s),i=null!=i?a.j().Q(h).F(l,i):a.j().Q(h)):i=i.qc(h,e.w()),o=null!=i?t.U.F(a.j(),h,i,l,r,o):a.j()}}return pe(e,o,a.da||n.e(),t.U.Na())}function ze(t,e,n,i,r,o,a,s){var h=e.w();if(a=a?t.U:t.U.Ub(),n.e())i=a.ya(h.j(),i,null);else if(a.Na()&&!h.Sb)i=h.j().F(n,i),i=a.ya(h.j(),i,null);else{var l=K(n);if(!me(h,n)&&1<Ec(n))return e;var u=N(n);i=h.j().Q(l).F(u,i),i=".priority"==l?a.fa(h.j(),i):a.F(h.j(),l,i,u,te,null)}return h=h.da||n.e(),e=new oe(e.N,new je(i,h,a.Na())),De(t,e,n,r,new ue(r,e,o),s)}function ye(t,e,n,i,r,o,a){var s=e.N;if(r=new ue(r,e,o),n.e())a=t.U.ya(e.N.j(),i,a),t=pe(e,a,!0,t.U.Na());else if(".priority"===(o=K(n)))a=t.U.fa(e.N.j(),i),t=pe(e,a,s.da,s.Sb);else{n=N(n);var h=s.j().Q(o);if(!n.e()){var l=r.Te(o);i=null!=l?".priority"===Oc(n)&&l.P(n.parent()).e()?l:l.F(n,i):L}h.Z(i)?t=e:(a=t.U.F(s.j(),o,i,n,r,a),t=pe(e,a,s.da,t.U.Na()))}return t}function Ae(t,e,n,i,r,o,a){var s=e;return Hd(i,function(i,h){var l=n.n(i);ne(e.N,K(l))&&(s=ye(t,s,l,h,r,o,a))}),Hd(i,function(i,h){var l=n.n(i);ne(e.N,K(l))||(s=ye(t,s,l,h,r,o,a))}),s}function Fe(t,e){return Hd(e,function(e,n){t=t.F(e,n)}),t}function Be(t,e,n,i,r,o,a,s){if(e.w().j().e()&&!ke(e.w()))return e;var h=e;n=n.e()?i:Ad(R,n,i);var l=e.w().j();return n.children.ha(function(n,i){if(l.Da(n)){var u=e.w().j().Q(n),u=Fe(u,i);h=ze(t,h,new E(n),u,r,o,a,s)}}),n.children.ha(function(n,i){var u=!ne(e.w(),n)&&null==i.value;l.Da(n)||u||(u=e.w().j().Q(n),u=Fe(u,i),h=ze(t,h,new E(n),u,r,o,a,s))}),h}function Ce(t,e,n,i,r,o,a){if(null!=r.lc(n))return e;var s=le(e.w()),h=e.w();if(null!=i.value){if(n.e()&&h.da||me(h,n))return ze(t,e,n,h.j().P(n),r,o,s,a);if(n.e()){var l=R;return h.j().O(tc,function(t,e){l=l.set(new E(t),e)}),Be(t,e,n,l,r,o,s,a)}return e}return l=R,Hd(i,function(t){var e=n.n(t);me(h,e)&&(l=l.set(t,h.j().P(e)))}),Be(t,e,n,l,r,o,s,a)}function Ge(t){this.V=t,this.g=t.m.g}function He(t,e,n,i){var r=[],o=[];return ya(e,function(e){e.type===Ie&&t.g.nd(e.qe,e.Ja)&&o.push(new S(Je,e.Ja,e.Xa))}),Ke(t,r,Le,e,i,n),Ke(t,r,Me,e,i,n),Ke(t,r,Je,o,i,n),Ke(t,r,Ie,e,i,n),Ke(t,r,Ne,e,i,n),r}function Ke(t,e,n,i,r,o){i=za(i,function(t){return t.type===n}),Ha(i,q(t.Ff,t)),ya(i,function(n){var i=Oe(t,n,o);ya(r,function(r){r.nf(n.type)&&e.push(r.createEvent(i,t.V))})})}function Oe(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Dd=n.Ve(e.Xa,e.Ja,t.g)),e}function Pe(t,e){this.V=t;var n=t.m,i=new Qe(n.g),n=T(n)?new Qe(n.g):n.xa?new Re(n):new Se(n);this.hf=new we(n);var r=e.w(),o=e.N,a=i.ya(L,r.j(),null),s=n.ya(L,o.j(),null);this.Ka=new oe(new je(s,o.da,n.Na()),new je(a,r.da,i.Na())),this.Za=[],this.Jf=new Ge(t)}function Te(t){return t.V}function Ve(t,e){var n=t.Ka.N,i=[];return n.j().J()||n.j().O(H,function(t,e){i.push(new S(Me,e,t))}),n.da&&i.push(Ee(n.j())),Ue(t,i,n.j(),e)}function Ue(t,e,n,i){return He(t.Jf,e,n,i?[i]:t.Za)}function We(t,e,n,i){this.ae=e,this.Md=n,this.Dd=i,this.hd=t}function Xe(t,e,n){this.ae=t,this.error=e,this.path=n}function Ye(){this.vb=[]}function Ze(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],o=r.Yb();null===n||o.Z(n.Yb())||(t.vb.push(n),n=null),null===n&&(n=new $e(o)),n.add(r)}n&&t.vb.push(n)}function af(t,e,n){Ze(t,n),bf(t,function(t){return t.Z(e)})}function cf(t,e,n){Ze(t,n),bf(t,function(t){return t.contains(e)||e.contains(t)})}function bf(t,e){for(var n=!0,i=0;i<t.vb.length;i++){var r=t.vb[i];if(r)if(r=r.Yb(),e(r)){for(var r=t.vb[i],o=0;o<r.jd.length;o++){var a=r.jd[o];if(null!==a){r.jd[o]=null;var s=a.Tb();Qb&&I("event: "+a.toString()),fc(s)}}t.vb[i]=null}else n=!1}n&&(t.vb=[])}function $e(t){this.qa=t,this.jd=[]}function Qe(t){this.g=t}function Se(t){this.he=new Qe(t.g),this.g=t.g;var e;t.ka?(e=ef(t),e=t.g.Ec(ff(t),e)):e=t.g.Hc(),this.Uc=e,t.na?(e=gf(t),t=t.g.Ec(hf(t),e)):t=t.g.Fc(),this.vc=t}function Re(t){this.sa=new Se(t),this.g=t.g,D(t.xa,"Only valid if limit has been set"),this.oa=t.oa,this.Ib=!jf(t)}function kf(t,e,n,i,r,o){var a;if(t.Ib){var s=nc(t.g);a=function(t,e){return s(e,t)}}else a=nc(t.g);D(e.Eb()==t.oa,"");var h=new C(n,i),l=t.Ib?pd(e,t.g):qd(e,t.g),u=t.sa.matches(h);if(e.Da(n)){for(var c=e.Q(n),l=r.fe(t.g,l,t.Ib);null!=l&&(l.name==n||e.Da(l.name));)l=r.fe(t.g,l,t.Ib);return r=null==l?1:a(l,h),u&&!i.e()&&0<=r?(null!=o&&df(o,new S(Ie,i,n,c)),e.T(n,i)):(null!=o&&df(o,new S(Le,c,n)),e=e.T(n,L),null!=l&&t.sa.matches(l)?(null!=o&&df(o,new S(Me,l.R,l.name)),e.T(l.name,l.R)):e)}return i.e()?e:u&&0<=a(l,h)?(null!=o&&(df(o,new S(Le,l.R,l.name)),df(o,new S(Me,i,n))),e.T(n,i).T(l.name,L)):e}function S(t,e,n,i){this.type=t,this.Ja=e,this.Xa=n,this.qe=i,this.Dd=void 0}function Ee(t){return new S(Ne,t)}function xe(){this.fb={}}function df(t,e){var n=e.type,i=e.Xa;D(n==Me||n==Ie||n==Le,"Only child changes supported for tracking"),D(".priority"!==i,"Only non-priority child changes can be tracked.");var r=w(t.fb,i);if(r){var o=r.type;if(n==Me&&o==Le)t.fb[i]=new S(Ie,e.Ja,i,r.Ja);else if(n==Le&&o==Me)delete t.fb[i];else if(n==Le&&o==Ie)t.fb[i]=new S(Le,r.qe,i);else if(n==Ie&&o==Me)t.fb[i]=new S(Me,e.Ja,i);else{if(n!=Ie||o!=Ie)throw Mb("Illegal combination of changes: "+e+" occurred after "+r);t.fb[i]=new S(Ie,e.Ja,i,r.qe)}}else t.fb[i]=e}function lf(){this.Rb=this.na=this.Kb=this.ka=this.xa=!1,this.oa=0,this.mb="",this.dc=null,this.zb="",this.ac=null,this.xb="",this.g=H}function jf(t){return""===t.mb?t.ka:"l"===t.mb}function ff(t){return D(t.ka,"Only valid if start has been set"),t.dc}function ef(t){return D(t.ka,"Only valid if start has been set"),t.Kb?t.zb:"[MIN_NAME]"}function hf(t){return D(t.na,"Only valid if end has been set"),t.ac}function gf(t){return D(t.na,"Only valid if end has been set"),t.Rb?t.xb:"[MAX_NAME]"}function nf(t){var e=new lf;return e.xa=t.xa,e.oa=t.oa,e.ka=t.ka,e.dc=t.dc,e.Kb=t.Kb,e.zb=t.zb,e.na=t.na,e.ac=t.ac,e.Rb=t.Rb,e.xb=t.xb,e.g=t.g,e.mb=t.mb,e}function of(t,e){var n=nf(t);return n.g=e,n}function pf(t){var e={};if(t.ka&&(e.sp=t.dc,t.Kb&&(e.sn=t.zb)),t.na&&(e.ep=t.ac,t.Rb&&(e.en=t.xb)),t.xa){e.l=t.oa;var n=t.mb;""===n&&(n=jf(t)?"l":"r"),e.vf=n}return t.g!==H&&(e.i=t.g.toString()),e}function T(t){return!(t.ka||t.na||t.xa)}function qf(t){return T(t)&&t.g==H}function rf(t){var e={};if(qf(t))return e;var n;return t.g===H?n="$priority":t.g===wc?n="$value":t.g===tc?n="$key":(D(t.g instanceof pc,"Unrecognized index type!"),n=t.g.toString()),e.orderBy=x(n),t.ka&&(e.startAt=x(t.dc),t.Kb&&(e.startAt+=","+x(t.zb))),t.na&&(e.endAt=x(t.ac),t.Rb&&(e.endAt+=","+x(t.xb))),t.xa&&(jf(t)?e.limitToFirst=t.oa:e.limitToLast=t.oa),e}function sf(t){this.W=t}function uf(t,e,n){if(e.e())return new sf(new vd(n));var i=zd(t.W,e);if(null!=i){var r=i.path,i=i.value;return e=P(r,e),i=i.F(e,n),new sf(t.W.set(r,i))}return t=Ad(t.W,e,new vd(n)),new sf(t)}function vf(t,e,n){var i=t;return fb(n,function(t,n){i=uf(i,e.n(t),n)}),i}function wf(t,e){var n=zd(t.W,e);return null!=n?t.W.get(n.path).P(P(n.path,e)):null}function xf(t){var e=[],n=t.W.value;return null!=n?n.J()||n.O(H,function(t,n){e.push(new C(t,n))}):t.W.children.ha(function(t,n){null!=n.value&&e.push(new C(t,n.value))}),e}function yf(t,e){if(e.e())return t;var n=wf(t,e);return new sf(null!=n?new vd(n):t.W.subtree(e))}function zf(t,e,n){if(null!=e.value)return n.F(t,e.value);var i=null;return e.children.ha(function(e,r){".priority"===e?(D(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=zf(t.n(e),r,n)}),n.P(t).e()||null===i||(n=n.F(t.n(".priority"),i)),n}function Af(){this.Jd=L}function Bf(t){this.oc=t}function Cf(t,e){t.oc.INTERNAL.addAuthTokenListener(e)}function Df(){this.S=tf,this.la=[],this.Bc=-1}function Ef(t,e){for(var n=0;n<t.la.length;n++){var i=t.la[n];if(i.Zc===e)return i}return null}function Ff(t,e){return t.Ga?t.path.contains(e):!!Qa(t.children,function(n,i){return t.path.n(i).contains(e)})}function Hf(t){return t.visible}function Gf(t,e,n){for(var i=tf,r=0;r<t.length;++r){var o=t[r];if(e(o)){var a=o.path;if(o.Ga)n.contains(a)?(a=P(n,a),i=uf(i,a,o.Ga)):a.contains(n)&&(a=P(a,n),i=uf(i,Q,o.Ga.P(a)));else{if(!o.children)throw Mb("WriteRecord should have .snap or .children");n.contains(a)?(a=P(n,a),i=vf(i,a,o.children)):a.contains(n)&&(a=P(a,n),a.e()?i=vf(i,Q,o.children):(o=w(o.children,K(a)))&&(o=o.P(N(a)),i=uf(i,Q,o)))}}}return i}function If(t,e){this.Lb=t,this.W=e}function Jf(t,e){this.rf={},this.Vc=new Kf(t),this.va=e;var n=1e4+2e4*Math.random();hc(q(this.lf,this),Math.floor(n))}function Lf(){this.tc={}}function Mf(t,e,i){n(i)||(i=1),eb(t.tc,e)||(t.tc[e]=0),t.tc[e]+=i}function Kf(t){this.Ef=t,this.rd=null}function Pf(t){return t=t.toString(),Nf[t]||(Nf[t]=new Lf),Nf[t]}function Qf(t,e){var n=t.toString();return Of[n]||(Of[n]=e()),Of[n]}function Rf(t,e,n){this.f=Tb("p:rest:"),this.L=t,this.Gb=e,this.$c=n,this.$={}}function Sf(t,e){return n(e)?"tag$"+e:(D(qf(t.m),"should have a tag if it's not a default query."),t.path.toString())}function Tf(t,e,n,i){n=n||{},n.format="export",t.$c.getToken(!1).then(function(r){(r=r&&r.accessToken)&&(n.auth=r);var o=(t.L.Sc?"https://":"http://")+t.L.host+e+"?"+gb(n);t.f("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(i&&4===a.readyState){t.f("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var e=null;if(200<=a.status&&300>a.status){try{e=lb(a.responseText)}catch(t){J("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,e)}else 401!==a.status&&404!==a.status&&J("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}function Uf(t){this.te=t,this.Bd=[],this.Qb=0,this.Yd=-1,this.Fb=null}function Vf(t,e,n){t.Yd=e,t.Fb=n,t.Yd<t.Qb&&(t.Fb(),t.Fb=null)}function Wf(t,e,n){for(t.Bd[e]=n;t.Bd[t.Qb];){var i=t.Bd[t.Qb];delete t.Bd[t.Qb];for(var r=0;r<i.length;++r)if(i[r]){var o=t;fc(function(){o.te(i[r])})}if(t.Qb===t.Yd){t.Fb&&(clearTimeout(t.Fb),t.Fb(),t.Fb=null);break}t.Qb++}}function Yf(t,e,n,i){this.Zd=t,this.f=Tb(this.Zd),this.frames=this.zc=null,this.pb=this.qb=this.Fe=0,this.Va=Pf(e),t={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),n&&(t.s=n),i&&(t.ls=i),this.Ke=Bb(e,Cb,t)}function ag(t,e){if(t.frames.push(e),t.frames.length==t.Fe){var n=t.frames.join("");t.frames=null,n=lb(n),t.Xf(n)}}function $f(t){clearInterval(t.zc),t.zc=setInterval(function(){t.Ia&&bg(t,"0"),$f(t)},Math.floor(45e3))}function bg(t,e){try{t.Ia.send(e)}catch(e){t.f("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(q(t.bb,t),0)}}function cg(t,e,n,i){this.Zd=t,this.f=Tb(t),this.jc=e,this.pb=this.qb=0,this.Va=Pf(e),this.tf=n,this.wc=!1,this.Cb=i,this.Yc=function(t){return Bb(e,Db,t)}}function gg(t,e){var n=x(e).length;t.pb+=n,Mf(t.Va,"bytes_received",n)}function fg(t,e,n,i){if(this.Yc=i,this.ib=n,this.ve=new Gc,this.Qc=[],this.$d=Math.floor(1e8*Math.random()),this.Kd=!0,this.Qd=Lb(),window["pLPCommand"+this.Qd]=t,window["pRTLPCB"+this.Qd]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||I("No IE domain setting required")}catch(e){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.gb=t.contentDocument:t.contentWindow?t.gb=t.contentWindow.document:t.document&&(t.gb=t.document),this.Ea=t,t="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";</script>'),t="<html><body>"+t+"</body></html>";try{this.Ea.gb.open(),this.Ea.gb.write(t),this.Ea.gb.close()}catch(t){I("frame writing exception"),t.stack&&I(t.stack),I(t)}}function ig(t){if(t.Ud&&t.Kd&&t.ve.count()<(0<t.Qc.length?2:1)){t.$d++;var e={};e.id=t.Vf,e.pw=t.Wf,e.ser=t.$d;for(var e=t.Yc(e),n="",i=0;0<t.Qc.length&&1870>=t.Qc[0].Pe.length+30+n.length;){var r=t.Qc.shift(),n=n+"&seg"+i+"="+r.jg+"&ts"+i+"="+r.pg+"&d"+i+"="+r.Pe;i++}return jg(t,e+n,t.$d),!0}return!1}function jg(t,e,n){function i(){t.ve.remove(n),ig(t)}t.ve.add(n,1);var r=setTimeout(i,Math.floor(25e3));hg(t,e,function(){clearTimeout(r),i()})}function hg(t,e,n){setTimeout(function(){try{if(t.Kd){var i=t.Ea.gb.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){I("Long-poll script failed to load: "+e),t.Kd=!1,t.close()},t.Ea.gb.body.appendChild(i)}}catch(t){}},Math.floor(1))}function kg(t){lg(this,t)}function lg(t,e){var n=Yf&&Yf.isAvailable(),i=n&&!(xb.Ze||!0===xb.get("previous_websocket_failure"));if(e.qg&&(n||J("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)t.Wc=[Yf];else{var r=t.Wc=[];cc(mg,function(t,e){e&&e.isAvailable()&&r.push(e)})}}function ng(t){if(0<t.Wc.length)return t.Wc[0];throw Error("No transports available")}function og(t,e,n,i,r,o,a){this.id=t,this.f=Tb("c:"+this.id+":"),this.te=n,this.Lc=i,this.ia=r,this.se=o,this.L=e,this.Ad=[],this.Le=0,this.sf=new kg(e),this.Ua=0,this.Cb=a,this.f("Connection created"),pg(this)}function pg(t){var e=ng(t.sf);t.I=new e("c:"+t.id+":"+t.Le++,t.L,void 0,t.Cb),t.xe=e.responsesRequiredToBeHealthy||0;var n=qg(t,t.I),i=rg(t,t.I);t.Xc=t.I,t.Rc=t.I,t.D=null,t.Bb=!1,setTimeout(function(){t.I&&t.I.open(n,i)},Math.floor(0)),0<(e=e.healthyTimeout||0)&&(t.md=hc(function(){t.md=null,t.Bb||(t.I&&102400<t.I.pb?(t.f("Connection exceeded healthy timeout but has received "+t.I.pb+" bytes.  Marking connection healthy."),t.Bb=!0,t.I.sd()):t.I&&10240<t.I.qb?t.f("Connection exceeded healthy timeout but has sent "+t.I.qb+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function rg(t,e){return function(n){e===t.I?(t.I=null,n||0!==t.Ua?1===t.Ua&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.L.$a.substr(0,2)&&(xb.remove("host:"+t.L.host),t.L.$a=t.L.host)),t.close()):e===t.D?(t.f("Secondary connection lost."),n=t.D,t.D=null,t.Xc!==n&&t.Rc!==n||t.close()):t.f("closing an old connection")}}function qg(t,e){return function(n){if(2!=t.Ua)if(e===t.Rc){var i=$b("t",n);if(n=$b("d",n),"c"==i){if(i=$b("t",n),"d"in n)if(n=n.d,"h"===i){var i=n.ts,r=n.v,o=n.h;t.qf=n.s,Ab(t.L,o),0==t.Ua&&(t.I.start(),sg(t,t.I,i),"5"!==r&&J("Protocol version mismatch detected"),n=t.sf,(n=1<n.Wc.length?n.Wc[1]:null)&&tg(t,n))}else if("n"===i){for(t.f("recvd end transmission on primary"),t.Rc=t.D,n=0;n<t.Ad.length;++n)t.wd(t.Ad[n]);t.Ad=[],ug(t)}else"s"===i?(t.f("Connection shutdown command received. Shutting down..."),t.se&&(t.se(n),t.se=null),t.ia=null,t.close()):"r"===i?(t.f("Reset packet received.  New host: "+n),Ab(t.L,n),1===t.Ua?t.close():(vg(t),pg(t))):"e"===i?Ub("Server Error: "+n):"o"===i?(t.f("got pong on primary."),wg(t),xg(t)):Ub("Unknown control packet command: "+i)}else"d"==i&&t.wd(n)}else if(e===t.D)if(i=$b("t",n),n=$b("d",n),"c"==i)"t"in n&&(n=n.t,"a"===n?yg(t):"r"===n?(t.f("Got a reset on secondary, closing it"),t.D.close(),t.Xc!==t.D&&t.Rc!==t.D||t.close()):"o"===n&&(t.f("got pong on secondary."),t.pf--,yg(t)));else{if("d"!=i)throw Error("Unknown protocol layer: "+i);t.Ad.push(n)}else t.f("message on old connection")}}function ug(t){t.Xc===t.D&&t.Rc===t.D&&(t.f("cleaning up and promoting a connection: "+t.D.Zd),t.I=t.D,t.D=null)}function yg(t){0>=t.pf?(t.f("Secondary connection is healthy."),t.Bb=!0,t.D.sd(),t.D.start(),t.f("sending client ack on secondary"),t.D.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.I.send({t:"c",d:{t:"n",d:{}}}),t.Xc=t.D,ug(t)):(t.f("sending ping on secondary."),t.D.send({t:"c",d:{t:"p",d:{}}}))}function wg(t){t.Bb||0>=--t.xe&&(t.f("Primary connection is healthy."),t.Bb=!0,t.I.sd())}function tg(t,e){t.D=new e("c:"+t.id+":"+t.Le++,t.L,t.qf),t.pf=e.responsesRequiredToBeHealthy||0,t.D.open(qg(t,t.D),rg(t,t.D)),hc(function(){t.D&&(t.f("Timed out trying to upgrade."),t.D.close())},Math.floor(6e4))}function sg(t,e,n){t.f("Realtime connection established."),t.I=e,t.Ua=1,t.Lc&&(t.Lc(n,t.qf),t.Lc=null),0===t.xe?(t.f("Primary connection is healthy."),t.Bb=!0):hc(function(){xg(t)},Math.floor(5e3))}function xg(t){t.Bb||1!==t.Ua||(t.f("sending ping on primary."),zg(t,{t:"c",d:{t:"p",d:{}}}))}function zg(t,e){if(1!==t.Ua)throw"Connection is not connected";t.Xc.send(e)}function vg(t){t.f("Shutting down all connections"),t.I&&(t.I.close(),t.I=null),t.D&&(t.D.close(),t.D=null),t.md&&(clearTimeout(t.md),t.md=null)}function Ag(t,e,n,i,r,o){if(this.id=Bg++,this.f=Tb("p:"+this.id+":"),this.qd={},this.$={},this.pa=[],this.Oc=0,this.Kc=[],this.ma=!1,this.Sa=1e3,this.td=3e5,this.Gb=e,this.Jc=n,this.ue=i,this.L=t,this.ob=this.Fa=this.Cb=this.ze=null,this.$c=r,this.de=!1,this.ke=0,o)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Vd=o,this.ub=null,this.Mb=!1,this.Gd={},this.ig=0,this.Re=!0,this.Ac=this.me=null,Cg(this,0),Mc.Vb().gc("visible",this.Zf,this),-1===t.host.indexOf("fblocal")&&Lc.Vb().gc("online",this.Yf,this)}function Eg(t,e){var n=e.eg,i=n.path.toString(),r=n.ja();t.f("Listen on "+i+" for "+r);var o={p:i};e.tag&&(o.q=pf(n.m),o.t=e.tag),o.h=e.ld(),t.ua("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&eb(a,"w")){var h=w(a,"w");ea(h)&&0<=xa(h,"no_index")&&J('Using an unspecified index. Consider adding ".indexOn": "'+n.m.g.toString()+'" at '+n.path.toString()+" to your security rules for better performance")}(t.$[i]&&t.$[i][r])===e&&(t.f("listen response",o),"ok"!==s&&Fg(t,i,r),e.G&&e.G(s,a))})}function Gg(t){if(t.ma&&t.ob){var e=t.ob,n=jc(e)?"auth":"gauth",i={cred:e};null===t.Vd?i.noauth=!0:"object"==typeof t.Vd&&(i.authvar=t.Vd),t.ua(n,i,function(n){var i=n.s;n=n.d||"error",t.ob===e&&("ok"===i?t.ke=0:Hg(t,i,n))})}}function Ig(t,e,n,i,r){n={p:n,d:i},t.f("onDisconnect "+e,n),t.ua(e,n,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})}function Jg(t,e,i,r,o,a){r={p:i,d:r},n(a)&&(r.h=a),t.pa.push({action:e,mf:r,G:o}),t.Oc++,e=t.pa.length-1,t.ma?Kg(t,e):t.f("Buffering put: "+i)}function Kg(t,e){var n=t.pa[e].action,i=t.pa[e].mf,r=t.pa[e].G;t.pa[e].fg=t.ma,t.ua(n,i,function(i){t.f(n+" response",i),delete t.pa[e],t.Oc--,0===t.Oc&&(t.pa=[]),r&&r(i.s,i.d)})}function Cg(t,e){D(!t.Fa,"Scheduling a connect when we're already connected/ing?"),t.ub&&clearTimeout(t.ub),t.ub=setTimeout(function(){t.ub=null,Ng(t)},Math.floor(e))}function Ng(t){if(Og(t)){t.f("Making a connection attempt"),t.me=(new Date).getTime(),t.Ac=null;var e=q(t.wd,t),n=q(t.Lc,t),i=q(t.df,t),r=t.id+":"+Dg++,o=t.Cb,a=!1,s=null,h=function(){s?s.close():(a=!0,i())};t.Fa={close:h,ua:function(t){D(s,"sendRequest call when we're not connected not allowed."),s.ua(t)}};var l=t.de;t.de=!1,t.$c.getToken(l).then(function(h){a?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),t.ob=h&&h.accessToken,s=new og(r,t.L,e,n,i,function(e){J(e+" ("+t.L.toString()+")"),t.ab("server_kill")},o))}).then(null,function(e){t.f("Failed to get token: "+e),a||h()})}}function Lg(t,e,n){n=n?Aa(n,function(t){return ac(t)}).join("$"):"default",(t=Fg(t,e,n))&&t.G&&t.G("permission_denied")}function Fg(t,e,i){e=new E(e).toString();var r;return n(t.$[e])?(r=t.$[e][i],delete t.$[e][i],0===La(t.$[e])&&delete t.$[e]):r=void 0,r}function Hg(t,e,n){I("Auth token revoked: "+e+"/"+n),t.ob=null,t.de=!0,t.Fa.close(),"invalid_token"!==e&&"permission_denied"!==e||3<=++t.ke&&(t.Sa=3e4,t=t.$c,e='Provided authentication credentials for the app named "'+t.oc.name+'" are invalid. This usually indicates your app was not initialized correctly. ',e="credential"in t.oc.options?e+'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in t.oc.options?e+'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',J(e))}function Mg(t){Gg(t),v(t.$,function(e){v(e,function(e){Eg(t,e)})});for(var e=0;e<t.pa.length;e++)t.pa[e]&&Kg(t,e);for(;t.Kc.length;)e=t.Kc.shift(),Ig(t,e.action,e.we,e.data,e.G)}function Og(t){var e;return e=Lc.Vb().hc,Sa(t.qd)&&e}function Pg(t){t instanceof Qg||Vb("Don't call new Database() directly - please use firebase.database()."),this.ta=t,this.ba=new U(t,Q),this.INTERNAL=new Rg(this)}function Tg(t,e){null===t.ta&&Vb("Cannot call "+e+" on a deleted database.")}function Rg(t){this.Ya=t}function V(t,e,n){this.A=t,this.V=e,this.g=n}function Vg(t,e,n){this.Pb=t,this.rb=e,this.tb=n||null}function Wg(t,e,n){this.ga=t,this.rb=e,this.tb=n}function Xg(){this.za={}}function Zg(t){return za(Na(t.za),function(t){return!T(t.V.m)})}function $g(t,e){if(T(e.m))return Yg(t);var n=e.ja();return w(t.za,n)}function Yg(t){return Ra(t.za,function(t){return T(t.V.m)})||null}function ah(t){this.wa=R,this.jb=new Df,this.De={},this.ic={},this.Cc=t}function bh(t,e,i,r,o){var a=t.jb,s=o;return D(r>a.Bc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.la.push({path:e,Ga:i,Zc:r,visible:s}),s&&(a.S=uf(a.S,e,i)),a.Bc=r,o?ch(t,new ce(fe,e,i)):[]}function dh(t,e,n,i){var r=t.jb;return D(i>r.Bc,"Stacking an older merge on top of newer ones"),r.la.push({path:e,children:n,Zc:i,visible:!0}),r.S=vf(r.S,e,n),r.Bc=i,n=xd(n),ch(t,new ae(fe,e,n))}function eh(t,e,n){n=n||!1;var i=Ef(t.jb,e);if(t.jb.Ed(e)){var r=R;return null!=i.Ga?r=r.set(Q,!0):fb(i.children,function(t,e){r=r.set(new E(t),e)}),ch(t,new de(i.path,r,n))}return[]}function fh(t,e,n){return n=xd(n),ch(t,new ae(ie,e,n))}function gh(t,e,n,i){if(null!=(i=hh(t,i))){var r=ih(i);return i=r.path,r=r.Hb,e=P(i,e),n=new ce(new he(!1,!0,r,!0),e,n),jh(t,i,n)}return[]}function kh(t,e,n,i){if(i=hh(t,i)){var r=ih(i);return i=r.path,r=r.Hb,e=P(i,e),n=xd(n),n=new ae(new he(!1,!0,r,!0),e,n),jh(t,i,n)}return[]}function oh(t){return Bd(t,function(t,e,n){if(e&&null!=Yg(e))return[Yg(e)];var i=[];return e&&(i=Zg(e)),v(n,function(t){i=i.concat(t)}),i})}function sh(t,e){for(var n=0;n<e.length;++n){var i=e[n];if(!T(i.m)){var i=lh(i),r=t.ic[i];delete t.ic[i],delete t.De["_"+r]}}}function qh(t){return T(t.m)&&!qf(t.m)?t.wb():t}function nh(t,e,n){var i=e.path,r=rh(t,e);if(n=ph(t,n),e=t.Cc.Ae(qh(e),r,n.ld,n.G),i=t.wa.subtree(i),r)D(null==Yg(i.value),"If we're adding a query, it shouldn't be shadowed");else for(r=Bd(i,function(t,e,n){if(!t.e()&&e&&null!=Yg(e))return[Te(Yg(e))];var i=[];return e&&(i=i.concat(Aa(Zg(e),function(t){return t.V}))),v(n,function(t){i=i.concat(t)}),i}),i=0;i<r.length;++i)n=r[i],t.Cc.Od(qh(n),rh(t,n));return e}function ph(t,e){var n=e.V,i=rh(t,n);return{ld:function(){return(e.w()||L).hash()},G:function(e){if("ok"===e){if(i){var r=n.path;if(e=hh(t,i)){var o=ih(e);e=o.path,o=o.Hb,r=P(e,r),r=new Zd(new he(!1,!0,o,!0),r),e=jh(t,e,r)}else e=[]}else e=ch(t,new Zd(ie,n.path));return e}return r="Unknown Error","too_big"===e?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?r="Client doesn't have permission to access the desired data.":"unavailable"==e&&(r="The service is unavailable"),r=Error(e+" at "+n.path.toString()+": "+r),r.code=e.toUpperCase(),t.kb(n,null,r)}}}function lh(t){return t.path.toString()+"$"+t.ja()}function ih(t){var e=t.indexOf("$");return D(-1!==e&&e<t.length-1,"Bad queryKey."),{Hb:t.substr(e+1),path:new E(t.substr(0,e))}}function hh(t,e){var n=t.De,i="_"+e;return i in n?n[i]:void 0}function rh(t,e){var n=lh(e);return w(t.ic,n)}function jh(t,e,n){var i=t.wa.get(e);return D(i,"Missing sync point for query tag that we're tracking"),i.eb(n,new If(e,t.jb),null)}function ch(t,e){return th(t,e,t.wa,null,new If(Q,t.jb))}function th(t,e,n,i,r){if(e.path.e())return uh(t,e,n,i,r);var o=n.get(Q);null==i&&null!=o&&(i=o.hb(Q));var a=[],s=K(e.path),h=e.Mc(s);if((n=n.children.get(s))&&h)var l=i?i.Q(s):null,s=r.n(s),a=a.concat(th(t,h,n,l,s));return o&&(a=a.concat(o.eb(e,r,i))),a}function uh(t,e,n,i,r){var o=n.get(Q);null==i&&null!=o&&(i=o.hb(Q));var a=[];return n.children.ha(function(n,o){var s=i?i.Q(n):null,h=r.n(n),l=e.Mc(n);l&&(a=a.concat(uh(t,l,o,s,h)))}),o&&(a=a.concat(o.eb(e,r,i))),a}function Qg(t,e,n){this.app=n;var i=new Bf(n);if(this.L=t,this.Va=Pf(t),this.Vc=null,this.ca=new Ye,this.vd=1,this.Ra=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Rf(this.L,q(this.Gb,this),i),setTimeout(q(this.Jc,this,!0),0);else{if(e=n.options.databaseAuthVariableOverride,"undefined"!==da(e)&&null!==e){if("object"!==da(e))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{x(e)}catch(t){throw Error("Invalid authOverride provided: "+t)}}this.va=this.Ra=new Ag(this.L,q(this.Gb,this),q(this.Jc,this),q(this.ue,this),i,e)}var r=this;Cf(i,function(t){r.va.kf(t)}),this.og=Qf(t,q(function(){return new Jf(this.Va,this.va)},this)),this.mc=new Tc,this.ie=new Af,this.pd=new ah({Ae:function(t,e,n,i){return e=[],n=r.ie.j(t.path),n.e()||(e=ch(r.pd,new ce(ie,t.path,n)),setTimeout(function(){i("ok")},0)),e},Od:ba}),vh(this,"connected",!1),this.ia=new Gb,this.Ya=new Pg(this),this.fd=0,this.je=null,this.K=new ah({Ae:function(t,e,n,i){return r.va.$e(t,n,e,function(e,n){var o=i(e,n);cf(r.ca,t.path,o)}),[]},Od:function(t,e){r.va.uf(t,e)}})}function wh(t){return t=t.ie.j(new E(".info/serverTimeOffset")).H()||0,(new Date).getTime()+t}function xh(t){return t=t={timestamp:wh(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function vh(t,e,n){e=new E("/.info/"+e),n=G(n);var i=t.ie;i.Jd=i.Jd.F(e,n),n=ch(t.pd,new ce(ie,e,n)),cf(t.ca,e,n)}function zh(t){t.f("onDisconnectEvents");var e=xh(t),n=[];Hb(Fb(t.ia,e),Q,function(e,i){n=n.concat(ch(t.K,new ce(ie,e,i)));var r=Bh(t,e);yh(t,r)}),t.ia=new Gb,cf(t.ca,Q,n)}function Ch(t,e,n,i){var r=G(n);t.va.re(e.toString(),r.H(!0),function(n,o){"ok"===n&&Ib(t.ia,e,r),Ah(i,n,o)})}function Dh(t,e,n,i,r){var o=G(n,i);t.va.re(e.toString(),o.H(!0),function(n,i){"ok"===n&&Ib(t.ia,e,o),Ah(r,n,i)})}function Eh(t,e,n,i){var r,o=!0;for(r in n)o=!1;o?(I("onDisconnect().update() called with empty data.  Don't do anything."),Ah(i,"ok")):t.va.cf(e.toString(),n,function(r,o){if("ok"===r)for(var a in n){var s=G(n[a]);Ib(t.ia,e.n(a),s)}Ah(i,r,o)})}function Fh(t,e,n){n=".info"===K(e.path)?t.pd.Nb(e,n):t.K.Nb(e,n),af(t.ca,e.path,n)}function Ah(t,e,n){t&&fc(function(){if("ok"==e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n),r=Error(r),r.code=i,t(r)}})}function Gh(t,e,i,r,o){function a(){}t.f("transaction on "+e);var s=new U(t,e);if(s.gc("value",a),i={path:e,update:i,G:r,status:null,ef:Lb(),He:o,of:0,Rd:function(){s.Ic("value",a)},Td:null,Ba:null,cd:null,dd:null,ed:null},r=t.K.Aa(e,void 0)||L,i.cd=r,r=i.update(r.H()),n(r)){Pd("transaction failed: Data returned ",r,i.path),i.status=1,o=Uc(t.mc,e);var h=o.Ca()||[];h.push(i),Vc(o,h),"object"==typeof r&&null!==r&&eb(r,".priority")?(h=w(r,".priority"),D(Nd(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(t.K.Aa(e)||L).C().H(),o=xh(t),r=G(r,h),o=Jb(r,o),i.dd=r,i.ed=o,i.Ba=t.vd++,i=bh(t.K,e,o,i.Ba,i.He),cf(t.ca,e,i),Hh(t)}else i.Rd(),i.dd=null,i.ed=null,i.G&&(t=new V(i.cd,new U(t,i.path),H),i.G(null,!1,t))}function Hh(t,e){var n=e||t.mc;if(e||Ih(t,n),null!==n.Ca()){var i=Jh(t,n);D(0<i.length,"Sending zero length transaction queue"),Ca(i,function(t){return 1===t.status})&&Kh(t,n.path(),i)}else n.kd()&&n.O(function(e){Hh(t,e)})}function Kh(t,e,n){for(var i=Aa(n,function(t){return t.Ba}),r=t.K.Aa(e,i)||L,i=r,r=r.hash(),o=0;o<n.length;o++){var a=n[o];D(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.of++;var s=P(e,a.path),i=i.F(s,a.dd)}i=i.H(!0),t.va.put(e.toString(),i,function(i){t.f("transaction put response",{path:e.toString(),status:i});var r=[];if("ok"===i){for(i=[],o=0;o<n.length;o++){if(n[o].status=3,r=r.concat(eh(t.K,n[o].Ba)),n[o].G){var a=n[o].ed,s=new U(t,n[o].path);i.push(q(n[o].G,null,null,!0,new V(a,s,H)))}n[o].Rd()}for(Ih(t,Uc(t.mc,e)),Hh(t),cf(t.ca,e,r),o=0;o<i.length;o++)fc(i[o])}else{if("datastale"===i)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(J("transaction at "+e.toString()+" failed: "+i),o=0;o<n.length;o++)n[o].status=5,n[o].Td=i;yh(t,e)}},r)}function yh(t,e){var n=Lh(t,e),i=n.path(),n=Jh(t,n);return Mh(t,n,i),i}function Mh(t,e,i){if(0!==e.length){for(var r=[],o=[],a=za(e,function(t){return 1===t.status}),a=Aa(a,function(t){return t.Ba}),s=0;s<e.length;s++){var h,l=e[s],u=P(i,l.path),c=!1;if(D(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),5===l.status)c=!0,h=l.Td,o=o.concat(eh(t.K,l.Ba,!0));else if(1===l.status)if(25<=l.of)c=!0,h="maxretry",o=o.concat(eh(t.K,l.Ba,!0));else{var f=t.K.Aa(l.path,a)||L;l.cd=f;var d=e[s].update(f.H());n(d)?(Pd("transaction failed: Data returned ",d,l.path),u=G(d),"object"==typeof d&&null!=d&&eb(d,".priority")||(u=u.fa(f.C())),f=l.Ba,d=xh(t),d=Jb(u,d),l.dd=u,l.ed=d,l.Ba=t.vd++,Fa(a,f),o=o.concat(bh(t.K,l.path,d,l.Ba,l.He)),o=o.concat(eh(t.K,f,!0))):(c=!0,h="nodata",o=o.concat(eh(t.K,l.Ba,!0)))}cf(t.ca,i,o),o=[],c&&(e[s].status=3,setTimeout(e[s].Rd,Math.floor(0)),e[s].G&&("nodata"===h?(l=new U(t,e[s].path),r.push(q(e[s].G,null,null,!1,new V(e[s].cd,l,H)))):r.push(q(e[s].G,null,Error(h),!1,null))))}for(Ih(t,t.mc),s=0;s<r.length;s++)fc(r[s]);Hh(t)}}function Lh(t,e){for(var n,i=t.mc;null!==(n=K(e))&&null===i.Ca();)i=Uc(i,n),e=N(e);return i}function Jh(t,e){var n=[];return Nh(t,e,n),n.sort(function(t,e){return t.ef-e.ef}),n}function Nh(t,e,n){var i=e.Ca();if(null!==i)for(var r=0;r<i.length;r++)n.push(i[r]);e.O(function(e){Nh(t,e,n)})}function Ih(t,e){var n=e.Ca();if(n){for(var i=0,r=0;r<n.length;r++)3!==n[r].status&&(n[i]=n[r],i++);n.length=i,Vc(e,0<n.length?n:null)}e.O(function(e){Ih(t,e)})}function Bh(t,e){var n=Lh(t,e).path(),i=Uc(t.mc,e);return Yc(i,function(e){Oh(t,e)}),Oh(t,i),Xc(i,function(e){Oh(t,e)}),n}function Oh(t,e){var n=e.Ca();if(null!==n){for(var i=[],r=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(D(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].Td="set"):(D(1===n[a].status,"Unexpected transaction status in abort"),n[a].Rd(),r=r.concat(eh(t.K,n[a].Ba,!0)),n[a].G&&i.push(q(n[a].G,null,Error("set"),!1,null))));for(-1===o?Vc(e,null):n.length=o+1,cf(t.ca,e.path(),r),a=0;a<i.length;a++)fc(i[a])}}function Ug(){this.lb={},this.wf=!1}function Ph(t,e){this.committed=t,this.snapshot=e}function X(t,e,n,i){this.u=t,this.path=e,this.m=n,this.Nc=i}function Qh(t){var e=null,n=null;if(t.ka&&(e=ff(t)),t.na&&(n=hf(t)),t.g===tc){if(t.ka){if("[MIN_NAME]"!=ef(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.na){if("[MAX_NAME]"!=gf(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===H){if(null!=e&&!Nd(e)||null!=n&&!Nd(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(D(t.g instanceof pc||t.g===wc,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function Rh(t){if(t.ka&&t.na&&t.xa&&(!t.xa||""===t.mb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function Sh(t,e){if(!0===t.Nc)throw Error(e+": You can't combine multiple orderBy calls.")}function Th(t,e,n){var i={cancel:null,Ma:null};if(e&&n)i.cancel=e,B(t,3,i.cancel,!0),i.Ma=n,ob(t,4,i.Ma);else if(e)if("object"==typeof e&&null!==e)i.Ma=e;else{if("function"!=typeof e)throw Error(A(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i}function Y(t,e){this.ta=t,this.qa=e}function U(t,e){if(!(t instanceof Qg))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,t,e,mf,!1),this.then=void 0,this.catch=void 0}var g,aa=this,qa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ra=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;la(ta,sa),ta.prototype.reset=function(){this.M[0]=1732584193,this.M[1]=4023233417,this.M[2]=2562383102,this.M[3]=271733878,this.M[4]=3285377520,this.Pd=this.$b=0},ta.prototype.update=function(t,e){if(null!=t){n(e)||(e=t.length);for(var i=e-this.Wa,r=0,o=this.Wd,a=this.$b;r<e;){if(0==a)for(;r<=i;)ua(this,t,r),r+=this.Wa;if(p(t)){for(;r<e;)if(o[a]=t.charCodeAt(r),++a,++r,a==this.Wa){ua(this,o),a=0;break}}else for(;r<e;)if(o[a]=t[r],++a,++r,a==this.Wa){ua(this,o),a=0;break}}this.$b=a,this.Pd+=e}};var r;t:{var va=aa.navigator;if(va){var wa=va.userAgent;if(wa){r=wa;break t}}r=""}var t=Array.prototype,xa=t.indexOf?function(e,n,i){return t.indexOf.call(e,n,i)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,p(t))return p(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ya=t.forEach?function(e,n,i){t.forEach.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},za=t.filter?function(e,n,i){return t.filter.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=[],o=0,a=p(t)?t.split(""):t,s=0;s<i;s++)if(s in a){var h=a[s];e.call(n,h,s,t)&&(r[o++]=h)}return r},Aa=t.map?function(e,n,i){return t.map.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=Array(i),o=p(t)?t.split(""):t,a=0;a<i;a++)a in o&&(r[a]=e.call(n,o[a],a,t));return r},Ba=t.reduce?function(e,n,i,r){for(var o=[],a=1,s=arguments.length;a<s;a++)o.push(arguments[a]);return r&&(o[0]=q(n,r)),t.reduce.apply(e,o)}:function(t,e,n,i){var r=n;return ya(t,function(n,o){r=e.call(i,r,n,o,t)}),r},Ca=t.every?function(e,n,i){return t.every.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;o<i;o++)if(o in r&&!e.call(n,r[o],o,t))return!1;return!0},Ua=-1!=r.indexOf("Opera")||-1!=r.indexOf("OPR"),Va=-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE"),Wa=-1!=r.indexOf("Gecko")&&-1==r.toLowerCase().indexOf("webkit")&&!(-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE")),Xa=-1!=r.toLowerCase().indexOf("webkit");!function(){var t,e="";Ua&&aa.opera?(e=aa.opera.version,ha(e)?e():e):(Wa?t=/rv\:([^\);]+)(\)|;)/:Va?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(t=/WebKit\/(\S+)/),t&&(e=(e=t.exec(r))?e[1]:""),Va&&(t=(t=aa.document)?t.documentMode:void 0)>parseFloat(e)?String(t):e)}();var Ya=null,Za=null,$a=null,hb=firebase.Promise;g=ub.prototype,g.set=function(t,e){null==e?this.uc.removeItem(this.Cd+t):this.uc.setItem(this.Cd+t,x(e))},g.get=function(t){return t=this.uc.getItem(this.Cd+t),null==t?null:lb(t)},g.remove=function(t){this.uc.removeItem(this.Cd+t)},g.Ze=!1,g.toString=function(){return this.uc.toString()},vb.prototype.set=function(t,e){null==e?delete this.pc[t]:this.pc[t]=e},vb.prototype.get=function(t){return eb(this.pc,t)?this.pc[t]:null},vb.prototype.remove=function(t){delete this.pc[t]},vb.prototype.Ze=!0;var xb=wb("localStorage"),yb=wb("sessionStorage");zb.prototype.toString=function(){var t=(this.Sc?"https://":"http://")+this.host;return this.gf&&(t+="<"+this.gf+">"),t};var Lb=function(){var t=1;return function(){return t++}}(),D=cb,Mb=db,Qb=null,Rb=!0,ec=/^-?\d{1,10}$/,mc={};lc.prototype.nd=function(t,e){return 0!==this.compare(new C("[MIN_NAME]",t),new C("[MIN_NAME]",e))},lc.prototype.Hc=function(){return oc},la(pc,lc),g=pc.prototype,g.xc=function(t){return!t.P(this.bc).e()},g.compare=function(t,e){var n=t.R.P(this.bc),i=e.R.P(this.bc),n=n.sc(i);return 0===n?sb(t.name,e.name):n},g.Ec=function(t,e){var n=G(t),n=L.F(this.bc,n);return new C(e,n)},g.Fc=function(){return new C("[MAX_NAME]",L.F(this.bc,qc))},g.toString=function(){return this.bc.slice().join("/")},la(rc,lc),g=rc.prototype,g.compare=function(t,e){var n=t.R.C(),i=e.R.C(),n=n.sc(i);return 0===n?sb(t.name,e.name):n},g.xc=function(t){return!t.C().e()},g.nd=function(t,e){return!t.C().Z(e.C())},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",new Kb("[PRIORITY-POST]",qc))},g.Ec=function(t,e){return new C(e,new Kb("[PRIORITY-POST]",G(t)))},g.toString=function(){return".priority"};var H=new rc;la(sc,lc),g=sc.prototype,g.compare=function(t,e){return sb(t.name,e.name)},g.xc=function(){throw Mb("KeyIndex.isDefinedOn not expected to be called.")},g.nd=function(){return!1},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",L)},g.Ec=function(t){return D(p(t),"KeyIndex indexValue must always be a string."),new C(t,L)},g.toString=function(){return".key"};var tc=new sc;la(uc,lc),g=uc.prototype,g.compare=function(t,e){var n=t.R.sc(e.R);return 0===n?sb(t.name,e.name):n},g.xc=function(){return!0},g.nd=function(t,e){return!t.Z(e)},g.Hc=function(){return oc},g.Fc=function(){return vc},g.Ec=function(t,e){return new C(e,G(t))},g.toString=function(){return".value"};var wc=new uc;xc.prototype.get=function(t){var e=w(this.od,t);if(!e)throw Error("No index defined for "+t);return e===mc?null:e};var Bc=new xc({".priority":mc},{".priority":H}),Dc=["object","boolean","number","string"];g=Kb.prototype,g.J=function(){return!0},g.C=function(){return this.aa},g.fa=function(t){return new Kb(this.B,t)},g.Q=function(t){return".priority"===t?this.aa:L},g.P=function(t){return t.e()?this:".priority"===K(t)?this.aa:L},g.Da=function(){return!1},g.Ve=function(){return null},g.T=function(t,e){return".priority"===t?this.fa(e):e.e()&&".priority"!==t?this:L.T(t,e).fa(this.aa)},g.F=function(t,e){var n=K(t);return null===n?e:e.e()&&".priority"!==n?this:(D(".priority"!==n||1===Ec(t),".priority must be the last token in a path"),this.T(n,L.F(N(t),e)))},g.e=function(){return!1},g.Eb=function(){return 0},g.O=function(){return!1},g.H=function(t){return t&&!this.C().e()?{".value":this.Ca(),".priority":this.C().H()}:this.Ca()},g.hash=function(){if(null===this.Db){var t="";this.aa.e()||(t+="priority:"+Fc(this.aa.H())+":");var e=typeof this.B,t=t+(e+":"),t="number"===e?t+dc(this.B):t+this.B;this.Db=Ob(t)}return this.Db},g.Ca=function(){return this.B},g.sc=function(t){if(t===L)return 1;if(t instanceof O)return-1;D(t.J(),"Unknown node type");var e=typeof t.B,n=typeof this.B,i=xa(Dc,e),r=xa(Dc,n);return D(0<=i,"Unknown leaf type: "+e),D(0<=r,"Unknown leaf type: "+n),i===r?"object"===n?0:this.B<t.B?-1:this.B===t.B?0:1:r-i},g.nb=function(){return this},g.yc=function(){return!0},g.Z=function(t){return t===this||!!t.J()&&(this.B===t.B&&this.aa.Z(t.aa))},g.toString=function(){return x(this.H(!0))},g=Gc.prototype,g.add=function(t,e){this.set[t]=null===e||e},g.contains=function(t){return eb(this.set,t)},g.get=function(t){return this.contains(t)?this.set[t]:void 0},g.remove=function(t){delete this.set[t]},g.clear=function(){this.set={}},g.e=function(){return Sa(this.set)},g.count=function(){return La(this.set)},g.keys=function(){var t=[];return v(this.set,function(e,n){t.push(n)}),t},Ic.prototype.Ge=function(t,e){var n;n=this.Dc[t]||[];var i=n.length;if(0<i){for(var r=Array(i),o=0;o<i;o++)r[o]=n[o];n=r}else n=[];for(i=0;i<n.length;i++)n[i].Ie.apply(n[i].Ma,Array.prototype.slice.call(arguments,1))},Ic.prototype.gc=function(t,e,n){Jc(this,t),this.Dc[t]=this.Dc[t]||[],this.Dc[t].push({Ie:e,Ma:n}),(t=this.Ue(t))&&e.apply(n,t)},Ic.prototype.Ic=function(t,e,n){Jc(this,t),t=this.Dc[t]||[];for(var i=0;i<t.length;i++)if(t[i].Ie===e&&(!n||n===t[i].Ma)){t.splice(i,1);break}};var Kc=function(){var t=0,e=[];return function(n){var i=n===t;t=n;for(var r=Array(8),o=7;0<=o;o--)r[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(D(0===n,"Cannot push at time == 0"),n=r.join(""),i){for(o=11;0<=o&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;12>o;o++)e[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[o]);return D(20===n.length,"nextPushId: Length should be 20."),n}}();la(Lc,Ic),Lc.prototype.Ue=function(t){return D("online"===t,"Unknown event type: "+t),[this.hc]},ca(Lc),la(Mc,Ic),Mc.prototype.Ue=function(t){return D("visible"===t,"Unknown event type: "+t),[this.Mb]},ca(Mc),g=E.prototype,g.toString=function(){for(var t="",e=this.Y;e<this.o.length;e++)""!==this.o[e]&&(t+="/"+this.o[e]);return t||"/"},g.slice=function(t){return this.o.slice(this.Y+(t||0))},g.parent=function(){if(this.Y>=this.o.length)return null;for(var t=[],e=this.Y;e<this.o.length-1;e++)t.push(this.o[e]);return new E(t,0)},g.n=function(t){for(var e=[],n=this.Y;n<this.o.length;n++)e.push(this.o[n]);if(t instanceof E)for(n=t.Y;n<t.o.length;n++)e.push(t.o[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new E(e,0)},g.e=function(){return this.Y>=this.o.length},g.Z=function(t){if(Ec(this)!==Ec(t))return!1;for(var e=this.Y,n=t.Y;e<=this.o.length;e++,n++)if(this.o[e]!==t.o[n])return!1;return!0},g.contains=function(t){var e=this.Y,n=t.Y;if(Ec(this)>Ec(t))return!1;for(;e<this.o.length;){if(this.o[e]!==t.o[n])return!1;++e,++n}return!0};var Q=new E("");Pc.prototype.push=function(t){0<this.Qa.length&&(this.Ha+=1),this.Qa.push(t),this.Ha+=nb(t),Qc(this)},Pc.prototype.pop=function(){var t=this.Qa.pop();this.Ha-=nb(t),0<this.Qa.length&&--this.Ha},g=Tc.prototype,g.Ca=function(){return this.A.value},g.clear=function(){this.A.value=null,this.A.children={},this.A.bd=0,Wc(this)},g.kd=function(){return 0<this.A.bd},g.e=function(){return null===this.Ca()&&!this.kd()},g.O=function(t){var e=this;v(this.A.children,function(n,i){t(new Tc(i,e,n))})},g.path=function(){return new E(null===this.Pc?this.ud:this.Pc.path()+"/"+this.ud)},g.name=function(){return this.ud},g.parent=function(){return this.Pc},g=Zc.prototype,g.Oa=function(t,e){return new Zc(this.La,this.ba.Oa(t,e,this.La).X(null,null,!1,null,null))},g.remove=function(t){return new Zc(this.La,this.ba.remove(t,this.La).X(null,null,!1,null,null))},g.get=function(t){for(var e,n=this.ba;!n.e();){if(0===(e=this.La(t,n.key)))return n.value;0>e?n=n.left:0<e&&(n=n.right)}return null},g.e=function(){return this.ba.e()},g.count=function(){return this.ba.count()},g.Gc=function(){return this.ba.Gc()},g.ec=function(){return this.ba.ec()},g.ha=function(t){return this.ba.ha(t)},g.Wb=function(t){return new bd(this.ba,null,this.La,!1,t)},g.Xb=function(t,e){return new bd(this.ba,t,this.La,!1,e)},g.Zb=function(t,e){return new bd(this.ba,t,this.La,!0,e)},g.We=function(t){return new bd(this.ba,null,this.La,!0,t)},g=dd.prototype,g.X=function(t,e,n,i,r){return new dd(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ha=function(t){return this.left.ha(t)||t(this.key,this.value)||this.right.ha(t)},g.Gc=function(){return ed(this).key},g.ec=function(){return this.right.e()?this.key:this.right.ec()},g.Oa=function(t,e,n){var i,r;return r=this,i=n(t,r.key),r=0>i?r.X(null,null,null,r.left.Oa(t,e,n),null):0===i?r.X(null,e,null,null,null):r.X(null,null,null,null,r.right.Oa(t,e,n)),gd(r)},g.remove=function(t,e){var n,i;if(n=this,0>e(t,n.key))n.left.e()||n.left.ea()||n.left.left.ea()||(n=id(n)),n=n.X(null,null,null,n.left.remove(t,e),null);else{if(n.left.ea()&&(n=jd(n)),n.right.e()||n.right.ea()||n.right.left.ea()||(n=kd(n),n.left.left.ea()&&(n=jd(n),n=kd(n))),0===e(t,n.key)){if(n.right.e())return $c;i=ed(n.right),n=n.X(i.key,i.value,null,null,hd(n.right))}n=n.X(null,null,null,null,n.right.remove(t,e))}return gd(n)},g.ea=function(){return this.color},g=md.prototype,g.X=function(){return this},g.Oa=function(t,e){return new dd(t,e,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ha=function(){return!1},g.Gc=function(){return null},g.ec=function(){return null},g.ea=function(){return!1};var $c=new md;g=O.prototype,g.J=function(){return!1},g.C=function(){return this.aa||L},g.fa=function(t){return this.k.e()?this:new O(this.k,t,this.yb)},g.Q=function(t){return".priority"===t?this.C():(t=this.k.get(t),null===t?L:t)},g.P=function(t){var e=K(t);return null===e?this:this.Q(e).P(N(t))},g.Da=function(t){return null!==this.k.get(t)},g.T=function(t,e){if(D(e,"We should always be passing snapshot nodes"),".priority"===t)return this.fa(e);var n,i,r=new C(t,e);return e.e()?(n=this.k.remove(t),r=Ac(this.yb,r,this.k)):(n=this.k.Oa(t,e),r=yc(this.yb,r,this.k)),i=n.e()?L:this.aa,new O(n,i,r)},g.F=function(t,e){var n=K(t);if(null===n)return e;D(".priority"!==K(t)||1===Ec(t),".priority must be the last token in a path");var i=this.Q(n).F(N(t),e);return this.T(n,i)},g.e=function(){return this.k.e()},g.Eb=function(){return this.k.count()};var nd=/^(0|[1-9]\d*)$/;g=O.prototype,g.H=function(t){if(this.e())return null;var e={},n=0,i=0,r=!0;if(this.O(H,function(o,a){e[o]=a.H(t),n++,r&&nd.test(o)?i=Math.max(i,Number(o)):r=!1}),!t&&r&&i<2*n){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.C().e()&&(e[".priority"]=this.C().H()),e},g.hash=function(){if(null===this.Db){var t="";this.C().e()||(t+="priority:"+Fc(this.C().H())+":"),this.O(H,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.Db=""===t?"":Ob(t)}return this.Db},g.Ve=function(t,e,n){return(n=od(this,n))?(t=ad(n,new C(t,e)))?t.name:null:ad(this.k,t)},g.O=function(t,e){var n=od(this,t);return n?n.ha(function(t){return e(t.name,t.R)}):this.k.ha(e)},g.Wb=function(t){return this.Xb(t.Hc(),t)},g.Xb=function(t,e){var n=od(this,e);if(n)return n.Xb(t,function(t){return t});for(var n=this.k.Xb(t.name,qb),i=cd(n);null!=i&&0>e.compare(i,t);)M(n),i=cd(n);return n},g.We=function(t){return this.Zb(t.Fc(),t)},g.Zb=function(t,e){var n=od(this,e);if(n)return n.Zb(t,function(t){return t});for(var n=this.k.Zb(t.name,qb),i=cd(n);null!=i&&0<e.compare(i,t);)M(n),i=cd(n);return n},g.sc=function(t){return this.e()?t.e()?0:-1:t.J()||t.e()?1:t===qc?-1:0},g.nb=function(t){if(t===tc||Pa(this.yb.cc,t.toString()))return this;var e=this.yb,n=this.k;D(t!==tc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],r=!1,n=n.Wb(qb),o=M(n);o;)r=r||t.xc(o.R),i.push(o),o=M(n);return i=r?zc(i,nc(t)):mc,r=t.toString(),n=Ta(e.cc),n[r]=t,t=Ta(e.od),t[r]=i,new O(this.k,this.aa,new xc(t,n))},g.yc=function(t){return t===tc||Pa(this.yb.cc,t.toString())},g.Z=function(t){if(t===this)return!0;if(t.J())return!1;if(this.C().Z(t.C())&&this.k.count()===t.k.count()){var e=this.Wb(H);t=t.Wb(H);for(var n=M(e),i=M(t);n&&i;){if(n.name!==i.name||!n.R.Z(i.R))return!1;n=M(e),i=M(t)}return null===n&&null===i}return!1},g.toString=function(){return x(this.H(!0))};var rd=Math.log(2),L=new O(new Zc(tb),null,Bc);la(ud,O),g=ud.prototype,g.sc=function(t){return t===this?0:1},g.Z=function(t){return t===this},g.C=function(){return this},g.Q=function(){return L},g.e=function(){return!1};var qc=new ud,oc=new C("[MIN_NAME]",L),vc=new C("[MAX_NAME]",qc),wd=new Zc(function(t,e){return t===e?0:t<e?-1:1});g=vd.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(t){if(t.e())return this;var e=this.children.get(K(t));return null!==e?e.subtree(N(t)):R},g.set=function(t,e){if(t.e())return new vd(e,this.children);var n=K(t),i=(this.children.get(n)||R).set(N(t),e),n=this.children.Oa(n,i);return new vd(this.value,n)},g.remove=function(t){if(t.e())return this.children.e()?R:new vd(null,this.children);var e=K(t),n=this.children.get(e);return n?(t=n.remove(N(t)),e=t.e()?this.children.remove(e):this.children.Oa(e,t),null===this.value&&e.e()?R:new vd(this.value,e)):this},g.get=function(t){if(t.e())return this.value;var e=this.children.get(K(t));return e?e.get(N(t)):null};var R=new vd(null);vd.prototype.toString=function(){var t={};return Hd(this,function(e,n){t[e.toString()]=n.toString()}),x(t)};var Kd=/[\[\].#$\/\u0000-\u001F\u007F]/,Ld=/[\[\].#$\u0000-\u001F\u007F]/;Gb.prototype.find=function(t){if(null!=this.B)return this.B.P(t);if(t.e()||null==this.k)return null;var e=K(t);return t=N(t),this.k.contains(e)?this.k.get(e).find(t):null},Gb.prototype.O=function(t){null!==this.k&&Hc(this.k,function(e,n){t(e,n)})},Zd.prototype.Mc=function(){return this.path.e()?new Zd(this.source,Q):new Zd(this.source,N(this.path))},Zd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},ae.prototype.Mc=function(t){return this.path.e()?(t=this.children.subtree(new E(t)),t.e()?null:t.value?new ce(this.source,Q,t.value):new ae(this.source,Q,t)):(D(K(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ae(this.source,N(this.path),this.children))},ae.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},de.prototype.Mc=function(t){return this.path.e()?null!=this.Ob.value?(D(this.Ob.children.e(),"affectedTree should not have overlapping affected paths."),this):(t=this.Ob.subtree(new E(t)),new de(Q,t,this.Id)):(D(K(this.path)===t,"operationForChild called for unrelated child."),new de(N(this.path),this.Ob,this.Id))},de.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Ob+")"},ce.prototype.Mc=function(t){return this.path.e()?new ce(this.source,Q,this.Ga.Q(t)):new ce(this.source,N(this.path),this.Ga)},ce.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"};var ge=0,be=1,ee=2,$d=3,fe=new he(!0,!1,null,!1),ie=new he(!1,!0,null,!1);he.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Hb+")":"server"},je.prototype.j=function(){return this.A},oe.prototype.w=function(){return this.Ld},se.prototype.Te=function(){return null},se.prototype.fe=function(){return null};var te=new se;ue.prototype.Te=function(t){var e=this.Ka.N;return ne(e,t)?e.j().Q(t):(e=null!=this.yd?new je(this.yd,!0,!1):this.Ka.w(),this.xf.qc(t,e))},ue.prototype.fe=function(t,e,n){var i=null!=this.yd?this.yd:re(this.Ka);return t=this.xf.Xd(i,e,1,n,t),0===t.length?null:t[0]},we.prototype.eb=function(t,e,n,i){var r,o=new xe;if(e.type===ge)e.source.ee?n=ye(this,t,e.path,e.Ga,n,i,o):(D(e.source.Se,"Unknown source."),r=e.source.Ee||le(t.w())&&!e.path.e(),n=ze(this,t,e.path,e.Ga,n,i,r,o));else if(e.type===be)e.source.ee?n=Ae(this,t,e.path,e.children,n,i,o):(D(e.source.Se,"Unknown source."),r=e.source.Ee||le(t.w()),n=Be(this,t,e.path,e.children,n,i,r,o));else if(e.type===ee)if(e.Id)if(e=e.path,null!=n.lc(e))n=t;else{if(r=new ue(n,t,i),i=t.N.j(),e.e()||".priority"===K(e))ke(t.w())?e=n.Aa(re(t)):(e=t.w().j(),D(e instanceof O,"serverChildren would be complete if leaf node"),e=n.rc(e)),e=this.U.ya(i,e,o);else{var a=K(e),s=n.qc(a,t.w());null==s&&ne(t.w(),a)&&(s=i.Q(a)),e=null!=s?this.U.F(i,a,s,N(e),r,o):t.N.j().Da(a)?this.U.F(i,a,L,N(e),r,o):i,e.e()&&ke(t.w())&&(i=n.Aa(re(t)),i.J()&&(e=this.U.ya(e,i,o)))}i=ke(t.w())||null!=n.lc(Q),n=pe(t,e,i,this.U.Na())}else n=Ce(this,t,e.path,e.Ob,n,i,o);else{if(e.type!==$d)throw Mb("Unknown operation type: "+e.type);i=e.path,e=t.w(),r=e.j(),a=e.da||i.e(),n=De(this,new oe(t.N,new je(r,a,e.Sb)),i,n,te,o)}return o=Na(o.fb),i=n,e=i.N,e.da&&(r=e.j().J()||e.j().e(),a=qe(t),(0<o.length||!t.N.da||r&&!e.j().Z(a)||!e.j().C().Z(a.C()))&&o.push(Ee(qe(i)))),new ve(n,o)},Ge.prototype.Ff=function(t,e){if(null==t.Xa||null==e.Xa)throw Mb("Should only compare child_ events.");return this.g.compare(new C(t.Xa,t.Ja),new C(e.Xa,e.Ja))},g=Pe.prototype,g.w=function(){return this.Ka.w().j()},g.hb=function(t){var e=re(this.Ka);return e&&(T(this.V.m)||!t.e()&&!e.Q(K(t)).e())?e.P(t):null},g.e=function(){return 0===this.Za.length},g.Nb=function(t){this.Za.push(t)},g.kb=function(t,e){var n=[];if(e){D(null==t,"A cancel should cancel all event registrations.");var i=this.V.path;ya(this.Za,function(t){(t=t.Me(e,i))&&n.push(t)})}if(t){for(var r=[],o=0;o<this.Za.length;++o){var a=this.Za[o];if(a.matches(t)){if(t.Xe()){r=r.concat(this.Za.slice(o+1));break}}else r.push(a)}this.Za=r}else this.Za=[];return n},g.eb=function(t,e,n){t.type===be&&null!==t.source.Hb&&(D(re(this.Ka),"We should always have a full cache before handling merges"),D(qe(this.Ka),"Missing event cache, even though we have a server cache"));var i=this.Ka;return t=this.hf.eb(i,t,e,n),e=this.hf,n=t.Sd,D(n.N.j().yc(e.U.g),"Event snap not indexed"),D(n.w().j().yc(e.U.g),"Server snap not indexed"),D(ke(t.Sd.w())||!ke(i.w()),"Once a server snap is complete, it should never go back"),this.Ka=t.Sd,Ue(this,t.Df,t.Sd.N.j(),null)},We.prototype.Yb=function(){var t=this.Md.wb();return"value"===this.hd?t.path:t.getParent().path},We.prototype.ge=function(){return this.hd},We.prototype.Tb=function(){return this.ae.Tb(this)},We.prototype.toString=function(){return this.Yb().toString()+":"+this.hd+":"+x(this.Md.be())},Xe.prototype.Yb=function(){return this.path},Xe.prototype.ge=function(){return"cancel"},Xe.prototype.Tb=function(){return this.ae.Tb(this)},Xe.prototype.toString=function(){return this.path.toString()+":cancel"},$e.prototype.add=function(t){this.jd.push(t)},$e.prototype.Yb=function(){return this.qa},g=Qe.prototype,g.F=function(t,e,n,i,r,o){return D(t.yc(this.g),"A node must be indexed if only a child is updated"),r=t.Q(e),r.P(i).Z(n.P(i))&&r.e()==n.e()?t:(null!=o&&(n.e()?t.Da(e)?df(o,new S(Le,r,e)):D(t.J(),"A child remove without an old child only makes sense on a leaf node"):r.e()?df(o,new S(Me,n,e)):df(o,new S(Ie,n,e,r))),t.J()&&n.e()?t:t.T(e,n).nb(this.g))},g.ya=function(t,e,n){return null!=n&&(t.J()||t.O(H,function(t,i){e.Da(t)||df(n,new S(Le,i,t))}),e.J()||e.O(H,function(e,i){if(t.Da(e)){var r=t.Q(e);r.Z(i)||df(n,new S(Ie,i,e,r))}else df(n,new S(Me,i,e))})),e.nb(this.g)},g.fa=function(t,e){return t.e()?L:t.fa(e)},g.Na=function(){return!1},g.Ub=function(){return this},g=Se.prototype,g.matches=function(t){return 0>=this.g.compare(this.Uc,t)&&0>=this.g.compare(t,this.vc)},g.F=function(t,e,n,i,r,o){return this.matches(new C(e,n))||(n=L),this.he.F(t,e,n,i,r,o)},g.ya=function(t,e,n){e.J()&&(e=L);var i=e.nb(this.g),i=i.fa(L),r=this;return e.O(H,function(t,e){r.matches(new C(t,e))||(i=i.T(t,L))}),this.he.ya(t,i,n)},g.fa=function(t){return t},g.Na=function(){return!0},g.Ub=function(){return this.he},g=Re.prototype,g.F=function(t,e,n,i,r,o){return this.sa.matches(new C(e,n))||(n=L),t.Q(e).Z(n)?t:t.Eb()<this.oa?this.sa.Ub().F(t,e,n,i,r,o):kf(this,t,e,n,r,o)},g.ya=function(t,e,n){var i;if(e.J()||e.e())i=L.nb(this.g);else if(2*this.oa<e.Eb()&&e.yc(this.g)){i=L.nb(this.g),e=this.Ib?e.Zb(this.sa.vc,this.g):e.Xb(this.sa.Uc,this.g);for(var r=0;0<e.Pa.length&&r<this.oa;){var o=M(e);if(!(this.Ib?0>=this.g.compare(this.sa.Uc,o):0>=this.g.compare(o,this.sa.vc)))break;i=i.T(o.name,o.R),r++}}else{i=e.nb(this.g),i=i.fa(L);var a,s,h;if(this.Ib){e=i.We(this.g),a=this.sa.vc,s=this.sa.Uc;var l=nc(this.g);h=function(t,e){return l(e,t)}}else e=i.Wb(this.g),a=this.sa.Uc,s=this.sa.vc,h=nc(this.g);for(var r=0,u=!1;0<e.Pa.length;)o=M(e),!u&&0>=h(a,o)&&(u=!0),u&&r<this.oa&&0>=h(o,s)?r++:i=i.T(o.name,L)}return this.sa.Ub().ya(t,i,n)},g.fa=function(t){return t},g.Na=function(){return!0},g.Ub=function(){return this.sa.Ub()};var Me="child_added",Le="child_removed",Ie="child_changed",Je="child_moved",Ne="value",mf=new lf;g=lf.prototype,g.ne=function(t){var e=nf(this);return e.xa=!0,e.oa=t,e.mb="l",e},g.oe=function(t){var e=nf(this);return e.xa=!0,e.oa=t,e.mb="r",e},g.Nd=function(t,e){var i=nf(this);return i.ka=!0,n(t)||(t=null),i.dc=t,null!=e?(i.Kb=!0,i.zb=e):(i.Kb=!1,i.zb=""),i},g.gd=function(t,e){var i=nf(this);return i.na=!0,n(t)||(t=null),i.ac=t,n(e)?(i.Rb=!0,i.xb=e):(i.vg=!1,i.xb=""),i},g.toString=function(){return x(pf(this))};var tf=new sf(new vd(null));sf.prototype.Ed=function(t){return t.e()?tf:(t=Ad(this.W,t,R),new sf(t))},sf.prototype.e=function(){return this.W.e()},sf.prototype.apply=function(t){return zf(Q,this.W,t)},Af.prototype.j=function(t){return this.Jd.P(t)},Af.prototype.toString=function(){return this.Jd.toString()},Bf.prototype.getToken=function(t){return this.oc.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},g=Df.prototype,g.Ed=function(t){var e=Ea(this.la,function(e){return e.Zc===t});D(0<=e,"removeWrite called with nonexistent writeId.");var n=this.la[e];this.la.splice(e,1);for(var i=n.visible,r=!1,o=this.la.length-1;i&&0<=o;){var a=this.la[o];a.visible&&(o>=e&&Ff(a,n.path)?i=!1:n.path.contains(a.path)&&(r=!0)),o--}if(i){if(r)this.S=Gf(this.la,Hf,Q),this.Bc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(n.Ga)this.S=this.S.Ed(n.path);else{var s=this;v(n.children,function(t,e){s.S=s.S.Ed(n.path.n(e))})}return!0}return!1},g.Aa=function(t,e,n,i){if(n||i){var r=yf(this.S,t);return!i&&r.e()?e:i||null!=e||null!=wf(r,Q)?(r=Gf(this.la,function(e){return(e.visible||i)&&(!n||!(0<=xa(n,e.Zc)))&&(e.path.contains(t)||t.contains(e.path))},t),e=e||L,r.apply(e)):null}return null!=(r=wf(this.S,t))?r:(r=yf(this.S,t),r.e()?e:null!=e||null!=wf(r,Q)?(e=e||L,r.apply(e)):null)},g.rc=function(t,e){var n=L,i=wf(this.S,t);if(i)i.J()||i.O(H,function(t,e){n=n.T(t,e)});else if(e){var r=yf(this.S,t);e.O(H,function(t,e){var i=yf(r,new E(t)).apply(e);n=n.T(t,i)}),ya(xf(r),function(t){n=n.T(t.name,t.R)})}else r=yf(this.S,t),ya(xf(r),function(t){n=n.T(t.name,t.R)});return n},g.ad=function(t,e,n,i){return D(n||i,"Either existingEventSnap or existingServerSnap must exist"),t=t.n(e),null!=wf(this.S,t)?null:(t=yf(this.S,t),t.e()?i.P(e):t.apply(i.P(e)))},g.qc=function(t,e,n){t=t.n(e);var i=wf(this.S,t);return null!=i?i:ne(n,e)?yf(this.S,t).apply(n.j().Q(e)):null},g.lc=function(t){return wf(this.S,t)},g.Xd=function(t,e,n,i,r,o){var a;if(t=yf(this.S,t),null==(a=wf(t,Q))){if(null==e)return[];a=t.apply(e)}if(a=a.nb(o),a.e()||a.J())return[];for(e=[],t=nc(o),r=r?a.Zb(n,o):a.Xb(n,o),o=M(r);o&&e.length<i;)0!==t(o,n)&&e.push(o),o=M(r);return e},g=If.prototype,g.Aa=function(t,e,n){return this.W.Aa(this.Lb,t,e,n)},g.rc=function(t){return this.W.rc(this.Lb,t)},g.ad=function(t,e,n){return this.W.ad(this.Lb,t,e,n)},g.lc=function(t){return this.W.lc(this.Lb.n(t))},g.Xd=function(t,e,n,i,r){return this.W.Xd(this.Lb,t,e,n,i,r)},g.qc=function(t,e){return this.W.qc(this.Lb,t,e)},g.n=function(t){return new If(this.Lb.n(t),this.W)},Jf.prototype.lf=function(){var t,e=this.Vc.get(),n={},i=!1;for(t in e)0<e[t]&&eb(this.rf,t)&&(n[t]=e[t],i=!0);i&&this.va.ye(n),hc(q(this.lf,this),Math.floor(6e5*Math.random()))},Lf.prototype.get=function(){return Ta(this.tc)},Kf.prototype.get=function(){var t=this.Ef.get(),e=Ta(t);if(this.rd)for(var n in this.rd)e[n]-=this.rd[n];return this.rd=t,e};var Nf={},Of={};g=Rf.prototype,g.$e=function(t,e,n,i){var r=t.path.toString();this.f("Listen called for "+r+" "+t.ja());var o=Sf(t,n),a={};this.$[o]=a,t=rf(t.m);var s=this;Tf(this,r+".json",t,function(t,e){var h=e;404===t&&(t=h=null),null===t&&s.Gb(r,h,!1,n),w(s.$,o)===a&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},g.uf=function(t,e){var n=Sf(t,e);delete this.$[n]},g.kf=function(){},g.re=function(){},g.cf=function(){},g.xd=function(){},g.put=function(){},g.af=function(){},g.ye=function(){};var Cb="websocket",Db="long_polling",Xf=null;"undefined"!=typeof MozWebSocket?Xf=MozWebSocket:"undefined"!=typeof WebSocket&&(Xf=WebSocket);var Zf;Yf.prototype.open=function(t,e){this.ib=e,this.Xf=t,this.f("Websocket connecting to "+this.Ke),this.wc=!1,xb.set("previous_websocket_failure",!0);try{this.Ia=new Xf(this.Ke)}catch(t){this.f("Error instantiating WebSocket.");var n=t.message||t.data;return n&&this.f(n),void this.bb()}var i=this;this.Ia.onopen=function(){i.f("Websocket connected."),i.wc=!0},this.Ia.onclose=function(){i.f("Websocket connection was disconnected."),i.Ia=null,i.bb()},this.Ia.onmessage=function(t){if(null!==i.Ia)if(t=t.data,i.pb+=t.length,Mf(i.Va,"bytes_received",t.length),$f(i),null!==i.frames)ag(i,t);else{t:{if(D(null===i.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){i.Fe=e,i.frames=[],t=null;break t}}i.Fe=1,i.frames=[]}null!==t&&ag(i,t)}},this.Ia.onerror=function(t){i.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&i.f(t),i.bb()}},Yf.prototype.start=function(){},Yf.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==Xf&&!Zf},Yf.responsesRequiredToBeHealthy=2,Yf.healthyTimeout=3e4,g=Yf.prototype,g.sd=function(){xb.remove("previous_websocket_failure")},g.send=function(t){$f(this),t=x(t),this.qb+=t.length,Mf(this.Va,"bytes_sent",t.length),t=bc(t,16384),1<t.length&&bg(this,String(t.length));for(var e=0;e<t.length;e++)bg(this,t[e])},g.Tc=function(){this.Ab=!0,this.zc&&(clearInterval(this.zc),this.zc=null),this.Ia&&(this.Ia.close(),this.Ia=null)},g.bb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.Tc(),this.ib&&(this.ib(this.wc),this.ib=null))},g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.Tc())};var dg,eg;cg.prototype.open=function(t,e){this.Ne=0,this.ia=e,this.bf=new Uf(t),this.Ab=!1;var n=this;this.sb=setTimeout(function(){n.f("Timed out trying to connect."),n.bb(),n.sb=null},Math.floor(3e4)),Yb(function(){if(!n.Ab){n.Ta=new fg(function(t,e,i,r,o){if(gg(n,arguments),n.Ta)if(n.sb&&(clearTimeout(n.sb),n.sb=null),n.wc=!0,"start"==t)n.id=e,n.ff=i;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.Ta.Kd=!1,Vf(n.bf,e,function(){n.bb()})):n.bb()}},function(t,e){gg(n,arguments),Wf(n.bf,t,e)},function(){n.bb()},n.Yc);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.Ta.Qd&&(t.cb=n.Ta.Qd),t.v="5",n.tf&&(t.s=n.tf),n.Cb&&(t.ls=n.Cb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.Yc(t),n.f("Connecting via long-poll to "+t),hg(n.Ta,t,function(){})}})},cg.prototype.start=function(){var t=this.Ta,e=this.ff;for(t.Vf=this.id,t.Wf=e,t.Ud=!0;ig(t););t=this.id,e=this.ff,this.fc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.fc.src=this.Yc(n),this.fc.style.display="none",document.body.appendChild(this.fc)},cg.isAvailable=function(){return dg||!eg&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.rg)&&!0},g=cg.prototype,g.sd=function(){},g.Tc=function(){this.Ab=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.sb&&(clearTimeout(this.sb),this.sb=null)},g.bb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.Tc(),this.ia&&(this.ia(this.wc),this.ia=null))},g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.Tc())},g.send=function(t){t=x(t),this.qb+=t.length,Mf(this.Va,"bytes_sent",t.length),t=mb(t),t=ab(t,!0),t=bc(t,1840);for(var e=0;e<t.length;e++){var n=this.Ta;n.Qc.push({jg:this.Ne,pg:t.length,Pe:t[e]}),n.Ud&&ig(n),this.Ne++}},fg.prototype.close=function(){if(this.Ud=!1,this.Ea){this.Ea.gb.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Ea&&(document.body.removeChild(t.Ea),t.Ea=null)},Math.floor(0))}var e=this.ib;e&&(this.ib=null,e())};var mg=[cg,Yf];og.prototype.ua=function(t){zg(this,{t:"d",d:t})},og.prototype.wd=function(t){wg(this),this.te(t)},og.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,vg(this),this.ia&&(this.ia(),this.ia=null))};var Bg=0,Dg=0;g=Ag.prototype,g.ua=function(t,e,n){var i=++this.ig;t={r:i,a:t,b:e},this.f(x(t)),D(this.ma,"sendRequest call when we're not connected not allowed."),this.Fa.ua(t),n&&(this.Gd[i]=n)},g.$e=function(t,e,n,i){var r=t.ja(),o=t.path.toString();this.f("Listen called for "+o+" "+r),this.$[o]=this.$[o]||{},D(qf(t.m)||!T(t.m),"listen() called for non-default but complete query"),D(!this.$[o][r],"listen() called twice for same path/queryId."),t={G:i,ld:e,eg:t,tag:n},this.$[o][r]=t,this.ma&&Eg(this,t)},g.kf=function(t){this.ob=t,this.f("Auth token refreshed"),this.ob?Gg(this):this.ma&&this.ua("unauth",{},function(){}),(t&&40===t.length||kc(t))&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3e4)},g.uf=function(t,e){var n=t.path.toString(),i=t.ja();if(this.f("Unlisten called for "+n+" "+i),D(qf(t.m)||!T(t.m),"unlisten() called for non-default but complete query"),Fg(this,n,i)&&this.ma){var r=pf(t.m);this.f("Unlisten on "+n+" for "+i),n={p:n},e&&(n.q=r,n.t=e),this.ua("n",n)}},g.re=function(t,e,n){this.ma?Ig(this,"o",t,e,n):this.Kc.push({we:t,action:"o",data:e,G:n})},g.cf=function(t,e,n){this.ma?Ig(this,"om",t,e,n):this.Kc.push({we:t,action:"om",data:e,G:n})},g.xd=function(t,e){this.ma?Ig(this,"oc",t,null,e):this.Kc.push({we:t,action:"oc",data:null,G:e})},g.put=function(t,e,n,i){Jg(this,"p",t,e,n,i)},g.af=function(t,e,n,i){Jg(this,"m",t,e,n,i)},g.ye=function(t){this.ma&&(t={c:t},this.f("reportStats",t),this.ua("s",t,function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)}))},g.wd=function(t){if("r"in t){this.f("from server: "+x(t));var e=t.r,n=this.Gd[e];n&&(delete this.Gd[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,t=t.b,this.f("handleServerMessage",e,t),"d"===e?this.Gb(t.p,t.d,!1,t.t):"m"===e?this.Gb(t.p,t.d,!0,t.t):"c"===e?Lg(this,t.p,t.q):"ac"===e?Hg(this,t.s,t.d):"sd"===e?this.ze?this.ze(t):"msg"in t&&"undefined"!=typeof console&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: ")):Ub("Unrecognized action received from server: "+x(e)+"\nAre you using the latest client?"))}},g.Lc=function(t,e){if(this.f("connection ready"),this.ma=!0,this.Ac=(new Date).getTime(),this.ue({serverTimeOffset:t-(new Date).getTime()}),this.Cb=e,this.Re){var n={};n["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1,pb()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.ye(n)}Mg(this),this.Re=!1,this.Jc(!0)},g.Zf=function(t){t&&!this.Mb&&this.Sa===this.td&&(this.f("Window became visible.  Reducing delay."),this.Sa=1e3,this.Fa||Cg(this,0)),this.Mb=t},g.Yf=function(t){t?(this.f("Browser went online."),this.Sa=1e3,this.Fa||Cg(this,0)):(this.f("Browser went offline.  Killing connection."),this.Fa&&this.Fa.close())},g.df=function(){this.f("data client disconnected"),this.ma=!1,this.Fa=null;for(var t=0;t<this.pa.length;t++){var e=this.pa[t];e&&"h"in e.mf&&e.fg&&(e.G&&e.G("disconnect"),delete this.pa[t],this.Oc--)}0===this.Oc&&(this.pa=[]),this.Gd={},Og(this)&&(this.Mb?this.Ac&&(3e4<(new Date).getTime()-this.Ac&&(this.Sa=1e3),this.Ac=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Sa=this.td,this.me=(new Date).getTime()),t=Math.max(0,this.Sa-((new Date).getTime()-this.me)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),Cg(this,t),this.Sa=Math.min(this.td,1.3*this.Sa)),this.Jc(!1)},g.ab=function(t){I("Interrupting connection for reason: "+t),this.qd[t]=!0,this.Fa?this.Fa.close():(this.ub&&(clearTimeout(this.ub),this.ub=null),this.ma&&this.df())},g.kc=function(t){I("Resuming connection for reason: "+t),delete this.qd[t],Sa(this.qd)&&(this.Sa=1e3,this.Fa||Cg(this,0))};var Sg={TIMESTAMP:{".sv":"timestamp"}};g=Pg.prototype,g.app=null,g.jf=function(t){return Tg(this,"ref"),y("database.ref",0,1,arguments.length),n(t)?this.ba.n(t):this.ba},g.gg=function(t){Tg(this,"database.refFromURL"),y("database.refFromURL",1,1,arguments.length);var e=Wb(t);Xd("database.refFromURL",e);var n=e.jc;return n.host!==this.ta.L.host&&Vb("database.refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+this.ta.L.host+")"),this.jf(e.path.toString())},g.Pf=function(){y("database.goOffline",0,0,arguments.length),Tg(this,"goOffline"),this.ta.ab()},g.Qf=function(){y("database.goOnline",0,0,arguments.length),Tg(this,"goOnline"),this.ta.kc()},Object.defineProperty(Pg.prototype,"app",{get:function(){return this.ta.app}}),Rg.prototype.delete=function(){Tg(this.Ya,"delete");var t=Ug.Vb(),e=this.Ya.ta;return w(t.lb,e.app.name)!==e&&Vb("Database "+e.app.name+" has already been deleted."),e.ab(),delete t.lb[e.app.name],this.Ya.ta=null,this.Ya.ba=null,this.Ya=this.Ya.INTERNAL=null,firebase.Promise.resolve()},Pg.prototype.ref=Pg.prototype.jf,Pg.prototype.refFromURL=Pg.prototype.gg,Pg.prototype.goOnline=Pg.prototype.Qf,Pg.prototype.goOffline=Pg.prototype.Pf,Rg.prototype.delete=Rg.prototype.delete,V.prototype.H=function(){return y("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.H()},V.prototype.val=V.prototype.H,V.prototype.be=function(){return y("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.H(!0)},V.prototype.exportVal=V.prototype.be,V.prototype.toJSON=function(){return y("Firebase.DataSnapshot.toJSON",0,1,arguments.length),this.be()},V.prototype.toJSON=V.prototype.toJSON,V.prototype.Lf=function(){return y("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},V.prototype.exists=V.prototype.Lf,V.prototype.n=function(t){y("Firebase.DataSnapshot.child",0,1,arguments.length),ga(t)&&(t=String(t)),Vd("Firebase.DataSnapshot.child",t);var e=new E(t),n=this.V.n(e);return new V(this.A.P(e),n,H)},V.prototype.child=V.prototype.n,V.prototype.Da=function(t){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Vd("Firebase.DataSnapshot.hasChild",t);var e=new E(t);return!this.A.P(e).e()},V.prototype.hasChild=V.prototype.Da,V.prototype.C=function(){return y("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().H()},V.prototype.getPriority=V.prototype.C,V.prototype.forEach=function(t){if(y("Firebase.DataSnapshot.forEach",1,1,arguments.length),B("Firebase.DataSnapshot.forEach",1,t,!1),this.A.J())return!1;var e=this;return!!this.A.O(this.g,function(n,i){return t(new V(i,e.V.n(n),H))})},V.prototype.forEach=V.prototype.forEach,V.prototype.kd=function(){return y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.J()&&!this.A.e()},V.prototype.hasChildren=V.prototype.kd,V.prototype.getKey=function(){return y("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.getKey()},gc(V.prototype,"key",V.prototype.getKey),V.prototype.Eb=function(){return y("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Eb()},V.prototype.numChildren=V.prototype.Eb,V.prototype.wb=function(){return y("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},gc(V.prototype,"ref",V.prototype.wb),g=Vg.prototype,g.nf=function(t){return"value"===t},g.createEvent=function(t,e){var n=e.m.g;return new We("value",this,new V(t.Ja,e.wb(),n))},g.Tb=function(t){var e=this.tb;if("cancel"===t.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(e,t.error)}}var i=this.Pb;return function(){i.call(e,t.Md)}},g.Me=function(t,e){return this.rb?new Xe(this,t,e):null},g.matches=function(t){return t instanceof Vg&&(!t.Pb||!this.Pb||t.Pb===this.Pb&&t.tb===this.tb)},g.Xe=function(){return null!==this.Pb},g=Wg.prototype,g.nf=function(t){return t="children_added"===t?"child_added":t,("children_removed"===t?"child_removed":t)in this.ga},g.Me=function(t,e){return this.rb?new Xe(this,t,e):null},g.createEvent=function(t,e){D(null!=t.Xa,"Child events should have a childName.");var n=e.wb().n(t.Xa);return new We(t.type,this,new V(t.Ja,n,e.m.g),t.Dd)},g.Tb=function(t){var e=this.tb;if("cancel"===t.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(e,t.error)}}var i=this.ga[t.hd];return function(){i.call(e,t.Md,t.Dd)}},g.matches=function(t){if(t instanceof Wg){if(!this.ga||!t.ga)return!0;if(this.tb===t.tb){var e=La(t.ga);if(e===La(this.ga)){if(1===e){var e=Ma(t.ga),n=Ma(this.ga);return!(n!==e||t.ga[e]&&this.ga[n]&&t.ga[e]!==this.ga[n])}return Ka(this.ga,function(e,n){return t.ga[n]===e})}}}return!1},g.Xe=function(){return null!==this.ga},g=Xg.prototype,g.e=function(){return Sa(this.za)},g.eb=function(t,e,n){var i=t.source.Hb;if(null!==i)return i=w(this.za,i),D(null!=i,"SyncTree gave us an op for an invalid query."),i.eb(t,e,n);var r=[];return v(this.za,function(i){r=r.concat(i.eb(t,e,n))}),r},g.Nb=function(t,e,n,i,r){var o=t.ja(),a=w(this.za,o);if(!a){var a=n.Aa(r?i:null),s=!1;a?s=!0:(a=i instanceof O?n.rc(i):L,s=!1),a=new Pe(t,new oe(new je(a,s,!1),new je(i,r,!1))),this.za[o]=a}return a.Nb(e),Ve(a,e)},g.kb=function(t,e,n){var i=t.ja(),r=[],o=[],a=null!=Yg(this);if("default"===i){var s=this;v(this.za,function(t,i){o=o.concat(t.kb(e,n)),t.e()&&(delete s.za[i],T(t.V.m)||r.push(t.V))})}else{var h=w(this.za,i);h&&(o=o.concat(h.kb(e,n)),h.e()&&(delete this.za[i],T(h.V.m)||r.push(h.V)))}return a&&null==Yg(this)&&r.push(new U(t.u,t.path)),{hg:r,Kf:o}},g.hb=function(t){var e=null;return v(this.za,function(n){e=e||n.hb(t)}),e},ah.prototype.Nb=function(t,e){var n=t.path,i=null,r=!1;Fd(this.wa,n,function(t,e){var o=P(t,n);i=i||e.hb(o),r=r||null!=Yg(e)});var o=this.wa.get(n);o?(r=r||null!=Yg(o),i=i||o.hb(Q)):(o=new Xg,this.wa=this.wa.set(n,o));var a;null!=i?a=!0:(a=!1,i=L,Jd(this.wa.subtree(n),function(t,e){var n=e.hb(Q);n&&(i=i.T(t,n))}));var s=null!=$g(o,t);if(!s&&!T(t.m)){var h=lh(t);D(!(h in this.ic),"View does not exist, but we have a tag");var l=mh++;this.ic[h]=l,this.De["_"+l]=h}return a=o.Nb(t,e,new If(n,this.jb),i,a),s||r||(o=$g(o,t),a=a.concat(nh(this,t,o))),a},ah.prototype.kb=function(t,e,n){var i=t.path,r=this.wa.get(i),o=[];if(r&&("default"===t.ja()||null!=$g(r,t))){o=r.kb(t,e,n),r.e()&&(this.wa=this.wa.remove(i)),r=o.hg,o=o.Kf,e=-1!==Ea(r,function(t){return T(t.m)});var a=Dd(this.wa,i,function(t,e){return null!=Yg(e)});if(e&&!a&&(i=this.wa.subtree(i),!i.e()))for(var i=oh(i),s=0;s<i.length;++s){var h=i[s],l=h.V,h=ph(this,h);this.Cc.Ae(qh(l),rh(this,l),h.ld,h.G)}if(!a&&0<r.length&&!n)if(e)this.Cc.Od(qh(t),null);else{var u=this;ya(r,function(t){t.ja();var e=u.ic[lh(t)];u.Cc.Od(qh(t),e)})}sh(this,r)}return o},ah.prototype.Aa=function(t,e){var n=this.jb,i=Dd(this.wa,t,function(e,n){var i=P(e,t);if(i=n.hb(i))return i});return n.Aa(t,i,e,!0)};var mh=1;g=Qg.prototype,g.toString=function(){return(this.L.Sc?"https://":"http://")+this.L.host},g.name=function(){return this.L.pe},g.Gb=function(t,e,n,i){this.fd++;var r=new E(t);e=this.je?this.je(t,e):e,t=[],i?n?(e=Ja(e,function(t){return G(t)}),t=kh(this.K,r,e,i)):(e=G(e),t=gh(this.K,r,e,i)):n?(i=Ja(e,function(t){return G(t)}),t=fh(this.K,r,i)):(i=G(e),t=ch(this.K,new ce(ie,r,i))),i=r,0<t.length&&(i=yh(this,r)),cf(this.ca,i,t)},g.Jc=function(t){vh(this,"connected",t),!1===t&&zh(this)},g.ue=function(t){var e=this;cc(t,function(t,n){vh(e,n,t)})},g.Jb=function(t,e,n,i){this.f("set",{path:t.toString(),value:e,ug:n});var r=xh(this);e=G(e,n);var r=Jb(e,r),o=this.vd++,r=bh(this.K,t,r,o,!0);Ze(this.ca,r);var a=this;this.va.put(t.toString(),e.H(!0),function(e,n){var r="ok"===e;r||J("set at "+t+" failed: "+e),r=eh(a.K,o,!r),cf(a.ca,t,r),Ah(i,e,n)}),r=Bh(this,t),yh(this,r),cf(this.ca,r,[])},g.update=function(t,e,n){this.f("update",{path:t.toString(),value:e});var i=!0,r=xh(this),o={};if(v(e,function(t,e){i=!1;var n=G(t);o[e]=Jb(n,r)}),i)I("update() called with empty data.  Don't do anything."),Ah(n,"ok");else{var a=this.vd++,s=dh(this.K,t,o,a);Ze(this.ca,s);var h=this;this.va.af(t.toString(),e,function(e,i){var r="ok"===e;r||J("update at "+t+" failed: "+e);var r=eh(h.K,a,!r),o=t;0<r.length&&(o=yh(h,t)),cf(h.ca,o,r),Ah(n,e,i)}),v(e,function(e,n){var i=Bh(h,t.n(n));yh(h,i)}),cf(this.ca,t,[])}},g.xd=function(t,e){var n=this;this.va.xd(t.toString(),function(i,r){"ok"===i&&Yd(n.ia,t),Ah(e,i,r)})},g.ab=function(){this.Ra&&this.Ra.ab("repo_interrupt")},g.kc=function(){this.Ra&&this.Ra.kc("repo_interrupt")},g.Be=function(t){if("undefined"!=typeof console){t?(this.Vc||(this.Vc=new Kf(this.Va)),t=this.Vc.get()):t=this.Va.get();var e,n=Ba(Oa(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var i=t[e],r=e.length;r<n+2;r++)e+=" ";console.log(e+i)}}},g.Ce=function(t){Mf(this.Va,t),this.og.rf[t]=!0},g.f=function(t){var e="";this.Ra&&(e=this.Ra.id+":"),I(e,arguments)},Ug.prototype.ab=function(){for(var t in this.lb)this.lb[t].ab()},Ug.prototype.kc=function(){for(var t in this.lb)this.lb[t].kc()},Ug.prototype.ce=function(t){this.wf=t},ca(Ug),Ug.prototype.interrupt=Ug.prototype.ab,Ug.prototype.resume=Ug.prototype.kc;var W={};W.nc=Ag,W.DataConnection=W.nc,Ag.prototype.ng=function(t,e){this.ua("q",{p:t},e)},W.nc.prototype.simpleListen=W.nc.prototype.ng,Ag.prototype.Hf=function(t,e){this.ua("echo",{d:t},e)},W.nc.prototype.echo=W.nc.prototype.Hf,Ag.prototype.interrupt=Ag.prototype.ab,W.zf=og,W.RealTimeConnection=W.zf,og.prototype.sendRequest=og.prototype.ua,og.prototype.close=og.prototype.close,W.Rf=function(t){var e=Ag.prototype.put;return Ag.prototype.put=function(i,r,o,a){n(a)&&(a=t()),e.call(this,i,r,o,a)},function(){Ag.prototype.put=e}},W.hijackHash=W.Rf,W.yf=zb,W.ConnectionTarget=W.yf,W.ja=function(t){return t.ja()},W.queryIdentifier=W.ja,W.Uf=function(t){return t.u.Ra.$},W.listens=W.Uf,W.ce=function(t){Ug.Vb().ce(t)},W.forceRestClient=W.ce,W.Context=Ug,g=X.prototype,g.wb=function(){return y("Query.ref",0,0,arguments.length),new U(this.u,this.path)},g.gc=function(t,e,n,i){y("Query.on",2,4,arguments.length),Td("Query.on",t,!1),B("Query.on",2,e,!1);var r=Th("Query.on",n,i);if("value"===t)Fh(this.u,this,new Vg(e,r.cancel||null,r.Ma||null));else{var o={};o[t]=e,Fh(this.u,this,new Wg(o,r.cancel,r.Ma))}return e},g.Ic=function(t,e,n){y("Query.off",0,3,arguments.length),Td("Query.off",t,!0),B("Query.off",2,e,!0),ob("Query.off",3,n);var i=null,r=null;"value"===t?i=new Vg(e||null,null,n||null):t&&(e&&(r={},r[t]=e),i=new Wg(r,null,n||null)),r=this.u,i=".info"===K(this.path)?r.pd.kb(this,i):r.K.kb(this,i),af(r.ca,this.path,i)},g.$f=function(t,e){function n(s){o&&(o=!1,r.Ic(t,n),e&&e.call(i.Ma,s),a.resolve(s))}y("Query.once",1,4,arguments.length),Td("Query.once",t,!1),B("Query.once",2,e,!0);var i=Th("Query.once",arguments[2],arguments[3]),r=this,o=!0,a=new ib;return kb(a.ra),this.gc(t,n,function(e){r.Ic(t,n),i.cancel&&i.cancel.call(i.Ma,e),a.reject(e)}),a.ra},g.ne=function(t){if(y("Query.limitToFirst",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.ne(t),this.Nc)},g.oe=function(t){if(y("Query.limitToLast",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.oe(t),this.Nc)},g.ag=function(t){if(y("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Vd("Query.orderByChild",t),Sh(this,"Query.orderByChild");var e=new E(t);if(e.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return e=new pc(e),e=of(this.m,e),Qh(e),new X(this.u,this.path,e,!0)},g.bg=function(){y("Query.orderByKey",0,0,arguments.length),Sh(this,"Query.orderByKey");var t=of(this.m,tc);return Qh(t),new X(this.u,this.path,t,!0)},g.cg=function(){y("Query.orderByPriority",0,0,arguments.length),Sh(this,"Query.orderByPriority");var t=of(this.m,H);return Qh(t),new X(this.u,this.path,t,!0)},g.dg=function(){y("Query.orderByValue",0,0,arguments.length),Sh(this,"Query.orderByValue");var t=of(this.m,wc);return Qh(t),new X(this.u,this.path,t,!0)},g.Nd=function(t,e){y("Query.startAt",0,2,arguments.length),Od("Query.startAt",t,this.path,!0),Ud("Query.startAt",e);var i=this.m.Nd(t,e);if(Rh(i),Qh(i),this.m.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(t)||(e=t=null),new X(this.u,this.path,i,this.Nc)},g.gd=function(t,e){y("Query.endAt",0,2,arguments.length),Od("Query.endAt",t,this.path,!0),Ud("Query.endAt",e);var n=this.m.gd(t,e);if(Rh(n),Qh(n),this.m.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.u,this.path,n,this.Nc)},g.If=function(t,e){if(y("Query.equalTo",1,2,arguments.length),Od("Query.equalTo",t,this.path,!1),Ud("Query.equalTo",e),this.m.ka)throw Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.m.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(t,e).gd(t,e)},g.toString=function(){y("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.Y;n<t.o.length;n++)""!==t.o[n]&&(e+="/"+encodeURIComponent(String(t.o[n])));return this.u.toString()+(e||"/")},g.toJSON=function(){return y("Query.toJSON",0,1,arguments.length),this.toString()},g.ja=function(){var t=ac(pf(this.m));return"{}"===t?"default":t},g.isEqual=function(t){if(y("Query.isEqual",1,1,arguments.length),!(t instanceof X))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.u===t.u,n=this.path.Z(t.path),i=this.ja()===t.ja();return e&&n&&i},X.prototype.on=X.prototype.gc,X.prototype.off=X.prototype.Ic,X.prototype.once=X.prototype.$f,X.prototype.limitToFirst=X.prototype.ne,X.prototype.limitToLast=X.prototype.oe,X.prototype.orderByChild=X.prototype.ag,X.prototype.orderByKey=X.prototype.bg,X.prototype.orderByPriority=X.prototype.cg,X.prototype.orderByValue=X.prototype.dg,X.prototype.startAt=X.prototype.Nd,X.prototype.endAt=X.prototype.gd,X.prototype.equalTo=X.prototype.If,X.prototype.toString=X.prototype.toString,X.prototype.isEqual=X.prototype.isEqual,gc(X.prototype,"ref",X.prototype.wb),Y.prototype.cancel=function(t){y("Firebase.onDisconnect().cancel",0,1,arguments.length),B("Firebase.onDisconnect().cancel",1,t,!0);var e=new ib;return this.ta.xd(this.qa,jb(e,t)),e.ra},Y.prototype.cancel=Y.prototype.cancel,Y.prototype.remove=function(t){y("Firebase.onDisconnect().remove",0,1,arguments.length),Wd("Firebase.onDisconnect().remove",this.qa),B("Firebase.onDisconnect().remove",1,t,!0);var e=new ib;return Ch(this.ta,this.qa,null,jb(e,t)),e.ra},Y.prototype.remove=Y.prototype.remove,Y.prototype.set=function(t,e){y("Firebase.onDisconnect().set",1,2,arguments.length),Wd("Firebase.onDisconnect().set",this.qa),Od("Firebase.onDisconnect().set",t,this.qa,!1),B("Firebase.onDisconnect().set",2,e,!0);var n=new ib;return Ch(this.ta,this.qa,t,jb(n,e)),n.ra},Y.prototype.set=Y.prototype.set,Y.prototype.Jb=function(t,e,n){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Wd("Firebase.onDisconnect().setWithPriority",this.qa),Od("Firebase.onDisconnect().setWithPriority",t,this.qa,!1),Sd("Firebase.onDisconnect().setWithPriority",2,e),B("Firebase.onDisconnect().setWithPriority",3,n,!0);var i=new ib;return Dh(this.ta,this.qa,t,e,jb(i,n)),i.ra},Y.prototype.setWithPriority=Y.prototype.Jb,Y.prototype.update=function(t,e){if(y("Firebase.onDisconnect().update",1,2,arguments.length),Wd("Firebase.onDisconnect().update",this.qa),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,J("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.onDisconnect().update",t,this.qa),B("Firebase.onDisconnect().update",2,e,!0),n=new ib,Eh(this.ta,this.qa,t,jb(n,e)),n.ra},Y.prototype.update=Y.prototype.update;var Z={Mf:function(){dg=Zf=!0}};if(Z.forceLongPolling=Z.Mf,Z.Nf=function(){eg=!0},Z.forceWebSockets=Z.Nf,Z.Tf=function(){return Yf.isAvailable()},Z.isWebSocketsAvailable=Z.Tf,Z.lg=function(t,e){t.u.Ra.ze=e},Z.setSecurityDebugCallback=Z.lg,Z.Be=function(t,e){t.u.Be(e)},Z.stats=Z.Be,Z.Ce=function(t,e){t.u.Ce(e)},Z.statsIncrementCounter=Z.Ce,Z.fd=function(t){return t.u.fd},Z.dataUpdateCount=Z.fd,Z.Sf=function(t,e){t.u.je=e},Z.interceptServerData=Z.Sf,la(U,X),g=U.prototype,g.getKey=function(){return y("Firebase.key",0,0,arguments.length),this.path.e()?null:Oc(this.path)},g.n=function(t){if(y("Firebase.child",1,1,arguments.length),ga(t))t=String(t);else if(!(t instanceof E))if(null===K(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Vd("Firebase.child",e)}else Vd("Firebase.child",t);return new U(this.u,this.path.n(t))},g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new U(this.u,t)},g.Of=function(){y("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},g.Gf=function(){return this.u.Ya},g.set=function(t,e){y("Firebase.set",1,2,arguments.length),Wd("Firebase.set",this.path),Od("Firebase.set",t,this.path,!1),B("Firebase.set",2,e,!0);var n=new ib;return this.u.Jb(this.path,t,null,jb(n,e)),n.ra},g.update=function(t,e){if(y("Firebase.update",1,2,arguments.length),Wd("Firebase.update",this.path),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,J("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.update",t,this.path),B("Firebase.update",2,e,!0),n=new ib,this.u.update(this.path,t,jb(n,e)),n.ra},g.Jb=function(t,e,n){if(y("Firebase.setWithPriority",2,3,arguments.length),Wd("Firebase.setWithPriority",this.path),Od("Firebase.setWithPriority",t,this.path,!1),Sd("Firebase.setWithPriority",2,e),B("Firebase.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new ib;return this.u.Jb(this.path,t,e,jb(i,n)),i.ra},g.remove=function(t){return y("Firebase.remove",0,1,arguments.length),Wd("Firebase.remove",this.path),B("Firebase.remove",1,t,!0),this.set(null,t)},g.transaction=function(t,e,i){if(y("Firebase.transaction",1,3,arguments.length),Wd("Firebase.transaction",this.path),B("Firebase.transaction",1,t,!1),B("Firebase.transaction",2,e,!0),n(i)&&"boolean"!=typeof i)throw Error(A("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";void 0===i&&(i=!0);var r=new ib;return ha(e)&&kb(r.ra),Gh(this.u,this.path,t,function(t,n,i){t?r.reject(t):r.resolve(new Ph(n,i)),ha(e)&&e(t,n,i)},i),r.ra},g.kg=function(t,e){y("Firebase.setPriority",1,2,arguments.length),Wd("Firebase.setPriority",this.path),Sd("Firebase.setPriority",1,t),B("Firebase.setPriority",2,e,!0);var n=new ib;return this.u.Jb(this.path.n(".priority"),t,null,jb(n,e)),n.ra},g.push=function(t,e){y("Firebase.push",0,2,arguments.length),Wd("Firebase.push",this.path),Od("Firebase.push",t,this.path,!0),B("Firebase.push",2,e,!0);var n,i=wh(this.u),r=Kc(i),i=this.n(r);if(null!=t){var o=this;n=i.set(t,e).then(function(){return o.n(r)})}else n=hb.resolve(i);return i.then=q(n.then,n),i.catch=q(n.then,n,void 0),ha(e)&&kb(n),i},g.ib=function(){return Wd("Firebase.onDisconnect",this.path),new Y(this.u,this.path)},U.prototype.child=U.prototype.n,U.prototype.set=U.prototype.set,U.prototype.update=U.prototype.update,U.prototype.setWithPriority=U.prototype.Jb,U.prototype.remove=U.prototype.remove,U.prototype.transaction=U.prototype.transaction,U.prototype.setPriority=U.prototype.kg,U.prototype.push=U.prototype.push,U.prototype.onDisconnect=U.prototype.ib,gc(U.prototype,"database",U.prototype.Gf),gc(U.prototype,"key",U.prototype.getKey),gc(U.prototype,"parent",U.prototype.getParent),gc(U.prototype,"root",U.prototype.Of),void 0===firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",function(t){var e=Ug.Vb(),i=t.options.databaseURL;n(i)||Vb("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var r=Wb(i),i=r.jc;return Xd("Invalid Firebase Database URL",r),r.path.e()||Vb("Database URL must point to the root of a Firebase Database (not including a child path)."),(r=w(e.lb,t.name))&&Vb("FIREBASE INTERNAL ERROR: Database initialized multiple times."),r=new Qg(i,e.wf,t),e.lb[t.name]=r,r.Ya},{Reference:U,Query:X,Database:Pg,enableLogging:Sb,INTERNAL:Z,TEST_ACCESS:W,ServerValue:Sg})}catch(t){Vb("Failed to register the Firebase Database Service ("+t+")")}}()}).call(void 0!==typeof global?global:void 0!==typeof self?self:void 0!==typeof window?window:{}),module.exports=firebase.database}).call(exports,__webpack_require__(14))},function(t,e,n){(function(e){var i=n(15);(function(){/*! @license Firebase v3.7.3
    Build: 3.7.3-rc.1
    Terms: https://firebase.google.com/terms/ */
(function(){var t=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n;for(var i in e)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,i);r&&Object.defineProperty(t,i,r)}else t[i]=e[i]},e=this,n=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},r=function(t,e){function n(){}n.prototype=e.prototype,t.B=e.prototype,t.prototype=new n,t.u=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}},o=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,o);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};r(o,Error);var a=function(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")},s=function(t,e){e.unshift(t),o.call(this,a.apply(null,e)),e.shift()};r(s,o);var h=function(t,e,n){if(!t){var i="Assertion failed";if(e)var i=i+": "+e,r=Array.prototype.slice.call(arguments,2);throw new s(""+i,r||[])}},l=null,u=function(t){t=new Uint8Array(t);var e=n(t);if(h("array"==e||"object"==e&&"number"==typeof t.length,"encodeByteArray takes an array as a parameter"),!l)for(l={},e=0;65>e;e++)l[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e);for(var e=l,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,f=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|c>>6,c=63&c;u||(c=64,a||(s=64)),i.push(e[f],e[o],e[s],e[c])}return i.join("").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},c={},f=(c["only-available-in-window"]="This method is available in a Window context.",c["only-available-in-sw"]="This method is available in a service worker context.",c["should-be-overriden"]="This method should be overriden by extended classes.",c["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",c["permission-default"]="The required permissions were not granted and dismissed instead.",c["permission-blocked"]="The required permissions were not granted and blocked instead.",c["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",c["notifications-blocked"]="Notifications have been blocked.",c["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",c["sw-registration-expected"]="A service worker registration was the expected input.",c["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",c["invalid-saved-token"]="Unable to access details of the saved token.",c["sw-reg-redundant"]="The service worker being used for push was made redundant.",c["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$message}",c["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",c["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",c["use-sw-before-get-token"]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",c["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",c["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",c["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",c["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",c["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",c["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",c["failed-to-delete-token"]="Unable to delete the currently saved token.",c["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",c["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",c),d={userVisibleOnly:!0,applicationServerKey:new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110])},p=new i.INTERNAL.ErrorFactory("messaging","Messaging",f),v=function(){this.a=null},y=function(t){return t.a?t.a:(t.a=new Promise(function(t,n){var i=e.indexedDB.open("fcm_token_details_db",1);i.onerror=function(t){n(t.target.error)},i.onsuccess=function(e){t(e.target.result)},i.onupgradeneeded=function(t){t=t.target.result.createObjectStore("fcm_token_object_Store",{keyPath:"swScope"}),t.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),t.createIndex("fcmToken","fcmToken",{unique:!0})}}),t.a)},g=function(t){t.a?t.a.then(function(e){e.close(),t.a=null}):Promise.resolve()},m=function(t,e){return y(t).then(function(t){return new Promise(function(n,i){var r=t.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").index("fcmToken").get(e);r.onerror=function(t){i(t.target.error)},r.onsuccess=function(t){n(t.target.result)}})})},b=function(t,e){return y(t).then(function(t){return new Promise(function(n,i){var r=[],o=t.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").openCursor();o.onerror=function(t){i(t.target.error)},o.onsuccess=function(t){(t=t.target.result)?(t.value.fcmSenderId===e&&r.push(t.value),t.continue()):n(r)}})})},w=function(t,e,n){var i=u(e.getKey("p256dh")),r=u(e.getKey("auth"));return t="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+i+"&encryption_auth="+r,n&&(t+="&pushSet="+n),n=new Headers,n.append("Content-Type","application/x-www-form-urlencoded"),fetch("https://fcm.googleapis.com/fcm/connect/subscribe",{method:"POST",headers:n,body:t}).then(function(t){return t.json()}).then(function(t){if(t.error)throw p.create("token-subscribe-failed",{message:t.error.message});if(!t.token)throw p.create("token-subscribe-no-token");if(!t.pushSet)throw p.create("token-subscribe-no-push-set");return{token:t.token,pushSet:t.pushSet}})},x=function(t,e,n,i,r,o){var a={swScope:n.scope,endpoint:i.endpoint,auth:u(i.getKey("auth")),p256dh:u(i.getKey("p256dh")),fcmToken:r,fcmPushSet:o,fcmSenderId:e};return y(t).then(function(t){return new Promise(function(e,n){var i=t.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").put(a);i.onerror=function(t){n(t.target.error)},i.onsuccess=function(){e()}})})};v.prototype.i=function(t,e){return e instanceof ServiceWorkerRegistration?"string"!=typeof t||0===t.length?Promise.reject(p.create("bad-sender-id")):b(this,t).then(function(n){if(0!==n.length){var i=n.findIndex(function(n){return e.scope===n.swScope&&t===n.fcmSenderId});if(-1!==i)return n[i]}}).then(function(t){if(t)return e.pushManager.getSubscription().catch(function(){throw p.create("get-subscription-failed")}).then(function(e){var n;if((n=e)&&(n=e.endpoint===t.endpoint&&u(e.getKey("auth"))===t.auth&&u(e.getKey("p256dh"))===t.p256dh),n)return t.fcmToken})}):Promise.reject(p.create("sw-registration-expected"))},v.prototype.getSavedToken=v.prototype.i,v.prototype.h=function(t,e){var n=this;return"string"!=typeof t||0===t.length?Promise.reject(p.create("bad-sender-id")):e instanceof ServiceWorkerRegistration?e.pushManager.getSubscription().then(function(t){return t?t:e.pushManager.subscribe(d)}).then(function(i){return w(t,i).then(function(r){return x(n,t,e,i,r.token,r.pushSet).then(function(){return r.token})})}):Promise.reject(p.create("sw-registration-expected"))},v.prototype.createToken=v.prototype.h,v.prototype.deleteToken=function(t){var e=this;return"string"!=typeof t||0===t.length?Promise.reject(p.create("invalid-delete-token")):m(this,t).then(function(t){if(!t)throw p.create("delete-token-not-found");return y(e).then(function(e){return new Promise(function(n,i){var r=e.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").delete(t.swScope);r.onerror=function(t){i(t.target.error)},r.onsuccess=function(e){0===e.target.result?i(p.create("failed-to-delete-token")):n(t)}})})})};var k=function(t){var e=this;if(this.a=new i.INTERNAL.ErrorFactory("messaging","Messaging",f),!t.options.messagingSenderId||"string"!=typeof t.options.messagingSenderId)throw this.a.create("bad-sender-id");this.l=t.options.messagingSenderId,this.c=new v,this.app=t,this.INTERNAL={},this.INTERNAL.delete=function(){return e.delete}};k.prototype.getToken=function(){var t=this,e=Notification.permission;return"granted"!==e?"denied"===e?Promise.reject(this.a.create("notifications-blocked")):Promise.resolve(null):this.f().then(function(e){return t.c.i(t.l,e).then(function(n){return n?n:t.c.h(t.l,e)})})},k.prototype.getToken=k.prototype.getToken,k.prototype.deleteToken=function(t){var e=this;return this.c.deleteToken(t).then(function(){return e.f()}).then(function(t){return t?t.pushManager.getSubscription():null}).then(function(t){if(t)return t.unsubscribe()})},k.prototype.deleteToken=k.prototype.deleteToken,k.prototype.f=function(){throw this.a.create("should-be-overriden")},k.prototype.requestPermission=function(){throw this.a.create("only-available-in-window")},k.prototype.useServiceWorker=function(){throw this.a.create("only-available-in-window")},k.prototype.useServiceWorker=k.prototype.useServiceWorker,k.prototype.onMessage=function(){throw this.a.create("only-available-in-window")},k.prototype.onMessage=k.prototype.onMessage,k.prototype.onTokenRefresh=function(){throw this.a.create("only-available-in-window")},k.prototype.onTokenRefresh=k.prototype.onTokenRefresh,k.prototype.setBackgroundMessageHandler=function(){throw this.a.create("only-available-in-sw")},k.prototype.setBackgroundMessageHandler=k.prototype.setBackgroundMessageHandler,k.prototype.delete=function(){g(this.c)};var T=function(t,e){var n={};return n["firebase-messaging-msg-type"]=t,n["firebase-messaging-msg-data"]=e,n},S=self,M=function(t){k.call(this,t);var e=this;this.a=new i.INTERNAL.ErrorFactory("messaging","Messaging",f),S.addEventListener("push",function(t){return P(e,t)},!1),S.addEventListener("pushsubscriptionchange",function(t){return C(e,t)},!1),S.addEventListener("notificationclick",function(t){return N(e,t)},!1),this.b=null};t(M,k);var P=function(t,e){var n;try{n=e.data.json()}catch(t){return}var i=E().then(function(e){if(e){if(n.notification||t.b)return j(t,n)}else{if((e=n)&&"object"==typeof e.notification){var i=Object.assign({},e.notification),r={};i.data=(r.FCM_MSG=e,r),e=i}else e=void 0;if(e)return S.registration.showNotification(e.title||"",e);if(t.b)return t.b(n)}});e.waitUntil(i)},C=function(t,e){var n=t.getToken().then(function(e){if(!e)throw t.a.create("no-fcm-token-for-resubscribe");var n=t.c;return m(n,e).then(function(e){if(!e)throw t.a.create("invalid-saved-token");return S.registration.pushManager.subscribe(d).then(function(t){return w(e.w,t,e.v)}).catch(function(i){return n.deleteToken(e.A).then(function(){throw t.a.create("unable-to-resubscribe",{message:i})})})})});e.waitUntil(n)},N=function(t,e){if(e.notification&&e.notification.data&&e.notification.data.FCM_MSG){e.stopImmediatePropagation(),e.notification.close();var n=e.notification.data.FCM_MSG,i=n.notification.click_action;if(i){var r=D(i).then(function(t){return t?t:S.clients.openWindow(i)}).then(function(e){if(e)return delete n.notification,A(t,e,T("notification-clicked",n))});e.waitUntil(r)}}};M.prototype.setBackgroundMessageHandler=function(t){if(t&&"function"!=typeof t)throw this.a.create("bg-handler-function-expected");this.b=t},M.prototype.setBackgroundMessageHandler=M.prototype.setBackgroundMessageHandler;var D=function(t){var e=new URL(t).href;return S.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){for(var n=null,i=0;i<t.length;i++)if(new URL(t[i].url).href===e){n=t[i];break}if(n)return n.focus(),n})},A=function(t,e,n){return new Promise(function(i,r){if(!e)return r(t.a.create("no-window-client-to-msg"));e.postMessage(n),i()})},E=function(){return S.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){return t.some(function(t){return"visible"===t.visibilityState})})},j=function(t,e){return S.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var i=T("push-msg-received",e);return Promise.all(n.map(function(e){return A(t,e,i)}))})};M.prototype.f=function(){return Promise.resolve(S.registration)};var L=function(t){k.call(this,t);var e=this;this.j=null,this.m=i.INTERNAL.createSubscribe(function(t){e.j=t}),this.s=null,this.o=i.INTERNAL.createSubscribe(function(t){e.s=t}),I(this)};t(L,k),L.prototype.getToken=function(){var t=this;return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")?F(this).then(function(){return k.prototype.getToken.call(t)}):Promise.reject(this.a.create("unsupported-browser"))},L.prototype.getToken=L.prototype.getToken;var F=function(t){if(t.g)return t.g;var e=document.querySelector('link[rel="manifest"]');return t.g=e?fetch(e.href).then(function(t){return t.json()}).catch(function(){return Promise.resolve()}).then(function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw t.a.create("incorrect-gcm-sender-id")}):Promise.resolve(),t.g};L.prototype.requestPermission=function(){var t=this;return"granted"===Notification.permission?Promise.resolve():new Promise(function(e,n){var i=function(i){return"granted"===i?e():n("denied"===i?t.a.create("permission-blocked"):t.a.create("permission-default"))},r=Notification.requestPermission(function(t){r||i(t)});r&&r.then(i)})},L.prototype.requestPermission=L.prototype.requestPermission,L.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw this.a.create("sw-registration-expected");if(void 0!==this.b)throw this.a.create("use-sw-before-get-token");this.b=t},L.prototype.useServiceWorker=L.prototype.useServiceWorker,L.prototype.onMessage=function(t,e,n){return this.m(t,e,n)},L.prototype.onMessage=L.prototype.onMessage,L.prototype.onTokenRefresh=function(t,e,n){return this.o(t,e,n)},L.prototype.onTokenRefresh=L.prototype.onTokenRefresh;var O=function(t,e){var n=e.installing||e.waiting||e.active;return new Promise(function(i,r){if(n)if("activated"===n.state)i(e);else if("redundant"===n.state)r(t.a.create("sw-reg-redundant"));else{var o=function(){if("activated"===n.state)i(e);else{if("redundant"!==n.state)return;r(t.a.create("sw-reg-redundant"))}n.removeEventListener("statechange",o)};n.addEventListener("statechange",o)}else r(t.a.create("no-sw-in-reg"))})};L.prototype.f=function(){var t=this;return this.b?O(this,this.b):(this.b=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(e){throw t.a.create("failed-serviceworker-registration",{browserErrorMessage:e.message})}).then(function(e){return O(t,e).then(function(){return t.b=e,e.update(),e})}))};var I=function(t){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data["firebase-messaging-msg-type"])switch(e=e.data,e["firebase-messaging-msg-type"]){case"push-msg-received":case"notification-clicked":t.j.next(e["firebase-messaging-msg-data"])}},!1)};if(!(i&&i.INTERNAL&&i.INTERNAL.registerService))throw Error("Cannot install Firebase Messaging - be sure to load firebase-app.js first.");i.INTERNAL.registerService("messaging",function(t){return self&&"ServiceWorkerGlobalScope"in self?new M(t):new L(t)},{Messaging:L})}).call(this)}).call(void 0!==typeof e?e:void 0!==typeof self?self:void 0!==typeof window?window:{}),t.exports=i.messaging}).call(e,n(14))},function(t,e,n){(function(e){var i=n(15);(function(){/*! @license Firebase v3.7.3
    Build: 3.7.3-rc.1
    Terms: https://firebase.google.com/terms/ */
(function(){for(var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r="undefined"!=typeof window&&window===this?this:void 0!==e&&null!=e?e:this,o=["Number","MIN_SAFE_INTEGER"],a=0;a<o.length-1;a++){var s=o[a];s in r||(r[s]={}),r=r[s]}var h=o[o.length-1];-9007199254740991!=r[h]&&n(r,h,{configurable:!0,writable:!0,value:-9007199254740991});var l=this,u=function(t){return void 0!==t},c=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},f=function(t,e){this.code="storage/"+t,this.message="Firebase Storage: "+e,this.serverResponse=null,this.name="FirebaseError"};!function(){function t(){}var e=Error;t.prototype=e.prototype,f.b=e.prototype,f.prototype=new t,f.a=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}();var d=function(){return new f("unknown","An unknown error occurred, please check the error payload for server response.")},p=function(){return new f("canceled","User canceled the upload/download.")},v=function(){return new f("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},y=function(t,e,n){return new f("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)},g=function(){return new f("app-deleted","The Firebase app was deleted.")},m=function(t,e){return new f("invalid-format","String does not match format '"+t+"': "+e)},b=function(t){throw new f("internal-error","Internal error: "+t)},w="https://firebasestorage.googleapis.com",x=function(t){if(void 0!==i)return new i.Promise(t);throw Error("Error in Firebase Storage - be sure to load firebase-app.js first.")},k=function(t,e){return-1!==t.indexOf(e)},T=function(t,e,n){function i(){c||(c=!0,e.apply(null,arguments))}function r(e){h=setTimeout(function(){h=null,t(o,2===u)},e)}function o(t,e){if(!c)if(t)i.apply(null,arguments);else if(2===u||l)i.apply(null,arguments);else{64>s&&(s*=2);var n;1===u?(u=2,n=0):n=1e3*(s+Math.random()),r(n)}}function a(t){f||(f=!0,c||(null!==h?(t||(u=2),clearTimeout(h),r(0)):t||(u=1)))}var s=1,h=null,l=!1,u=0,c=!1,f=!1;return r(0),setTimeout(function(){l=!0,a(!0)},n),a},S=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},M=function(t){var e={};return S(t,function(t,n){e[t]=n}),e},P=function(t,e,n,i){this.h=t,this.b={},this.method=e,this.headers={},this.body=null,this.j=n,this.l=this.a=null,this.c=[200],this.g=[],this.timeout=i,this.f=!0},C=function(t){var e=encodeURIComponent,n="?";return S(t,function(t,i){t=e(t)+"="+e(i),n=n+t+"&"}),n=n.slice(0,-1)},N=function(t,e,n,i,r,o,a,s,h,l,u){this.C=t,this.A=e,this.v=n,this.o=i,this.B=r.slice(),this.m=o.slice(),this.j=this.l=this.c=this.b=null,this.f=this.g=!1,this.s=a,this.h=s,this.D=u,this.w=h;var c=this;this.u=x(function(t,e){c.l=t,c.j=e,A(c)})},D=function(t,e,n){this.b=t,this.c=e,this.a=!!n},A=function(t){function e(t,e){e?t(!1,new D(!1,null,!0)):(e=new ie,e.a.withCredentials=i.D,i.b=e,re(e,i.C,i.A,i.o,i.v).then(function(e){i.b=null;var n=0===oe(e),r=ae(e);if(!(n=!n))var n=k([408,429],r),o=k(i.m,r),n=500<=r&&600>r||n||o;n?(e=2===oe(e),t(!1,new D(!1,null,e))):t(!0,new D(k(i.B,r),e))}))}function n(t,e){var n=i.l;t=i.j;var r=e.c;if(e.b)try{var o=i.s(r,se(r));u(o)?n(o):n()}catch(e){t(e)}else null!==r?(e=d(),o=se(r),e.serverResponse=o,t(i.h?i.h(r,e):e)):(e=e.a?i.f?g():p():new f("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),t(e))}var i=t;t.g?n(0,new D(!1,null,!0)):t.c=T(e,n,t.w)};N.prototype.a=function(){return this.u},N.prototype.cancel=function(t){this.g=!0,this.f=t||!1,null!==this.c&&(0,this.c)(!1),null!==this.b&&this.b.abort()};var E=function(t,e,n){var r=C(t.b),r=t.h+r,o=t.headers?M(t.headers):{};return null!==e&&0<e.length&&(o.Authorization="Firebase "+e),o["X-Firebase-Storage-Version"]="webjs/"+(void 0!==i?i.SDK_VERSION:"AppManager"),new N(r,t.method,o,t.body,t.c,t.g,t.j,t.a,t.timeout,0,n)},j=function(t){this.b=i.Promise.reject(t)};j.prototype.a=function(){return this.b},j.prototype.cancel=function(){};var L=function(t,e){this.bucket=t,this.path=e},F=function(t){var e=encodeURIComponent;return"/b/"+e(t.bucket)+"/o/"+e(t.path)},O=function(t){var e;try{e=I(t)}catch(e){return new L(t,"")}if(""===e.path)return e;throw new f("invalid-default-bucket","Invalid default bucket '"+t+"'.")},I=function(t){for(var e=null,n=[{L:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,G:{bucket:1,path:3},K:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path=t.path.slice(0,-1))}},{L:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,G:{bucket:1,path:3},K:function(t){t.path=decodeURIComponent(t.path)}}],i=0;i<n.length;i++){var r=n[i],o=r.L.exec(t);if(o){e=o[r.G.bucket],(o=o[r.G.path])||(o=""),e=new L(e,o),r.K(e);break}}if(null==e)throw new f("invalid-url","Invalid URL '"+t+"'.");return e},R=function(){this.a={},this.b=Number.MIN_SAFE_INTEGER},B=function(t,e){function n(){delete r.a[i]}var i=t.b;t.b++,t.a[i]=e;var r=t;e.a().then(n,n)},q=function(t){S(t.a,function(t,e){e&&e.cancel(!0)}),t.a={}},z=function(t){return u(t)&&null!==t},V=function(t){return"string"==typeof t||t instanceof String},U=function(){return"undefined"!=typeof Blob},H=function(t,e,n,i,r){this.a=t,this.g=null,null!==this.a&&(t=this.a.options,z(t)&&(t=t.storageBucket||null,this.g=null==t?null:O(t).bucket)),this.o=e,this.m=n,this.j=r,this.l=i,this.c=12e4,this.b=6e4,this.h=new R,this.f=!1},G=function(t){return null!==t.a&&z(t.a.INTERNAL)&&z(t.a.INTERNAL.getToken)?t.a.INTERNAL.getToken().then(function(t){return z(t)?t.accessToken:null},function(){return null}):i.Promise.resolve(null)};H.prototype.bucket=function(){if(this.f)throw g();return this.g};var _,W=function(t,e,n){return t.f?new j(g()):(e=t.m(e,n,null===t.a,t.j),B(t.h,e),e)},K=function(t,e){return e=e.split("/").filter(function(t){return 0<t.length}).join("/"),0===t.length?e:t+"/"+e},Y=function(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)},$=function(t,e){return e},J=function(t,e,n,i){this.c=t,this.b=e||t,this.writable=!!n,this.a=i||$},X=null,Q=function(){if(X)return X;var t=[];t.push(new J("bucket")),t.push(new J("generation")),t.push(new J("metageneration")),t.push(new J("name","fullPath",!0));var e=new J("name");return e.a=function(t,e){return!V(e)||2>e.length?e:Y(e)},t.push(e),e=new J("size"),e.a=function(t,e){return z(e)?+e:e},t.push(e),t.push(new J("timeCreated")),t.push(new J("updated")),t.push(new J("md5Hash",null,!0)),t.push(new J("cacheControl",null,!0)),t.push(new J("contentDisposition",null,!0)),t.push(new J("contentEncoding",null,!0)),t.push(new J("contentLanguage",null,!0)),t.push(new J("contentType",null,!0)),t.push(new J("metadata","customMetadata",!0)),t.push(new J("downloadTokens","downloadURLs",!1,function(t,e){if(!(V(e)&&0<e.length))return[];var n=encodeURIComponent;return e.split(",").map(function(e){var i=t.fullPath,i="https://firebasestorage.googleapis.com/v0/b/"+n(t.bucket)+"/o/"+n(i);return e=C({alt:"media",token:e}),i+e})})),X=t},Z=function(t,e){Object.defineProperty(t,"ref",{get:function(){return e.o(e,new L(t.bucket,t.fullPath))}})},tt=function(t,e){for(var n={},i=e.length,r=0;r<i;r++){var o=e[r];o.writable&&(n[o.c]=t[o.b])}return JSON.stringify(n)},et=function(t){if(!t||"object"!=typeof t)throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if("object"!=typeof n)throw"Expected object for 'customMetadata' mapping."}else if(null!=n&&"object"==typeof n)throw"Mapping for '"+e+"' cannot be an object."}},nt=function(t,e,n){for(var i=e.length,r=e.length,o=0;o<e.length;o++)if(e[o].b){i=o;break}if(!(i<=n.length&&n.length<=r))throw i===r?(e=i,i=1===i?"argument":"arguments"):(e="between "+i+" and "+r,i="arguments"),new f("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+e+" "+i+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].a(n[o])}catch(e){if(e instanceof Error)throw y(o,t,e.message);throw y(o,t,e)}},it=function(t,e){var n=this;this.a=function(e){n.b&&!u(e)||t(e)},this.b=!!e},rt=function(t,e){return function(n){t(n),e(n)}},ot=function(t,e){function n(t){if(!("string"==typeof t||t instanceof String))throw"Expected string."}var i;return i=t?rt(n,t):n,new it(i,e)},at=function(){return new it(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||U()&&t instanceof Blob))throw"Expected Blob or File."})},st=function(){return new it(function(t){if(!(("number"==typeof t||t instanceof Number)&&0<=t))throw"Expected a number 0 or greater."})},ht=function(t,e){return new it(function(e){if(!(null===e||z(e)&&e instanceof Object))throw"Expected an Object.";z(t)&&t(e)},e)},lt=function(){return new it(function(t){if(null!==t&&"function"!=c(t))throw"Expected a Function."},!0)},ut=function(t){return function(){var e=[];Array.prototype.push.apply(e,arguments),i.Promise.resolve(!0).then(function(){t.apply(null,e)})}},ct=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ft=function(t,e){return t<e?-1:t>e?1:0};t:{var dt=l.navigator;if(dt){var pt=dt.userAgent;if(pt){_=pt;break t}}_=""}var vt,yt=function(t,e){var n=Ct;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)},gt=-1!=_.indexOf("Opera"),mt=-1!=_.indexOf("Trident")||-1!=_.indexOf("MSIE"),bt=-1!=_.indexOf("Edge"),wt=!(-1==_.indexOf("Gecko")||-1!=_.toLowerCase().indexOf("webkit")&&-1==_.indexOf("Edge")||-1!=_.indexOf("Trident")||-1!=_.indexOf("MSIE")||-1!=_.indexOf("Edge")),xt=-1!=_.toLowerCase().indexOf("webkit")&&-1==_.indexOf("Edge");t:{var kt="",Tt=function(){var t=_;return wt?/rv\:([^\);]+)(\)|;)/.exec(t):bt?/Edge\/([\d\.]+)/.exec(t):mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):xt?/WebKit\/(\S+)/.exec(t):gt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Tt&&(kt=Tt?Tt[1]:""),mt){var St,Mt=l.document;if(null!=(St=Mt?Mt.documentMode:void 0)&&St>parseFloat(kt)){vt=String(St);break t}}vt=kt}var Pt=vt,Ct={},Nt=function(t){return yt(t,function(){for(var e=0,n=ct(String(Pt)).split("."),i=ct(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ft(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ft(0==a[2].length,0==s[2].length)||ft(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})},Dt=function(t){var e=l.BlobBuilder||l.WebKitBlobBuilder;if(u(e)){for(var e=new e,n=0;n<arguments.length;n++)e.append(arguments[n]);return e.getBlob()}if(e=Array.prototype.slice.call(arguments),n=l.BlobBuilder||l.WebKitBlobBuilder,u(n)){for(var n=new n,i=0;i<e.length;i++)n.append(e[i],void 0);e=n.getBlob(void 0)}else{if(!u(l.Blob))throw Error("This browser doesn't seem to support creating Blobs");e=new Blob(e,{})}return e},At=function(t,e,n){return u(n)||(n=t.size),t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?wt&&!Nt("13.0")||xt&&!Nt("537.1")?(0>e&&(e+=t.size),0>e&&(e=0),0>n&&(n+=t.size),n<e&&(n=e),t.slice(e,n-e)):t.slice(e,n):null},Et={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},jt=function(t){switch(t){case"raw":case"base64":case"base64url":case"data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url]."}},Lt=function(t,e){this.data=t,this.a=e||null},Ft=function(t,e){switch(t){case"raw":return new Lt(Ot(e));case"base64":case"base64url":return new Lt(It(t,e));case"data_url":t=new Rt(e);var n;if(t.a)n=It("base64",t.c);else{try{n=decodeURIComponent(t.c)}catch(t){throw m("data_url","Malformed data URL.")}n=Ot(n)}return new Lt(n,new Rt(e).b)}throw d()},Ot=function(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(127>=i)e.push(i);else if(2047>=i)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var r=t.charCodeAt(++n),i=65536|(1023&i)<<10|1023&r;e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)},It=function(t,e){switch(t){case"base64":var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw m(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case"base64url":if(n=-1!==e.indexOf("+"),i=-1!==e.indexOf("/"),n||i)throw m(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var r;try{r=atob(e)}catch(e){throw m(t,"Invalid character found")}for(t=new Uint8Array(r.length),e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t},Rt=function(t){var e=t.match(/^data:([^,]+)?,/);if(null===e)throw m("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");if(e=e[1]||null,this.a=!1,this.b=null,null!=e){var n=e.length-7;this.b=(this.a=0<=n&&e.indexOf(";base64",n)==n)?e.substring(0,e.length-7):e}this.c=t.substring(t.indexOf(",")+1)},Bt=function(t,e){U()&&t instanceof Blob?(this.i=t,e=t.size,t=t.type):(t instanceof ArrayBuffer?(e?this.i=new Uint8Array(t):(this.i=new Uint8Array(t.byteLength),this.i.set(new Uint8Array(t))),e=this.i.length):(e?this.i=t:(this.i=new Uint8Array(t.length),this.i.set(t)),e=t.length),t=""),this.a=e,this.b=t};Bt.prototype.type=function(){return this.b},Bt.prototype.slice=function(t,e){return U()&&this.i instanceof Blob?(t=At(this.i,t,e),null===t?null:new Bt(t)):(t=new Uint8Array(this.i.buffer,t,e-t),new Bt(t,!0))};var qt=function(t){var e=[];if(Array.prototype.push.apply(e,arguments),U())return e=e.map(function(t){return t instanceof Bt?t.i:t}),new Bt(Dt.apply(null,e));var e=e.map(function(t){return V(t)?Ft("raw",t).data.buffer:t.i.buffer}),n=0;e.forEach(function(t){n+=t.byteLength});var i=new Uint8Array(n),r=0;return e.forEach(function(t){t=new Uint8Array(t);for(var e=0;e<t.length;e++)i[r++]=t[e]}),new Bt(i,!0)},zt=function(t,e,n){"function"==c(t)||z(e)||z(n)?(this.b=t,this.error=e||null,this.a=n||null):(this.b=t.next||null,this.error=t.error||null,this.a=t.complete||null)},Vt=function(t){if(!t)throw d()},Ut=function(t,e){return function(n,i){var r;t:{try{r=JSON.parse(i)}catch(t){r=null;break t}n=typeof r,r="object"==n&&null!=r||"function"==n?r:null}if(null===r)r=null;else{n={type:"file"},i=e.length;for(var o=0;o<i;o++){var a=e[o];n[a.b]=a.a(n,r[a.c])}Z(n,t),r=n}return Vt(null!==r),r}},Ht=function(t){return function(e,n){return e=401===ae(e)?new f("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===ae(e)?new f("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===ae(e)?new f("unauthorized","User does not have permission to access '"+t.path+"'."):n,e.serverResponse=n.serverResponse,e}},Gt=function(t){var e=Ht(t);return function(n,i){var r=e(n,i);return 404===ae(n)&&(r=new f("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=i.serverResponse,r}},_t=function(t,e,n){var i=F(e);return t=new P(w+"/v0"+i,"GET",Ut(t,n),t.c),t.a=Gt(e),t},Wt=function(t,e){var n=F(e);return t=new P(w+"/v0"+n,"DELETE",function(){},t.c),t.c=[200,204],t.a=Gt(e),t},Kt=function(t,e,n){return n=n?M(n):{},n.fullPath=t.path,n.size=e.a,n.contentType||(t=e&&e.type()||"application/octet-stream",n.contentType=t),n},Yt=function(t,e,n,i,r){var o,a="/b/"+encodeURIComponent(e.bucket)+"/o",s={"X-Goog-Upload-Protocol":"multipart"};o="";for(var h=0;2>h;h++)o+=Math.random().toString().slice(2);if(s["Content-Type"]="multipart/related; boundary="+o,r=Kt(e,i,r),h=tt(r,n),null===(i=qt("--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+o+"\r\nContent-Type: "+r.contentType+"\r\n\r\n",i,"\r\n--"+o+"--")))throw v();return t=new P(w+"/v0"+a,"POST",Ut(t,n),t.b),t.b={name:r.fullPath},t.headers=s,t.body=i.i,t.a=Ht(e),t},$t=function(t,e,n,i){this.current=t,this.total=e,this.H=!!n,this.metadata=i||null},Jt=function(t,e){var n;try{n=t.a.getResponseHeader("X-Goog-Upload-Status")}catch(t){Vt(!1)}return Vt(k(e||["active"],n)),n},Xt=function(t,e,n,i,r){var o="/b/"+encodeURIComponent(e.bucket)+"/o",a=Kt(e,i,r);return r={name:a.fullPath},o=w+"/v0"+o,i={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.a,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=tt(a,n),t=new P(o,"POST",function(t){Jt(t);var e;try{e=t.a.getResponseHeader("X-Goog-Upload-URL")}catch(t){Vt(!1)}return Vt(V(e)),e},t.b),t.b=r,t.headers=i,t.body=n,t.a=Ht(e),t},Qt=function(t,e,n,i){return t=new P(n,"POST",function(t){var e,n=Jt(t,["active","final"]);try{e=t.a.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Vt(!1)}return t=e,isFinite(t)&&(t=String(t)),t="string"==typeof t?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN,Vt(!isNaN(t)),new $t(t,i.a,"final"===n)},t.b),t.headers={"X-Goog-Upload-Command":"query"},t.a=Ht(e),t.f=!1,t},Zt=function(t,e,n,i,r,o,a){var s=new $t(0,0);if(a?(s.current=a.current,s.total=a.total):(s.current=0,s.total=i.a),i.a!==s.total)throw new f("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var h=a=s.total-s.current;0<r&&(h=Math.min(h,r));var l=s.current;if(r={"X-Goog-Upload-Command":h===a?"upload, finalize":"upload","X-Goog-Upload-Offset":s.current},null===(a=i.slice(l,l+h)))throw v();return n=new P(n,"POST",function(t,n){var r,a=Jt(t,["active","final"]),l=s.current+h,u=i.a;return r="final"===a?Ut(e,o)(t,n):null,new $t(l,u,"final"===a,r)},e.b),n.headers=r,n.body=a.i,n.l=null,n.a=Ht(t),n.f=!1,n},te={STATE_CHANGED:"state_changed"},ee={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},ne=function(t){switch(t){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":return"error";default:return"error"}},ie=function(){var t=this;this.a=new XMLHttpRequest,this.c=0,this.f=x(function(e){t.a.addEventListener("abort",function(){t.c=2,e(t)}),t.a.addEventListener("error",function(){t.c=1,e(t)}),t.a.addEventListener("load",function(){e(t)})}),this.b=!1},re=function(t,e,n,i,r){if(t.b)throw b("cannot .send() more than once");return t.b=!0,t.a.open(n,e,!0),z(r)&&S(r,function(e,n){t.a.setRequestHeader(e,n.toString())}),z(i)?t.a.send(i):t.a.send(),t.f},oe=function(t){if(!t.b)throw b("cannot .getErrorCode() before sending");return t.c},ae=function(t){if(!t.b)throw b("cannot .getStatus() before sending");try{return t.a.status}catch(t){return-1}},se=function(t){if(!t.b)throw b("cannot .getResponseText() before sending");return t.a.responseText};ie.prototype.abort=function(){this.a.abort()};var he=function(){},le=function(t,e,n,i,r,o){this.b=t,this.h=e,this.f=n,this.a=i,this.g=r,this.c=o};t=le.prototype,t.W=function(){return this.b},t.ra=function(){return this.h},t.oa=function(){return this.f},t.ja=function(){return this.a},t.X=function(){if(z(this.a)){var t=this.a.downloadURLs;return z(t)&&z(t[0])?t[0]:null}return null},t.qa=function(){return this.g},t.ma=function(){return this.c};var ue=function(t,e,n,i,r,o){this.M=t,this.c=e,this.l=n,this.f=r,this.h=o||null,this.s=i,this.m=0,this.D=this.u=!1,this.B=[],this.T=262144<this.f.a,this.b="running",this.a=this.v=this.g=null,this.j=1;var a=this;this.F=function(t){a.a=null,a.j=1,"storage/canceled"===t.code?(a.u=!0,we(a)):(a.g=t,be(a,"error"))},this.R=function(t){a.a=null,"storage/canceled"===t.code?we(a):(a.g=t,be(a,"error"))},this.A=this.o=null,this.C=x(function(t,e){a.o=t,a.A=e,ce(a)}),this.C.then(null,function(){})},ce=function(t){"running"===t.b&&null===t.a&&(t.T?null===t.v?de(t):t.u?pe(t):t.D?ye(t):ve(t):ge(t))},fe=function(t,e){G(t.c).then(function(n){switch(t.b){case"running":e(n);break;case"canceling":be(t,"canceled");break;case"pausing":be(t,"paused")}})},de=function(t){fe(t,function(e){var n=Xt(t.c,t.l,t.s,t.f,t.h);t.a=W(t.c,n,e),t.a.a().then(function(e){t.a=null,t.v=e,t.u=!1,we(t)},this.F)})},pe=function(t){var e=t.v;fe(t,function(n){var i=Qt(t.c,t.l,e,t.f);t.a=W(t.c,i,n),t.a.a().then(function(e){t.a=null,me(t,e.current),t.u=!1,e.H&&(t.D=!0),we(t)},t.F)})},ve=function(t){var e=262144*t.j,n=new $t(t.m,t.f.a),i=t.v;fe(t,function(r){var o;try{o=Zt(t.l,t.c,i,t.f,e,t.s,n)}catch(e){return t.g=e,void be(t,"error")}t.a=W(t.c,o,r),t.a.a().then(function(e){33554432>262144*t.j&&(t.j*=2),t.a=null,me(t,e.current),e.H?(t.h=e.metadata,be(t,"success")):we(t)},t.F)})},ye=function(t){fe(t,function(e){var n=_t(t.c,t.l,t.s);t.a=W(t.c,n,e),t.a.a().then(function(e){t.a=null,t.h=e,be(t,"success")},t.R)})},ge=function(t){fe(t,function(e){var n=Yt(t.c,t.l,t.s,t.f,t.h);t.a=W(t.c,n,e),t.a.a().then(function(e){t.a=null,t.h=e,me(t,t.f.a),be(t,"success")},t.F)})},me=function(t,e){var n=t.m;t.m=e,t.m>n&&ke(t)},be=function(t,e){if(t.b!==e)switch(e){case"canceling":t.b=e,null!==t.a&&t.a.cancel();break;case"pausing":t.b=e,null!==t.a&&t.a.cancel();break;case"running":var n="paused"===t.b;t.b=e,n&&(ke(t),ce(t));break;case"paused":t.b=e,ke(t);break;case"canceled":t.g=p(),t.b=e,ke(t);break;case"error":t.b=e,ke(t);break;case"success":t.b=e,ke(t)}},we=function(t){switch(t.b){case"pausing":be(t,"paused");break;case"canceling":be(t,"canceled");break;case"running":ce(t)}};ue.prototype.w=function(){return new le(this.m,this.f.a,ne(this.b),this.h,this,this.M)},ue.prototype.N=function(t,e,n,i){function r(t){try{return void a(t)}catch(t){}try{if(s(t),!(u(t.next)||u(t.error)||u(t.complete)))throw""}catch(t){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function o(t){return function(e,n,i){null!==t&&nt("on",t,arguments);var r=new zt(e,n,i);return xe(h,r),function(){var t=h.B,e=t.indexOf(r);-1!==e&&t.splice(e,1)}}}var a=lt().a,s=ht(null,!0).a;nt("on",[ot(function(){if("state_changed"!==t)throw"Expected one of the event types: [state_changed]."}),ht(r,!0),lt(),lt()],arguments);var h=this,l=[ht(function(t){if(null===t)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";r(t)}),lt(),lt()];return u(e)||u(n)||u(i)?o(null)(e,n,i):o(l)},ue.prototype.then=function(t,e){return this.C.then(t,e)},ue.prototype.catch=function(t){return this.then(null,t)};var xe=function(t,e){t.B.push(e),Se(t,e)},ke=function(t){Te(t),Array.prototype.slice.call(t.B).forEach(function(e){Se(t,e)})},Te=function(t){if(null!==t.o){var e=!0;switch(ne(t.b)){case"success":ut(t.o.bind(null,t.w()))();break;case"canceled":case"error":ut(t.A.bind(null,t.g))();break;default:e=!1}e&&(t.o=null,t.A=null)}},Se=function(t,e){switch(ne(t.b)){case"running":case"paused":null!==e.b&&ut(e.b.bind(e,t.w()))();break;case"success":null!==e.a&&ut(e.a.bind(e))();break;case"canceled":case"error":null!==e.error&&ut(e.error.bind(e,t.g))();break;default:null!==e.error&&ut(e.error.bind(e,t.g))()}};ue.prototype.P=function(){nt("resume",[],arguments);var t="paused"===this.b||"pausing"===this.b;return t&&be(this,"running"),t},ue.prototype.O=function(){nt("pause",[],arguments);var t="running"===this.b;return t&&be(this,"pausing"),t},ue.prototype.cancel=function(){nt("cancel",[],arguments);var t="running"===this.b||"pausing"===this.b;return t&&be(this,"canceling"),t};var Me=function(t,e){this.a=t,this.location=e instanceof L?e:I(e)};Me.prototype.toString=function(){return nt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path};var Pe=function(t,e){return new Me(t,e)};t=Me.prototype,t.I=function(t){nt("child",[ot()],arguments);var e=K(this.location.path,t);return Pe(this.a,new L(this.location.bucket,e))},t.la=function(){var t;if(t=this.location.path,0==t.length)t=null;else{var e=t.lastIndexOf("/");t=-1===e?"":t.slice(0,e)}return null===t?null:Pe(this.a,new L(this.location.bucket,t))},t.na=function(){return Pe(this.a,new L(this.location.bucket,""))},t.V=function(){return this.location.bucket},t.ga=function(){return this.location.path},t.ka=function(){return Y(this.location.path)},t.pa=function(){return this.a.l},t.$=function(t,e){return nt("put",[at(),new it(et,!0)],arguments),Ce(this,"put"),new ue(this,this.a,this.location,Q(),new Bt(t),e)},t.aa=function(t,e,n){nt("putString",[ot(),ot(jt,!0),new it(et,!0)],arguments),Ce(this,"putString");var i=Ft(z(e)?e:"raw",t),r=n?M(n):{};return!z(r.contentType)&&z(i.a)&&(r.contentType=i.a),new ue(this,this.a,this.location,Q(),new Bt(i.data,!0),r)},t.Y=function(){nt("delete",[],arguments),Ce(this,"delete");var t=this;return G(this.a).then(function(e){var n=Wt(t.a,t.location);return W(t.a,n,e).a()})},t.J=function(){nt("getMetadata",[],arguments),Ce(this,"getMetadata");var t=this;return G(this.a).then(function(e){var n=_t(t.a,t.location,Q());return W(t.a,n,e).a()})},t.ba=function(t){nt("updateMetadata",[new it(et,void 0)],arguments),Ce(this,"updateMetadata");var e=this;return G(this.a).then(function(n){var i=e.a,r=e.location,o=t,a=Q(),s=F(r),s=w+"/v0"+s,o=tt(o,a),i=new P(s,"PATCH",Ut(i,a),i.c);return i.headers={"Content-Type":"application/json; charset=utf-8"},i.body=o,i.a=Gt(r),W(e.a,i,n).a()})},t.Z=function(){return nt("getDownloadURL",[],arguments),Ce(this,"getDownloadURL"),this.J().then(function(t){if(t=t.downloadURLs[0],z(t))return t;throw new f("no-download-url","The given file does not have any download URLs.")})};var Ce=function(t,e){if(""===t.location.path)throw new f("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},Ne=function(t,e,n){this.a=new H(t,function(t,e){return new Me(t,e)},E,this,e),this.c=t,u(n)?this.b=O(n):null!=this.a.bucket()&&(this.b=new L(this.a.bucket(),"")),this.f=new De(this)};t=Ne.prototype,t.ca=function(t){if(nt("ref",[ot(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null===this.b)throw Error("No Storage Bucket defined in Firebase Options.");var e=new Me(this.a,this.b);return u(t)?e.I(t):e},t.da=function(t){return nt("refFromURL",[ot(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{I(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Me(this.a,t)},t.ia=function(){return this.a.b},t.fa=function(t){nt("setMaxUploadRetryTime",[st()],arguments),this.a.b=t},t.ha=function(){return this.a.c},t.ea=function(t){nt("setMaxOperationRetryTime",[st()],arguments),this.a.c=t},t.U=function(){return this.c},t.S=function(){return this.f};var De=function(t){this.a=t};De.prototype.b=function(){var t=this.a.a;t.f=!0,t.a=null,q(t.h)};var Ae=function(t,e,n){Object.defineProperty(t,e,{get:n})};Me.prototype.toString=Me.prototype.toString,Me.prototype.child=Me.prototype.I,Me.prototype.put=Me.prototype.$,Me.prototype.putString=Me.prototype.aa,Me.prototype.delete=Me.prototype.Y,Me.prototype.getMetadata=Me.prototype.J,Me.prototype.updateMetadata=Me.prototype.ba,Me.prototype.getDownloadURL=Me.prototype.Z,Ae(Me.prototype,"parent",Me.prototype.la),Ae(Me.prototype,"root",Me.prototype.na),Ae(Me.prototype,"bucket",Me.prototype.V),Ae(Me.prototype,"fullPath",Me.prototype.ga),Ae(Me.prototype,"name",Me.prototype.ka),Ae(Me.prototype,"storage",Me.prototype.pa),Ne.prototype.ref=Ne.prototype.ca,Ne.prototype.refFromURL=Ne.prototype.da,Ae(Ne.prototype,"maxOperationRetryTime",Ne.prototype.ha),Ne.prototype.setMaxOperationRetryTime=Ne.prototype.ea,Ae(Ne.prototype,"maxUploadRetryTime",Ne.prototype.ia),Ne.prototype.setMaxUploadRetryTime=Ne.prototype.fa,Ae(Ne.prototype,"app",Ne.prototype.U),Ae(Ne.prototype,"INTERNAL",Ne.prototype.S),De.prototype.delete=De.prototype.b,Ne.prototype.capi_=function(t){w=t},ue.prototype.on=ue.prototype.N,ue.prototype.resume=ue.prototype.P,ue.prototype.pause=ue.prototype.O,ue.prototype.cancel=ue.prototype.cancel,ue.prototype.then=ue.prototype.then,ue.prototype.catch=ue.prototype.catch,Ae(ue.prototype,"snapshot",ue.prototype.w),Ae(le.prototype,"bytesTransferred",le.prototype.W),Ae(le.prototype,"totalBytes",le.prototype.ra),Ae(le.prototype,"state",le.prototype.oa),Ae(le.prototype,"metadata",le.prototype.ja),Ae(le.prototype,"downloadURL",le.prototype.X),Ae(le.prototype,"task",le.prototype.qa),Ae(le.prototype,"ref",le.prototype.ma),te.STATE_CHANGED="state_changed",ee.RUNNING="running",ee.PAUSED="paused",ee.SUCCESS="success",ee.CANCELED="canceled",ee.ERROR="error",Et.RAW="raw",Et.BASE64="base64",Et.BASE64URL="base64url",Et.DATA_URL="data_url",function(){function t(t,e,n){return new Ne(t,new he,n)}var e={TaskState:ee,TaskEvent:te,StringFormat:Et,Storage:Ne,Reference:Me};if(void 0===i)throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.");i.INTERNAL.registerService("storage",t,e,void 0,!0)}()}).call(this)}).call(void 0!==typeof e?e:void 0!==typeof self?self:void 0!==typeof window?window:{}),t.exports=i.storage}).call(e,n(14))}]);